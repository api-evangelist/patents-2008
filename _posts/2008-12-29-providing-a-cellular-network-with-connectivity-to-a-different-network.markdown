---

title: Providing a cellular network with connectivity to a different network
abstract: Among other things, a system for use in wireless communication includes a first device communicating via a first protocol in a first network, a cellular device communicating via a second protocol in a cellular network, the second protocol being incompatible with the first protocol, and an access point in the cellular network, the access point being accessible by the cellular device and being configured to enable communication between the first device and the cellular device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08953566&OS=08953566&RS=08953566
owner: Airvana LP
number: 08953566
owner_city: Chelmsford
owner_country: US
publication_date: 20081229
---
This patent application relates to an access point in a cellular network for providing a cellular device with network connectivity to a different network.

When connecting to a radio network an access terminal selects an access point from available radio network access points that are within communication range. Network protocols are used in communicating between an access point and the access terminal.

The 1 RTT protocol has been standardized by the Telecommunication Industry Association TIA in the TIA 2000.1 through TIA 2000.6 series of specifications which are incorporated herein by reference.

The 1 EV DO protocol has been standardized by the TIA as TIA EIA IS 856 CDMA2000 High Rate Packet Data Air Interface Specification 3GPP2 C.S0024 0 Version 4.0 Oct. 25 2002 which is incorporated herein by reference. Revision A to this specification has been published as TIA EIA IS 856A CDMA2000 High Rate Packet Data Air Interface Specification 3GPP2 C.S0024 A Version 2.0 July 2005. Revision A is also incorporated herein by reference. Revision B to this specification has been published as TIA EIA IS 8560B 3GPP2 C.S0024 B version 1.0 April 2006 and is also incorporated herein by reference. Other wireless communication protocols such as UMTS Universal Mobile Telecommunications Service may also be used.

This patent application describes a system for use in wireless communication. The system includes a first device communicating via a first protocol in a first network a cellular device communicating via a second protocol in a cellular network the second protocol being incompatible with the first protocol and an access point in the cellular network the access point being accessible by the cellular device and being configured to enable communication between the first device and the cellular device.

The system may include one or more of the following features. The first protocol can include a digital living network alliance DLNA protocol. The first protocol can include a proprietary protocol. The access point can be configured to provide a cellular air interface through which the cellular device communicates with the first device. The access point can include a femtocell. The first network and the cellular network an be in a same femtozone. The first network and the cellular network can be in different femtozones. The first device and the cellular device can communicate via a tunnel through one or more other networks.

This patent application also describes a method used in connection with a first network including a first device that uses a first communication protocol and a cellular network including a cellular device that uses a second communication protocol incompatible with the first communication protocol. The method includes enabling the cellular device to communicate with the first device by converting messages to the cellular device to the second communication protocol and by converting the messages to the first device to the first communication protocol.

The method may include one or more of the following features. The enabling can include notifying the first network of presence of the cellular device. The cellular network can further include an access point and the notifying can include generating a message compatible with the first protocol by the access point and delivering the message to the first network. The first protocol can include a DLNA protocol and the message can include a DLNA compatible message. The first protocol can include a proprietary protocol and generating can include generating a DLNA compatible message and converting the DLNA compatible message to a message compatible with the proprietary protocol. The method can further include limiting an amount of communication traffic between devices within the first network from entering the cellular network. The method can further include limiting an amount of communication traffic between devices within the cellular network from entering the first network. The method can further include applying a policy associated with network security to the communication between the cellular device and the first device. The method can further include transcoding a data packet delivered between the cellular device and the first device. The first device and the cellular device can communicate through a cellular air interface. The first device and the cellular device can communicate through a macro network. The second access point can include a femtocell.

This patent application also describes a system for use in wireless communication. The system includes a first device in a first network a cellular device in a cellular network the cellular device comprising applications an access point in the cellular network the access point being accessible by the cellular device and a cellular network connectivity function CNCF residing at least partially on the access point and being configured to represent the applications of the cellular device to communicate with the first device when the cellular device and the first device communicate.

The system may include one or more of the following features. The CNCF can include a CNCF server residing on the access point and a CNCF client residing on the cellular device. The CNCF server can communicate with the CNCF client using a protocol having a higher priority level than that of a protocol the cellular device uses to communicate within the cellular network. The cellular device can use a cellular network protocol incompatible with a protocol that the first device uses in the first network. The cellular device can use a protocol compatible with a protocol that the first device uses in the first network.

This application also describes a method used in connection with a first network including a first device and a cellular network including a cellular device and an access point accessible by the cellular device. The method includes representing applications of the cellular device using a CNCF to communicate with the access point and enabling the cellular device to communicate with the first device through the access point based on the representation of the CNCF. The first device can communicate with a protocol incompatible with a protocol that the cellular device uses for communication.

The details of one or more examples are set forth in the accompanying drawings and the description below. Further features aspects and advantages will be apparent from the description drawings and the claims.

Referring to cellular wireless communications systems such as radio access network RAN are designed to serve access terminals distributed in a geographic area by dividing the area into cells. At or near the center of each cell a radio network access point also referred to as a macro base transceiver station BTS is located to serve access terminals e.g. cellular telephones laptops PDAs . Each cell may be further divided into sectors by using sectorized antennas. A BTS corresponding to a cell serves one or more sectors to and communicates with multiple access terminals within the cell .

RAN uses the 1 EV DO protocol to transmit data packets between an access terminal e.g. access terminal and and a macro BTS e.g. BTSs . The BTSs may be connected over a backhaul connection to radio network controller packet data serving nodes RNC PDSN which may include one or more physical devices at different locations. Although this description uses terminology from EV DO standards the same concepts are applicable to other communication standards including 1 RTT GSM UMTS HSDPA WiMax WiBro or WiFi.

The access terminals such as access terminal may be single user devices such as a cellular telephones and PDAs or multiple user devices such as routers that allow single user devices such as laptops to connect to the access terminals through local links not shown . In some examples the local links can be wired connections e.g. Ethernet on a wired LAN or wireless e.g. Wi Fi connections to a wireless local area network LAN .

Functions of the BTS and the radio network controller RNC may be combined into a single device functions of the PDSN and the radio network control RNC may be combined into a single device and functions of the BTS the RNC and the PDSN may be combined into the same device.

The implementations described herein are independent of the above combinations and the benefits apply to all combinations. References in this description to a radio access network RAN taking action or being acted upon generally refer to a radio network control RNC or a radio network control RNC in combination with other devices.

Access terminals such as access terminal may be in communication with a BTS such as BTS through an air link . The air link may include a forward link also referred to as a downlink which carries data from a BTS to an access terminal and a reverse link also referred to as an uplink which carries data from the access terminal to the BTS .

Referring to an access point e.g. access point or which may be a femtocell or another type of private access point may be deployed in a user s home such as home in a manner similar to a WiFi access point. The access point may be configured in a manner similar to a BTS. For example the access point may include both a transmitter and a receiver configured to receive signals at different sub bands. An access point can also be installed in an office a public space or a restaurant. The references in this description to an access point being in a home also include such locations.

A private access point such as access point may use an available high speed Internet connection such as a connection over a digital subscriber line DSL modem or a cable modem for connection to the backhaul . Such an access point may be in communication with a network such as a remote network or the Internet. Generally private access points communicate with network through a backhaul connection such as a DSL or a cable connection. Network may include one or more remote network servers such as servers and . A network server database such as database may be included within at least one of the network servers such as server . Database may be included within the same server as a time server or network server database may include the time server.

In the home the access point is used both by at least one single user cellular device and at least one multi user home network access point . The access point provides authorized single user cellular device with connections to a cellular network to establish data connections and the multi user home network access point provides devices or access terminals such as computers and a printer with connections to a home network to establish data connections. The home network access point can be a WiFi access point or a router e.g. the router of and the connection between the access point and its access terminals can be Ethernet or Bluetooth. In some embodiments the access point may be integrated into or connected to the DSL or cable modem or the home network access point . For example the access point is integrated into the DSL or cable modem and the access point being a WiFi access point is connected to the cable modem . Some details and examples of access points are discussed in co pending application Ser. No. 11 640 501 titled Provisioning Private Access Points for Wireless Networking and Ser. No. 11 640 503 titled Configuring Preferred User Zone Lists for Private Access Points for Wireless Networking both filed Dec. 15 2006 both incorporated by reference as if set forth herein in full.

The home network can use the DLNA digital living network alliance protocol to transmit data packets e.g. messages or commands among the access terminals e.g. the computers the printer and the access point . The DLNA protocol includes one or more protocols and technologies for example the Universal Plug and Play UPnP protocol. The DLNA protocol can be used for data transmission among devices in the home network by for example providing functions such as discovering controlling the devices in the home network presenting data from one device to another and providing events to the devices. For example the access point and its access terminals are configured so that when an access terminal e.g. the computer requests to gain access to the home network by e.g. turning the computer on the access terminal delivers a message compatible with the DLNA protocol to the access point to notify the access point of presence of the computer . The devices that have accessed the home network such as the computers the printer and the access point are capable of communicating with each other within the home network and with connected external networks such as the Internet . Other proprietary protocols for example Tivo or Bonjour can also be used in the home network . Discussion of the function of the communication protocol within a home network is also provided at http www.dlna.org and http www.upnp.org the contents of both are incorporated by reference.

Generally the home network and the cellular device within the cellular network do not communicate with each other directly. The cellular network protocol e.g. 1 EV Do UMTS 1 RTT that the cellular network uses is not compatible with the DLNA protocol or with the proprietary protocols that the home network uses.

Referring to the cellular network includes a cellular network connectivity function CNCF that enables the cellular devices to communicate with the home network through the access point . The access point can be a femtocell and the cellular network and the home network are both within the femtozone of the femtocell. Data packets to be delivered within the cellular network or between the cellular network and the home network are routed by the access point to their intended destinations. For example the access point e.g. a femtocell is capable of performing Local Breakout to route the data packets based on an IP address of each data packet to networks having different IP addresses. The Local Breakout as used herein is defined to be the ability of a femtocell to route communication traffic based on IP addresses to various networks for example the Cellular Core network the Internet Service Provider ISP network and the home network that are connected to the femtocell. Discussions of Local Breakout is also provided in Femto Forum at http www.femtoforum.org the contents of which are incorporated by reference.

The CNCF includes a first functional block CNCF client operating on each cellular device and a second functional block CNCF server operating on the access point . The CNCF client and the CNCF server communicate with each other using a protocol having a high priority level than that of the cellular network protocol. Accordingly the CNCF client is enabled to represent the applications of each cellular device to exchange messages between the cellular device and the CNCF server and to provide events received from the CNCF to the applications. In particular the CNCF client implements a client stack functionality by building an interface between the CNCF server and the cellular stacks so that applications is enabled to communicate with the CNCF server . In addition the CNCF client also provides asynchronous events to the applications when it receives the events from the CNCF server . The protocol facilitates achieving various e.g. all functionalities of the CNCF client and the CNCF server to enable communication between the home network and the cellular network . For example the protocol provides a way for the CNCF client to send commands and responses to the CNCF server or for the CNCF server to send the asynchronous events to CNCF client .

The communications between the CNCF client and CNCF server and between the cellular devices to the home network can be enabled by software programs implemented on the access point and the cellular devices . The software programs can be installed into devices and access points by manufacturers prior to commercial sales or can be obtained separately and installed by users. The CNCF can be configured so that a user can activate or deactivate its functionality when desired.

The CNCF provides a bridge for communication between the cellular devices and the home network . The bridging process can include notifying each device within the two networks of the presence of any other devices constructing an extended network and delivering data packets between the devices in the cellular network and those in the home network once the extended network is constructed. The extended network can be constructed automatically when the cellular devices and the network are on or manually upon the request of a user. The CNCF server gathers presence information from devices in the cellular network and the home network and provides the gathered information to each present device in both networks based on the subscription level of each device to its corresponding network. In particular when the bridging is requested automatically or manually the applications of each cellular device communicate with the CNCF client through the application programming interface API . The CNCF client representing the applications delivers a message to the access point using a protocol compatible with the cellular network protocol within the cellular protocol stacks on the cellular device and the access point . Upon being notified of the presence of the cellular device the CNCF server of the access point generates a DLNA compatible message associated with the presence and delivers the message to the access point of the home network . The access point being aware of the presence of the cellular device allows the cellular device to further communicate with other access terminals such as the computers and the printer . The presence of each e.g. all access terminals connected to the access point or the access point can be identified to each device connected to the access point or the access point in a similar way.

Effectively the CNCF enables the access point to treat the cellular network as one access terminal within the home network . Such an extension allows the devices that are compatible with the DLNA or other protocols e.g. the computers of to communicate seamlessly with devices that are incompatible with the DLNA protocol e.g. the cellular devices through a cellular air interface. For example when the user wants to print a picture stored in the cellular device from the printer the cellular device sends the picture to the printer for printing through the CNCF bridge without the need for downloading the picture onto a device within the home network using for example USB cables and subsequently requesting the printer to print out the picture from the computers . In another example the user can send a piece of media e.g. music or video stored on the computers to the cellular devices through the CNCF bridge without requiring USB cables to connect the computers and the cellular device.

The bridging process the CNCF performs can also be accompanied by a transcoding process to adapt a media format used in the devices within the home network to one that is used in the devices within the cellular network and vice versa. In the example discussed above the piece of media delivered from the computer can be in a format that is unrecognizable by the cellular device e.g. in a format that facilitates efficient delivery. The CNCF when bridging the delivery can transcode the media piece to a format that is supported by the cellular device. In some implementations the CNCF also transcodes data packets that are delivered between two different cellular devices within the cellular network . Different cellular devices can support different media formats and the CNCF adapts a media format of a packet to a specific format of a destination cellular device.

The CNCF can also function as a gateway between the cellular network and the home network to control traffic between the two networks. The CNCF together with the access point keeps the cellular network and the home network relatively independent from each other when the devices within each network are communicating internally. For example when a data packet is delivered from a device within a first network access point identifies the destination of a received data packet and blocks the broadcasting of the delivery within a second different network when the destination is not a device in the second network. When a device in the cellular network delivers a message to another device in the same network the access point reads and blocks the message from being broadcast to all devices within the home network and effectively routes the message only within the cellular network . The CNCF can also limit communication between devices in different networks based on the intention of the device for the communication. For example the CNCF implements policies on behalf of the cellular devices to process only certain events from the home network so that for example only a desired portion of the entire events in the home network are sent to the cellular devices . In particular when the cellular device is only interested in communing with the printer of the home network even though the home network can have other devices for example a fax machine not shown that advertise their services. In this case the CNCF will only send printer related events presence information to the cellular devices . The gateway function of the CNCF server reduces the communication traffic between the devices and within each network and the amount of broadcasts each device receives. The reduction of traffic can enhance the efficiency and effectiveness of communication within the extended network .

In addition the CNCF can also implement authentication and security policies during communication between the cellular network and the home network . For example the CNCF can control e.g. restrict network connections between a device within the cellular network and the operator network of the home network e.g. the network of . Similarly the CNCF can also control the network connections between the home network and the operator network of the cellular network not shown . The DLNA messages delivered to the access point e.g. when a device in the cellular network requests network connection to a device in the home network or received by the access point e.g. when a device in the home network requests network connection to a device in the cellular network are encoded by the CNCF server so that such a request will only be routed within the home network or the cellular network . Accordingly a DLNA compatible message received by the access point does not get broadcast to for example the internet to which the home network is connected and consequently the cellular devices do not gain direct access to the internet . Similarly a DLNA compatible message received by the access point does not get broadcast to for example a macro cellular network to which the cellular network is connected and consequently the computers and the printer do not have direct access to the macro cellular network. The limited network connectivity can provide network security reduce the burden of communication traffic between different networks and enhance network efficiency.

The CNCF also authenticates a device requesting network connections to another device external to the non extended network in which the requesting device is located. The authorization can be done when devices in different networks are broadcasting their presence and constructing the extended network or when a specific network connection is requested to deliver data packets. For example when a DLNA message is received by the access point indicating that the computer requests to communicate with one of the cellular devices the CNCF server examines the DLNA message to determine whether the computer can be authorized to enter the cellular network . In some implementations the CNCF applies different levels of security and authentication policies based on specific circumstances of the network connectivity. Generally all devices including the access point which are connected to the access point have been authenticated when constructing the extended network . As a result less strict authentication is needed when the existing devices are communicating across networks e.g. between the home network and the cellular network . When a new device e.g. a copier not shown is authorized to access the home network the CNCF applies strict authentication rules to the copier to determine whether the copier is allowed to access the cellular network . Similarly when a new cellular device e.g. a cellular phone of a visitor to the home is authorized to use the cellular network the CNCF strictly authenticates the cellular phone for its access to the home network .

The CNCF can also be configured to provide the bridging gateway and authentication functions described above to a cellular network located in a first femtozone and a home network located in a second different femtozone. This is done using a communication tunnel . For example referring back to the CNCF discussed above can enable the cellular device of the home to communicate with a computer in the home . Similar to the home the home includes a cellular network using the access point and a home network . The cellular network includes cellular devices and the home network includes a computer a printer and an access point . The access point can also use a digital subscriber line DSL modem for connection to the backhaul and communicate with the network . The CNCF operating on the cellular devices and access points performs similar functions. The communication tunnel can include the internet and or one or macro BTS . In use the access point delivers a DLNA message which is associated with the request of the cellular device to deliver a data packet to the computer via the internet to the access point . The DLNA message is then delivered to the access point through which the cellular device connects to the computer . The macro BTS can also receive the DLNA message from the access point and send the message to the access point to enable the communication between the cellular device and the computer . Other communication tunnels can be used.

The CNCF can also be configured to provide network connections between a cellular network and a home network that uses a proprietary protocol other than the DLNA protocol. Such networks may be in the same femtozone or in different femtozones. In the example shown in after the CNCF server generates a DLNA message and communicates with the access point the gateway function of the CNCF server detects that the home network is using a protocol other than DNLA and converts the DLNA message to a message compatible with the particular proprietary protocol that the home network is using. Similarly the gateway function of the CNCF server can translate a proprietary compatible message received from the home network into a DLNA compatible message. The bridging function of the CNCF server further facilitates communications to the cellular devices in the manner explained above.

In some implementations other cellular devices not shown that are capable of communicating directly with the home network e.g. when the cellular devices include protocols compatible with those of the home network to communicate locally or remotely with the home network indirectly through the CNCF. The communication protocol between the CNCF client and the CNCF server can have a higher priority level than that of the direct communication protocol between the cellular devices and the home network . The CNCF client represents the communication applications of such cellular devices similarly to the representation of those applications of the cellular devices and the CNCF performs similar functions to those described above as to the communication. The indirection communication can allow the use of the access point e.g. a femtocell to be compatible with different devices for communication between different networks. Such indirect communication can also provide security protection to the home network by preventing unauthorized direct communication between the cellular devices and the home network . For example the cellular devices can be authenticated by the access point prior to accessing the home network .

Following the process of by a process shown in a cellular device in a cellular network discovers a home network when it starts. According to the process the CNCF server waits for cellular devices to register. When a cellular device boots up it registers with the CNCF server. The CNCF server then determines whether there are any devices in the home network discovered for example by the process of . If no the CNCF server adds the cellular device to the device presence list e.g. of and goes back to wait for other cellular devices to register. If yes the CNCF server sends presence of the home network device to the registered cellular device. The CNCF server also advertises the presence of the registered cellular device to the home network and add the cellular device to the device presence list.

The extended network can be built by other processes or by executing the process of prior to executing the process of . Further show a process by which a cellular device delivers a data packet to a device in a home network and a process by which a data packet sent between the devices supporting incompatible formats is transcoded.

According to the process of a cellular device sends a data packet to a device. The access point of the cellular network determines whether this data packet is intended for the home network. If no the access point further determines whether the data packet is intended for the cellular network in which the cellular device locates. If yes the data packet is sent to its destination within the cellular network. If no the data packet is delivered to an internet service provider ISP for its intended remote destination such as a device in a network in a different femtozone as described above. If the data packet is intended for the home network the data packet is sent to the CNCF server. The CNCF server determines whether the data packet is delivered from an authorized device. If not the data packet is discarded . If yes the CNCF server decodes the data packet to determine action to be taken. Based on the decoded packet the CNCF server determines whether the packet is to be delivered to a DLNA device. If yes the CNCF server builds an appropriate DLNA control action for the destination device in the home network and sends the packet to the destination device. If no the CNCF server builds an appropriate control action using device control and delivers the packet to the destination device.

According to the process of a data packet from the cellular device is being delivered to a device in a home network for example using the process of . The CNCF server determines whether the media format of the packet is compatible with that of the device of the home network. If yes the packet is delivered to the destination device. If no the CNCF server transcodes the data packet to the format that is supported by the destination device in the home network and delivers the transcoded data packet.

The techniques described herein can be implemented in digital electronic circuitry or in computer hardware firmware software or in combinations of them. The techniques can be implemented as a computer program product i.e. a computer program tangibly embodied in an information carrier e.g. in a machine readable storage device such as a computer readable storage medium for execution by or to control the operation of data processing apparatus e.g. a programmable processor a computer or multiple computers. A computer program can be written in any form of programming language including compiled or interpreted languages and it can be deployed in any form including as a stand alone program or as a module component subroutine or other unit suitable for use in a computing environment. A computer program can be deployed to be executed on one computer or on multiple computers at one site or distributed across multiple sites and interconnected by a communication network.

Actions associated with the techniques described herein can be performed by one or more programmable processors executing a computer program to perform functions described herein by operating on input data and generating output. Actions associated with the techniques can also be performed by and apparatus for implementing the techniques can include e.g. special purpose logic circuitry e.g. an FPGA field programmable gate array or an ASIC application specific integrated circuit . Modules can refer to portions of the computer program and or the processor special circuitry that implements that functionality.

Processors suitable for the execution of a computer program include by way of example both general and special purpose microprocessors and any one or more processors of any kind of digital computer. Generally a processor will receive instructions and data from a read only memory or a random access memory or both. The essential elements of a computer are a processor for executing instructions and one or more memory devices for storing instructions and data. Generally a computer will also include or be operatively coupled to receive data from or transfer data to or both one or more mass storage devices for storing data e.g. magnetic magneto optical disks or optical disks. Information carriers suitable for embodying computer program instructions and data include all forms of non volatile memory including by way of example semiconductor memory devices e.g. EPROM EEPROM and flash memory devices magnetic disks e.g. internal hard disks or removable disks magneto optical disks and CD ROM and DVD ROM disks. The processor and the memory can be supplemented by or incorporated in special purpose logic circuitry.

The computing system can include clients and servers. A client and server are generally remote from each other and typically interact over a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client server relationship to each other.

Components of different embodiments described herein may be combined to form other embodiments not specifically set forth above. Any features described herein may be combined with features found in U.S. application Ser. No. 11 958 975 the contents of which are incorporated by reference.

Other embodiments not specifically described herein are also within the scope of the following claims.

