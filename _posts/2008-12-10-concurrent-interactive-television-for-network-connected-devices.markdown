---

title: Concurrent interactive television for network connected devices
abstract: Techniques are disclosed herein for processing iTV. A request to play a first interactive television signal at a first electronic device is received. A first virtual machine for processing the first interactive television signal is instantiated at the first electronic device. A first file that includes information associated with playing interactive TV on the first electronic device is accessed from non-volatile storage on the first electronic device. A request to play a second interactive television signal at a second electronic device that is communicatively coupled to the first electronic device is received. A second virtual machine for processing the second interactive television signal is instantiated at the first device. A second file that includes information associated with playing interactive TV on the second electronic device is stored in non-volatile storage on the first electronic device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09021522&OS=09021522&RS=09021522
owner: Microsoft Technology Licensing, LLC
number: 09021522
owner_city: Redmond
owner_country: US
publication_date: 20081210
---
In addition to video and audio data broadcast media streams may contain data for interactive television iTV . One example of iTV is a user watching a television quiz show and taking the quiz interactively by using a remote control to answer questions presented on the display screen. The user s answers may be sent back to a server. Another example is a user watching a televised talent competition and voting for one of the contestants. There is virtually no limit to the possibilities of interactive TV therefore the foregoing should be understood to be non limiting examples.

More and more broadcasters are choosing to adopt iTV. Some countries even require that broadcasters provide iTV support. In Japan presently all broadcast operators use Broadcast Markup Language BML which is a descriptive language based on the eXtensible Markup Language XML . BML was developed by the Association of Radio Industries and Businesses ARIB standard body as a data broadcasting specification for digital television broadcasting. BML browsers on an electronic device can receive broadcast video and data simultaneously and can provide bi directional services such as online surveys along with TV programming. As the foregoing suggests BML enables the user to play games vote on Karaoke contests and order items on shopping channels associated with watching TV program.

In 1999 ARIB published a specification for digital broadcasting. Numerous revisions to that specification have been made since then. ARIB STD B24 Data Coding and Transmission Specification for Digital Broadcasting Version 5.2 is hereby incorporated herein by references for all purposes. Note that there are many other iTV standards such as Multimedia and Hypermedia Experts Group MHEG Multimedia Home Platform MHP and OpenCable Application Platform OCAP .

Techniques are disclosed herein that provide for concurrent interactive television for networked devices. A host device e.g. personal computer has a virtual machine VM for each electronic device on the network that is used to play interactive TV. The personal computer also stores information in a file for each electronic device on the network such that user preferences session information etc. can be remembered from one viewing session to the next. The personal computer provides processed data e.g. a video signal for TV and webpage like documents for the interactive aspects to the video game console over the network.

One aspect is a machine implemented method for processing iTV which includes the following steps. A request to play a first iTV signal at a first electronic device is received. A first virtual machine for processing the first iTV signal is instantiated at the first electronic device. A first file that includes information associated with playing iTV on the first electronic device is accessed from non volatile storage on the first electronic device. A request to play a second iTV signal at a second electronic device that is communicatively coupled to the first electronic device is received. A second virtual machine for processing the second iTV signal is instantiated at the first device. A second file that includes information associated with playing interactive TV on the second electronic device is accessed from non volatile storage on the first electronic device.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter.

Note that it is not required that the host device be a personal computer. Host device can be implemented in a number of ways. For example host device might be a personal computer video game console set top box television set etc. The host device is connected to various devices to receive an iTV signal. Host device is connected to an antenna to receive interactive program content from a local television station. Host device is connected to a cable network through device to receive program content from a cable system . Device is also referred to as a set top box. Host device is coupled to a satellite dish through device to receive program content from the satellite . Device may also be referred to as a set top box or a satellite receiving device. Host device is connected to a network e.g. the Internet to receive program content from the content server . For example the host may receive Internet Protocol Television IPTV . Numerous vendors provide software programs for receiving Internet Television. An example of such a software product is the Microsoft Mediaroom Internet Protocol Television IPTV software platform which is commercially available from Microsoft Corporation of Redmond Wash. The host device can also receive program content from a network source that is not on the Internet.

The local television antenna may be used to transmit a signal from a local television or radio station. The cable broadcast system provides content from a cable television provider. The satellite provides a signal from a satellite television provider. The content server provides a signal from an Internet television provider. presents only a few example program sources . In addition to audio visual content the signals transmitted by the program sources may have iTV content. Numerous standards for transmitting iTV content exist. Moreover iTV may be provided in a proprietary format. The audio visual content could be television programs movies commercials music and similar audio and or video content. Thus the signals from the program sources are not limited to television programs.

The host device executes software to process the television signals to play iTV programs etc. on the host device and to forward video and data to the extended devices such that they can also play iTV. Such software can also be used to play television content based on the output of a tuner in the host device or in a device connected to the host device . Further the host device can receive and play program content from any of the sources through a tuner whether the tuner is hardware software or some combination of hardware and software. However note that the host device is not required to receive content from any particular source .

In some implementations a back channel is used to transmit information from the host device back to the program source or another location as a part of the iTV experience. For example a user might make a purchase in response to seeing a product of interest in an interactive shopping program. In one aspect the network is used to implement the back channel. As one example the host device uses the Internet to send information to the content server which is providing the interactive content. However a back channel can also be used when receiving iTV from other content providers. For example if the satellite is providing the content to set top box the set top box can interface with the host device to access a back channel through the network . Note that in this case a server other than content server is likely to be accessed via the backchannel.

It is to be appreciated and understood that the exemplary system constitutes but one exemplary operating environment. Accordingly this description is not intended to limit application of the claimed subject matter to just this one type of operating environment. Rather the principles described herein can be implemented in other similar or different environments without departing from the spirit and scope of the claimed subject matter.

As one example the extended device could be an Xbox video game system or an Xbox 360 video game and entertainment system both of which are provided by Microsoft Corporation of Redmond Wash. The extended device could be other than an Xbox video game system or an Xbox 360 video game and entertainment system. Moreover the extended device does not have to be a video game console. More generally the extended device can be any electronic device that is capable of processing the video and data from the host device and displaying it on a display screen connected to the extended device .

The host device has an iTV platform which captures and controls the iTV data source. The iTV platform is capable of rendering the video portion of the television signal on a display screen as well as delivering the audio portion of the television signal to speakers. The iTV platform also can perform other functions such as allowing the VM to tune television channels and access the iTV data delivered on the iTV signal. Many other functions such as displaying an electronic program guide EPG are possible.

The iTV BML VM domain on the host device refers to the software components and data structures for processing the iTV signal for a particular iTV standard. The VM domain has at least one VM that is for processing the iTV signal for a particular iTV standard. Many iTV standards define the interface for a VM to be used to receive and process the iTV signal. In general a VM is software that can be thought of as an implementation of a machine e.g. computer that executes software applications like a real machine. A goal of a VM is to allow applications to interact with the VM independent of the actual hardware and operating system. A given iTV standard may define how an iTV VM for that iTV standard should behave what inputs to accept how to react to the input and what APIs to provide to applications that interface with the iTV VM. For example the host device may have a BML VM for processing an iTV signal in compliance with the ARIB STD B24 Data Coding and Transmission Specification for Digital Broadcasting. In one implementation the BML VM is implemented such that it complies with requirements of ARIB STD B24. Note that the host device can have a VM for processing iTV in accordance with a different standard. An example of a different standard which involves MHEG 5 is Coding of Multimedia and Hypermedia Information Part 5 Support for Base level Interactive Applications ISO IEC 13522 5 which is from the International Organization for Standardization ISO .

The virtual domain currently has two BML VMs instantiated. One VM is instantiated for each device on the network that is currently playing iTV. Each of the VMs extracts the interactive portion e.g. a BML document of the iTV signal and provides it for display on either the host device or an extended device . The BML document may be displayed as a page in manner similar to displaying a web page. In one implementation the VM reserves a region of the page for the television video. Thus a user can watch a television quiz show video component while taking a quiz interactive component . The host device may have additional VMs for additional extended devices . The VM is implemented by executing computer readable instructions on a processor on the host device . Note that an instance of a VM is not instantiated unless a request is received to process an iTV signal.

In one implementation the BML browser processes the data broadcast data described by a BML document. The BML browser processes a BML document and monomedia data referred by the BML document. The monomedia data may include JPEG PNG and MNG as a still image MPEG1 and MPEG2 as a moving image MPEG2 AAC and AIFF as audio data and an 8 unit code as a text.

The VM domain has a separate file for each device on the network . As depicted file is for the host device and file is for the extended device . The file in the virtual domain contains user and broadcaster data settings and configurations. One exemplary use of the file is for the broadcaster to store information from one session to be used during a later session. For example if the user is taking an interactive quiz the broadcaster might save the user s answers to allow the user to continue the quiz later. As another example a home shopping network might save certain user information to speed up the purchasing process.

In one implementation the file is a data structure that is stored in non volatile RAM. Thus once created for a particular device or the file for a specific device exists regardless of whether or not a VM is currently instantiated for the specific device. The file may be created the first time that a device has an iTV signal processed. The file may be written to by a broadcaster to store various information to be used during a later broadcast session. Thus a file is read from and written to by a VM .

The DSM CC control is for transporting the data. DSM CC Digital Storage Media Command and Control is a control method defined in ISO IEC 13818 6 which provides access to a file or stream in digital interactive service.

The system registry stores information such as a postal code or other identifier of the location of the device or . This information may be stored in the system registry the first time the user runs the interactive TV program first run . For example the user is asked to enter a postal code or other information. This information is read from the system registry each time that the VM is instantiated.

Each of the BML VMs is able to exchange data with a server not depicted in over network to allow the user to have an interactive experience. For example a user can vote for a contestant on a televised talent show or the user can submit answers to quiz questions. The BML browser and server may communicate via the HTTP protocol.

As previously discussed the extended devices have a network connection to the host device . Thus it is not required that the extended devices themselves have direct access to the television signal. In one embodiment the extended device establishes a communication channel with the iTV platform on the host device in order to establish access to the iTV service. Thus it is not required that the extended device has a tuner. Note that the host device may have more than one tuner but this is not a requirement.

In step a VM is initialized or instantiated on the host device . In one aspect the iTV platform causes the VM to be initialized. For example the iTV platform instantiates a VM in response to determining that the television signal for the channel to which the tuner is currently tuned has an interactive component. However it is not required that the iTV platform make this determination as the VM might be instantiated without this determination. The VM that gets initialized will depend on the type of iTV signal being processed. For example a BML VM is initialized for an iTV signal having BML documents therein. Note that initializing a BML VM causes a BML browser to be initialized. In one embodiment it is assumed that the iTV signal will comply with a particular specification. For example if the devices are used in Japan it may be assumed that the iTV signal will be compliant with ARIB STD B24 Data Coding and Transmission Specification for Digital Broadcasting and thus the VM is compliant with that specification. However process is not limited to that specification.

In step the VM determines whether there is a file for the first device. If this is the first time that the device has been used for iTV on the network there might not be a file although it is possible to create a file without the device ever having requested to play an iTV signal . If there is not a file then one is created in step . Initial information may be stored in the file at this time. However note that many or all of the fields in file may be empty initially. In step the file for the first device is read.

In step playback in a second device is started. Note that this may or may not occur while playback is ongoing in the first device. In step a VM for the second device is initialized or instantiated on the host device . The VM that gets initialized will depend on the type of iTV signal being processed for the second device. For example a BML VM is initialized for an iTV signal having BML documents therein. Note that as with the playback in the first device this may be a live or recorded signal.

In step the VM determines whether there is a file for the second device. If this is the first time that the second device has been used for iTV on the network there might not be file . If there is not a file then one is created in step . In step the file for the second device is read.

In step the VM determines which file should be updated. In one embodiment each file is associated with one device either host or extended device . However the association is not required to be based on the device. For example separate files could be created for different users of devices on the network . For example each family member might have their own file . In this way the iTV experience can be tailored to each individual. In embodiment a file is created for some combination of device and user. For example a user can have one file for the PC in the home office and another file for the video game console in the living room.

In step the file is updated. In one embodiment the update to the file is accomplished by executing a command that is in compliance with a version of the ARIB STD B24 Data Coding and Transmission Specification for Digital Broadcasting . For example the VM could execute the command writePersistentArray which is described in the ARIB STD B24 specification. However process is not limited to that specification.

The following table depicts an exemplary data structure for a file . In this example the data structure is for a BML VM . However the data structure is not limited to being associated with a BML VM. As previously stated the BML browser stores user or broadcaster data settings and configurations in the file . Different example data stored in the file may be used for regional information e.g. geographic information storage of game parameters and or information for shopping services.

In step the iTV platform accesses a selected iTV signal. For example the iTV platform causes a tuner in the host device to tune to a channel that is specified by the extended device . Alternatively the extended device might request a recorded signal. The iTV platform receives a request from the extended device over the network . Note that this request may be very similar to a request that the iTV platform would receive if a user of the host device were tuning to a particular channel.

In step the VM for the extended device extracts the audio video portion and the interactive portion from the iTV signal. In one implementation the interactive portion includes BML documents which may be similar to web pages.

In step the host device forwards the audio video signal and the interactive portion e.g. BML bitmap overlay to the extended device . For example the VM passes this information to the iTV platform which transfers this information to the extended device across network

In step the extended device plays the TV signal and the interactive portion. For example the BML document is displayed in a manner similar to presenting a web page with a portion of the page reserved for the TV video. Thus the extended device plays the video e.g. quiz show and presents the BML document e.g. interactive quiz questions at the same time.

Note that a VM processing the iTV signal for play at the host device may be simpler version of process in that there is no need for communication over the network

In step the host device receives notification of the event from the extended device via the network . Step occurs after a user has entered user input at the extended device . For example if the extended device is displaying a multiple choice quiz question then the user might use a remote control to enter a quiz answer. In response to this input the extended device sends the user entered information to the iTV platform on the host device .

In step the iTV platform forwards the user input to the VM that is associated with the extended device . In step the VM sends the user input to a server that is on network . In optional step the server sends a response back to the VM . In optional step the VM forwards the response to the iTV platform which in turns sends the response to the extended device in step .

In some embodiments the VM is a BML VM that has a BML browser for processing BML documents that are transported in the iTV signal.

In one embodiment the BML browser is able to handle content in the eXtensible Hyper Text Markup Language XHTML . This enables the BML browser to handle text information Cascading Style Sheets CSS that define font sizes character ornamentation line spacing and other layer characteristics etc. The BML browser is capable of displaying a wide range of objects such as JPEG GIF Graphic Interchange Format and animation GIF.

Referring to the iTV signal which includes video data and BML documents are input to a BML CSS parser . The BML CSS parser analyses the BML document in the iTV signal to generate a DOM tree or DOM object . More specifically the BML CSS parser analyzes style information described in the BML document to obtain CSS characteristics which constitute a part of the DOM object . The DOM object including the CSS characteristics is transferred to a graphics rendering engine for generating data for a display image screen.

The rendering engine determines rendering values to display the BML document on the display screen. For example the rendering engine may generate a rendering tree not depicted in from the DOM object which is created in earlier processing of the BML document. The rendering engine then traverses the rendering tree to display the BML document. If values e.g. CSS values change the rendering engine generates new rendering values and re traverses the rendering tree to update the display.

The BML CSS parser transfers script information from the BML document to an ECMA script compiler . The ECMA script compiler generates an executable ECMA script object . The ECMA script object is a group of functions.

The user input interface receives user input for event processing. For example a user uses a remote control which interfaces with the user input interface to vote for a contestant on a talent show. The DOM object and the ECMA script object are used as a guideline for processing the event.

While several examples have been presented herein in which BML is used it will be understood that the present invention is not limited to BML. Thus the VM may be compliant with a specification other than ARIB STD B24 Data Coding and Transmission Specification for Digital Broadcasting. 

The host device has logic embedded therein for implementing iTV. In one embodiment to implement iTV the host device executes computer readable instructions that are stored on computer readable media. The host device has a processor on which the instructions are executed. Computer readable media can be any available media that can be accessed by the host device . By way of example and not limitation computer readable media may comprise computer storage media. Computer storage media includes volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the computer readable instructions and which can accessed by the host device .

The technology herein may be described in the general context of computer executable instructions such as program modules being executed by a computer. Generally program modules include routines programs objects components data structures and so forth that perform particular tasks or implement particular abstract data types. The technology herein may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment program modules may be located in both local and remote computer storage media including memory storage devices.

At least some of the embodiments disclosed herein may be implemented on host device and or extended device . shows an example configuration of a broadcast enabled electronic media device that may serve to implement at least a portion of the host device and or extended device . Device includes a central processing unit having a processor volatile memory e.g. RAM and program memory e.g. ROM Flash disk drive floppy disk drive CD ROM etc. . The device has one or more input devices e.g. keyboard mouse etc. a video display e.g. VGA SVGA and a stereo I O for interfacing with a multi channel audio system.

The device includes a digital broadcast receiver e.g. satellite dish receiver RF receiver microwave receiver multicast listener etc. and a tuner which tunes to appropriate frequencies or addresses of the broadcast network. The tuner is configured to receive digital broadcast data in a particularized format such as MPEG encoded digital video and audio data as well as digital data in many different forms including software programs and programming information in the form of data files. The device also has a modem which provides IP network access to the data network to provide a back channel or direct link to a server . In other implementations of a back channel the modem might be replaced by a network card or an RF receiver or other type of port receiver that provides access to the back channel.

The device runs an operating system that supports multiple applications. The operating system may be a multitasking operating system that allows simultaneous execution of multiple applications. The operating system may employ a graphical user interface windowing environment that presents the applications or documents in specially delineated areas of the display screen called windows. 

The device is illustrated with a key listener to receive the authorization and session keys transmitted from the server if any. The keys received by listener are used by cryptographic security services implemented in a protection mechanism in the host device and or extended device to enable decryption of the session keys and data. Cryptographic services are implemented through a combination of hardware and software. A secure tamper resistant hardware unit is provided external to the CPU and two software layers executing on the processor are used to facilitate access to the resources on the cryptographic hardware .

The software layers include a cryptographic application program interface CAPI that provides functionality to any application seeking cryptographic services e.g. encryption decryption signing or verification . One or more cryptographic service providers CSPs implement the functionality presented by the CAPI to the application. The CAPI layer selects the appropriate CSP for performing the requested cryptographic function. The CSPs perform various cryptographic functions such as encryption key management encryption decryption services hashing routines digital signing and authentication tasks in conjunction with the cryptographic unit . A different CSP might be configured to handle specific functions such as encryption decryption signing etc. although a single CSP can be implemented to handle them all. The CSPs can be implemented as dynamic linked libraries DLLs that are loaded on demand by the CAPI and which can then be called by an application through the CAPI . Note that the key listener CAPI and CSP are optional.

With reference to an exemplary system for implementing the inventive system includes a general purpose computing device in the form of a computer . Components of computer may include but are not limited to a processing unit a system memory and a system bus that couples various system components including the system memory to the processing unit . The system bus may be any of several types of bus structures including a memory bus or memory controller a peripheral bus and a local bus using any of a variety of bus architectures. By way of example and not limitation such architectures include Industry Standard Architecture ISA bus Micro Channel Architecture MCA bus Enhanced ISA EISA bus Video Electronics Standards Association VESA local bus and Peripheral Component Interconnect PCI bus also known as Mezzanine bus.

In one embodiment to implement process and or computer readable instructions that are stored on computer readable media are executed on a processor. Computer may include a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer and includes both volatile and nonvolatile media removable and non removable media. Combinations of any of the above are also included within the scope of computer readable media.

The system memory includes computer storage media in the form of volatile and or nonvolatile memory such as ROM and RAM . A basic input output system BIOS containing the basic routines that help to transfer information between elements within computer such as during start up is typically stored in ROM . RAM typically contains data and or program modules that are immediately accessible to and or presently being operated on by processing unit . By way of example and not limitation illustrates operating system application programs other program modules and program data .

The computer may also include other removable non removable volatile nonvolatile computer storage media. By way of example only illustrates a hard disc drive that reads from or writes to non removable nonvolatile magnetic media and a magnetic disc drive that reads from or writes to a removable nonvolatile magnetic disc . Computer may further include an optical media reading device to read and or write to an optical media.

Other removable non removable volatile nonvolatile computer storage media that can be used in the exemplary operating environment include but are not limited to magnetic tape cassettes flash memory cards DVDs digital video tapes solid state RAM solid state ROM and the like. The hard disc drive is typically connected to the system bus through a non removable memory interface such as interface . Magnetic disc drive and optical media reading device are typically connected to the system bus by a removable memory interface such as interface .

The drives and their associated computer storage media discussed above and illustrated in provide storage of computer readable instructions data structures program modules and other data for the computer . In for example hard disc drive is illustrated as storing operating system application programs other program modules and program data . These components can either be the same as or different from operating system application programs other program modules and program data . Operating system application programs other program modules and program data are given different numbers here to illustrate that at a minimum they are different copies.

A user may enter commands and information into the computer through input devices such as a keyboard and a pointing device commonly referred to as a mouse trackball or touch pad. Other input devices not shown may include a microphone joystick game pad satellite dish scanner or the like. These and other input devices are often connected to the processing unit through a user input interface that is coupled to the system bus but may be connected by other interface and bus structures such as a parallel port game port or a universal serial bus USB . A monitor or other type of display device is also connected to the system bus via an interface such as a video interface . In addition to the monitor computers may also include other peripheral output devices such as speakers and printer which may be connected through an output peripheral interface .

The computer may operate in a networked environment using logical connections to one or more remote computers such as a remote computer . The remote computer may be the extended device . The remote computer may be a personal computer a server a router a network PC a peer device or other common network node and typically includes many or all of the elements described above relative to the computer although only a memory storage device has been illustrated in . The logical connections depicted in include a local area network LAN and a wide area network WAN but may also include other networks. Such networking environments are commonplace in offices enterprise wide computer networks intranets and the Internet.

When used in a LAN networking environment the computer is connected to the LAN through a network interface or adapter . When used in a WAN networking environment the computer typically includes a modem or other means for establishing communication over the WAN such as the Internet. The modem which may be internal or external may be connected to the system bus via the user input interface or other appropriate mechanism. In a networked environment program modules depicted relative to the computer or portions thereof may be stored in the remote memory storage device. By way of example and not limitation illustrates remote application programs as residing on memory device . It will be appreciated that the network connections shown are exemplary and other means of establishing a communication link between the computers may be used.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

