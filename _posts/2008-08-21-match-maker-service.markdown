---

title: Match maker service
abstract: Embodiments of the invention are directed to methods, apparatuses and systems for providing a service, utilizing Unstructured Supplementary Service Data (USSD), to a user in a communications network. According to one example of the invention, a hypertext transfer protocol (HTTP) message is received from an unstructured supplementary service data (USSD) server or gateway. Relevant content is then retrieved from a database upon receiving the HTTP message. A USSD message content is created based on a set of parameters, the USSD message content is sent to the USSD server, and the relevant content may then be provided to a user terminal in a text message.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08934928&OS=08934928&RS=08934928
owner: Nokia Solutions and Networks Oy
number: 08934928
owner_city: Espoo
owner_country: FI
publication_date: 20080821
---
Embodiments of the invention relate to communications networks and particularly to wireless communication networks such as the global system for mobile communications GSM and the universal mobile telecommunications system UMTS . More specifically certain embodiments of the invention are directed to methods apparatuses and systems for providing a service utilizing unstructured supplementary service data USSD to a user in a communications network.

Unstructured supplementary service data USSD is a third generation partnership project 3GPP protocol used to deliver menu based services for mobile phones. USSD is essentially a capability of all GSM phones on the market. USSD is generally associated with real time or instant messaging type phone services.

USSD is typically used as a trigger to invoke independent calling services which do not require the overhead and additional usage costs of a short message service center SMSC such as a callback service or interactive menuing service.

USSD is a standard for transmitting information over GSM signaling channels. It may be used for example as a method to query the available balance and other similar information in pre paid GSM services. The function that is triggered when sending USSD is network dependent and depends on what kind of services the operator has made available.

Typically USSD services work such that a mobile phone dials a service specific code that is directed via the USSD center USSDC to a USSD browser application that generates for instance a menu that it sends back to the mobile phone.

USSD is an important protocol for reaching the next billion people with internet like services. Today there are 1.2 billion internet users and over 3 billion phone users globally. As a result almost 2 billion people currently could benefit from simple text based data services more powerfully if they were build in an internet like manner. In view of the above the present invention facilitates the use of USSD as a bearer for Internet like services.

In accordance with an embodiment of the present invention there is provided a method including receiving a hypertext transfer protocol HTTP message from an unstructured supplementary service data USSD gateway or server and retrieving relevant content from a database upon receiving the HTTP message. The method further includes creating a USSD message content based on a set of parameters sending the USSD message content to the USSD gateway or server and optionally providing the relevant content to a user terminal in a text message.

In accordance with an embodiment of the present invention there is also provided an apparatus including a receiver configured to receive a hypertext transfer protocol HTTP message from an unstructured supplementary service data USSD gateway or server. The apparatus also includes a processor configured to retrieve relevant content from a database upon receiving the HTTP message and to create an USSD message content based on a set of parameters. The apparatus further includes a transmitter configured to send the USSD message content to the USSD gateway or server and optionally to provide the relevant content to a user terminal in a text message.

In accordance with another embodiment of the present invention there is also provided a method including receiving an unstructured supplementary service data USSD request for content from a user of a USSD gateway or server transforming the USSD request to a hypertext transfer protocol HTTP request and indicating the service menu path the user has taken in a uniform resource identifier URI of the HTTP request.

In accordance with an embodiment of the present invention there is also provided an apparatus including a receiver configured to receive an unstructured supplementary service data USSD request for content from a user of a USSD gateway or server a processor configured to transform the USSD request to a hypertext transfer protocol HTTP request and an indicating unit configured to indicate the service menu path the user has taken in a uniform resource identifier URI of the HTTP request.

In accordance with an embodiment of the present invention there is also provided an apparatus including receiving means for receiving a hypertext transfer protocol HTTP message from an unstructured supplementary service data USSD gateway or server retrieving means for retrieving relevant content from a database upon receiving the HTTP message creating means for creating a USSD message content based on a set of parameters sending means for sending the USSD message content to the USSD gateway or server and optionally providing means for providing the relevant content to a user terminal in a text message.

In accordance with another embodiment of the present invention there is also provided an apparatus including receiving means for receiving an unstructured supplementary service data USSD request for content from a user of a USSD gateway or server transforming means for transforming the USSD request to a hypertext transfer protocol HTTP request and indicating means for indicating the service menu path the user has taken in a uniform resource identifier URI of the HTTP request.

In accordance with an embodiment of the present invention there is further provided a computer program embodied on a computer readable medium. The computer program is configured to control a processor to perform at least the methods outlined above.

The unstructured supplementary services data USSD standard in the global system for mobile communications GSM and the universal mobile telecommunications system UMTS is used for enabling information exchange between a user device and network elements over a signaling session. USSD is supported by all standard GSM phase 2 compatible terminals and many network elements such as intelligent network IN systems operator specific menu browser systems and the USSD gateway system also known as USSD center .

Generally embodiments of the invention may be directed to a service architecture and implementation for connecting a user seeking a certain service or good with providers of those services or goods. In one example the user browses through a logically tree structured database of goods and services being offered. Once the user finds what they are looking for the user is provided with information regarding those goods or services and the contact information of the provider of choice. This information may be delivered to the browsing user as a text message.

As illustrated in one example of the invention is directed to a system for providing information regarding goods and services to a user. The system includes a USSD browser communicating with a USSD center USSDC and a MatchMaker server MM Server . The USSD browser receives USSD messages from the USSDC and passes them to the MM server using hypertext transfer protocol HTTP . The body of an HTTP response is sent back to the user terminal as a USSD message. Depending on the capabilities of the USSD browser it may also have a connection to the short message service center SMSC or there may be a connection between the MM server and the short message service gateway SMS GW . This connection may be used to send the final content to the user in an SMS message via GSM for example after the USSD session has ended.

The MM server may be a web server such as Apache PHP and may comprise a database containing the MM content MM DB . The MM Server receives HTTP messages from the USSD browser and creates USSD message content based on the end user mobile subscriber integrated services digital network number MSISDN type of USSD request end user answer USSD session ID along with additional parameters such as user language and location. These additional parameters may be user specific and may be stored in the database MM DB . The USSD message content may then be sent to the USSD browser in the HTTP response body.

The SMS GW is the network element which performs messaging between the MM server and the user terminal . In one embodiment of the invention the SMS GW is connected to the MM server via the Internet Intranet and communicate using HTTP messages. The SMS GW is able to receive HTTP messages and act accordingly by sending the content in the received HTTP message to the MSISDN number stated in the HTTP message. The SMS GW may also be able to send HTTP messages in the other direction namely towards the MM server . The SMS GW functionality may include formatting the final response text in an SMS suitable format and sending it to the user via an SMSC . In an example of the invention the functionality of the SMS GW may even be incorporated within the MM server .

The MM server may also store user information to the MM DB . The user information may include for instance name language contact category and location information to relevant detail country city area etc . Embodiments of the invention also provide different ways to input the user information to the system. In one example the MM server may have a web interface to input the user information to the MM DB . More specifically there may be two different input views one for administrators and another for the users. Alternatively the information may be uploaded through a USSD menu choice such as language category or location information to relevant detail country city area etc or if actual text input through a USSD session is available then name and contact details would be relevant. In another example the information may be uploaded through SMS where the SMS GW forwards the message to the MM server . In addition it may be possible to extract information from other systems that expose open application program interfaces APIs such as location servers or other profile systems within the network

At least two use cases may be provided relating to upload through a USSD menu choice 1. The user would have a choice on the first USSD menu level and possibly on all the levels to edit their user information or 2. if an end user connects to the MM server using USSD for the first time the MM server may ask the user to define some information about themselves. This kind of user information is for instance language category and location information to relevant detail country city area etc . If text input through USSD is available to the user then name and contact details would also be relevant. Some of these details such as location may be retrievable from the mobile operator. Consequently the MM server may be configured in such a way that it would be possible to connect to an operator network if needed. In particular the MM server may need to connect to the operator location server not shown in order to fetch the end user location during a user USSD session.

Referring again to the MM server is also able to remember the session ID and create USSD responses for the end user terminal based on the end user s answers taking into account the user information stored in the MM server . The USSD menus may be fairly static or very dynamic. When the MM server receives an HTTP message from the USSD Browser it should fetch the relevant content from the MM DB and send it in the HTTP message body to the USSD browser .

Furthermore embodiments of the invention provide a method for providing a tree structure for hierarchical presentation of data facilitating easy browsing of the contents as menus created by the USSD browser and displayed on the terminal display. illustrates a tree structure for browsing through menu information according to one example of the invention. First a user may define a language at the first level. Next a location for the user may be specified. Trees can differ based on language and location and may include x number of configurable levels. At any level of the tree structure the user has a menu option for changing user settings which will take the user back to the first level.

Once the user chooses the last item on the last level of the tree structure and thereby reaches the end of the USSD session an SMS message may be delivered to the end user terminal containing the selected content. In some cases however SMS delivery may not be needed. According to one embodiment of the invention the MM server may request that the SMS GW send the selected content to a given MSISDN.

Similar to the user information input there may be different alternatives for inputting new content to the MM service. In one example the inputted information may be stored in the MM DB . One option is to provide two web interfaces one for administrators and another for users for inputting new content. In another embodiment new information may be uploaded through USSD text input. If text input is not possible then there may be some cases where at least part of the new content can be inputted through a normal USSD menu selection as shown in . New content may also be uploaded through SMS.

In view of the above embodiments of the invention include a method for providing a service to a user via USSD as illustrated in . The method includes receiving an HTTP message from a USSD browser retrieving relevant content from a database upon receiving the HTTP message and creating a USSD message content based on a set of parameters . The method further includes sending the USSD message content to the USSD browser and providing the relevant content such as the contact information of a supplier to a user terminal in a text message . The method may further include storing user information to the database. Further according to one example of the invention dynamic creation of the message refers to automatic creation of the message when needed without the necessity of user or administrator intervention.

According to one example of the invention the set of parameters used to generate the message content may include MSISDN type of USSD request end user answer USSD session ID user language and or location. Additionally in one example of the invention the USSD message content is sent to the USSD browser in an HTTP response body. The text message sent to the user terminal may be an SMS message and may be sent via an SMS GW. Additionally in one embodiment the database may be configured to store information regarding for example goods and services offered in a tree structure.

In another embodiment of the invention as illustrated in an apparatus for providing a service to a user via USSD is provided. The apparatus includes a receiver configured to receive an HTTP message from a USSD browser a processor configured to retrieve relevant content from a database upon receiving the HTTP message and to create a USSD message content based on a set of parameters. The apparatus further includes a transmitter configured to send the USSD message content to the USSD browser and to provide the relevant content such as the contact information of a supplier to a user terminal in a text message. The processor may be further configured to store user information to the database.

In practice a user desiring to access certain content on the MM server and or the MM database may be charged for receiving the service. For example once the user has chosen the desired content the user may be asked whether they are willing to pay x cents to receive an SMS with the content. Additionally the user wishing to upload content may be charged for the uploading of the content. Alternatively external sponsors such as consumer companies may pay for the service in order to provide content to possible customers. The options described above may also be combined.

A USSD browser can utilize different elements when generating content for the end user terminal. For example the content can be fetched from a web page using HTTP protocol. USSD to HTTP gateways are also available which transform USSD protocol to HTTP protocol and the USSD menus as well as the content is generated on the HTTP server. This allows the service provider to generate dynamic content in a similar manner as regular web services do today.

One method for transferring USSD protocol to HTTP is for the USSD to HTTP gateway to make a HTTP request to some static uniform resource identifier URI where the selected menu entry as well as the session information is included in the HTTP GET parameters. An example of such a URI is http ussd.application.com service answer 1 session eroi3432uoi4590weio4 MSISDN 35850123456. In this example the answer that the user has given is 1. The URI also includes the session ID as well as the MSISDN number of the user. Since the HTTP request URI is created in this way the HTTP server also needs to maintain the state where the user is currently in the menu structure.

Since the URI only included a session ID and just the last answer given by the user the HTTP server would have to maintain all the previous entries of the user in order to know where in the menu tree the user currently is.

As a result it is common for a USSD to HTTP gateway to operate in a way that the USSD session is duplicated on the HTTP server side. However duplicating the session information on the HTTP server is not necessary. Rather the USSD system may only maintain the session information such as the current location of the user within the menu structure. Therefore according to an embodiment of the invention when USSD protocol is transferred to be used over HTTP protocol it is not necessary to maintain the session information in the HTTP server as well. Duplicating the state makes scaling of the service more difficult and also makes the service development on the HTTP side more cumbersome.

For a mass market service the advantage of statelessness is very significant. The performance increase can easily be thousand fold or more. Also telecommunications systems have been designed to handle large amounts of state information whereas traditional web systems do not do that very well. Representational State Transfer REST principles have been used in design of the HTTP protocol and may also be applied in the USSD protocol.

Thus according to one embodiment of the invention when transferring the protocol from USSD to HTTP the USSD to HTTP gateway should indicate the service menu path the user has taken in the URI of the HTTP request. This is to avoid expensive duplicating of session states on the internet side.

Examples of the present invention provide that so called RESTful methods may be used when implementing a USSD to HTTP gateway. This means that the state in the service is stored on the client side which may be the USSD Browser application. The state may be conveyed for example in the URI of the HTTP request. Tables 1 3 illustrate an example showing the HTTP protocol flow requests and responses and the URIs that the USSD to HTTP gateway request while the user is browsing through the menu of the service.

First as shown in Table 1 the user starts the USSD session and the start menu is displayed to the user.

Now as can be seen from the URI illustrated in Table 3 the entries are presented in the path of the URI. The path to the Formula One section is service 1 3. Based on this URI the HTTP server knows that the user has first selected number 1 and then number 3. Hence the HTTP server does not need to maintain any session information since that is already done by the USSD Browser application. This provides huge advantage in terms of scalability. Also embodiments of the invention enable the use of HTTP caching which also provides a significant effect on the service performance.

In the examples discussed above the user s MSISDN number is included as an attribute in the URI. Other parameters such as location or the currently used home location register HLR could also be included as parameters. The MSISDN could also be included in the URI. For example URI 050123456 1 2 would contain a resource i.e. a menu specific to user with MSISDN number 050123456.

Therefore embodiments of the invention provide a method for transferring USSD protocol to HTTP protocol as illustrated in . The method includes receiving a USSD request for content from a user of a USSD browser transforming the USSD request to an HTTP request and indicating the service menu path the user has taken in the URI of the HTTP request.

In another embodiment of the invention as illustrated in an apparatus for transferring USSD protocol to HTTP protocol. The apparatus includes a receiver configured to receive a USSD request for content from a user of a USSD browser a processor configured to transform the USSD request to an HTTP request and an indicating unit configured to indicate the service menu path the user has taken in the URI of the HTTP request.

In accordance with an embodiment of the present invention a computer program product embodied on a computer readable medium may also be provided encoding instructions for performing at least the methods described in . The computer program product can be embodied on a computer readable medium. The computer program product can include for example encoded instructions for providing a service to a user via USSD. The computer program product can be implemented in hardware software or a hybrid implementation. The computer program product can be composed of modules that are in operative communication with one another and which are designed to pass information or instructions to a communications device such as a user equipment or network node. The computer program product can be configured to operate on a general purpose computer or an application specific integrated circuit ASIC .

One having ordinary skill in the art will readily understand that the invention as discussed above may be practiced with steps in a different order and or with hardware elements in configurations which are different than those which are disclosed. Therefore although the invention has been described based upon these preferred embodiments it would be apparent to those of skill in the art that certain modifications variations and alternative constructions would be apparent while remaining within the spirit and scope of the invention. In order to determine the metes and bounds of the invention therefore reference should be made to the appended claims.

