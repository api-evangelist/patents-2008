---

title: Wireless communication device having deterministic control of foreground access of the user interface
abstract: A wireless communication device that has one or more applications resident on a computer platform, a wireless communication interface, a display, and a user interface that, at least, appears on the display and through which a user of the wireless communication device interacts with the computer platform. The display is configured to be selectively controlled by the specific user interfaces of one or more applications resident on the computer platform, and the one or more applications and/or an arbiter that is resident on the computer platform will determine which user interface of the one or more applications resident on the computer platform controls the display based upon a predetermined criteria when the user interfaces compete for control of the display.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08555201&OS=08555201&RS=08555201
owner: QUALCOMM Incorporated
number: 08555201
owner_city: San Diego
owner_country: US
publication_date: 20080605
---
The present invention relates to portable wireless communication devices. More specifically the present invention relates a wireless communication device that can deterministically control which user interface of the resident applications controls the display of the device.

In modern wireless communication networks many of the wireless communication devices have resident computer platforms with operating systems and software applications that can be run either individually or in parallel on the computer platform. The software applications can vie for control of the resident user interface for the wireless communication device which often is displayed on a resident display of the wireless communication device and several problems can result from the collision of executing applications trying to seize control of the user interface.

For example in an operating system with a notification mechanism to send events to other resident applications the operating system will typically use notifications to broadcast events to multiple software applications such as the receipt of incoming communications the execution of various applications and the status of resident hardware components. The resident software applications can register for notifications using a common operating system application programming interface API . Also a resident software application can implement a notify class and send notifications to other software applications as intended. Once an application receives an event the resident software application is typically free to act and come to the foreground on the API.

One problem occurs if there are multiple applications that can handle a specific event and they all want to come to the foreground of the UI. This can cause thrashing and undesirable user behavior where each application tries to come to the foreground and thus the operating system will not let any one application stay on top in the UI. One prior art solution to this problem has been simply to allow foreground thrashing as a consequence of the broadcast event model. However simply letting the UI thrash is undesirable as the applications do have any specified order in which they seize and display upon the UI and high priority applications are left to contend with low priority applications for control.

It would therefore be advantageous to provide a system and method for a wireless communication device to control which of a plurality of resident applications will have control of the UI if multiple applications are simultaneously invoked and compete for control of the UI. Such system and method should be able to prioritize which application will have the UI without utilizing significant device resources in determining the control. It is thus to such a system and method of a wireless communication device determining resident application control of the UI that the present invention is primarily directed.

Briefly described there is provided herein a wireless communication device that has one or more applications resident on a local computer platform and also includes at least a wireless communication interface and a display. Each application has a user interface that it uses to interact with the user. The arbiter application that resides on the computer platform controls which application can bring its user interface to the foreground based upon a predetermined criteria such as a prioritization scheme a most recently used algorithm or based upon the nature of the event invoking multiple applications.

In one embodiment the method of determining which user interface of the resident applications on the computer platform of the wireless communication device controls the display with the user interface at least appearing on the display of the wireless communication device and through which a user of the wireless communication device interacts with resident applications includes the steps of displaying the user interface on the display of the wireless communication device where the display is configured to be selectively controlled by the user interface of one or more applications resident on the computer platform then either receiving a request at an arbiter from one or more of the resident applications to control the display with the arbiter resident on the computer platform and determining at the arbiter which application of the user interfaces of the one or more resident applications controls the user interface based upon a predetermined criteria or if the one or more resident applications include priority data indicating a priority of control of the display the one or more resident applications will determine which user interface of which application controls the display.

The present system and method are therefore advantageous in that they provide a wireless communication device with the ability to control which one of a plurality of invoked or active resident UI applications will have control of the display such as is caused with an invoking event to minimize thrashing in control of the display. There are several embodiments to prioritize the application control of the display which allows implementation in a variety of wireless environments. The determination of the control of the display can accordingly be accomplished without having to devote significant device processing resources in arbitrating control of the display.

Other objects features and advantages of the present invention will become apparent after review of the Brief Description of the Drawings Detailed Description of the Invention and the Claims.

In this description the terms communication device wireless device wireless communications device PTT communication device handheld device mobile device and handset are used interchangeably. The terms call and communication are also used interchangeably. The term application as used herein is intended to encompass executable and non executable software files raw data aggregated data patches and other code segments. The term exemplary means that the disclosed element or embodiment is only an example and does not indicate any preference of user. All methods of interaction between applications are intended to be encompassed herein to include all forms of invocation execution calling and data exchanging. Further like numerals refer to like elements throughout the several views and the articles a and the includes plural references unless otherwise specified in the description.

With reference to the figures in which like numerals represent like elements throughout is a representative diagram of one embodiment of a system with a wireless network in a common cellular telecommunication configuration with communications occurring between the wireless communication devices . The system here also includes a series of group communication computer devices group communication servers that support a PTT system. The wireless network is merely exemplary and can include any system whereby remote modules communicate over the air between and among each other and or between and among components of a wireless network including without limitation wireless network carriers and or servers. A series of group communication servers are shown here as connected to a group communication server LAN but other computer devices can be accessible to the LAN to provide functionality to any component on the network. Wireless communication devices can request packet data sessions from the group communication server s using a data service option.

The back office computer devices such as the group communication server s are connected to a wireless service providers packet data service node PDSN such as PSDN shown here resident on a carrier network . Each PSDN can interface with a base station controller of a base station through a packet control function PCF . The PCF is typically located in the base station . The carrier network controls messages generally in the form of data packets sent to a messaging service controller MSC . The carrier network communicates with the MSC by a network the Internet and or POTS plain ordinary telephone system . Typically the network or Internet connection between the carrier network and the MSC transfers data and the POTS transfers voice information. The MSC can be connected to one or more base stations . In a similar manner to the carrier network the MSC is typically connected to the branch to source BTS by both the network and or Internet for data transfer and POTS for voice information. The BTS ultimately broadcasts and receives messages wirelessly to and from the wireless devices such as cellular telephones by short messaging service SMS or other over the air methods known in the art. It should also be noted that carrier boundaries and or PTT operator network boundaries do not inhibit or prohibit the sharing of data as described herein.

Cellular telephones and mobile telecommunication devices such as a wireless telephone in are being manufactured with increased computing capabilities and are becoming tantamount to personal computers and hand held PDAs. These smart cellular telephones allow software developers to create software applications that are downloadable and executable on the processor of the wireless communication device. The wireless communication device such as cellular telephone can download many types of applications such as web pages applets MIDlets games and data. In wireless communication devices that have designated a communication group the wireless communication device can directly connect with the other member of the set and engage in voice and data communication. However all such direct communications will occur through or at the control of the group communication server . All data packets of the devices do not necessarily have to travel through the group communication server itself but the group communication server must be able to ultimately control the communication because it will typically be the only carrier network component that is aware of and or can retrieve the identity of the members of the communication group or direct the identity of the members of the communication group to another computer device. It should be appreciated that the number of computer components resident on server side LAN or across the wireless network or Internet generally are not limited.

In addition to voice communications between the wireless communication devices other media can be sent such as graphic media to include pictures in JPEG TIF and the like audio files such as MP3 MP4 WAV and the like. The media can also be streaming media such as a multimedia application Powerpoint MOV file and the like . The group directed media can also be streaming media or an interactive session on another computer device on the wireless communication network such as a hosted game or private bulletin board. Also for PTT communications the group directed communication could be half duplex audio and or video conferencing among members of the communication group in substantial real time or in delay.

As shown here the wireless communication device can be a mobile telephone with a graphics display but can also be any wireless communication device with a computer platform as known in the art such as a mobile device or even a separate computer platform that has a wireless communication portal and may otherwise have a wired connection to a network or the Internet. Further the memory can be comprised of read only or random access memory RAM and ROM EPROM EEPROM flash cards or any memory common to computer platforms. The computer platform can also include a local database for storage of software applications not actively used in memory . The local database is typically comprised of one or more flash memory cells but can be any secondary or tertiary storage device as known in the art such as magnetic media EPROM EEPROM optical media tape or soft or hard disk. The graphics display can present not only information about the ongoing group call but also the information on the group directed media to include a file preview as is more fully described herein.

In this embodiment of the communication device the computer platform also includes a direct communication interface that can open the direct communication channel from the wireless communication device . The direct communication interface can also be part of the standard communication interface for the wireless communication device which ordinarily carries the voice and data transmitted to and from the wireless communication device . The direct communication interface typically is comprised of hardware as is known in the art.

In overview the wireless communication device has one or more applications resident upon the computer platform which also includes the wireless communication interface a display and a user interface that at least appears on the display with one example of the user interface shown in and through which a user of the wireless communication device interacts with the computer platform . Each application has a user interface and in one embodiment an arbiter in can be resident on the computer platform and configured to determine which application of the one or more VI applications controls the display based upon a predetermined criteria. Examples of the predetermined criteria are a priority list allowing the last application to control the user interface to again control the user interface most recently used algorithm assigning a class to the one or more applications such that determining control is based upon the class of the application allowing the control of the user interface based upon the specific type of data being handled in the user interface and allowing the control based upon the type of data being received at the wireless communication interface . In other embodiments the resident applications themselves can determine the priority either alone or in conjunction with an arbiter using predetermined criteria in the same manner as an arbiter .

In one embodiment the arbiter can utilize a provisioned priority list of applications where Application A has its code changed to allow a list of class IDs to be provisioned possibly by a network carrier or other entity. This list of class IDs are provisioned in the order of priority of the applications that should be allowed to come to the foreground of the UI . For example one may choose that Application C should have a higher priority over Applications B or D to come to the foreground and after broadcast of an event to all of the applications the broadcast also lists the chosen class ID for Application C in the event notify payload. When the applications receive the event notification they must check if their class ID matches with what is sent in the payload and if it does then it should come to the foreground. The arbiter can merely verify the UI control in this embodiment and does not actually have to grant control as the class ID will be apparent to each application. However this embodiment does require additional overhead as each resident application will have to be configured to understand the class IDs.

Another embodiment to determine control of the UI is to use a simple algorithm such as having the last application to come to the foreground to accept an event of a particular event class alert call presence etc. is the next application to come to the foreground. In such embodiment Application A will broadcast the last known foreground application class ID with the event and the receiving application is advised to compare its own class ID to the suggested last known foreground application s class ID and come to the foreground of the UI only if the two match. However this can cause edge case problems such as initial thrashing in the case there was no last known foreground application fresh start up or when it is not clear which application was last in control so a default priority class should still be used.

In another embodiment a preferred controlling of applications is automatically set. The application itself can register itself as the primary application to come to the foreground to process an event of a particular event class alert call presence etc. . In such embodiment the application can retrieve the class ID for the currently registered application for a particular event class and make a decision about whether to overwrite the stored class ID with its own. If none is stored the application can set its own class ID as the primary foreground application for a particular event class. In a further embodiment there can be a provisioned list based upon the type of event and the activity being invoked such as provision a list of MIME types in Application A . This set of MIME types will be provisioned in the order of and Application A will broadcast the events to all the applications with the MIME type of the highest priority included in the payload of the event notification. When the applications receive this event they must see if the included MIME type matches with what they have been provisioned as and will come to the foreground only if they match. In essence this embodiment uses MIME types instead of Class IDs. However to implement this embodiment the applications must co operate and must not come to the foreground if their class ID does not match with what is sent in the event which requires additional programming in each module.

Otherwise if there is not a predetermined priority criteria at decision the priority of the application to have the display is determined as shown at step and then a flag is sent to the priority application to control the display as shown at step and the arbitration again terminates as shown at termination . The priority can be determined at step with the methodology as set forth above or a combination of any of the above methodologies.

It can therefore be seen that the wireless communication device provides an inventive method of determining which resident application on a computer platform of wireless communication device controls the display thereof with the user interface at least appearing on a display of the wireless communication device and through which a user of the wireless communication device interacts with the computer platform which includes displaying the user interface on the display of the wireless communication device the user interface configured to be selectively controlled by one or more applications resident on the computer platform . In one embodiment the method includes receiving a request at an arbiter from one or more of the resident applications to control the display with the arbiter resident on the computer platform and then determining at the arbiter which application of the one or more resident applications controls the display based upon a predetermined criteria.

In one embodiment where each of the one or more resident applications include a priority data that determines the priority for the application to control the display the method includes the steps of after display of the user interface invoking a plurality of the one or more resident applications as shown in and determining which application of the one or more resident applications controls the display based upon the priority data within each invoked application. Such determination can be based upon the use of a class identification that determines the priority for the application to control the display or alternately can be based upon one of the plurality of invoked applications seizing control of the display based upon the priority data. In this embodiment the priority data ranking will preferably keep display control to the highest priority application to lessen or preferably prevent thrashing.

When embodied with an arbiter the step of determining which application of the one or more resident applications controls the display based upon a predetermined criteria is utilizing a priority list for applications attempting to control the display . Alternately determining at the arbiter which application of the one or more resident applications controls the display based upon a predetermined criteria can be allowing the last application to control the display to again control the display . Also determining at the arbiter which application of the one or more resident applications controls the display based upon a predetermined criteria can be assigning a class to the one or more applications and determining control is based upon the class of the application. Furthermore determining at the arbiter which application of the one or more resident applications controls the display can be allowing the control of the display based upon the type of data being handled in the user interface or can be based upon the type of data being received at the wireless communication interface .

The method can further include displaying data to the user of the wireless communication device at the user interface and if the user interface is a display screen such as interface on the display the method can include displaying graphic information to the user of the wireless communication device at the display screen such as the APIs . Alternately where user interface is a control interface for the user to access the computer platform the method can further include displaying graphic information to the user of the wireless communication device at the display screen to control a device function. If the user interface includes one or more user interface applications configured to selectively control the user interface the arbiter can further be configured to selectively allow control of the display to one or more user interface applications such as the windowed APIs .

In view of the methods being executable on a mobile device and other computer platforms the method can accordingly be performed by a program resident in a non transitory computer readable medium where the program directs the mobile device or other computer device having a computer platform to perform the steps of the method. The non transitory computer readable medium can be the memory of the server or can be in a connective database. Further the non transitory computer readable medium can be in a secondary storage media that is loadable onto a wireless communications device computer platform such as a magnetic disk or tape optical disk hard disk flash memory or other storage media as is known in the art.

In one or more exemplary embodiments the functions described may be implemented in hardware software firmware or any combination thereof. If implemented in software the functions may be stored as one or more instructions or code on a non transitory computer readable medium. Non transitory computer readable media includes computer storage media including any medium that facilitates transfer of a computer program from one place to another. A storage media may be any available media that can be accessed by a computer. By way of example and not limitation such non transitory computer readable media can comprise RAM ROM EEPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium that can be used to carry or store desired program code in the form of instructions or data structures and that can be accessed by a computer. Disk and disc as used herein includes compact disc CD laser disc optical disc digital versatile disc DVD floppy disk and blu ray disc where disks usually reproduce data magnetically while discs reproduce data optically with lasers. Combinations of the above should also be included within the scope of non transitory computer readable media.

While the invention has been particularly shown and described with reference to a preferred embodiment thereof it will be understood by those skilled in the art that various changes in form and detail may be made without departing from the scope of the present invention as set forth in the following claims. Furthermore although elements of the invention may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

