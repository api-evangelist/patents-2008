---

title: Web-based content detection in images, extraction and recognition
abstract: A web-based image detection system includes: an image capture device, a web browser, a plug-in, and a recognition server. A captured image is processed by the plug-in to assess whether a pre-determined content type is contained with in the image. Once an initial analysis at the browser plug-in detects a pre-determined content type in an image, the image is transmitted to a recognition server for content recognition of the image by content type. The system thus enables users to link documents or other image types to electronic data using only a capture device and a web browser.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08385589&OS=08385589&RS=08385589
owner: 
number: 08385589
owner_city: 
owner_country: 
publication_date: 20080515
---
The present invention relates to processing techniques for content detection in images extraction and recognition. More particularly the present invention relates to systems and methods for using a web browser plug in for content detection in images and image frame extraction to generate input for content recognition.

Computers and electronic documents are restricted to use in environments where electronic documents are manipulated using computers and output by the computer to printers and printed on paper. Once an electronic document is printed out on paper manipulations on the paper version and the electronic version of the document are independent. Printing and copying technology has not been able to bridge the gap between static printed media i.e. paper documents and the dynamic electronic media that includes the likes of digital communication networking electronic information dissemination electronic advertising on line entertainment and electronic commerce.

The advent and ever increasing popularity of smaller portable computing devices and personal electronic devices such as personal digital assistant PDA devices cellular telephones e.g. cellular camera phones and digital cameras over the past few years has expanded the concept of documents to include their electronic version by making the available in an electronically readable and searchable form and by introducing interactive multimedia capabilities which are unparalleled by traditional printed media.

There continue to be problems in the prior art in bridging the gap between the world of electronic documents on one hand and the world of paper documents on the other. In particular it is still very difficult and or computationally expensive to use a printed document to access or even find the electronic document from which the paper document was generated. A key obstacle to identifying and finding an electronic document corresponding to a printed document is the conversion of the printed document to electronic form that can be used for matching the paper document to electronic document. While capturing an image of the printed document has become trivial with the proliferation of cell phones with cameras or scanners there is no way to use such low quality images for electronic document retrieval. Even when the image is high quality the computations necessary for recognition can be significant and inaccurate.

One particular problem with the prior art is that the few types of recognition available require application specific recognition communication software to be installed on the client device prior to runtime.

Yet another problem with the prior art that there are no methods to effectively interface the electronic world using a combination of paper and everyday computing devices. There are a variety of mechanisms such as tool bars button and other interfaces that can be displayed on a computer screen alone and that are used with input devices like mouse type controllers and keyboards. However there is no such interface for working with paper or other tangible media and electronic documents at the same time.

The present invention overcomes the deficiencies of the prior art with a system for web based content detection in images and image extraction via a browser plug in. The system is advantageous because it performs initial image processing at a client to determine whether an image is suitable for a recognition process and extracts an image frame for processing. The client side processing is advantageously via a web browser plug in or other lightweight program that does not require installation on the client. Installation as used herein means storing the plug in or other lightweight program in persistent storage at the client and or modification to a registry. In one embodiment the plug in performs initial image analysis for detection and frame extraction and reserves compute intense recognition processes for the server. In one embodiment the system of the present invention includes an image capture device a web browser a plug in and a recognition server. The plug in further comprises modules for controlling image capture analysis and transmission to the recognition server. A captured image is processed by the plug in to assess whether a pre determined content type is contained with in the image e.g. whether the image is of document text. The system thus enables users to link documents or other image types to electronic data using a capture device and a web browser.

The present invention also includes methods for using web based image content type detection. Once an initial analysis at the browser plug in detects a pre determined content type in an image the image is transmitted to a recognition server for content recognition. For example if the initial analysis determines that the image include document text the image is transmitted to a recognition server for document recognition. Document recognition can advantageously be used in conjunction with various document sources such as document servers or local storage e.g. hard drive of the client . The user is advantageously provided access to document recognition with any Internet enabled client device without the need to install any software to the client device. At runtime the plug in can be modified based on client parameters. On the server side easy integration with document servers and the like is made possible and quality assurance and software updates are made easier.

The features and advantages described herein are not all inclusive and in particular many additional features and advantages will be apparent to one of ordinary skill in the art in view of the figures and description. Moreover it should be noted that the language used in the specification has been principally selected for readability and instructional purposes and not to limit the scope of the inventive subject matter.

A system for web based image content type detection and image extraction using a browser plug in is described. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the invention. It will be apparent however to one skilled in the art that the invention can be practiced without these specific details. In other instances structures and devices are shown in block diagram form in order to avoid obscuring the invention. For example the present invention is primarily described below with reference to text recognition but those skilled in the art will recognize that the present invention applied to any other types of recognition such as finger print face and bar code recognition to name a few.

Reference in the specification to one embodiment or an embodiment means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment of the invention. The appearances of the phrase in one embodiment in various places in the specification are not necessarily all referring to the same embodiment.

Some portions of the detailed descriptions that follow are presented in terms of algorithms and symbolic representations of operations on data bits within a computer memory. These algorithmic descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. An algorithm is here and generally conceived to be a self consistent sequence of steps leading to a desired result. The steps are those requiring physical manipulations of physical quantities. Usually though not necessarily these quantities take the form of electrical or magnetic signals capable of being stored transferred combined compared and otherwise manipulated. It has proven convenient at times principally for reasons of common usage to refer to these signals as bits values elements symbols characters terms numbers or the like.

It should be borne in mind however that all of these and similar terms are to be associated with the appropriate physical quantities and are merely convenient labels applied to these quantities. Unless specifically stated otherwise as apparent from the following discussion it is appreciated that throughout the description discussions utilizing terms such as processing or computing or calculating or determining or displaying or the like refer to the action and processes of a computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within the computer system s registers and memories into other data similarly represented as physical quantities within the computer system memories or registers or other such information storage transmission or display devices.

The present invention also relates to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes or it may comprise a general purpose computer selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a computer readable storage medium such as but is not limited to any type of disk including floppy disks optical disks CD ROMs and magnetic optical disks read only memories ROMs random access memories RAMs EPROMs EEPROMs magnetic or optical cards or any type of media suitable for storing electronic instructions each coupled to a computer system bus.

Finally the algorithms and displays presented herein are not inherently related to any particular computer or other apparatus. Various general purpose systems may be used with programs in accordance with the teachings herein or it may prove convenient to construct more specialized apparatus to perform the required method steps. The required structure for a variety of these systems will appear from the description below. In addition the present invention is not described with reference to any particular programming language. It will be appreciated that a variety of programming languages may be used to implement the teachings of the invention as described herein.

Referring now to an embodiment of a system of the present invention for web based image content type detection is shown. Content types as used herein refer to various forms of content that an image obtained by a capture device can take such as text barcode fingerprint and facial features to name a few. The present invention uses a web browser plug in to analyze a captured image to detect a pre determined content type within the image. For example the plug in may be used to detect whether the image is text like e.g. where text is the pre determined content type or not. In this embodiment the system comprises an image capture device associated with a client a recognition server and a database configured to capture an image of content and identify the content type from the image . Once identified corresponding content can be retrieved using the recognition server . Some embodiments include a server between the client and recognition server . illustrates an example of the system capturing an image of content such as a document or document portion a barcode a fingerprint a face or image of a face or other image. The client uses a web based plug in to detect a content type in the captured image extract and image and send the image to the recognition server so that the extracted image can be compare against content stored in the database .

The image capture device is any conventional type known in the art. For example the image capture device may be a web camera a camera that is part of cell phone a digital camera or any other camera that outputs a video stream or electronic images. The image capture device can capture video or still images. The present invention is particularly advantageous because it is operable with low resolution image capture devices. The image capture device is coupled for communication with the client . This communication may be via a wired or wireless network. In another embodiment the image captured device is a scanner of a multifunction peripheral or software for generating a printed document. In yet another embodiment the image capture device could be print capture software for capturing an image of document being print by the multifunction peripheral. These embodiments are used to index documents being output or already printed by a computer not shown .

The client performs and or controls image capture content type detection image extraction and sending an image to the recognition server . In an alternate embodiment the client may also perform feature extraction and use the extracted features to search the database . The client is coupled to the image capture device to receive an image of content . The client also is coupled to the recognition server for sending the image to the server . In one embodiment the client comprises a personal computer see a browser and plug in See . In another embodiment the client comprises a mobile device such as a person data assistant PDA mobile telephone mobile web browser wireless access protocol browser or other network capable device. One embodiment of the client will be described below with reference to A and .

The recognition server performs and or controls the function of recognition of an electronic document corresponding to a received image. In one embodiment the recognition server performs feature extraction and searching of the database to identify one or more electronic documents corresponding to the received image. In an alternate embodiment the recognition server may also perform content type detection and image extraction. The recognition server is coupled to the database to retrieve content corresponding to the image provided by the client . In some embodiments the database is contained within the recognition server or other storage within the recognition server replaces the database . The recognition server may use a mixed media MMR invisible junctions algorithm for document recognition as discussed in U.S. patent application Ser. No. 12 059 583 entitled Invisible Junction Feature Recognition for Document Security or Annotation filed Mar. 31 2008 which is incorporated herein by reference or may use other MMR based on non MMR based document recognition algorithms for example but not limited to optical character recognition OCR based document recognition or word boundary based techniques. For example see Hull Jonathan J. et al. Paper Based Augmented Reality icat pp. 205 209 17th Int l. Conf. on Artificial Reality and Telexistence ICAT 2007 2007 which is incorporated herein by reference. In another embodiment the server comprises a document server non limiting examples of which include Document Mall by Ricoh Ltd of Japan Enterprise Content Management by Alfresco of Palo Alto Calif. Lotus Notes by IBM of Armonk N.Y. or Sharepoint by Microsoft of Redmond Wash. One embodiment of the recognition server will be described below with reference to .

In one embodiment the server is coupled between the client and the recognition server . The server receives a request from a browser on the client for a connection. In response the server sends the plug in to the client . This is advantageous since the plug in can be provided to any client device that has a browser. In one embodiment the server is a web proxy server of a conventional type. The server thereafter forwards images data and commands from the client to the recognition server and data and commands back from the recognition server to the client . In one embodiment this is done with HTTP requests being sent from the client to the recognition server and HTTP responses sent from the recognition server to the client .

The database is a conventional type and stores indices electronic documents and other electronic content feature descriptions and other information used in the content type comparison and retrieval process. The database may be a federation of databases. In one embodiment the database is stored within a multifunction peripheral device not shown .

The system of the present invention is particularly advantageous because it provides a number of benefits. The system performs initial image processing at a client to determine whether an image is suitable for a recognition process on the recognition server . Using a web based mechanism the client side processing is advantageously via a web browser plug in or other lightweight program that does not require installation on the client . The plug in performs only an initial analysis and reserves compute intense recognition processes for the recognition server . The plug in also extracts one or a group of images for transmission to the recognition server thereby minimizing the data transfer from the client to the recognition server . Document recognition can advantageously be used in conjunction with various document sources such as document servers and desktop search application interfaces for locally stored desktop search items. The user is advantageously provided access to recognition functionality with any Internet enabled device without the need to install any software to the device. At runtime the plug in can be modified based on client parameters. On the server side easy integration with document servers and the like is made possible and quality assurance and software updates are made easier.

Referring now also to a functional block diagram representing the client or recognition server configured in accordance with an embodiment of the present invention is shown. The client or recognition server preferably comprises a control unit a display device an input device cursor control a communication device and one or more input output I O devices .

The control unit comprises an arithmetic logic unit a microprocessor a general purpose computer or some other information appliance equipped to provide electronic display signals to display device . In one embodiment the control unit comprises a general purpose computer having a graphical user interface which may be generated by for example a program written in Java running on top of an operating system like WINDOWS or UNIX based operating systems. In one embodiment one or more application programs are executed by control unit including without limitation drawing applications word processing applications electronic mail applications financial applications and web browser applications.

Still referring to the control unit is shown including processor main memory and data storage device all of which are communicatively coupled to system bus .

Processor processes data signals and may comprise various computing architectures including a complex instruction set computer CISC architecture a reduced instruction set computer RISC architecture or an architecture implementing a combination of instruction sets. Although only a single processor is shown in multiple processors may be included.

Main memory stores instructions and or data that may be executed by processor . The instructions and or data may comprise code for performing any and or all of the techniques described herein. Main memory may be a dynamic random access memory DRAM device a static random access memory SRAM device or some other memory device known in the art. The memory is described in more detail below with reference to .

Data storage device stores data and instructions for processor and comprises one or more devices including a hard disk drive a floppy disk drive a CD ROM device a DVD ROM device a DVD RAM device a DVD RW device a flash memory device or some other mass storage device known in the art. In one embodiment data storage device includes database . In an alternate embodiment the database is coupled to the recognition server via communication device and signal line representing a conventional network.

System bus represents a shared bus for communicating information and data throughout control unit . System bus may represent one or more buses including an industry standard architecture ISA bus a peripheral component interconnect PCI bus a universal serial bus USB or some other bus known in the art to provide similar functionality. Additional components coupled to control unit through system bus include the display device the input device cursor control the communication device and the I O device s .

Display device represents any device equipped to display electronic images and data as described herein. In one embodiment the display device is a liquid crystal display LCD and light emitting diodes LEDs to provide status feedback operation settings and other information to the user. In other embodiments the display device may be for example a cathode ray tube CRT or any other similarly equipped display device screen or monitor. In one embodiment display device is equipped with a touch screen and or includes a digitizer in which a touch sensitive transparent panel covers the screen of display device . The display device is configured to display the user interfaces described in greater detail in .

In one embodiment the input device is a keyboard. The keyboard can be a QWERTY keyboard a key pad or representations of such created on a touch screen. Cursor control represents a user input device equipped to communicate positional data as well as command selections to processor . Cursor control may include a mouse a trackball a stylus a pen a touch screen cursor direction keys or other mechanisms to cause movement of a cursor.

Communication device links control unit to a network that may include multiple processing systems and in one embodiment is a network controller. The network of processing systems may comprise a local area network LAN a wide area network WAN e.g. the Internet and or any other interconnected data path across which multiple devices may communicate. The control unit also has other conventional connections to other systems such as a network for distribution of files media objects using standard network protocols such as TCP IP http https and SMTP as will be understood to those skilled in the art.

One or more I O devices are coupled to the bus . These I O devices may be part of the other systems not shown . For example the I O device can include an image scanner for capturing an image of a document. The I O device may also includes a printer for generating documents. The I O device may also include audio input output device equipped to receive audio input via a microphone and transmit audio output via speakers. In one embodiment audio device is a general purpose audio add in expansion card designed for use within a general purpose computer system. Optionally I O audio device may contain one or more analog to digital or digital to analog converters and or one or more digital signal processors to facilitate audio processing. For the embodiment where represents the client the I O device includes the web camera described above.

It should be apparent to one skilled in the art that client or recognition server may include more or less components than those shown in without departing from the spirit and scope of the present invention. For example client and or recognition server may include additional memory such as for example a first or second level cache or one or more application specific integrated circuits ASICs . Further the client or recognition server may include multiple data buses rather than the single bus . Multiple buses allow fast transfer of image data from and between the components of the client and or recognition server and simultaneous data transfer of user interface information to a display device for example. Similarly additional input output devices may be coupled to control unit including for example an RFID tag reader digital still or video cameras or other devices that may or may not be equipped to capture and or download electronic data to control unit . One or more components could also be eliminated such as the keyboard cursor control .

Referring now to one embodiment of the memory unit for the client is described. The memory unit in this embodiment comprises an operating system an application a control module a browser and a plug in . Those skilled in the art will recognize that the memory also includes buffers for storing data and other information temporarily during the content type detection image extraction and image sending processes. As noted above the memory unit stores instructions and or data that may be executed by processor . The instructions and or data comprise code for performing any and or all of the techniques described herein. These modules are coupled by bus to the processor for communication and cooperation to system .

The operating system is preferably a custom operating system that is accessible to user via an application interface. In an alternate embodiment the operating system is one of a conventional type such as WINDOWS Mac OS X SOLARIS or LINUX based operating systems.

The memory unit also includes one or more application programs including without limitation drawing applications word processing applications electronic mail applications search application and financial applications. In one embodiment the applications specifically utilize the unique capabilities of the other modules or units of memory bridges the gap between electronic documents and paper documents. For example the applications may communicate and use the browser and plug in as an interface to access electronic documents corresponding paper documents. More specifically the applications access electronic data from a paper and attach embed electronic data to specific locations on a paper so that a user can later retrieval that electronic data from the paper using cameras as the tool for the above operations. For example one application retrieves an electronic file Microsoft Word Adobe PDF etc of a printed paper in response to the user simply pointing a capture device and capturing an image of the content printed paper for example as described in U.S. patent application Ser. No. 11 461 017 entitled System and Methods for Creation and Use of a Mixed Media Environment field Jul. 31 2006 which is incorporated herein by reference.

The control module is used to control the other modules of the memory . The control module is adapted for control of and communication with the application the browser and the plug in . The operation of the control module will be apparent from the description of the figures below. While the control module is shown as a separate module of the memory those skilled in the art will recognize that the control module in another embodiment may be distributed as routines in the other modules.

The browser is a conventional type such as Internet Explorer by Microsoft Firefox by Mozilla Safari by Apple or mobile phone or other wireless browsers provided by manufacturers or wireless service providers. The browser is a software application that enables a user to display and interact with text images and other information Web pages typically located at a website on the World Wide Web or a local area network. As a software application the browser provides an application interface to interact with other programs such as the plug in .

The plug in is an auxiliary program that interacts with the browser e.g. the host application to provide the web based image content detection described herein. In one embodiment the plug in is a module received at the client from the server when the client browser sends a request to a particular web address. The plug in may be comprised of a file of commands and or data or a script that runs in a known browser plug in e.g. a .swf file that runs in an Adobe Flash plug in or player . For example the plug in may be a file written in Action Script. According to one embodiment the plug in is a .swf file that can be played in Flash players running Flash 8.0 or above from Adobe Corporation of San Jose Calif. The plug in may provide some or all of the web based image content type detection extraction and transmission functionality described herein according to various embodiments. The plug in is not installed on the client i.e. not written to the client disk according to one embodiment but is registered with the browser and stored in the memory during use. The plug in analyzes a captured image or video stream to detect a content type within the image. For example the plug in may be configured to detect whether the image is text like where text is the content type or not. One embodiment of the plug in is described further in conjunction with below.

Referring now to one embodiment of the memory unit for the server is described. For convenience and ease of understanding like reference numerals are used for like components having the same or similar functionality. In one embodiment the memory unit for the server comprises the operating system optionally one or more applications the control module a delivery module a transfer module and a plug in storage . The operating system one or more applications and the control module have been described above so that description will not be repeated here. The additional modules are coupled by bus to the processor for communication and cooperation to system .

The delivery module is software and routines for transmitting the plug in to the client in response to a request from the browser . The delivery module is coupled to bus for communication with the plug in storage and the client . In one embodiment the delivery module retrieves the plug in from the plug in storage and creates a HTTP response including the plug in and sends the HTTP response to the client . In another embodiment the delivery module may also select the plug in to match the capabilities of the browser requesting the plug in .

The transfer module is software and routines for sending data and commands between the client and the recognition server . In particular once the plug in is sent to the client and registered with its browser the plug in communicates with the transfer module . The transfer module received requests from the client and passes them onto the recognition server . Similarly the transfer module receives responses from the recognition server and sends them to the client . Thus the transfer module effectively facilitates communication between the plug in at the client and the recognition server . While this server has been described in terms of a request response protocol those skilled in the art will recognize that any number of other communication protocols could be used. Those skilled the art will recognize that the transfer module may also provide other web server or proxy functionality such as performing forwarding logging authentication error handling encryption and security.

The plug in storage is an area of memory for storing one or more plug ins . In one embodiment the plug in storage storage stores a plurality of different plug ins each adapted to a particular browser and add ons that are operational on that browser. This is advantageous because the particular plug in can be optimized for the type of browser making the request as well as other functionality available at that browser. Thus the plug in can be matched to particular versions and brands of browsers and add ons.

While the server and its memory have been described above as distinct modules those skilled in the art will recognize that in other embodiments that functionality may be incorporated into the recognition server an its memory unit and the recognition server can communicate with the client directly.

Referring now to one embodiment of the memory unit for the recognition server is described. Again for convenience and ease of understanding like reference numerals are used for like components having the same or similar functionality. In one embodiment the memory unit for the recognition server comprises the operating system optionally one or more applications the control module a communication module a feature extraction module and a search module . The operating system one or more applications and the control module have been described above so that description will not be repeated here. The additional modules are coupled by bus to the processor for communication and cooperation to system . Those skilled in the art will recognized that while the present invention will now be described as modules or portions of a memory unit of a computer the modules or portions thereof may also be stored in other media such as permanent data storage device and may be distributed across a network having a plurality of different computers such as in a client server environment.

The communication module is software and routines for sending data and commands between the server and the database . The communication module communicates with the server to receive and send data and commands from and to the browser of the client . The communication module communicates with database to issue queries and receive results including files data and commands. The communication module also communicates with the feature extraction module and the search module . For example the communication module receives an image from the server and provides it to the feature extraction module for analysis. Similarly the communication module receives data from the search module and sends it to the server for transfer to the client .

The feature extraction module is software and routines for analyzing an image to generated criteria that can be used for a search. In one embodiment the feature extraction module is coupled to the communication module to receive an extracted image. In an alternative embodiment once the extracted image is received the feature extraction module breaks the image into discrete component parts. For example if the image is determined to be text the feature extraction module may break the text down into words or letters or sentences . In the text example image features may be extracted and corresponding xml files that contain the printed text and text box locations e.g. resulting from a feature extraction process as described in U.S. application Ser. No. 11 461 017 referenced and incorporated above.

In the memory unit the feature extraction module may comprise software for recognition of content based on images received from the client . For example in the document and text recognition context the software may include programs for various text based recognition such as MMR based recognition OCR based recognition or word boundary based techniques. In a barcode context Tasman Quickmark or similar software can be used. In the fingerprint or facial recognition contexts biometric matching applications known in the art may be used. For example in the context of biometric recognition generally see A. K. Jain et al. An Introduction to Biometric Recognition IEEE Transactions on Circuits and Systems for Video Technology 14 1 4 20 January 2004 in the facial recognition context see W. Zhao et al. Face Recognition A Literature Survey ACM Computing Surveys CSUR 35 4 399 458 2003 in the face detection context see E. Hjelmas and B. K. Low Face Detection A Survey Computer Vision and Image Understanding 83 236 274 2001 in the fingerprint recognition context see generally D. Maltoni et al. Handbook of Fingerprint Recognition 2003 each of which are incorporated herein by reference.

The search module is software and routines for performing searches on the database . The search module is coupled to the feature extraction module to receive search criteria produced by the feature extraction process. In one embodiment the feature extraction module generates or identifies text image features words that are used by the search module as keywords to locate matching content e.g. stored in a database via a document recognition search. In another embodiment the feature extraction module performs barcode recognition to generate an identification number that is used by the search module to perform a search. In yet another embodiment the feature extraction module performs facial recognition to generate a person s name and the search module is used to perform a people search such as on a database or other social network such as Linkedin. The search module issues queries on the database and receives the recognition results that are returned to the client via the communication module and the server .

The memory unit also includes one or more application programs including without limitation drawing applications word processing applications electronic mail applications and financial applications. Another example application is a paper based photo wiki which lets the user attach the pictures you have taken to specific locations on a paper map and its electronic version by simply pointing the camera to the desired locations on the physical paper map. There are many other applications such as novel user interfaces to access or browse a document database digitized pen and paper map navigator security in copiers and scanners camera games and duplicate detection for copyright protection.

In addition in the document context additional applications may be used to allow for annotation linking additional information audio or video clips building e communities or social networks around the documents and associating educational multimedia with recognized documents. Example applications are described in application Ser. No. 12 060 2008 entitled Ad Hoc Paper Based Networking with Mixed Media Reality filed Mar. 31 2008 which is incorporated herein by reference.

Referring now to there is shown a block diagram of the plug in configured in accordance with one embodiment of the present invention. For example the plug in is implemented as a .swf file that runs in the client for text detection within the image. In one embodiment the plug in comprises a user interface module a capture module a detection module and a transmission module .

The user interface module is software and routines for generating the user interfaces shown and described below with reference to . In one embodiment the user interface module works with the browser to generate visual feedback to the user showing the web based image content detection process. The user interface module also receives commands and data from the user via the user interface. The user interface module provides a display of the web based content type detection process and results of document recognition and may produce multiple web pages in some embodiments. In one embodiment the user interface module generates the user interface shown in . For example in an embodiment in which a document server is utilized once a document is recognized it has a web page associated with it that contains a collection of information about the document such as comments marked sections links to uniform resource locators URLs links to other documents media clips and the like. shows an example of a user interface corresponding to this embodiment.

The capture module is software and routines for controlling the capture device to capture one or more images of content . The images may be video frames or still images according to various embodiments. The capture module receives the images from the capture device and temporarily stores the image for analysis by the detection module. The capture module is coupled to the capture device and the detection module . Regardless of the type of content detection being performed the capture module generates an image that can used for further analysis whether it be bar code detection text detection finger print detection face detection or any other type of detection.

The detection module is software and routines for detecting a type of content from one or more images by analyzing the images. An example of content type detection functionality in the form of text detection is described in greater detail in conjunction with discussed below. In addition to text detection for facial or object recognition the plug in can include analysis that is color thresholding based e.g. for lightweight face detection. At runtime the plug in can be modified based on client parameters such as date time location client device computational requirements and the like. In one embodiment the detection module performs preliminary analysis not to perform the actual recognition but a simplified analysis to determine whether the image includes text and therefore should be transmitted for full recognition processing. The detection module is coupled to the capture module to receive images that have been captured.

The transmission module is software and routines for filtering the images captured by the capture module and converting them to bit maps and transmitting them to the server . The transmission module is coupled to the capture module to receive images. The transmission module is also coupled to the detection module to receive an indication of when content of the desired type has been detected. In one embodiment the transmission module filters the images captured by the capture module to send only one frame that includes the detected content type. This is particularly advantageous because rather than sending number frames of video from the capture device a single image frame can be sent for recognition. This makes the transfer much faster and does not affect the latency of the network connections of the client . As noted above the transmission module takes such an image received from the capture module converts the image to a bitmap and then sends the bitmap as part of an HTTP requests to the server and then onto the recognition server . In alternate embodiments the transmission module could send a plurality if bitmap files each corresponding to an image received from the capture module or bitmap files for all of the images received from the capture module .

In another example embodiment in which a desktop search functionality is utilized once a document is recognized it has a wiki page or blog page associated with it that can be edited by editing the wiki or blog or by using MMR assisted editing and annotating techniques such as described in U.S. patent application Ser. No. 12 060 206 entitled Indexed Document Modification Sharing with Mixed Media Reality filed Mar. 31 2008 which is hereby incorporated herein by reference. shows an example of a user interface corresponding to this embodiment.

Various content types may be detected via the modules and for example document text recognition for a text search barcode recognition for an identification search and face recognition for a people search e.g. using social networking software . Thus the modules and are used as input for a search engine according to one embodiment e.g. in the example in which database is a document server or other large data collection.

The method begins with a web browser connecting to a web page which is displayed via the web browser . A plug in is then received to be used in conjunction with the browser to perform various services such as described in steps through . In one embodiment the plug in comprises a .swf file as described in conjunction with . However the plug in can be any computer program that interacts with the host application browser to provide the functionality described herein.

Next an image is captured using an associated capture device e.g. as a service of the plug in . The capture device may be a mobile phone and the capturing may take place using a camera associated with the mobile phone according to one embodiment. However in other embodiments other capture methods and devices may be used for example a document may be scanned by a scanner such as or may be captured via a printer driver upon printing. Next the captured image is analyzed to ascertain the content type it contains e.g. as a service of the plug in . For example the analysis may include a determination whether the captured image includes text content includes barcode content includes fingerprint content or includes an image of a face or other discernable object. According to one embodiment different plug ins are used for different content type identifications e.g. one plug in for text detection another for barcode detection etc. Once the analysis is complete if the image is of the desired type the image is marked with an identifier and may be sent e.g. for further analysis recognition and or other action thereon. The image and the identifier then are sent e.g. to a recognition server for the recognition. In one embodiment the recognition server effectively resides upon the client so no actual sending is necessary.

Immediately or at some later point in time the results of the recognition e.g. on the recognition server are received e.g. from the recognition server . The results cause a link to be provided to the recognized content and or the recognized content associated with the identified image to be displayed .

Initially a client side web browser connects to a web page provided by a server . The server provides the browser with a plug in . The plug in provides the functionality of steps . The server may be a web server according to one embodiment.

Next the plug in directs image capture and analysis as described herein. During these processes the plug in also provides an interface e.g. display such that the user can watch the analysis in progress. An example analysis is described in greater detail in conjunction with .

Once the analysis is complete the image is stamped with an identifier. The image and the identifier then are sent to the server to generate a call to recognition server and provide a destination location for the resulting recognized content. The recognition server performs the image content recognition and if successful outputs the content identification and saves the recognized image to the destination location. In one embodiment a successful recognition also is associated with an action such that recognition of the image content triggers an action such as playing a video clip document logging or retrieval of a document. For example the image could be a barcode the successful recognition of which triggers the action.

The server then notifies the plug in with the recognition results. The plug in controls the interface e.g. to display the content thumbnail representation and updates the link to the recognized content.

The method begins by receiving images for text detection. The gradient of adjacent pixels is computed . In one embodiment the computation is made every step pixel to reduced overhead. For example the computation may be done every tenth pixel. Next if the computed gradient exceeds an edge threshold an edge counter is increased . In one embodiment both horizontal and vertical gradients are computed and edge counters are increased. Next vertical and horizontal edge counts are multiplied and then compared to a text detection threshold. If the multiplied edge counts exceed the threshold the image is stamped and prepared for sending to the server . shows an example action script for edge detection corresponding to the above method.

In the depicted example the content type is text. The captured image portion displays the image as captured by the capture device here a portion of a textual document. The content type identification portion indicates to the user that the pre determined content type i.e. text has been identified from the image. The interface uses color and a bar graph to show the likelihood of the image being the desired content type. The searched image display portion displays the portion of the image used for searching for matching content. The recognized content portion displays a thumbnail representation of the recognized content to the user. In this example the recognition process has not completed so no content is shown in recognized content portion .

The user interface comprises a document server portion and an image identification portion . The image identification portion is similar to the user interface described above in conjunction with and thus includes a captured image portion a content type identification portion a searched image display portion a recognized content portion and a recognized content link .

The document server portion comprises a list of spaces in which documents of interest may be located. When used in conjunction with a document server the method for image text detection searches the documents housed by the document server. When a document server is utilized once the document is recognized it has a web page associated with it e.g. the web page may comprise the user interface shown in .

In this example a user captures a portion of a document and associates other information relating to the document such as audio or text comments marked sections links to uniform resource locators URLs links to other documents media clips and the like. This compiled information is sent to the document server where document recognition occurs e.g. using MMR. The recognized annotated document is then shown to the user as a webpage graphical user interface described in greater detail in conjunction with .

The webpage user interface includes the recognized document associated with captured document of and various added information items related to the document e.g. corresponding to of and a visually distinguishable indication of where each added item occurs within the document .

The user interface comprises a desktop search portion and an image identification portion . The image identification portion comprises the user interface described above in conjunction with and thus includes a captured image portion a content type identification portion a searched image display portion a recognized content portion and a recognized content link . The desktop search portion comprises a display of desktop search results corresponding to the recognized text from the captured image. The desktop search results can include email files and web history entries stored on the client . In one embodiment each desktop search result includes a file name and a brief snippet with the search terms highlighted. When a desktop search application is utilized in conjunction with the present invention once a document is recognized it has a webpage associated with it resemble shown as user interface .

In this example the client is a user computer PC or mobile device and the recognition server is a desktop search application likely residing on the user computer. Thus the client and recognition server are indicated with dashed lines to show that they may in fact be contained within a single machine.

In the depicted example documents may be printed print captured and stored using MMR as described above and in application Ser. No. 11 461 017 incorporated by reference above. The print capture is an example of the capture described in conjunction with . The storage step includes storing to an MMR database which includes image based text features such as invisible junction or word boundary based features and to an XML Print Capture Database which includes XML files of the printed text and text box locations e.g. received from the printer driver at step .

When the web based image text detection in conjunction with a desktop search application initiates the user captures a portion of a document . Using the MMR database the document and exact location of the capture within the document is ascertained. Given that location information the XML Print Capture files are then parsed to get the exact text at that location and page i.e. without using an OCR process. From the text keywords or n grams can be extracted . These steps are an example of the analysis and feature extraction steps of according to one embodiment. The extracted keywords or n grams then are submitted to the desktop search application database using the desktop search application interface API . The results of the desktop search then are displayed in a web page e.g. user interface of .

In the depicted example the pre determined content type is QR code. The captured image portion displays the image as captured by the capture device here a document with a QR code. The content type identification portion indicates whether and how much of the pre determined content type i.e. QR code has been identified from the image. The progress display portion displays the percent progress of sending the image to be used for searching for matching content.

QR code detection works similarly to the process described in conjunction with with respect to text recognition. Specifically gradients are computed and apply thresholds to determine whether a QR code exists in the image . The threshold for QR code corresponds to whether there are many dark pixel to light pixel transitions. If so the image is stamped and sent to the server to be decoded e.g. using a Tasman decoder as described herein. With respect to barcode detection see Jamey Graham et al. The Video Paper Multimedia Playback System MM 03 November 2003 .

The foregoing description of the embodiments of the present invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the present invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the present invention be limited not by this detailed description but rather by the claims of this application. As will be understood by those familiar with the art the present invention may be embodied in other specific forms without departing from the spirit or essential characteristics thereof. Likewise the particular naming and division of the modules routines features attributes methodologies and other aspects are not mandatory or significant and the mechanisms that implement the present invention or its features may have different names divisions and or formats.

Furthermore as will be apparent to one of ordinary skill in the relevant art the modules routines features attributes methodologies and other aspects of the present invention can be implemented as software hardware firmware or any combination of the three. Also wherever a component an example of which is a module of the present invention is implemented as software the component can be implemented as a standalone program as part of a larger program as a plurality of separate programs as a statically or dynamically linked library as a kernel loadable module as a device driver and or in every and any other way known now or in the future to those of ordinary skill in the art of computer programming. Additionally the present invention is in no way limited to implementation in any specific programming language or for any specific operating system or environment. Accordingly the disclosure of the present invention is intended to be illustrative but not limiting of the scope of the present invention which is set forth in the following claims.

