---

title: Device and method for inserting captured image data into a document
abstract: A mobile device with an integrated camera responsive to signals from a camera activator. The mobile device includes application programs capable of editing documents. The user triggers the device operating system to switch from an active application program in which the user is editing a document to a camera application by activating the camera activator. The user then captures an image by again triggering the camera activator, whereupon the active application is restored and the image data is inserted within the document. The captured image is directly inserted into an input field within the open document in the active application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08018518&OS=08018518&RS=08018518
owner: Research in Motion Limited
number: 08018518
owner_city: Waterloo
owner_country: CA
publication_date: 20080319
---
The present application is a continuation of U.S. patent application Ser. No. 10 786 002 filed Feb. 26 2004 and owned in common herewith.

The present invention relates to mobile devices and in particular to mobile devices with integrated camera operations.

Mobile hand held computing devices such as personal digital assistants and messaging enabled communications devices are rapidly growing in popularity. More features are being incorporated into mobile hand held computing devices. For example there are now messaging enabled mobile phones that have display screens and built in cameras. Such phones allow pictures taken by the camera to be displayed on screen and stored on the phone and wirelessly transmitted as digital photos.

In order to incorporate digital photographs into e mail memos word processing documents tasks contacts or calendar entries the user starts a dedicated camera application on the mobile device. The user then causes the camera to take a photograph and the resulting picture is stored as a digital file. The user then minimizes or closes the camera application and starts or returns to the relevant application program such as an e mail program a scheduling program or a word processing program and attaches or inserts the digital file from its storage location in memory.

It will be appreciated that the prior art devices require a complex series of steps to achieve the desired result. In particular the user must exit an active application take a photograph save the photograph re enter the application locate the photograph within the database or file system and then attach or insert the photograph into an active document in the application. The camera functions as a source of data only to a dedicated camera application which saves the image data to memory in a database or file system.

The present invention provides a mobile device and a method of integrating camera operations into a mobile device. In accordance with the present invention the user triggers the operating system to switch from an active application in which the user is editing a document to a camera application by activating a camera activator. The user then captures an image by subsequently activating the camera activator whereupon the active application is restored and the image data is inserted in line within the document.

In one aspect the present invention provides a method of integrating camera operations into a mobile device the mobile device including a camera and a camera activator the mobile device having an active application and a camera application. The method includes the steps of switching from operation of the active application to the camera application in response to detection of a first signal from the camera activator and detecting a second signal from the camera activator and in response to detection of said second signal capturing image data via the camera resuming operation of the active application and inserting said image data into an active document open in the active application.

In another aspect the present invention provides a mobile device. The mobile device includes a body a processor and associated memory housed with said body a display screen housed within said body and responsive to signals from said processor a camera attached to said body for capturing images and providing image data for said images to said processor a camera activator for providing a first signal and a second signal to said processor in response to user activation and a camera listener interface associated with said processor for switching from an active application program to a camera application in response to said first signal from said camera activator and in response to said second signal from said camera activator resuming said active application program and passing said active application program said image data for insertion into an active document within said active application program whereby said camera captures said image data in response to said second signal.

In another aspect the present application describes a method of capturing image data and inserting the image data into an active document on a mobile device the mobile device including a camera a camera activator and a camera listener interface the mobile device further including an active application in which the active document is open and a camera application. The method includes determining that the active application is open in an editable mode and enabling the camera listener interface in response thereto and when the camera listener interface is enabled receiving a first signal from the camera activator suspending operation of the active application in response to detection of the first signal and invoking the camera application detecting a second signal from the camera activator and in response to detection of the second signal capturing image data via the camera and automatically resuming operation of the active application and inserting the image data into the active document open in the active application.

In a further aspect the present application discloses a mobile device. The mobile device includes a processor and associated memory the processor being configured to run an active application and a camera application the active application being configured to open an active document a camera for capturing images and providing image data for the images to the processor a camera activator responsive to user activation and a camera listener interface configured to be enabled when the active application is determined to be in an editable mode. The camera listener interface is further configured to detect a first signal from the camera activator and to cause the processor to suspend the active application in response to the first signal from the camera activator. The camera listener interface is further configured to detect a second signal and in response thereto to cause the camera to capture the image data and to cause the processor to resume the active application and to pass the active application the image data for insertion into the active document within the active application.

In yet another aspect the present application discloses a handheld device. The handheld device includes processing means for running an active application and a camera application the active application being configured to open an active document imaging means for capturing images and providing image data for the images to the processing means activation means responsive to user activation and a camera listener means configured to be enabled when the active application is determined to be in an editable mode. The camera listener means is for detecting a first signal from the activation means and for causing the processing means to suspend the active application in response to the first signal from the activation means. The camera listener means includes means for detecting a second signal and in response thereto causing the imaging means to capture the image data and to cause the processing means to resume the active application and to pass the active application the image data for insertion into the active document within the active application.

In yet a further aspect the present application discloses a mobile device for capturing image data and inserting the image data into an active document on the mobile device the mobile device including a camera a camera activator and a camera listener interface the mobile device further including an active application in which the active document is open and a camera application the mobile device including a processor and memory storing processor executable instructions. The processor executable instructions include instructions for determining that the active application is open in an editable mode and enabling the camera listener interface in response thereto and instructions executable when the camera listener interface is enabled for receiving a first signal from the camera activator for suspending operation of the active application in response to detection of the first signal and invoking the camera application for detecting a second signal from the camera activator and for capturing image data via the camera in response to detection of the second signal and automatically resuming operation of the active application and inserting the image data into the active document open in the active application.

Other aspects and features of the present invention will be apparent to those of ordinary skill in the art from a review of the following detailed description when considered in conjunction with the drawings.

The following description of one or more specific embodiments of the invention does not limit the implementation of the invention to any particular embodiment. In particular the present invention is not limited to any particular operating system mobile device architecture mobile device form factor or computer programming language.

Persons ordinarily skilled in the art will also understand that the references herein to a camera activator or specifically a camera button are not intended to limit the present invention to any particular type or style of user activation or triggering device. Any activation device that a user is capable of manipulating in order to cause a signal to be sent to the processor may be employed in place of a conventional camera button. The terms camera button or camera activator herein are meant to encompass all such user activation devices including buttons keys keypad contacts switches dials touch pads touch screens etc. In some embodiments the camera activator may be a particular combination of keys on a keyboard whereby such keys have been assigned the function of operating as a camera button. For example Ctrl Alt C may be designated as the camera activator combination of keystrokes. The term camera activator is also intended to encompass non physical devices including software triggers such as a dropdown menu softkey or a timer. It will also be understood that the term camera activator may refer to more than one activator if separate activators are used to provide a first signal and a second signal respectively.

Referring now to the drawings is a block diagram of a hand held computing device to which the present invention is applied in an example embodiment. In the example embodiment the hand held computing device is a two way mobile communication device having data and possibly also voice communication capabilities. In an example embodiment the device has the capability to communicate with other computer systems on the Internet. Depending on the functionality provided by the device in various embodiments the device may be a data communication device a multiple mode communication device configured for both data and voice communication a mobile telephone a PDA personal digital assistant enabled for wireless communication or a computer system with a wireless modem among other things. In various embodiments the present invention may also be applied to handheld computing devices such as PDAs and digital cameras that are not enabled for communications.

In this embodiment in which the device is enabled for communications the device includes a communication subsystem including a receiver a transmitter and associated components such as one or more preferably embedded or internal antenna elements and and a processing module such as a digital signal processor DSP . In some embodiments the communication subsystem includes local oscillator s LO and in some embodiments the communication subsystem and a microprocessor share an oscillator. As will be apparent to those skilled in the field of communications the particular design of the communication subsystem will be dependent upon the communication network in which the device is intended to operate.

Signals received by the antenna through a wireless communication network are input to the receiver which may perform such common receiver functions as signal amplification frequency down conversion filtering channel selection and the like and in some embodiments analog to digital conversion. In a similar manner signals to be transmitted are processed including modulation and encoding for example by the DSP and input to the transmitter for digital to analog conversion frequency up conversion filtering amplification and transmission over the communications network via the antenna .

The device includes the microprocessor that controls the overall operation of the device. The microprocessor interacts with communications subsystem and also interacts with further device subsystems such as the display flash memory random access memory RAM auxiliary input output I O subsystems serial port keyboard or keypad speaker microphone a short range communications subsystem and any other device subsystems generally designated as . The device of the present system includes an integral camera that interacts with microprocessor . The device may also include a dedicated camera button for triggering operation of the camera as will be further described below. In some embodiments the dedicated camera button may be integrated within the keyboard or keypad .

Some of the subsystems shown in perform communication related functions whereas other subsystems may provide resident or on device functions. Notably some subsystems such as keyboard and display for example may be used for both communication related functions such as entering a text message for transmission over a communication network and device resident functions such as a calculator or task list.

Operating system software and various software applications used by the microprocessor are in one example embodiment stored in a persistent store such as flash memory or similar storage element. Those skilled in the art will appreciate that the operating system software applications or parts thereof may be temporarily loaded into a volatile store such as RAM . It is contemplated that received communication signals may also be stored to RAM .

The microprocessor in addition to its operating system functions preferably enables execution of software applications on the device A predetermined set of software applications which control basic device operations including at least data and voice communication applications for example will normally be installed on the device during manufacture. Further software applications may also be loaded onto the device through the network an auxiliary I O subsystem serial port short range communications subsystem or any other suitable subsystem and installed by a user in the RAM or a non volatile store for execution by the microprocessor . Such flexibility in application installation increases the functionality of the device and may provide enhanced on device functions communication related functions or both. For example secure communication applications may enable electronic commerce functions and other such financial transactions to be performed using the device .

In a data communication mode a received signal such as a text message or web page download will be processed by the communication subsystem and input to the microprocessor which will preferably further process the received signal for output to the display or alternatively to an auxiliary I O device . A user of device may also compose data items within a software application such as email messages for example using the keyboard in conjunction with the display and possibly an auxiliary I O device . Such composed items may then be transmitted over a communication network through the communication subsystem .

The serial port in would normally be implemented in a personal digital assistant PDA type communication device for which synchronization with a user s desktop computer not shown may be desirable but is an optional device component. Such a port would enable a user to set preferences through an external device or software application and would extend the capabilities of the device by providing for information or software downloads to the device other than through a wireless communication network.

A short range communications subsystem is a further component which may provide for communication between the device and different systems or devices which need not necessarily be similar devices. For example the subsystem may include an infrared device and associated circuits and components or a Bluetooth communication module to provide for communication with similarly enabled systems and devices. The device may be a handheld device.

Wireless mobile network is in an example embodiment a wireless packet data network e.g. Mobitex or DataTAC which provides radio coverage to mobile devices . Wireless mobile network may also be a voice and data network such as GSM Global System for Mobile Communication and GPRS General Packet Radio System CDMA Code Division Multiple Access or various other third generation networks such as EDGE Enhanced Data rates for GSM Evolution or UMTS Universal Mobile Telecommunications Systems .

With reference to in an example embodiment the components and subsystems of mobile device are housed within a hard plastic main body case that is configured to be held with one or two hands while the device is in use. The main body case may be a single piece of may include two or more portions coupled together. For example in one embodiment the device is a flip phone and the main body case includes two portions hinged together such that the two portions may be brought into closed contact with one another when the device is not in use. The various components of the device need not be located in the same portion of the main body case .

The case may include a hook not shown so that it can be secured to a user s belt or pant s top or it may be used in conjunction with a soft case not shown that can be mounted to the user s belt or pant s top and into which the mobile device can be inserted for carrying. Mobile device will typically be small enough to fit inside a standard purse or suit jacket pocket. The screen is visible from the front of the device as is keypad or keyboard . The keyboard includes buttons or keys positioned to be actuated by the thumbs or fingers of the user. In the illustrated embodiment of the keyboard has relatively few keys however in some embodiments the keyboard includes 26 or more alphanumeric and control keys.

The device includes a camera activator which in one embodiment is a camera button as shown in . The camera button need not be located on the front of the device it could be in other locations such as on the back of the device as shown in in phantom . Also seen in the case includes a substantially planar back wall which has an opening provided therethrough. A transparent lens covers the opening behind which the camera is located.

In various embodiments the camera is located in different locations than on the back of the device and the handheld device has different configurations other than the example embodiment described above. For example the camera may be located facing outward from the front of the device . By way of non limiting example shows a front view of a handheld device according to another embodiment of the invention. Device is similar to device however the keyboard of device includes a thumb activated QWERTY keyboard next to which camera is located and the main body or case of the device includes first and second portions that are pivotally mounted together. Second case portion houses display and the first case portion houses the keyboard which is configured for thumb typing. In hand held device the camera is provided through opening on the front of the first case portion . The camera faces the same direction as the keyboard for capturing images of the user while operating the device In such an embodiment the camera may be configured to capture successive images in a video format so as to provide streamed video as a webcam.

In some embodiments the camera is pivotally mounted to the case of the handheld device such that it can be rotated to face in a direction desired by the user. By way of example a pivotally mounted camera unit is shown in phantom in . The camera unit may be detachable from case .

Referring now to at least some of the software applications that are loaded onto the device will together with operating system implement graphical user interfaces that display text and or graphics on the screen . The graphics displayed by the device may include digital pictures or video captured by the camera . The software applications may include a variety of application programs such as an e mail program a word processing program a spreadsheet program a calendar program a contacts program etc. When operating such software applications will often have an active document open that is being composed created or modified by the user. For example a word processor may have an active document open into which the user is typing text via the keyboard an e mail program may have a draft e mail open that the user is composing and a contacts program may have an individual s profile information file open for modification by the user. It will be understood that the term document in this case is used generically to refer to any object file or structure having content which may be edited by the user via the associated application program. Documents according to the present invention may include documents such as but not limited to e mail messages instant messages word processing documents spreadsheets contact entries personal profiles calendar entries memos task reminders and multimedia messages. Similarly the terms application program and software application in this context refer to any application program for creating composing editing or modifying documents.

The device includes a camera application for processing signals received by the microprocessor from the camera and a camera listener interface for recognizing activation of the camera button and coordinating interoperation of the camera application and any active software applications . All or parts of the camera listener interface and or the camera application could in various embodiments be integrated into the operating system and or other software applications . In some embodiments some of the camera listener interface functions and or camera application functions could be implemented in appropriately configured hardware or firmware.

The camera listener interface monitors the camera button . When a user activates the camera button a signal is sent to the microprocessor . This signal may be an interrupt signal. When the camera listener interface is invoked it may notify the microprocessor that it will be the handler of interrupts associated with the camera button . Thereafter when the camera button is pressed the camera listener interface is notified.

The camera listener interface responds to activation of the camera button in at least two ways. When the camera button is first activated the camera listener interface causes the operating system to interrupt or pause operation of the active software application . The operating system then invokes an instance of the camera application if one is not already running in the background. The camera application may be invoked in a temporary viewfinder mode wherein the display functions as a viewfinder displaying the images being received by the photosensors within the camera . Using the viewfinder mode the user can position the camera so as to frame the image or view desired In this mode there may be additional functions or operation that the user may have available including a zoom function or various settings such as contrast flash red eye reduction etc.

With the camera application active and functioning in a viewfinder mode the user positions the device such that the camera is focused upon the desired scene or view. The user then activates the camera button so as to capture the image seen by the camera . Upon activating the camera button the camera application receives image data from the camera corresponding to the image received by the camera at the time the camera button is activated. The camera application creates an image object containing the image data captured by the camera . In some embodiment the image data may be saved in a file in memory.

The activation of the camera button also triggers the camera listener interface to cause the operating system to close or minimize the camera application and to return to the active software application . Upon returning the active software application is passed the image object created by the camera application and the image object is inserted in line within the active document. For example a digital image captured by the camera would be inserted into the open email word processing document contact profile or calendar event at the location where the cursor was when the operation of the software application was suspended. It will be understood that active software application is capable of handling image data and the document includes input fields that allow for the input of graphic elements such as digital images.

Accordingly while a user is editing or creating a document using the active software application the user can instantly and seamlessly switch the device to a camera mode by simply activating the camera button . By activating the camera button again while in the camera mode an image is captured and inserted into the open document that the user was editing or creating and control is then returned back to the active software application to allow the user to continue editing or creating the document.

In some embodiments the functioning of the camera listener interface may only be enabled when there is a software application active and when that active software application has a document open in an editable mode. Accordingly prior to triggering the invocation of the camera application the camera listener module may be configured to perform a check to determine if there is an active software application whether that active software application is of a type that is capable of handling image data and whether that active software application is in an editing mode meaning that a document is open and able to accept image data. In such an embodiment the camera listener module may be configured to ignore the activation of the camera button if an appropriate document and software application are not active on the device . Alternatively the active software application may be configured to invoke the camera listener interface when it enters an editing mode thereby ensuring that the camera listener interface only functions when an appropriate software application is active and in an editing mode. In such an embodiment the active software application may disable or close the camera listener interface when the software application exits its editing mode such as when the user begins manipulating pull down menus or otherwise renders the open document inactive. Those of ordinary skill in the art will understand from the present description that other methods or mechanisms may be employed to ensure the camera listener interface is enabled when an active application has a document open with an active input field capable of receiving image data.

Reference is now made to which shows in flowchart form a method for integrating camera operations into a mobile device. The first step of the method is to provide for an active software application operating in an editing mode As discussed above this may condition may be checked by the camera listener interface or the camera listener interface may only be invoked by the active software application entering the editing mode. Those of ordinary skill in the art will appreciate that there are various mechanisms or arrangements to test for this condition or to ensure that it is met.

In step the operating system receives an activation signal from the camera button indicating that the user has triggered the camera button . The operating system notifies the camera listener interface that the camera button has been activated and in step the camera listener interface instructs the operating system to suspend or switch away from operation of the active application. Then in step the camera application is invoked to permit the user to utilize the device in a camera mode.

A second activation signal is received in step when the user activates the camera button while the device is in camera mode. In step in response to the activation of the camera button the camera and the camera application capture an image. The image may be stored as image data within an image object in memory. The image data may also or alternatively be stored within a file in memory.

In step also in response to the second activation signal from the camera button received in step the camera listener interface causes the operating system to restore or switch back to the active software application and the image captured in step is inserted directly into an input field in an active document open within the active software application . Then in step the operating system returns control to the active software application to continue operation in the editing mode.

Accordingly using the above described method the camera functions as an always available input device that can be used to embed images and image data into documents on the fly.

An example of a simplified code listing for implementing a program to perform at least in part the method is provided below 

Those of ordinary skill in the art will appreciate that although the foregoing specific embodiments refer to the camera listener interface as being embodied as an application programming interface API the present invention is not limited to such an API. The functions and operations of the camera listener interface may be embodied within the operating system the basic input output system BIOS the software application or otherwise.

The present invention is not limited to a particular processor architecture operating system or computer programming language. Any limitations presented as a result of specific architectures operating systems or computer programming languages are not intended as limitations of the present invention.

The present invention may be embodied in other specific forms without departing from the spirit or essential characteristics thereof Certain adaptations and modifications of the invention will be obvious to those skilled in the art. Therefore the above discussed embodiments are considered to be illustrative and not restrictive the scope of the invention being indicated by the appended claims rather than the foregoing description and all changes which come within the meaning and range of equivalency of the claim is are therefore intended to be embraced therein.

