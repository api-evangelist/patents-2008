---

title: Systems and computer program products to browse database query information
abstract: Systems and computer products that efficiently determine how columns, tables, and queries associated with a database are related to each other. The present invention enables a user to see at a glance in which queries certain columns and tables are used. The present invention may be implemented with a query miner module that includes a query browser module that improves browsing through queries and their components over the past. The preferred embodiment of the present invention provides an easy to use graphical interface showing the queries, tables, and columns in a tree structure. Further, the preferred embodiment of the present invention presents information about relationships and dimensions associated with a database and about columns, tables, and queries to the user without discernable lag time between the user's request and the generated information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07873664&OS=07873664&RS=07873664
owner: International Business Machines Corporation
number: 07873664
owner_city: Armonk
owner_country: US
publication_date: 20080108
---
This application is a continuation application of and claims the benefit of METHODS TO BROWSE DATABASE QUERY INFORMATION issued as U.S. Pat. No. 7 447 687 on Nov. 4 2008 having application Ser. No. 10 144 347 and filed May 10 2002 the entire contents of which is incorporated herein by reference.

In U.S. Pat. No. 6 947 929 issued on Sep. 20 2005 with application Ser. No. 10 144 540 entitled Systems Methods and Computer Program Products to Determine Useful Relationships and Dimensions of a Database filed on May 10 2002 by Jay Bruce et. al assigned to the assignee of the present invention and incorporated herein in its entirety by this reference there is described a method of efficiently determining useful relationships and dimensions when employing OLAP processing. Although not limited thereto the present invention employs such a method in one of its preferred embodiments.

Application Ser. No. 10 144 540 issued as U.S. Pat. No. 6 947 929 on Sep. 20 2005 and a Statutory Disclaimer was filed for U.S. Pat. No. 6 947 929 on Jan. 10 2007.

The present invention is directed to the field of database browsing and information mining. It is more particularly directed to browsing database information associated with queries that may mine information associated with a database.

A database is a collection of data organized in the form of tables. A table typically consists of columns that represent attribute types and records that represent specific instances of data associated with the table and the table has attribute instances associated with the columns. A relational database is a database that may be a set of tables containing information that is manipulated in accordance with the relational model associated with the data. The product marketed under the trademark IBM DB2 stores the data associated with the database in tables and each table has a name.

On Line Analytical Processing OLAP is a computing technique for summarizing consolidating viewing analyzing applying formulae to and synthesizing data according to multiple dimensions. OLAP software enables users such as analysts managers and executives to gain insight into performance of an enterprise through rapid access to a wide variety of data dimensions that are organized to reflect the multidimensional nature of the enterprise performance data typically by means of hypotheses about possible trends in the data. More particularly OLAP may be used to analyze corporate data from different viewpoints by identifying interesting associations in the information in a database.

Data mining is a technique employing computer based techniques to enable users to query structured data stored in computers in forms such as multidimensional databases conventional databases or flat computer files. More particularly data mining involves extracting computer based information and enables a user to discover trends about the computer based information. OLAP is a decision support technique used in data management for the purpose of modeling and analyzing business information and by means of comparison On Line Transaction Processing OLTP is a technique that may be used to process a computer task immediately upon request and may employ data from a database. Data mining may be used during OLTP or OLAP processing.

An increasingly popular data model for OLAP applications is the multidimensional database MDDB . MDDBs are often used by a data analyst for interactive exploration of performance data for finding regions of anomalies in the data that may otherwise be characterized by trends. Problem areas and new opportunities associated with the enterprise are often identified when an anomaly in the enterprise data is located. However the creation of MDDBs requires computer resources and it would be useful to be able to efficiently determine relationships and dimensions associated with a database without relying on a MDDB when employing OLAP processing techniques.

Each database typically has a set of tables such as system catalog tables which are automatically maintained by the computer system and contain information about the tables and other objects that are stored in the database and about the user of the database and the user s access privileges. Information about the database can be retrieved from the system catalog tables using structured query language SQL queries.

SQL is a standardized language for defining and manipulating data in a relational database and may be used during data mining. A query may be an expression whose result is a table. A query searches the records stored in specified tables to find the answer to a question. A query is a request for information from the database based on specific conditions such as which subset of the data should be retrieved and how the data is to be presented. For example a request for a list of all departments in a DEPARTMENT table whose budget is greater than 10 000 is an example of a query. It would be useful to understand how database tables and columns and SQL queries are related to each other when OLAP procedures are employed. Such procedures may analyze from a hierarchical perspective data that is above and below the data associated with the query request and may aggregate the resulting information. Further the SQL query may analyze the metadata associated with a database. Metadata is information that describes the characteristics of stored data. For instance data in a database may be described by metadata such as the name of associated database tables and columns.

A browser may be considered a text extender function that enables a user to display text on a computer monitor. Browsing is typically used to examine records in a file such as a database. By means of example a browser may operate on one computer such as a client computer and initiate requests to a second computer such as a server computer so that information from the second computer may displayed via the first computer. When a user attempts to browse information during OLAP processing the amount of information may be so large that it is difficult to determine useful dimensions. For example if a user attempts to browse a database and uses SQL queries it may be difficult to determine how columns tables and queries are related to each other.

Given a relational database it can be difficult to determine useful dimensions when employing OLAP processing. Further given a set of SQL queries it can be complicated and time consuming to determine how columns tables and queries are related to each other. This is especially true when there are a large number of queries such as when a user is employing OLAP processing techniques. From the foregoing it will be apparent that there is still a need to improve the determination of how columns tables and queries of a database are related to each other so that users can navigate quickly by techniques such as browsing between different views of database information.

An embodiment of the present invention relates to systems methods and computer products that efficiently determine how columns tables and queries associated with a database are related to each other. Further by operation of the present invention improving the determination of how columns tables and queries of relational or multidimensional databases are related to each other users can navigate quickly between different views of database information such as query information. Techniques of the past have not been able to efficiently determine how columns tables and queries associated with a database are related to each other.

The present invention improves the analysis of metadata in a database. The present invention enables a user to take advantage of heuristics for OLAP processing of data. Heuristics are defined herein as user specific criteria such as a set of rules intended to increase the probability of solving a problem associated with a database. The preferred embodiment of the present invention employs a query miner module to analyze query objects based on heuristics that are embodied in SQL statements. For instance the query miner module may identify and rate queries according to their level of satisfaction of heuristic rules and show statistics associated with the result of the queries. In one embodiment of the present invention the query miner module may collect information about the frequency of combinations of table and column information associated with a query so that the user may assess the relationship between the tables and columns of data in a database. Further the results of searches driven by heuristic rules may be analyzed and reported in a variety of ways that may be used to generate additional user specific heuristics. For example heuristic rules may be based on information about various owners of the data the last used data or key words in SQL statements. Alternatively heuristic rules may be based on all search fields in the SQL statement. The metadata information about attributes associated with a query such as tables and columns and the result of statistical information about the data that is based on heuristic rules advantageously enables a user to determine useful relationships and attributes such as dimensions from a database. The terms dimension and views will be used interchangeably herein.

The present invention allows easy browsing of queries tables and columns and enables a user to see at a glance in which queries certain columns and tables are used. The present invention may be implemented with a query browser module that improves browsing through queries and their components over the past. The preferred embodiment of the present invention provides an easy to use graphical interface showing query objects associated with queries tables and columns in a tree structure. Further the preferred embodiment of the present invention operates efficiently and presents information about columns tables and queries to the user without discernable lag time between the user s request and the generated information.

According to the preferred embodiment of the present invention the table and column information is complete thereby ensuring accurate browsing. Therefore data collection associated with browsing such as browsing metadata and in the preferred embodiment of the present invention is performed against all queries by the query miner module.

An embodiment of the present invention is achieved by systems methods and computer products that improve the determination of useful relationships and dimensions associated with a database when employing OLAP processing techniques and that improve the determination of how columns tables and queries of a database are related to each other. The method comprises a creating and propagating a database b executing a query object with the query miner module that may operate in conjunction with the product marketed under the trademark IBM QMF Query Management Facility and that is directed to a database this execution further includes i applying user specific heuristics as rules used by the query miner module via the query object ii applying a data mining statistical tabulation against the data in the database and metadata associated with the database and therefore collecting statistical information about the query object based on the user specific heuristics and iii determining useful information by analyzing the statistical information c retrieving at least one view of the statistical information that satisfies the user specific heuristics d rating the statistical information that satisfies the user specific heuristics and e presenting the rated statistical information such as views of table column or query information as a user specific report the presentation further includes i determining if the user wants to use new heuristics and if not ii optionally creating at least one user specific report and exporting the user specific report to final report documents such as XML files and iii if the user wants to use new heuristics repeating the process of executing a query object.

Other aspects and advantages of the present invention will become apparent from the following detailed description taken in conjunction with the accompanying drawings illustrating by way of example the principles of the invention.

In the following detailed description and in the several figures of the drawings like elements are identified with like reference numerals.

As shown in the drawings and for purposes of illustration the embodiment of the invention novelly determines how columns tables and queries such as query objects associated with a database are related to each other. Existing systems have not been able to provide users with a technique to efficiently determine the relationship between columns and tables of a database and queries directed to a database. The present invention enables users to navigate quickly between different views of database information such as query information. This is especially true when there are a large number of queries.

The present invention improves the analysis of metadata in a database that may contain database information aspects. For example the query miner module may collect information on the frequency of combinations of table and column information associated with a query for use during the analysis of the metadata. The information generated by the query miner module advantageously enables a user to determine useful attributes such as dimensions from a database for OLAP processing. By means of further example the query miner module may provide information about heuristic rules that search for items such as specific owners of database information naming conventions SQL statement data the time the query was created or modified or the last execution of the query.

Further an embodiment of the present invention efficiently generates information about columns tables and queries associated with databases and enables a user to see at a glance which columns and tables are used in certain queries. The present invention may be implemented with a query miner module and a query browser module that improves browsing through queries and their components over the past. The preferred embodiment of the present invention provides an easy to use graphical interface showing the associated queries tables and columns in a tree structure. Further the preferred embodiment of the present invention presents information about the relationship between columns tables and queries to the user without discernable lag time between the user s request and the generated information.

According to the preferred embodiment of the present invention the query browser module operates during the operation of the query miner module and may operate in conjunction with the product marketed under the trademark IBM QMF Query Management Facility . QMF is a toolset for querying reporting and updating data stored in databases and metadata associated with databases . QMF enables users to create archive and share queries and reports associated with data and metadata . QMF operates on objects that may be associated with the query miner module such as queries tables and forms that are used to generate reports. For example queries may be implemented as query objects that may retrieve or modify data in a database .

The preferred embodiment of the present invention employs the query miner module to analyze query objects and tables along with the associated columns . This analysis advantageously enables a user to determine useful attributes such as dimensions from a database for OLAP processing. The preferred embodiment of the present invention controls query related and report related communication by isolating the user communication to the query miner module . More particularly the query miner module accepts communication from the user via the user interface . Further the query miner module and the QMF may communicate in order to create query and browser commands that are communicated by the QMF to the database . Element is described with reference to .

According to the present embodiment of the invention the query browser module that operates in conjunction with the query miner module is used to present table column and query information. The present invention allows easy browsing of query objects tables and columns and enables a user to see at a glance in which query object certain columns and tables are used.

It will be appreciated that a dimension may be two dimensional and therefore may be described as a table having rows such as records and columns . The preferred embodiment of the present invention accesses the name of the table and the name of the columns within a table . According to one embodiment of the present invention this information is mapped from a particular query object to a user specific report in order to provide information about queries tables and columns to the user. Element is described with reference to .

By means of example the query miner module may identify and rate query objects according to their level of compliance with heuristic rules and show heuristic results related to information associated with the operation of query objects such as statistical information . Further the results of searches driven by heuristic rules may be sorted in a variety of ways that may be used to analyze information about tables and columns and to generate additional user specific heuristics . In one embodiment of the present invention information included in the query object along with information from the system catalog table may be formatted for use by the GUI and for presentation to the user.

Also the information included in the query object may be formatted by use of the query browser module . The preferred embodiment of the present invention identifies at least one column input image table input image and query object . Information needed for presenting views is retrieved from the column input image the table input image and the system catalog tables that include column information about each table and are used to derive query object information. The table input image includes the query objects that reference the table and the columns associated with the table . The column input image includes the query objects that use the column and the tables that are used in the query objects .

When a query object is executed via the query miner module the SQL statement is used against the database to retrieve metadata about the query object . The result of the metadata retrieval may be presented in a variety of views that contain information associated with a database table and that format the information by use of the columns of the database . The result of executing a query object generating the associated views may be presented to the user as a user specific report . Element is described with reference to .

More particularly and according to the one embodiment of the present invention the query browser module transforms information from the query object the column input image and the table input image into views . The views include the query view the column view and the table view . The views are described in detail with reference to . The preferred embodiment of the present invention is implemented so that different views may be presented with a simple user action and so that users can navigate quickly between the different views . One embodiment of the present invention presents a query view a column view and a table view thereby showing how queries columns and tables are related to each other. Further the views associated with the preferred embodiment of the present invention are related to the query object that includes information derived from SQL statements and to the column input image and the table input image .

In an alternative embodiment of the present invention a view may be presented that includes information about the frequency of combinations of table and column occurrences and may be represented as a statistical tabulation in user specific reports . The table combinations represent the number of query objects that contain two or more tables . Therefore by means of example and as shown in Table 1 there were nineteen query objects that contained both tables Q.STAFF and Q.ORG.

The query browser module generates a user specific report that enables the presentation of metadata . For instance a user may initiate commands that display text such as the user specific report on a computer monitor such as a display . The user specific report is a structure that efficiently describes the elements of a database such as the definitions of the dimensions of the database and the members of the database . In the preferred embodiment of the present invention a user may drag and drop icons that represent query objects tables and columns of a database into the user specific report thereby indicating that particular dimensions are included in the database structure defined by the user specific report . In the preferred embodiment of the present invention the user specific report is a tree structure containing dimensions such as table and column references. Element is described with reference to .

User specific reports may be further transformed by use of the query browser module into final reports such as those in an extensible markup language XML format. Those skilled in the art will appreciate the use of reports in XML format.

A schema is a named collection of objects such as tables and views . For example a schema named Q as shown in the query miner screen may contain a table named APPLICANT . The schema named Q may also contain a table named STAFF . The name STAFF may be referred to by a qualified name that includes the appropriate name for the schema such as Q.STAFF as shown in the query view . The name of the schema may identify the owner of a user specific report and information such as the level of access to information in a database may be inferred by the name of the schema . Elements and are defined with reference to and element is described with reference to .

In one embodiment of the present invention the results of the operation of the query browser module are displayed in a tree form. Therefore as shown in the present example and in the query view the query object Q.SAMPLE SELECT10 as shown in element includes the following tables Q.APPLICANT Q.ORG Q.SALES Q.STAFF and Q.SUPPLIER . The columns included in each table are identified and displayed in tree form. Therefore in the present example the Q.ORG Table includes the following columns Q.ORG.DEPTNAME Q.ORG.DEPTNUMB Q.ORG.DIVISION Q.ORG.LOCATION and Q.ORG.MANAGER . While the view is presented herein as a tree structure representing the information it will be appreciated that other formats may be used to represent the identified information without departing from the spirit of the invention.

As shown in the table view presents information about the columns in the table and the query objects that use the table . The table view information is based on table input image information and information from the system catalog tables . The table input image information is used to determine the query objects that use the table . The system catalog tables are used to determine the columns associated with each table . Elements and are described with reference to and elements and are described with reference to .

Further a variety of query objects may be identified. For example and as shown in the query miner screen the query objects Q.SAMPLE SELECT6 as shown in element and Q.SAMPLE SELECT10 as shown in element are identified on the list of query objects . For each view information about other aspects of the database is shown. For instance after the execution of a query object via the query miner module the query object may be highlighted by the user and dragged to a view screen such as the table view that may operate via the query browser module . In the present example the query miner module expands the information associated with the table Q.STAFF via the query browser module . More particularly the table view is displayed that includes the columns associated with Q.STAFF . In the present example the columns associated with the Q.STAFF table are Q.STAFF.COMM Q.STAFF.DEPT Q.STAFF.SALARY Q.STAFF.ID Q.STAFF.JOB Q.STAFF.NAME and Q.STAFF.YEARS . Also the query objects that access the table Q.STAFF include Q.SAMPLE SELECT10 and Q.SAMPLE SELECT6 . In the present example the query object Q.SAMPLE SELECT10 as shown in element is associated with the heuristic rules that are described as shown in element . Elements and are described with reference to .

A view or dimension may be uniquely represented in the user specific report . For example the STAFF INFO dimension is represented in the user specific report and is a user defined dimension that includes information from the Q.STAFF table including columns Q.STAFF.NAME and Q.STAFF.SALARY . Further as shown in one embodiment of the present invention additional information about the relationship between the queries columns and tables associated with a database is presented by using different font displays such as boldface or gray face fonts. Therefore those columns that are in a table that is accessed by the query object here Q.SAMPLE SELECT10 as shown in element and that are also shown in the user specific report here included in the STAFF INFO dimension are shown in gray face font. More particularly Q.STAFF.SALARY and Q.STAFF.NAME are shown in the table view in gray face font.

As shown in the column view presents information about the query objects that use that column as well as the tables used in each of the associated query objects . The column input image information is used to determine the query objects that reference the column . The table input image information is used to determine the query objects that reference the table . Elements and are described with reference to and elements and are described with reference to .

The column view includes information about the query objects that reference the column . In the present example the following query objects reference Q.STAFF.NAME Q.SAMPLE SELECT1 as shown in element and Q.SAMPLE SELECT10 as shown in element . The tables that are referenced by each query object here Q.SAMPLE SELECT1 and Q.SAMPLE SELECT10 are also included in the column view . For example the following tables are referenced by Q.SAMPLE SELECT10 Q.APPLICANT Q.ORG Q.SALES Q.STAFF and Q.SUPPLIER .

The user specific report is also shown in . Here the specific dimension STAFF INFO includes the following columns Q.STAFF.SALARY and Q.STAFF.NAME . According to an alternative embodiment of the present invention and since Q.STAFF.NAME is referenced in the user specific report it is also displayed in gray face type in the column view . Also as shown in the query miner screen the heuristic rules description of the query object is described with reference to element .

According to the preferred embodiment of the present invention there are at least three views the query view the column view and the table view . As shown in the query view presents information about the columns and tables that are used in that query object . Information from the query view is based on heuristic rules that are used by the query object and are derived from an actual SQL statement and information from the system catalog table . Elements and are described with reference to and elements and are described with reference to .

Users can switch between views easily and in one embodiment of the present invention may switch by pressing the right mouse button over a highlighted item. For example if the user is viewing the column view and right clicks on Q.SAMPLE. SELECT6 a switch to the query view with Q.SAMPLE SELECT6 as the root of the tree as shown in element will occur. Those skilled in the art will appreciate that user preference may be transmitted by use of the right mouse button.

In an alternative embodiment of the present invention the columns that were referenced in the identified query object here Q.SAMPLE SELECT6 are presented in boldface font in the query view . Columns with no special coloring indicate that the column is in the table but is not being used in the query object . One such example of a column represented by no special coloring is Q.STAFF.JOB . In the preferred embodiment of the present invention the columns that are used in the operation of that query object are displayed first and are represented in boldface font including Q.STAFF.COMM Q.STAFF.DEPT and Q.STAFF.SALARY .

In one embodiment of the present invention the query miner module may collect information on the frequency of combinations of tables and columns associated with query objects so that the user may assess the relative association of the tables and columns . illustrates the table combination identifier of the query miner screen . Therefore pairs of table identifiers are displayed along with the frequency with which the pair is referenced by query objects . Therefore the tables included in the pairs of table identifiers are included in the query view along with the columns in each table . In the present example the following tables are represented Q.APPLICANT Q.ORG Q.SALES Q.STAFF and Q.SUPPLIER . Elements and are described with reference to and element is described with reference to .

The present invention improves the analysis of metadata in a database . The information generated by the query miner module advantageously enables a user to determine useful relationships and attributes such as dimensions from a database typically non multidimensional for OLAP processing. Elements and are described with reference to .

In one embodiment of the present invention and as shown in element the query browser module may retrieve at least one view of the statistical information that satisfies the user specific heuristic rules . Further as shown in element query objects that satisfy the requirements of the heuristic rules may be identified and rated. As shown in element the query browser module presents the rated statistical information such as views of tables columns or information about query objects . More particularly and as shown in element the user may indicate whether new heuristic rules should be applied. If the result of the test of element is true the operation of the present invention returns to element . Otherwise as shown in element a user specific report may be created. The user specific report may be formatted to enhance the presentation of the statistical information . As shown in element a final report document such as an XML document may be exported so that the user can reference the final report . Elements and are described with reference to and elements and are described with reference to .

According to the preferred embodiment of the present invention information about the tables and the columns is complete for accurate browsing. Therefore data collection is typically performed against all query objects . The user may repeat the process in order to generate a new user specific report based on new heuristic rules . Therefore as shown in element a test is conducted to determine if the user wants to repeat the process. If so the QMF and query miner module are both typically executed again as shown in element . If the result of the test of element is NO then the method of the invention moves to element . Further if the user requires a new user specific report it may be generated without repeating the process as shown in element . If the result of the test of element is negative then the process is complete.

The RAM the data storage device and the ROM are memory components that store data and instructions for controlling the operation of processor which may be configured as a single processor or as a plurality of processors. The processor executes a program to perform the methods of the present invention as described herein.

While the program is indicated as loaded into the RAM it may be configured on a storage media for subsequent loading into the data storage device the ROM or the RAM via an appropriate storage media interface . Storage media can be any conventional storage media such as a magnetic tape an optical storage media a compact disk or a floppy disk. Alternatively storage media can be a random access memory or other type of electronic storage located on a remote storage system.

Generally the computer programs and operating systems are all tangibly embodied in a computer usable device or medium such as the memory the data storage device or the data transmission devices thereby making an article of manufacture such as a computer program product according to the invention. As such the terms computer program product as used herein are intended to encompass a computer program accessible from any computer usable device or medium.

Moreover the computer programs and operating systems are comprised of instructions which when read and executed by the server computer system the client computer system and the host computer system cause the server computer system the client computer system and the host computer system to perform the steps necessary to implement and use the present invention. Under control of the operating system the computer programs may be loaded from the memory the data storage device or the data transmission devices into the memories of the server computer system the client computer system and the host computer system for use during actual operations. Those skilled in the art will recognize many modifications may be made to this configuration without departing from the scope of the present invention.

User interface is an input device such as a keyboard or speech recognition subsystem for enabling a user to communicate information and command selections to the processor . The user can observe information generated by the system via the display or the printer . The user input device is a device such as a mouse track ball or joy stick that allows the user to manipulate a cursor on the display for communicating additional information and command selections to the processor .

When operating in accordance with one embodiment of the present invention system improves the determination of how columns tables and queries of a database are related to each other so that users can navigate quickly between different views of database information. The processor and the program collectively operate as a module for fast and efficient determination of dimensional information associated with a database and presentation of information about columns tables and queries of a database . It will be appreciated that the present invention offers many advantages over prior art techniques. Elements and are described with reference to .

The present invention is typically implemented using one or more computer programs each of which executes under the control of an operating system and causes the server computer system the client computer system and the host computer system to perform the desired functions as described herein. Thus using the present specification the invention may be implemented as a machine process method system or article of manufacture by using standard programming and engineering techniques to produce software firmware hardware or any combination thereof.

It should be understood that various alternatives and modifications may be devised by those skilled in the art. However these should not be viewed as limitations upon the practice of these teachings as those skilled in the art when guided by the foregoing teachings may derive other suitable characteristics of a similar or different nature. The present invention is intended to embrace all such alternatives modifications and variances that fall within the scope of the appended claims

IBM DB2 and QMF are trademarks of International Business Machines Corporation in the United States other countries or both.

