---

title: Delivering partially processed results based on system metrics in network content delivery systems
abstract: Methods, apparatuses and systems directed to processing client requests in distributed systems. Particular implementations of the invention are directed to allowing application servers to return partially processed results after having consumed a time slice allocation based on performance estimates, network performance metrics, and/or system performance metrics.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08019899&OS=08019899&RS=08019899
owner: Yahoo! Inc.
number: 08019899
owner_city: Sunnyvale
owner_country: US
publication_date: 20080828
---
Network content delivery systems generally involve delivering information to web site users including but not limited to reports statements charts graphs ads or news stories. Such information may require extensive processing before delivery and may involve database searching formatting calculation storage retrieval transmission and display. In many cases delivering information to a web browser may involve the active involvement of a number of web servers and application servers that each play a role in delivering all or part of the content.

The user s interface experience and advertising opportunities may be dramatically affected by a number of factors including the amount of processing required to deliver the information to a client browser the complexity of the network the dynamically changing environment or the complexity of the information itself. In some cases various servers along the information chain may wait so long for a response that they time out which produces a less than desirable result for the client web browser.

The present invention provides methods apparatuses and systems directed to processing client requests in distributed systems. Particular implementations of the invention are directed to allowing application servers to return partially processed results after having consumed a time slice allocation based on performance estimates network performance metrics and or system performance metrics.

Particular implementations of this invention may provide one or more technical advantages. For example a technical advantage of one implementation may be that the likelihood the client application will receive no results is reduced or eliminated.

Particular implementations of the invention may include none some or all the above technical advantages. One or more other technical advantages may be readily apparent to one skilled in the art from the figures descriptions and claims included herein.

Particular embodiments of the present invention are related to systems that provide content such as ad content to users of a network. Typically content driven systems require all the content for a given request to be assembled or selected before it is delivered to a network client. Such content may need to be compiled from a number of disparate sources prior to assembly and delivery. Each source may be suffering under workloads that range from light to extreme when the request is received. The request may initiate actions that range from simple to complex. The network environment may range in configuration from simple to complex. The amount of network activity may range from quiescent to saturated. The information requested may be simple or complex. The combination of these factors may result in long delays and or may result in server time outs that impede or preclude the delivery of any content to the network client. Typically the end result is diminished user experience and decrease in revenue opportunities for the service provider.

As discussed in more detail below particular implementations of the invention reduce the likelihood of unacceptable delays by forcing each data or content source to return a partially or completely processed set of results within a budgeted time period. The budget may be established and or adjusted based on real time environmental metrics that account for the previously mentioned factors. Partially processed results may include the best possible results that can be attained under the constraint of the time budget.

In a particular implementation performance estimates related to a particular type of request and or content source may be used to establish an initial time budget. Alternatively a default time budget may be used. Further a single time budget may be established globally for all content sources or a time budget may be established for each content source individually. Network latency may be measured and used to adjust the time budget allocated to a particular source. Further adjustments to the time budget can be made based on system activity. The content source may comply with the time budget by returning a partially processed set of results once the time budget has been exhausted.

The present invention can be implemented in a variety of manners as discussed in more detail below. Other implementations of the invention may be practiced without some or all of specific details set forth below. In some instances well known structures and or processes have not been described in detail so that the present invention is not unnecessarily obscured.

Particular implementations of the invention operate in a wide area network environment such as the Internet including multiple network addressable systems. Network cloud generally represents one or more interconnected networks over which the systems and hosts described herein can communicate. Network cloud may include packet based wide area networks such as the Internet private networks wireless networks satellite networks cellular networks paging networks and the like.

As illustrates a particular implementation of the invention can operate in a network environment comprising network application hosting site such as an informational web site social network site and the like. Although illustrates only one network application hosting site implementations of the invention may operate in network environments that include multiples of one or more of the individual systems and sites disclosed herein. Client nodes are operably connected to the network environment via a network service provider or any other suitable means.

Network application hosting site is a network addressable system that hosts a network application accessible to one or more users over a computer network. The network application may be an informational web site where users request and receive identified web pages and other content over the computer network. The network application may also be a search platform an on line forum or blogging application where users may submit or otherwise configure content for display to other users. The network application may also be a social network application allowing users to configure and maintain personal web pages. The network application may also be a content distribution application such as Yahoo Music Engine Apple iTunes podcasting servers that displays available content and transmits content to users.

Network application hosting site in one implementation comprises one or more physical servers and content data store . The one or more physical servers are operably connected to computer network via a router . The one or more physical servers host functionality that provides a network application e.g a news content site etc. to a user. In one implementation the functionality hosted by the one or more physical servers may include web or HTTP servers ad serving systems content delivery systems application servers and the like. Still further some or all of the functionality described herein may be accessible using an HTTP interface or presented as a web service using SOAP or other suitable protocols.

Content data store stores content as digital content data objects. A content data object or content object in particular implementations is an individual item of digital information typically stored or embodied in a data file or record. Content objects may take many forms including text e.g. ASCII SGML HTML images e.g. jpeg tif and gif graphics vector based or bitmap audio video e.g. mpeg or other multimedia and combinations thereof. Content object data may also include executable code objects e.g. games executable within a browser window or frame podcasts etc. Structurally content data store connotes a large class of data storage and management systems. In particular implementations content data store may be implemented by any suitable physical system including components such as database servers mass storage media media library systems and the like.

Network application hosting site in one implementation provides web pages such as front pages that include an information package or module describing one or more attributes of a network addressable resource such as a web page containing an article or product description a downloadable or streaming media file and the like. The web page may also include one or more ads such as banner ads text based ads sponsored videos games and the like. Generally web pages and other resources include hypertext links or other controls that a user can activate to retrieve additional web pages or resources. A user clicks on the hyperlink with a computer input device to initiate a retrieval request to retrieve the information associated with the hyperlink or control.

Network client may be a web client hosted on client computers a client host located on physical server or a server host located on physical server . Client host may be an executable web or HTTP server module that accepts HyperText Transport Protocol HTTP requests from network clients acting as a web clients such web browser client applications hosted on client computers and serving HTTP responses including contents such as HyperText Markup Language HTML documents and linked objects images advertisements etc. . Client host may also be an executable module that accepts Simple Object Access Protocol SOAP requests from one or more client hosts or one or more server hosts . In one implementation client host has the capability of delegating all or part of single or multiple requests from network client to one or more server hosts . Client host as discussed above may operate to deliver a network application such as an informational web page or an internet search service.

In a particular implementation client host may act as a server host to another client host and may function to further delegate requests to one or more server hosts and or one or more client hosts . Server hosts host one or more server applications such as an ad selection server sponsored search server content customization server and the like.

Client node is a computer or computing device including functionality for communicating over a computer network. A client node can be a desktop computer laptop computer as well as mobile devices such as cellular telephones personal digital assistants. A client node may execute one or more client applications such as a web browser to access and view content over a computer network. In particular implementations the client applications allow users to enter addresses of specific network resources to be retrieved. These addresses can be Uniform Resource Locators or URLs. In addition once a page or other resource has been retrieved the client applications may provide access to other pages or records when the user clicks on hyperlinks to other resources. In some implementations such hyperlinks are located within the web pages and provide an automated way for the user to enter the URL of another page and to retrieve that page. The pages or resources can be data records including as content plain textual information or more complex digitally encoded multimedia content such as software programs or other code objects graphics images audio signals videos and so forth.

The networked systems described herein can communicate over the network using any suitable communications protocols. For example client nodes as well as various servers of the systems described herein may include Transport Control Protocol Internet Protocol TCP IP networking stacks to provide for datagram and transport functions. Of course any other suitable network and transport layer protocols can be utilized.

In addition hosts or end systems described herein may use a variety of higher layer communications protocols including client server or request response protocols such as the HyperText Transfer Protocol HTTP and other communications protocols such as HTTP S FTP SNMP TELNET and a number of other protocols may be used. In addition a server in one interaction context may be a client in another interaction context. Still further in particular implementations the information transmitted between hosts may be formatted as HyperText Markup Language HTML documents. Other structured document languages or formats can be used such as XML and the like.

In some client server protocols such as the use of HTML over HTTP a server generally transmits a response to a request from a client. The response may comprise one or more data objects. For example the response may comprise a first data object followed by subsequently transmitted data objects. In one implementation for example a client request may cause a server to respond with a first data object such as an HTML page which itself refers to other data objects. A client application such as a browser will request these additional data objects as it parses or otherwise processes the first data object.

Mobile client nodes may use other communications protocols and data formats. For example mobile client nodes in some implementations may include Wireless Application Protocol WAP functionality and a WAP browser. The use of other wireless or mobile device protocol suites are also possible such as NTT DoCoMo s i mode wireless network service protocol suites. In addition the network environment may also include protocol translation gateways proxies or other systems to allow mobile client nodes for example to access other network protocol environments. For example a user may use a mobile client node to capture an image and upload the image over the carrier network to a content site connected to the Internet.

Other implementations of the invention are also possible. For example a process involving looping recursion and one or more unique steps in combination can be configured to return partially processed results upon expiration of a time budget t.

While the foregoing systems can be implemented by a wide variety of physical systems and in a wide variety of network environments the client and server host systems described below provide example computing architectures for didactic rather than limiting purposes.

The elements of hardware system are described in greater detail below. In particular network interface provides communication between hardware system and any of a wide range of networks such as an Ethernet e.g. IEEE 802.3 network etc. Mass storage provides permanent storage for the data and programming instructions to perform the above described functions implemented in the location server whereas system memory e.g. DRAM provides temporary storage for the data and programming instructions when executed by processor . I O ports are one or more serial and or parallel communication ports that provide communication between additional peripheral devices which may be coupled to hardware system .

Hardware system may include a variety of system architectures and various components of hardware system may be rearranged. For example cache may be on chip with processor . Alternatively cache and processor may be packed together as a processor module with processor being referred to as the processor core. Furthermore certain embodiments of the present invention may not require nor include all of the above components. For example the peripheral devices shown coupled to standard I O bus may couple to high performance I O bus . In addition in some embodiments only a single bus may exist with the components of hardware system being coupled to the single bus. Furthermore hardware system may include additional components such as additional processors storage devices or memories.

As discussed below in one implementation the operations of one or more of the physical servers described herein are implemented as a series of software routines run by hardware system . These software routines comprise a plurality or series of instructions to be executed by a processor in a hardware system such as processor . Initially the series of instructions may be stored on a storage device such as mass storage . However the series of instructions can be stored on any suitable storage medium such as a diskette CD ROM ROM EEPROM etc. Furthermore the series of instructions need not be stored locally and could be received from a remote storage device such as a server on a network via network communication interface . The instructions are copied from the storage device such as mass storage into memory and then accessed and executed by processor .

An operating system manages and controls the operation of hardware system including the input and output of data to and from software applications not shown . The operating system provides an interface between the software applications being executed on the system and the hardware components of the system. According to one embodiment of the present invention the operating system is the Windows 95 98 NT XP operating system available from Microsoft Corporation of Redmond Wash. However the present invention may be used with other suitable operating systems such as the Apple Macintosh Operating System available from Apple Computer Inc. of Cupertino Calif. UNIX operating systems LINUX operating systems and the like. Of course other implementations are possible. For example the server functionalities described herein may be implemented by a plurality of server blades communicating over a backplane.

Furthermore the above described elements and operations can be comprised of instructions that are stored on storage media. The instructions can be retrieved and executed by a processing system. Some examples of instructions are software program code and firmware. Some examples of storage media are memory devices tape disks integrated circuits and servers. The instructions are operational when executed by the processing system to direct the processing system to operate in accord with the invention. The term processing system refers to a single processing device or a group of inter operational processing devices. Some examples of processing devices are integrated circuits and logic circuitry. Those skilled in the art are familiar with instructions computers and storage media.

The present invention has been explained with reference to specific embodiments. For example while embodiments of the present invention have been described as operating in connection with HTML and HTTP the present invention can be used in connection with any suitable protocol environment. Furthermore implementations of the invention can be used in systems directed to serving god targeted content other than ads to users. Other embodiments will be evident to those of ordinary skill in the art. It is therefore not intended that the present invention be limited except as indicated by the appended claims.

