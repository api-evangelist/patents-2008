---

title: Rerouting ongoing telecommunications to a user
abstract: Rerouting telecommunications to a user including receiving a plurality of RFID signals from an RFID tag located with the user, anticipating a user's future location in dependence upon the RFID signals, selecting a telephony device in dependence upon the anticipated future location, and rerouting an ongoing call to the selected telephony device. In typical embodiments, selecting a telephony device in dependence upon the anticipated future location also includes identifying location based routing preferences for the user. In typical embodiments, selecting a telephony device in dependence upon the anticipated future location also includes identifying device-based routing preferences for the user. In typical embodiments, anticipating a user's future location in dependence upon the RFID signals also includes determining a first user location, determining a second user location, and predicting a user's future location in dependence upon the first user location and the second user location.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08194844&OS=08194844&RS=08194844
owner: International Business Machines Corporation
number: 08194844
owner_city: Armonk
owner_country: US
publication_date: 20080720
---
This application is a continuation application of and claims priority from U.S. patent application Ser. No. 10 981 298 filed on Nov. 4 2004 and from U.S. patent application Ser. No. 12 059 498 filed on Mar. 31 2008.

The field of the invention is data processing or more specifically methods systems and products for routing telecommunications.

Conventional telecommunications systems often provide a number of telephony devices on which a user may receive calls in a particular networked environment. Conventional telecommunications systems also provide a call routing to one or more of the individual telephony devices. To route a call to a particular user however conventional telecommunications system route the call to a particular telephony device most likely to be near the user. For example a telephone system in an office may route calls for a particular user to the telephony device in the user s office. Most users however are not static. That is most users move about their networked environment. It would be advantageous therefore to route telecommunications to users based upon their location within their networked environment.

Methods systems and products are provided for rerouting telecommunications to a user the method including receiving a plurality of RFID signals from an RFID tag located with the user anticipating a user s future location in dependence upon the RFID signals selecting a telephony device in dependence upon the anticipated future location and rerouting an ongoing call to the selected telephony device. In typical embodiments selecting a telephony device in dependence upon the anticipated future location also includes identifying location based routing preferences for the user. In typical embodiments selecting a telephony device in dependence upon the anticipated future location also includes identifying device based routing preferences for the user. In typical embodiments anticipating a user s future location in dependence upon the RFID signals also includes determining a first user location determining a second user location and predicting a user s future location in dependence upon the first user location and the second user location.

In typical embodiments determining a first user location also includes receiving a plurality of RFID signals from the RFID tag at a plurality of RFID reader locations and determining the location of the user in dependence upon the RFID reader locations and a rule. In typical embodiments determining a first user location also includes receiving a plurality of RFID signals at a plurality of RFID reader locations from the RFID tag determining for each RFID reader an area of possible locations of the RFID tag and determining the intersection of the areas of possible locations.

Typical embodiments also include receiving a call and determining that the call is intended for the user. In typical embodiments determining that the call is intended for the user also include prompting the caller for the name of the user and receiving from the caller the name of the user.

The foregoing and other objects features and advantages of the invention will be apparent from the following more particular descriptions of exemplary embodiments of the invention as illustrated in the accompanying drawings wherein like reference numbers generally represent like parts of exemplary embodiments of the invention.

The present invention is described to a large extent in this specification in terms of methods for routing telecommunications. Persons skilled in the art however will recognize that any computer system that includes suitable programming means for operating in accordance with the disclosed methods also falls well within the scope of the present invention. Suitable programming means include any means for directing a computer system to execute the steps of the method of the invention including for example systems comprised of processing units and arithmetic logic circuits coupled to computer memory which systems have the capability of storing in computer memory which computer memory includes electronic circuits configured to store data and program instructions programmed steps of the method of the invention for execution by a processing unit.

The invention also may be embodied in a computer program product such as a diskette or other recording medium for use with any suitable data processing system. Embodiments of a computer program product may be implemented by use of any recording medium for machine readable information including magnetic media optical media or other suitable media. Persons skilled in the art will immediately recognize that any computer system having suitable programming means will be capable of executing the steps of the method of the invention as embodied in a program product. Persons skilled in the art will recognize immediately that although most of the exemplary embodiments described in this specification are oriented to software installed and executing on computer hardware nevertheless alternative embodiments implemented as firmware or as hardware are well within the scope of the present invention.

Methods systems and computer program products for routing telecommunications are explained with reference to the accompanying drawings beginning with . sets forth a line drawing illustrating an exemplary system for routing telecommunications. The term telecommunications in this specification means the art of communicating over a distance by telephony device telephone telegraph radio or any other device designed to facilitate such communications between users. In this specification a telephony device is any device useful in facilitating telecommunications between users. Telephony device include computers digital communications equipment analog communications equipment or any other communications device that will occur to those of skill in the art.

The system of includes a networked environment which in this example is a networked home environment for a user . The description of a networked home environment is for explanation only and not for limitation. In fact systems for routing telecommunications to a user may be implemented in any networked environment such as a networked office business or other environment as will occur to those of skill in the art. Included within the networked home environment of are RFID readers fixed at different locations within the home. The living room of has fixed with it three RFID readers and . The kitchen of the has fixed within it one RFID reader . The bedroom of has fixed within it two RFID readers . The office has fixed within it one RFID reader . In the example of an RFID tag is located with or attached to the user .

 RFID means Radio Frequency Identification a technology useful in locating users within the networked environment by use of an antenna a transceiver and a transponder or tag. RFID transceivers are treated in this specification as including the electronic devices needed to convert the information in a radio signal into useful computer data in this specification therefore RFID transceivers are referred to as RFID readers. As the term transceiver implies however RFID readers may read and write information to and from RFID transponders. RFID transponders are referred to in this specification as RFID tags. RFID tags are programmed with RFID identification codes unique to each RFID tag. A unique RFID tag located with the user is used to uniquely locate the user within the networked environment.

An RFID antenna emits radio signals to activate an RFID tag and read and write data to and from the tag. Antennas act as data conduits between tags and transceivers or RFID readers. Antennas are available in a variety of shapes and sizes. An RFID reader typically emits radio waves at power levels and at frequencies that are useful at ranges of anywhere from a few inches to 100 feet or more. When an RFID tag passes through the electromagnetic field of a radio signal from an RFID antenna the RFID tag detects the reader s activation signal. The reader decodes the data encoded in the tag s integrated circuit typically a silicon chip.

An RFID device that did not actively transmit to a reader was traditionally known as a tag. An RFID device that actively transmitted to a reader was known as a transponder TRANSmitter resPONDER . It has become common in the industry however to interchange terminology and refer these devices as either tags or transponders more or less interchangeably. In this specification for clarity of usage the term tag is used to refer generally to all RFID devices.

Tags are programmed with data that identifies the tag and therefore the user located with the tag. Tags can be either read only volatile read write or write once read many WORM and can be either active or passive. Active tags generally use batteries to power the tag s radio transmitter and receiver. Active tags generally contain more components than do passive tags so active tags are usually larger in size and more expensive than passive tag. An active tag s memory size varies according to application requirements some systems operate with up to a megabyte or more of memory. The useful life of an active tag is related to its battery life. Passive tags can be either battery or non battery operated according to their intended applications.

Passive tags reflect the RF signal transmitted to them from a reader and add information by modulating the reflected signal to convey identifying or descriptive information stored in computer memory in the tag. A passive tag having a battery usually does not use its battery to boost the energy of the reflected signal. A passive tag typically would use a battery to maintain memory in the tag or power the electronics that enable the tag to modulate the reflected signal. Passive RFID tags often operate without a battery or other power source obtaining operating power generated from an RFID reader. Passive tags are typically much lighter than active tags less expensive and offer a very long operational lifetime. The trade off is that passive RFID tags have shorter read ranges than active tags and require a higher powered reader.

RFID tags come in a wide variety of shapes and sizes. Animal tracking tags inserted beneath an animal s skin can be as small as a pencil lead in diameter and one half inch in length. Some tags are screw shaped to identify trees or wooden items or credit card shaped for use in access applications. The anti theft hard plastic tags attached to merchandise in stores are RFID tags.

In the example of RFID signals and transmitted from RFID readers and activates RFID tag a small form factor passive tag located with the user. Tag has stored in computer memory within it at least one unique identifications code or serial number that uniquely identifies the tag and therefore uniquely identifies the user located with the tag. The RFID readers are coupled for data communications with the communications gateway . Coupled for data communications means any form of data communications wireless 802.11b Bluetooth infrared radio internet protocols HTTP protocols email protocols networked direct connections dedicated phone lines dial ups serial connections with RS 232 EIA232 or Universal Serial Buses hard wired parallel port connections network connections according to the Power Line Protocol and other forms of connection for data communications as will occur to those of skill in the art. Couplings for data communications include networked couplings for data communications. Examples of networks useful with various embodiments of the invention include cable networks intranets extranets internets local area networks wide area networks and other network arrangements as will occur to those of skill in the art. The use of any networked coupling among television channels cable channels video providers telecommunications sources and the like is well within the scope of the present invention.

The exemplary communications gateway of is capable of receiving from the RFID readers an indication that the RFID reader has received an RFID signal from an RFID tag located with the user. In many embodiments of the present invention the RFID readers are advantageously wirelessly coupled for data communications with the communications gateway . In many alternative embodiments the RFID readers transmit an indication that an RFID signal was received by the RFID reader to a communications application running on the communications gateway using various protocols such as Bluetooth 802.11 HTTP WAP or any other protocol that will occur to those of skill in the art.

The exemplary communications gateway of is also capable of determining the location of the user within the networked environment and routing calls to a selected telephony device in dependence upon the user s location. As discussed in more detail below with reference to and determining the location of the user in dependence upon RFID signals can be carried out by near field sensing of the user s tag at fixed locations within the networked environment or through the user of trilateration. The exemplary descriptions of near field sensing and trilateration are for explanation and not for limitation. In fact there are many ways of determining the location of the user in dependence upon RFID signals that will occur to those of skill in the art and all such ways are will within the scope of the present invention.

The exemplary communications gateway of is also coupled for data communications to a wide area network to an enterprise server which is coupled for data communications to a RFID based telecommunications routing database having stored within it a user account record for the user that contains preference data and other information useful to route telecommunication to a device within the networked environment in dependence upon the user s location within the networked environment. The communications gateway supports both traditional telecommunications functions through a PSTN Network Public Swithed Telephone Network as well as packet switched telephony through the WAN such as for example VOIP Voice Over Internet Protocol telecommunications. The exemplary communications gateway of communications gateway of is an OSGi enabled gateway capable of telecommunications routing within the networked domain. OSGi Stands for Open Services Gateway Initiative. The OSGi specification is a Java based application layer framework that provides vendor neutral application and device layer APIs and functions for various devices using arbitrary communication protocols operating in networks in homes cars and other environments. OSGi works with a variety of networking technologies like Ethernet Bluetooth the Home Audio and Video Interoperability standard HAVi IEEE 1394 Universal Serial Bus USB WAP X 10 Lon Works HomePlug and various other networking technologies. The OSGi specification is available for free download from the OSGi website at www.osgi.org. Telephony APIs Application Programming Interface are available to implement call routing with the exemplary communications gateway of . Examples of telephony APIs include Java Telephony API available from Sun Microsystems Inc. CallPath API available from IBM and others that will occur to those of skill in the art.

The system for routing telecommunications to a user of is capable of receiving a call through a PSTN network or a packet switch WAN and determining that the call is intended for the user . The system of is also capable of receiving one or more RFID signals from a user s RFID tag and determining the location of the user in dependence upon the RFID signals . The system of is also capable of identifying location based routing preferences for a user maintained in a user account stored in an RFID based telecommunications database accessible through an enterprise server through the WAN . The system of is also capable of identifying a particular a telephony device among a plurality of telephony devices in the networked environment in dependence of location based routing preferences for a user and forwarding the call to the telephony device in dependence upon the user s location and the user s location based routing preferences.

In some cases a more than one telephony device may be available to a user at a particular location within the networked environment. In such cases the system of is capable of receiving a call and determining that the call is intended for the user . The system of is capable of receiving one or more RFID signals and from an RFID tag located with the user determining the user s location in dependence upon the RFID signals and and identifying a plurality of available telephony devices in dependence upon the user s location. The system of is capable of identifying a device based preference for the user selecting one of the plurality of available telephony devices in dependence upon the device based preferences and forwarding the call to the selected telephony device .

Users are often not static in a networked environment. That is users often move around in a networked environment and often move from room to room. With the wide number of telephony devices and telecommunications methods available to a user after receiving a call on a particular telephony device a user may move and in such cases the system of is capable of rerouting the call to another telephony device in dependence upon an anticipated future location of the user. In such cases the system of is capable of rerouting telecommunications to a user by receiving a plurality of RFID signals from an RFID tag located with the user anticipating a user s future location in dependence upon the RFID signals selecting a telephony device in dependence upon the anticipated future location and rerouting an ongoing call to the selected telephony device. In such cases the system of advantageously provides seamless telecommunications to the user across the networked environment without requiring user intervention to reroute the ongoing call to another telephony device.

As discussed above the communications gateway of is an OSGi enabled gateway. In the example of in addition to being able to route telecommunications to the user the communications gateway is also capable of receiving device events from non telephony devices within the networked environment and notifying the user of the receipt of such device events. Examples of such non telephony devices capable of producing device events are coffee pots ovens dishwashers computers stereos copy machines and other devices that will occur to those of skill in the art. Such network enabled devices are able to report their status to the communications gateway through events herein called device event. For example a device event may be generated when the coffee pot has completed brewing a pot of coffee.

In the example of a networked coffee pot is coupled for data communications with the communications gateway . The system of is capable of receiving a device event from the coffee pot and associating the device event with a user . The system of is capable of receiving one or more RFID signals from a user s RFID tag and determining the user s location in dependence upon the RFID signals . The system of is also capable of selecting a user notification appliance in dependence upon the user s location and notifying the user of the device event with the selected user notification appliance . The use of a coffee pot in the example of is for explanation and not for limitation. The number and kind of networked devices both telephony and non telephony capable of reporting a device event to a communications gateway is almost endless and all such devices are within the scope of the present invention.

The system of is also capable of establishing RFID based telecommunications routing for a user. In the system of a user is empowered to log onto a communications application running on the communications gateway by use of a browser running on a laptop in the user s office . The system of establishes RFID based telecommunications routing by identifying the plurality of telephony devices and available to the user in the networked environment and identifying the location of the telephony devices. The system of is capable of receiving an identification of the telephony devices and an identification of their location from the user from a network administrator a landlord or by downloading an identification of the telephony devices and an identification of their location from a network location supported by any person or process having such information. The system of is capable of receiving from a user routing preferences and associating with the user the identified telephony devices available to a user the locations of the plurality of devices available to the user and the routing preferences in a user account which in the example of is stored in an RFID based telecommunications routing database.

As discussed above RFID based telecommunications routing is often implemented through the use of a computers. For further explanation sets forth a block diagram of automated computing machinery comprising a communications gateway useful in routing telecommunications to a user according to embodiments of the present invention. The communications gateway of in some exemplary architectures an OSGi compatible services gateway. While exemplary embodiments of routing telecommunications to a user are described in this specification using OSGi many other applications and frameworks will work to implement routing telecommunications to a user according to the present invention and are therefore also well within the scope of the present invention. Commercial implementations of OSGi such as JES and SMF are also useful in implementing methods of the present invention. JES stands for Java Embedded Server. JES is a commercial implementation of OSGi that provides a framework for development deployment and installation of applications and services to embedded devices. SMF stands for Service Management Framework available from IBM . SMF is a commercial implementation of OSGi for management of network delivered applications on services gateways.

The communications gateway of includes at least one computer processor or CPU as well as random access memory RAM . Stored in RAM is an operating system . Operating systems useful in computers according to embodiments of the present invention include Unix Linux Microsoft NT and many others as will occur to those of skill in the art. Operating system in the example of is shown in RAM but many components of an operating system typically are stored in non volatile memory also. Also stored in RAM is a services framework . The services framework of is a hosting platform for running services . Services are the main building blocks for creating applications in the OSGi. An OSGi services framework is written in Java and therefore typically runs on a Java Virtual Machine JVM .

The exemplary architecture of includes a communications application . In some embodiments of the present invention the communications application is OSGi compliant application software and is therefore implemented as a service or a group of services packaged as a bundle installed on the services framework . In this specification communications applications are often discussed in the context of OSGi. However the discussion of OSGi is for explanation and not for limitation. In fact communications applications according to various embodiments of the present invention can be implemented in any programming language C C COBOL FORTRAN BASIC and so on as will occur to those of skill in the art and communications applications developed in languages other than Java are installed directly upon an operating system or operating environment rather than a JVM.

The communications gateway of includes non volatile computer memory coupled through a system bus to a processor and to other components of the gateway. Non volatile computer memory may be implemented as a hard disk drive optical disk drive electrically erasable programmable read only memory space so called EEPROM or Flash memory RAM drives not shown or as any other kind of computer memory as will occur to those of skill in the art.

The exemplary communications gateway of includes a communications adapter for implementing connections for data communications including connections through networks to other computers including RFID readers telephony devices network enabled devices non telephony devices notification appliances servers clients and others as will occur to those of skill in the art. Communications adapters implement the hardware level of connections for data communications through which local devices and remote devices or servers send data communications directly to one another and through networks.

The exemplary communications gateway of includes one or more input output interface adapters . Input output interface adapters in computers implement user oriented input output through for example software drivers and computer hardware for controlling output to display devices such as computer display screens as well as user input from user input devices such as keyboards and mice.

As discussed above communications gateways useful in telecommunications routing are often implemented as OSGi compliant services gateways. For further explanation sets forth an exemplary OSGi compliant services gateway useful in routing telecommunications to a user in accordance with embodiments of the present invention. While exemplary embodiments of methods for routing telecommunications to a user are described in this specification using OSGi many other applications and frameworks other than OSGi will work to implement methods of administering devices according to the present invention and are therefore well within the scope of the present invention. The services gateway of includes a service framework . An OSGi service framework is written in Java and therefore typically runs on a Java Virtual Machine JVM . In OSGi the service framework of is a hosting platform for running services . The term service or services in this disclosure depending on context generally refers to OSGi compliant services.

Services are the main building blocks for creating applications according to the OSGi. A service is a group of Java classes and interfaces that implement a certain feature. The OSGi specification provides a number of standard services. For example OSGi provides a standard HTTP service that creates a web server that can respond to requests from HTTP clients.

OSGi also provides a set of standard services called the Device Access Specification. The Device Access Specification DAS provides services to identify a device connected to the services gateway search for a driver for that device and install the driver for the device.

Services in OSGi are packaged in bundles with other files images and resources that the services need for execution. A bundle is a Java archive or JAR file including one or more service implementations an activator class and a manifest file . An activator class is a Java class that the service framework uses to start and stop a bundle. A manifest file is a standard text file that describes the contents of the bundle .

In the exemplary architecture of includes a communications application . In many embodiments of the present invention the communications application is an OSGi service that carries out telecommunications routing according to embodiments of the present invention. The communications application of is packaged within a bundle and installed on the services framework .

The services framework in OSGi also includes a service registry . The service registry includes a service registration including the service s name and an instance of a class that implements the service for each bundle installed on the framework and registered with the service registry . A bundle may request services that are not included in the bundle but are registered on the framework service registry . To find a service a bundle performs a query on the framework s service registry .

As mentioned above RFID based telecommunications routing according to embodiments of the present invention advantageously routes telecommunications to users in dependence upon user preferences. Such user preferences include both location based routing preferences as well as device based routing preferences. The present section of this disclosure is directed toward routing telecommunications to a user in dependence upon location and in some embodiments using location based routing preferences. For further explanation sets forth a flow chart illustrating an exemplary method for routing telecommunications to a user. The method of includes receiving a call . In typical embodiments of the present invention receiving a call includes receiving in a communications gateway a call transmitted through either a packet switched wide area network the public switched telephone network or any other telecommunications enabled network that will occur to those of skill in the art.

The method of includes determining that the call is intended for the user . In typical embodiments determining that the call is intended for the user is carried out a communications application bundle executing on the communications gateway. In some such embodiments the bundle includes one or more services implementing an automated call hander and speech to text conversion. For further explanation sets forth a flow chart illustrating an exemplary method for determining that the call is intended for the user . The method of includes prompting the caller for the name of the user and receiving from the caller as speech the name of the user. Prompting the caller for the name of the user may be carried out by playing a prerecorded prompt to the user requesting that the user speak the name of the intended recipient of the call.

The method of also includes converting the speech to text . Off the shelf speech to text conversion and speech recognition software is commercially available and is available for use by communications applications of the present invention for use in determining that a call is intended for a particular user. Examples of such a commercially available products are ViaVoice available from IBM and the Java Speech API available from Sun Microsystems Inc.

The method of also includes retrieving a user record in dependence upon the text . In the method of retrieving a user record in dependence upon the text includes searching a database containing user records on the text of the user s name. If the search returns a match the method of includes returning to the executing communications application a user record for the identified user.

The exemplary user record of includes a user ID uniquely identifying the user. The exemplary user record of also includes an identification of the user s RFID tag uniquely identifying the RFID tag. The exemplary user record of includes a preference ID identifying user preferences such as location based routing preferences and device based routing preferences discussed in more detail below.

Continuing again with reference to The method of includes receiving an RFID signal from a user s RFID tag . As discussed above RFID tags are often available as either active RFID tags or passive RFID tags. The RFID signal in the example of therefore can be either an RFID signal from an active RFID tag located with or attached to the user or an RFID signal from a passive RFID tag located with or attached to the user.

The method of also includes determining the location of the user in dependence upon the RFID signal . As discussed in more detail below with reference to and determining the location of the user in dependence upon RFID signals can be carried out by near field sensing of the user s tag at fixed locations within the networked environment or through the user of trilateration. The exemplary descriptions of near field sensing and trilateration are for explanation and not for limitation. In fact there are many ways of determining the location of the user in dependence upon RFID signals that will occur to those of skill in the art and all such ways are will within the scope of the present invention.

The method of also includes identifying location based routing preferences for the user and forwarding the call to a telephony device in dependence upon the user s location and the user s location based routing preferences . Location based routing preferences are preferences for a user describing a preferred routing of telecommunications in dependence upon the user s location. For example an exemplary location based routing preference may demonstrate that despite having more telephony devices available a user will accept calls on telephony devices in the living room and the bedroom only. Therefore when the user s location is within a range of locations predetermined to be closer to the living room calls are routed to the living room. When the user s location is within a range of locations predetermined to be closer to the bedroom room calls are routed to the bedroom.

In the example of location based routing preferences are implemented as a location based preference record . The exemplary location based preference record of includes a user ID uniquely identifying the user. The exemplary location based preference record also includes a location ID identifying the user location for which the location based routing preference is to be implemented. The location ID may be a latitude and longitude a room designation a physical address or a range of locations represented in any manner as will occur to those of skill in the art. The location based preference record includes a preference ID uniquely identifying the routing preference associated with the location ID.

As discussed above determining the location of a user through the use of RFID can be carried out in a number of ways. On way of determining the location of the user includes near field sensing of the RFID tag at fixed reader locations in the networked domain and applying a rule set to the identified fixed reader locations to approximate the location of the user. For further explanation therefore sets forth an exemplary method for determining the location of the user in dependence upon RFID signals. The method of includes receiving a plurality of RFID signals from a user s RFID tag at a plurality of RFID reader locations and storing the reader ID and date and time that the signal was received in a data structure representing an indication of the user s location.

In the example of a user location record represents an indication of the user location and each of which is created in response to receiving an RFID signal from the user s RFID tag at a fixed location within the networked domain and stored in a user location history which is a collection of user location records. The exemplary user location record of includes a user ID field uniquely identifying the user. The user exemplary user location record includes an RFID tag ID identifying the user s RFID tag sending the RFID signal to the RFID reader located at a fixed location within the networked environment. The exemplary user location record also includes a reader ID field uniquely identifying the RFID reader receiving the RFID signal. The exemplary user location record also includes a reader location identifying the location of the RFID reader in the networked domain. The exemplary user location record also includes the date and time that the RFID reader received the signal.

The method of also includes determining the location of the user in dependence upon the RFID reader locations and a rule . Applying a rule to a plurality of fixed reader locations each of which approximates a user s location provides increased accuracy to the approximate user location provided by sensing the user s RFID tag a fixed location within the networked environment.

For further explanation consider the following use case. RFID readers are fixed at various locations in a user s office. An RFID reader is fixed near the entrance of a copy room an RFID reader is also fixed at various locations within the copy room. If the RFID reader at the entrance of the copy room receives an RFID signal from the user s RFID tag and the RFID readers within the copy room receive an RFID signals soon thereafter it is determined that the user is within the copy room. A rule useful in describing this use case is 

Near field sensing of the user at fixed points in the networked domain advantageously provides a rough estimate of the user s location within the networked environment. Applying rules to the near field sensing of a user at plurality of fixed locations provides increased accuracy in approximating the user s location.

As just discussed above near field sensing of a user at fixed points in the networked environment is a mechanism for locating the user without attempting to specifically locate the RFID tag itself. The user is located only by determining that the user s RFID tag is within the range of one or more RFID readers. A user may be more accurately located through the use of a method called trilateration. For further explanation set forth line drawings that when taken together illustrate a method for determining the location of the user in dependence upon received RFID signals that uses trilateration. The method of includes receiving a plurality of RFID signals from the user s RFID tag on at a plurality of RFID reader locations and on and determining for each RFID reader a distance A B and C on between each he RFID reader and the user s RFID tag.

The method of also includes determining for each RFID reader and on an area and on of possible locations of the RFID tag in dependence upon the distance A B and C on between the RFID readers and on and the RFID tag . In the method of the area and on of possible locations of the RFID tag is represented by an area defined by a radius equal to the distance A B and C on between each RFID reader and the RFID tag. The method of also includes determining the intersection on of the areas and on of possible locations of the RFID tag. The intersection of the areas and on of possible locations is the approximate location of the RFID tag and therefore the user. As will occur those of skill in the art increasing the number of RFID readers available for use in the method of and often decreases the area of intersection.

As shown above the method of includes determining the distance A B and C on between the RFID readers and on and the users RFID tag on . One way of determining the distance A B and on between the RFID readers and on and the users RFID tag on is carried out by sending from each RFID reader an RFID signal. If another RFID signal is returned by an RFID tag the method includes determining the period of time between sending the first RFID signal and receiving the response signal from the RFID tag. This period of time is then divided by two and then divided by the speed of the RFID signal to determine the distance between the reader and the tag.

Because radio signals travel at the speed of light accurately measuring the send and response time of signal travel between a reader and tag may be cumbersome. Another method of determining the distance A B and C on between the RFID readers and on and the users RFID tag on that is less cumbersome includes using varying signal strengths to vary the range of the RFID reader. In such cases an RFID reader sends an RFID signal and if a tag responds the reader sends another signal with less strength. The reader repeatedly sends signals of diminishing strength until the tag no longer responds. The strength of each signal has a predetermined range of effectiveness. Therefore by systematically reducing the range of effectiveness of the reader the distance A B and C on between the RFID readers and on and the users RFID tag on can be approximated as being between the range of effectiveness of the signal for having the last response from a tag and the range of effectiveness for the signal for which there was no response from the tag. Systematically varying the signal strength to approximate the distance between the reader and tag provide a less cumbersome method of determining the distance A B and C on between the RFID readers and on and the users RFID tag on .

As discussed above once a user is located telecommunications routing according to some embodiments of the present invention advantageously forward calls to telephony devices in dependence upon the user s location. For further explanation sets forth an exemplary method for forwarding the call to a telephony device in dependence upon the user s location and location based user preferences. The method of includes selecting a telephony device in dependence upon the user s location and location based routing preferences . In the method of selecting a telephony device in dependence upon the user s location and location based routing preferences is carried out by selecting a device record from a device data base that represents the telephony device.

The exemplary telephony device record of includes a device ID uniquely representing the telephony device. The exemplary device record of includes a device type identifying the type of telephony device. Examples of telephony device type include telephone laptop PDA speakerphone wireless telephone wireline telephone cellular telephone and so on as will occur to those of skill in the art. The exemplary telephony device record of includes a device location identifying the location of the device. A location of the device may be represented as a latitude and longitude a room designation a physical address or any other representation of location that will occur to those of skill in the art. The exemplary telephony device record of also includes an effective range . An effective range describes the physical area for which the device is effective. For example a speaker phone may have a range of effectiveness of 10 square feet while a wireline phone may have an effective range of only two square feet.

The method of includes transferring the call to the selected telephony device . Transferring the call to the selected telephony device is typically carried out by calling API functions provided in a telephony API. Examples of telephony APIs include Java Telephony API available from Sun Microsystems Inc. CallPath API available from IBM and others that will occur to those of skill in the art.

The method of also includes receiving an RFID signal from an RFID tag located with the user and determining the user s location in dependence upon the RFID signal . As discussed above RFID tags are often available as either active RFID tags or passive RFID tags. The RFID signal in the example of therefore can be either an RFID signal from an active RFID tag located with or attached to the user or an RFID signal from a passive RFID tag located with or attached to the user. Also discussed in more detail above with reference to and determining the location of the user in dependence upon RFID signals can be carried out by near field sensing of the user s tag at fixed locations within the networked environment or through the user of trilateration. The exemplary descriptions of near field sensing and trilateration are for explanation and not for limitation. In fact there are many ways of determining the location of the user in dependence upon RFID signals that will occur to those of skill in the art and all such ways are will within the scope of the present invention.

The method of includes identifying a plurality of available telephony devices in dependence upon the user s location . In the method of identifying a plurality of available telephony devices in dependence upon the user s location includes selecting a telephony device record from a device data base in dependence upon the user location. Selecting a telephony device record from a device data base in dependence upon the user location is typically carried out by searching the device database for telephony device record whose location most closely matches the user location.

It is not uncommon for more than one telephony device to be available to a user in a particular location. That is a user at a particular location in the networked environment may often have more than one telephony device available. The method of therefore includes identifying a device based preference for the user and selecting one of the plurality of available telephony devices in dependence upon the device based preference . Device based preferences are preferences useful in selecting one of a plurality of available devices. Device based preferences may be provided by a user. Examples of device based preferences include preferences for wireless telephony devices over wireline devices preferences for telephony devices with speakers over devices without speakers a preference of devices that are wall mounted as opposed to those that are not wall mounted and so on as will occur to those of skill in the art.

In the example of the device based preferences are implemented in data as a device based preference record . The exemplary device based preference record of includes a preference ID field that uniquely identifies the preference. The exemplary device based preference record of also includes a preferred device type field that includes preferences for telephony devices in dependence of device type. Examples of device types include wireless devices wireline devices wall mounted devices mobile devices devices with speakers and so on as will occur to those of skill in the art. The exemplary device based preference record of includes a priority call device field that includes a device type or device identification of a device for priority calls. For example a priority call device may include a user s mobile phone and in such cases only high priory calls are routed to the mobile phone.

In the method of selecting one of the plurality of available telephony devices in dependence upon the device based preference typically includes searching the telephony device records previously selected in dependence upon the user s location on the device type field for a matching record. For further explanation sets forth an exemplary method for identifying device based preferences for the user and selecting one of the plurality of available telephony devices in dependence upon the device based preferences . In the method of identifying device based preferences for the user is carried out by selecting a device based preferences record from a preferences database . In the method of selecting one of the plurality of available telephony devices in dependence upon the device based preferences is carried out by reading from a device based preferences record an indication of a preferred communication device type and selecting a device of the preferred communication device type .

Continuing again with reference to The method of includes forwarding the call to the selected telephony device . Forwarding the call to the selected telephony device is typically carried out by calling API functions provided in a telephony API. Examples of telephony APIs include Java Telephony API available from Sun Microsystems Inc. CallPath API available from IBM and others that will occur to those of skill in the art.

Not all calls for a user are of equal importance. Situations may arise when a user may desire that calls be prioritized and that telecommunications routing be performed to rout the call to an appropriate telephony device in dependence upon the priority of the call. For further explanation sets forth an exemplary flow chart illustrating an exemplary method for selecting one of the plurality of available telephony devices in dependence upon the device based preferences The method of includes determining a priority of the call . One way of determining the priority of the call includes prompting the user for an indication of the call receiving as speech the priority of the call and converting the priority from speech to text.

In the method of the priority of the call is included in a call context data structure . A call context is typically a data structure including information about a particular call used for telecommunications routing. The exemplary call context of includes a context ID uniquely identifying the call. The exemplary call context of also includes a phone number field including the phone number of the phone from which the call was place. The exemplary call context of includes a recipient phone number field including the receiving phone number of the call. The exemplary call context of includes a caller field including an identification of the caller. The exemplary call context of includes a recipient field including an identification of the user. The exemplary call context of includes a priority designation . Priorities may be designated as Boolean indications of high priority or not high priority as values representing degrees of priorities or any other priority designation that will occur to those of skill in the art.

The method of also includes selecting one of a plurality of telephony devices in dependence upon the priority of the call . Selecting one of a plurality of telephony devices in dependence upon the priority of the call is carried out by reading from a device based preferences record a priority call device and selecting a device in dependence upon the priority call device. In some embodiments the priority call device identifies a particular device to receive all high priority calls. In other embodiments the priority call device identifies a device type for receiving high priority calls and selecting a device in dependence upon the priority call device includes selecting a device of the priority call device type.

Users are often not static in a networked environment. That is users often move around in a networked environment and often move from room to room. With the wide number of telephony devices available to a user after receiving a call on a particular telephony device a user may move and in such cases it is advantageous to reroute the call to another telephony device in dependence upon an anticipated future location of the user. For further explanation sets forth another exemplary method for rerouting telecommunications to a user. The method of includes receiving a plurality of RFID signals from an RFID tag located with the user and anticipating a user s future location in dependence upon the RFID signals .

Anticipating a user s future location in dependence upon the RFID signals can be carried out using a combination of the methods for locating a user described above. For further explanation sets forth a flow chart illustrating an exemplary method for anticipating a user s future location that includes determining a first user location . As discussed in more detail above with reference to and determining a first user location of the user in dependence upon RFID signals can be carried out by near field sensing of the user s tag at fixed locations within the networked environment or through the user of trilateration. The exemplary descriptions of near field sensing and trilateration are for explanation and not for limitation. In fact there are many ways of determining a first location of the user in dependence upon RFID signals that will occur to those of skill in the art and all such ways are will within the scope of the present invention.

The method of also includes determining a second user location . As discussed in more detail above with reference to and determining the location of the user in dependence upon RFID signals can be carried out by near field sensing of the user s tag at fixed locations within the networked environment or through the user of trilateration. The exemplary descriptions of near field sensing and trilateration are for explanation and not for limitation. In fact there are many ways of determining the location of the user in dependence upon RFID signals that will occur to those of skill in the art and all such ways are will within the scope of the present invention.

The method of also includes predicting a user future location in dependence upon the first user location and the second user location . One way of predicting a user future location in dependence upon the first user location and the second user location includes calculating a line of motion through the first location and the second location and selecting a future user location on the line of motion.

As will occur to those of skill in the art using only two previous user locations to predict a user s future location is a crude estimation of the user s future location. The method of therefore also includes storing locations identifications in a user location history . A user location history is a data structure containing identifications of previous locations of a user indexed by the date and time the user was at the previous location. The exemplary user location history of includes a user ID uniquely identifying the user location. The exemplary user location history of also includes a description or identification of the previous location . The description or identification of the previous location of the user may be a latitude and longitude a room designation a physical address or any other description or identification of a previous location that will occur to those of skill in the art.

The method of also includes predicting a user future location in dependence the user location history and location prediction rules . Location prediction rules are rules useful in predicting a users future location in dependence upon more than two location stored in the user location history. Location prediction rules often predict a user s future location in dependence upon factors such as speed of movement change of direction and the geographic layout of the networked environments as well as others that will occur to those of skill in the art.

For further explanation of the use of location prediction rules consider the following exemplary rule for an office with a north facing door to a living room.

In implementing this exemplary rule a communications gateway has determined that the user s previous location is in the office. A line through four locations in a user location history indicates the user is traveling north through the door to the living room. A communications gateway implementing this exemplary location prediction rule predicts that the user is leaving the office and entering the living room. The communications gateway implementing this rule therefore predicts that the user s future location is in the living room. Location prediction rules advantageously provide a vehicle for increased accuracy in predicting a user s future location for rerouting ongoing telecommunications.

Continuing again with reference to The method of also includes selecting a telephony device in dependence upon the anticipated future location . In the method of selecting a telephony device in dependence upon the anticipated future location also includes identifying device based routing preferences for the user and selecting a telephony device in dependence device based preferences. As discussed above often more than one telephony device may be available to a user at the anticipated future location. Device based preferences are preferences useful in selecting one of a plurality of available devices. Example of device based preferences include preferences for wireless telephony devices over wireline devices preferences for telephony devices with speakers over devices without speakers a preference of devices that are wall mounted as opposed to those that are not wall mounted and so on as will occur to those of skill in the art. In the method of identifying device based preferences for the user is carried out by selecting a device based preferences record from a preferences database. In the method of selecting a telephony device in dependence device based preferences is carried out by selecting a device record from a device database having a device type matching the preferred device type indicated in the device based preference record.

In the method of selecting a telephony device in dependence upon the anticipated future location includes identifying location based routing preferences for the user. As discussed above location based routing preferences are preferences for a user describing a preferred routing of telecommunications in dependence upon the user s location. For example an exemplary location based routing preference may describe that despite having more telephony devices available a user will accept calls on telephony devices in living room and the bedroom only. Therefore when the user s location is within a range of locations predetermined to be closer to the living room calls are routed to the living room. When the user s location is within a range of locations predetermined to be closer to the bedroom room calls are routed to the bedroom.

The method of also includes rerouting an ongoing call to the selected telephony device . In method of rerouting an ongoing call to the selected telephony device includes reading from a context for the ongoing call the current telephony device and transferring the call to the selected telephony device . Transferring the call to the selected telephony device is typically carried out by calling API functions provided in a telephony API available for use by a communications gateway. Examples of telephony APIs include Java Telephony API available from Sun Microsystems Inc. CallPath API available from IBM and others that will occur to those of skill in the art.

As discussed above the communications gateways operating in accordance with the present invention are able to detect device events in addition to routing telecommunications to a user. In such embodiments not only are telephony devices coupled for data communications with a communications gateway but other network enabled devices either telephony or noon telephony such as coffee pots ovens dishwashers computers stereos copy machines and other devices are also coupled for data communications with the communications gateway. Such network enabled devices are able to report their status to the communications gateway through events herein called device event. When such an event is received in the communications gateway it would be advantageous to notify the user of the device event.

For further explanation sets forth a flow chart illustrating an exemplary method for notifying a user of a device event that includes receiving a device event . In some embodiments receiving a device event is carried out by receiving a device event from a device that reports its status on its own motion. For example a coffee pot may be configured to send a device event notifying the communications gateway that the pot has finished brewing without requiring the gateway to poll the coffee pot. Alternatively receiving a device event includes polling the device periodically for the status of the device. In such examples receiving a device event typically includes calling member methods in a device class representing the device such as for example getStatus to get the status of the device.

The method of also includes associating the device event with a user . In the method of associating the device event with a user is carried out by reading a user ID from a device record for the device. In the example of the device itself has an owner and therefore only the user identified in the device class for the device is notified of the device event.

The device generating the device event is in the method of represented in data with a device record representing any device capable of reporting its status. Such devices can be either telephony devices or non telephony devices. The exemplary device record of includes a device ID uniquely identifying the device. The exemplary device record of includes a event type identifying the type of event generated by the device. The exemplary device record of also includes a user ID identifying that in the example of the device has an owner.

The method of also includes receiving an RFID signal from a user s RFID tag and determining the user s location in dependence upon the RFID signal . As discussed above RFID tags are often available as either active RFID tags or passive RFID tags. The RFID signal in the example of therefore can be either an RFID signal from an active RFID tag located with or attached to the user or an RFID signal from a passive RFID tag located with or attached to the user. Also discussed in more detail above with reference to and determining the location of the user in dependence upon RFID signals can be carried out by near field sensing of the user s tag at fixed locations within the networked environment or through the user of trilateration. The exemplary descriptions of near field sensing and trilateration are for explanation and not for limitation. In fact there are many ways of determining the location of the user in dependence upon RFID signals that will occur to those of skill in the art and all such ways are will within the scope of the present invention.

The method of also includes selecting a user notification appliance in dependence upon the user s location . A user notification appliance is any networked device capable of data communications with a communications gateway or other hardware or software implementing aspects of the method of and gaining the attention of a user. A user notification appliance may be as sophisticated as a computer that is programmed to send a user a standardized email to notify the user of the device event or as lightweight as a single speaker device capable of playing earcons or sound icons notifying the user of the device event. There are many types of user notification appliances available and all such user notification appliances are well within the scope of the present invention.

In the method of selecting a user notification appliance in dependence upon the user s location includes retrieving from a notification table a notification appliance ID identifying a notification appliance for use at the user s current location. The exemplary notification table of includes notification appliances indexed by their location . Selecting a user notification appliance in dependence upon the user s location typically includes searching the notification table on the location field for a notification appliance whose location is nearest the user.

The method of also includes notifying the user of the device event with the selected user notification appliance . Notifying the user of the device event with the selected user notification appliance may be carried out in some embodiments by calling member methods in a device class for the notification appliance such as for example PlayEarCon .

In the example of the device itself had an owner and therefore associating the device event with a user to be notified was carried out by reading the user from the device class for the device. In many cases however devices are shared and therefore do not have a single owner. For further explanation sets forth an exemplary method for associating with a user a device event generated by a device without an owner. The method of includes identifying the location of the device . In the method of identifying the location of the device includes reading a description of the location of the device from a field in a device record representing the device .

The method of includes identifying a previous location of the user . In the method of identifying a previous location of the user includes reading a description of a previous location of a user from a user s location history .

The method of includes associating the device event with a user in dependence upon the location of the device and the previous location of the user . In the method of associating the device event with a user in dependence upon the location of the device and the previous location of the user is typically carried out by identifying a user whose previous location most closely matches the location of the device. The method of therefore identifies one or more users whose previous location most closely match the location of the device and therefore are most likely the users who should be notified of the device event.

The method of associates users whose previous location most closely match the location of the device. However associating users with device event may advantageously use device types to more accurately identify the user to be notified of the device event. For example a device event that a coffee pot is finished brewing may be more accurately associated with a user who was located near the coffee pot five minutes ago than with a user near the pot five hours ago. For further explanation therefore sets forth another exemplary method for associating the device event with a user. The method of includes identifying an event type of the device event and identifying the location of the device . In the method of identifying the location of the device includes reading a description of the location of the device from a field in a device record representing the device .

The method of also includes identifying a previous location of the user . In the method of identifying a previous location of the user includes reading a description of a previous location of a user from a user s location history .

The method of includes associating the device event with the user in dependence upon the event type of the device event the location of the device and the user s previous location . In the method of associating the device event with the user in dependence upon the event type of the device event the location of the device and the user s previous location includes associating the device event with the user in dependence upon the event type of the device event the location of the device and the user s previous location with association rules . Association rules provide a vehicle for associating a user with a device event. For further explanation consider the following association rule 

A communications application implementing the rule above determines that the device event type represents preheating is complete for a networked oven. The communications application determines that the oven is in fact in the kitchen. A communications application implanting this association rule then determines whether a user has been in the kitchen in the last 20 minutes. If a user has been in the kitchen in the last twenty minutes then the communications application implementing this association rule associates the device event with the user. The use of association rules advantageously provide a vehicle for increased accuracy in associating users with device events and therefore increased accuracy in notifying only appropriate users of those device events.

As discussed above user records user routing preferences and other data useful in implementing methods of routing and rerouting telecommunications to a user may be stored in computer memory within the networked environment and directly accessible to a communications gateway or such information may be available through an enterprise server coupled for data communications with the communications gateway through a WAN. For further explanation sets forth an exemplary method for establishing RFID based telecommunications routing for a user . The method of includes identifying a plurality of telephony devices available to a user . As discussed above in this specification a telephony device is any device useful in facilitating telecommunications among users. Telephony device include computers digital communications equipment analog communications equipment or any other communications device that will occur to those of skill in the art.

In the method of identifying a plurality of telephony devices available to a user is carried out by receiving a telephony device identification from the user. Receiving a telephony device identification from a user may be carried out by receiving in a communication application the device identification from a user directly or by receiving the device identification at a service provider. One way of directly receiving a telephony device identification from the user is carried out by providing through a communications application instruction screens accessible by use of a browser that are designed to facilitate receiving through the instruction screens an identification of one or more telephony devices in the networked environment. An identification of a telephony device may include a serial number of the telephony device a make and model of the telephony device or any other identification of a telephony device that will occur to those of skill in the art.

Receiving a telephony device identification from a user may alternatively be carried out by service provider. In such an embodiment a service provider establishing an RFID based telecommunications routing account for the user may receive from a user an identification of one or more telephony devices in the networked environment and provide such identification to the communications application through an enterprise server coupled for data communications with a communications gateway in the user s networked environment.

The method of includes identifying the location of the plurality of telephony devices available to the user . In the method of identifying the location of the plurality of telephony devices available to the user is carried out by receiving a telephony device location identification from the user. Receiving a telephony device location identification from the user may be carried out by receiving the location directly from a user in a communication application or by receiving the location using a service provider. In some embodiments a user is empowered to directly provide to a communications application identifications of the locations of telephony devices in the networked environment. One way of receiving such identifications of the locations of telephony devices in the networked environment directly from the user is carried out by providing through a communications application instruction screens accessible by use of a browser that are designed to facilitate receiving the locations of one or more telephony devices. An identification of a location of a telephony device may include a room designation a latitude and longitude a physical address or any other identification or description of a location of a telephony device that will occur to those of skill in the art.

Receiving a telephony device location identification from the user may also be carried out through a service provider. In some such embodiments a service provider establishing an RFID based telecommunications routing account for the user may receive from a user an identification of the location of a telephony device and provide such identification of the location of the telephony device to the communications application through an enterprise server coupled for data communications with a communications gateway in the user s networked environment.

The method of includes receiving from a user routing preferences . In the method of receiving from a user routing preferences includes receiving from the user location based routing preferences. As discussed above location based routing preferences are preferences for a user describing a preferred routing of telecommunications in dependence upon particular user locations within the networked environment. For example an exemplary location based routing preference may indicate that that despite having more telephony devices available a user will accept calls on telephony devices in living room and the bedroom only. Therefore when the user s location is within a range of locations predetermined to be closer to the living room calls are routed to the living room. When the user s location is within a range of locations predetermined to be closer to the bedroom room calls are routed to the bedroom.

In the method of receiving from a user routing preferences may be carried out by receiving the routing preferences in a communications application from a user directly or receiving the routing preferences through a service provider. In some embodiments a user is empowered to directly provide to a communications application routing preferences for use in the networked environment. One way of receiving such location based routing preferences directly from the user is carried out by providing through a communications application instruction screens accessible by use of a browser that are designed to facilitate receiving from the user location based routing preferences for the networked environment. In some other embodiments a service provider establishing an RFID based telecommunications routing account for the user may receive from a user location based routing preferences and provide those routing preferences to a communications application through an enterprise server coupled for data communications with a communications gateway in the user s networked environment.

In the method of receiving from a user routing preferences also includes receiving from the user device based routing preferences. As discussed above device based preferences are preferences useful in selecting one of a plurality of available devices. Example of device based preferences include preferences for wireless telephony devices over wireline devices preferences for telephony devices with speakers over devices without speakers a preference of devices that are wall mounted as opposed to those that are not wall mounted and so on as will occur to those of skill in the art.

In the method of receiving from a user device based routing preferences may be carried out by receiving the device based routing preferences directly from a user or by receiving the device based routing preferences through a service provider. In some embodiments a user is empowered to directly provide to a communications application device based routing preferences for use in the networked environment. One way of receiving such device based routing preferences directly from the user is carried out by providing through a communications application instruction screens accessible by use of a browser that are designed to facilitate receiving from the user such device based routing preferences for the networked environment. In some other embodiments a service provider establishing an RFID based telecommunications routing account for the user may receive from a user device based routing preferences and provide those routing preferences to a communications application through an enterprise server coupled for data communications with a communications gateway in the user s networked environment.

The method of also includes receiving an RFID tag identification for a user. As discussed above the RFID tag is located with the user and therefore is typically used to uniquely locate the user. In the method of receiving an RFID tag identification for a user may be carried out by receiving the identification directly in a communications application from a user or by receiving the identification through a service provider. In some embodiments a user is empowered to directly provide to a communications application an identification of the RFID tag. One way of receiving such an identification directly from the user is carried out by providing through a communications application instruction screens accessible by use of a browser that are designed to facilitate receiving from the RFID tag identification. In some other embodiments a service provider establishing an RFID based telecommunications routing account for the user may receive from a user an identification of the user s RFID tag and provide the tag identification as part of the information available to a communications application through an enterprise server coupled for data communications with a communications gateway in the user s networked environment.

The method of also includes associating with the user the identified telephony devices available to a user the locations of the plurality of devices available to the user the routing preferences and the RFID identification. The method of associating with the user the identified telephony devices available to a user the locations of the plurality of devices available to the user the routing preferences and the RFID identification creates a user account for the user. A user account may be stored in a database within the networked environment or may be accessible to a communications application running on a communications gateway in the networked environment through an enterprise server.

In the example of a user account in an RFID based routing database is implemented through the use of relational data structures. For further explanation sets forth an exemplary relationship diagram of data structures useful in implementing a user account for telecommunications routing according to embodiments of the present invention. The example of includes a user record . The exemplary user record of includes a user ID uniquely identifying the user. The exemplary user record of also includes an identification of the user s RFID tag uniquely identifying the RFID tag. The exemplary user record of includes a preference ID identifying user preferences such as location based routing preferences and device based routing preferences discussed in more detail below.

The example of includes a device record related many to one to the user record though the user ID field used as a foreign key. The exemplary telephony device record of includes a device ID uniquely representing the telephony device. The exemplary telephony device record of includes a device type identifying the type of telephony device. Examples of device type include telephone laptop PDA speakerphone wireless telephone wireline telephone cellular telephone and so on as will occur to those of skill in the art. The exemplary telephony device record of includes a device location identifying the location of the device. A location of the device may be represented as a latitude and longitude a room designation a physical address or any other representation of location that will occur to those of skill in the art. The exemplary telephony device record of also includes an effective range . An effective range describes the physical area for which the telephony device is effective. For example a speaker phone may have a range of effectiveness of 10 square feet while a wireline phone may have an effective range of only two square feet.

The example of includes a user location history related one to one to the user record through the user ID field used as a foreign key. A user location history is a data structure containing identifications of previous locations of a user indexed by the date and time the user was at the previous location. The exemplary user location history of includes a user ID uniquely identifying the user location. The exemplary user location history of also includes a description or identification of the previous location . The description or identification of the previous location of the user may be a latitude and longitude a room designation a physical address or any other description or identification of a previous location that will occur to those of skill in the art.

The example of includes a location based preference record related many to one to the user record through the user ID field and the preference ID field . The exemplary location based preference record of includes a user ID uniquely identifying the user. The exemplary location based preference record also includes a location ID identifying the user location for which the location based routing preference is to be implemented. The location ID may be a latitude and longitude a room designation a physical address or a range of locations represented in any manner as will occur to those of skill in the art. The exemplary location based preference record also includes a preference ID uniquely identifying the routing preference associated with the location ID.

The example of includes a device based preference record related many to one to the user record through the user ID field and the preference ID field . The exemplary device based preference record of includes a preference ID field that uniquely identifies the preference. The exemplary device based preference record of also includes a preferred device type field that includes preferences for telephony devices in dependence of device type. Examples of device types include wireless devices wireline devices wall mounted devices mobile devices devices with speakers and so on as will occur to those of skill in the art. The exemplary device based preference record of includes a priority call device field that includes a device type or device identification of a device for priority calls. For example a priority call device may include a user s mobile phone and in such cases only high priory calls are routed to the mobile phone.

It will be understood from the foregoing description that modifications and changes may be made in various embodiments of the present invention without departing from its true spirit. The descriptions in this specification are for purposes of illustration only and are not to be construed in a limiting sense. The scope of the present invention is limited only by the language of the following claims.

