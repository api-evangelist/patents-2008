---

title: Virtual blasting system for removal of coating and/or rust from a virtual surface
abstract: A computer simulation and virtual reality system simulates the use of a blasting nozzle to remove one or more coatings and/or rust from a virtual surface. The user operates an electronic controller in the form of a blasting nozzle that outputs a signal indicating whether the blasting nozzle controller is in an “on” position or in an “off” position. The system also has a motion tracking system that tracks the position and orientation of the blasting nozzle controller with respect to the virtual surface defined on the display screen. Simulation software in a computer generates virtual blast pattern data, and the removal of the virtual coating(s) and/or rust image from the virtual surface is displayed in real time on the display screen.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07817162&OS=07817162&RS=07817162
owner: University of Northern Iowa Research Foundation
number: 07817162
owner_city: Cedar Falls
owner_country: US
publication_date: 20080211
---
The invention relates to training methods and systems for the removal of coatings such as paint and or rust from an underlying surface using blasting media. In particular the invention relates to the use of computer simulation virtual reality systems in order to facilitate training of proper blasting techniques.

In order to remove coatings and or rust from an underlying surface industry is moving away from the use of chemical stripping agents and towards the use of blasting techniques. With these blasting techniques abrasive or non abrasive media or water are blasted onto the surface at high velocity to remove the coating s or rust. There are a wide variety of blasting nozzles and blasting media on the market. The most widely used blasting systems use pressurized blasting media whereas other systems use a suction feed in which the blasting media is fed into a high velocity air stream via suction. Suction feed systems do not typically have as much power as a pressurized blasting media system. Commonly used blasting media includes silica i.e. sand plastic glass or water but there is also a wide range of specialized blasting media ranging from steel shot on the one hand to cornstarch or soy bean media on the other.

In a typical setup the user holds the blasting nozzle over their shoulder and blasts the media towards the workpiece. The distance that the blasting nozzle is from the workpiece is commonly referred to in the trade as standoff distance. The standoff distance is important because it regulates the velocity of the blasting media as it impacts the coated or rusted surface. The angular orientation of the blasting nozzle with respect to the coated or rusted surface is also important because the rate of removal varies significantly with respect to the angle of attack.

Typically the user aims the high velocity jet containing the entrained blasting material at the surface until the coating or rust is removed at that spot. The user then moves the jet across the surface in an up and down or back and forth motion in order to remove the coating from the surface. Once the coating s and or rust are removed the user should continue until the underlying surface is properly cleaned although care should be taken not to damage the underlying surface. In the field matching templates are used to rate the cleanliness of the surface once the paint and or rust layers have been removed.

When the user starts a job the user might not know the thickness of the coating or the amount of rust and therefore must guess based on experience and trial and error as to the appropriate standoff distance and orientation angle. If the nozzle is too close or not tilted enough with respect to the surface the impact of the blasting media may cause pitting to the surface. On the other hand if the standoff distance is too great or the tilt too large the blasting media may not have enough impact to remove the coating or rust.

It can be difficult for a person using a blasting nozzle to keep the nozzle at the optimum distance and orientation from the surface in order to properly remove coatings and rust without damaging the underlying surface. This can be especially difficult for novices. The ideal standoff distance and orientation is normally dependent on the type of blasting material the supplied pressure as well as the characteristics of the underlying surface and coating. Training and practical experience helps novices improve their skills however hands on training is time consuming labor intensive and expensive. These factors have made training of large groups such as military personnel or industrial contractors impractical. As a practical matter hands on training tends to limit the number of techniques that can be practiced and evaluated especially with respect to multiple coatings and different types of blasting media.

The assignee of the present application is also the assignee of three pending patent applications relating to the use of computer simulation and virtual reality for training and analyzing proper spray painting techniques. The first pending application is application Ser. No. 11 372 714 Publication No. US2007 0209585A1 entitled Virtual Coatings Application System by Ebensberger et al. filed on Mar. 10 2006 and incorporated by reference herein. The virtual coatings application system disclosed in this pending application generally includes a display screen on which is defined a virtual surface such as a truck door that is intended to be virtually painted or coated by the user. The user operates an instrumented spray gun controller that outputs one or more signals representing data as to the status of the controls on the spray gun controller for example the position of the trigger the paint flow rate and the pattern fan size. The system also has a motion tracking system that tracks the position and orientation of the spray gun controller with respect to the virtual surface defined on the display screen. Simulation software in the computer preferably a desktop or laptop PC generates virtual spray pattern data in response to at least the data from the spray gun controller and the position orientation data received from the tracking system. A virtual spray pattern image is displayed in real time on the display screen in accordance with the accumulation of virtual spray pattern data at each location on the virtual surface. The paint model is preferably based on empirical data collected from actual spray patterns generated for various spray gun settings. The preferred model simulates coverage distribution in an elliptical pattern in which the inner elliptical radii for width and height define an area of constant rate of coverage and the outer elliptical radii for width and height define the outer extent to which the rate of coverage becomes negligible. The total finish flow rate per unit time i.e. per software timing cycle is determined by the settings on the spray gun controller as well as its monitored orientation with respect to the virtual surface and is distributed over the virtual surface via random number generation in accordance with the above described elliptical distribution pattern. Each location on the virtual surface has an associated alpha channel which controls transparency of the coating at that location e.g. pixel based on accumulation of virtual spray at the given location thus realistically simulating fade in or blending for partial coverage on the virtual surface.

Another pending application application Ser. No. 11 539 352 Publication No. US2007 0209586A1 entitled Virtual Coatings Application System filed on Oct. 6 2006 assigned to the assignee of the present invention and also incorporated herein by reference further discloses an immersive system in which the user wears a head mounted display unit that virtually places the user in a three dimensional virtual spray painting environment. The three dimensional virtual environment provided to the user by the head mounted display contains a three dimensional depiction of the virtual surface to be painted and also preferably contains a depiction of a spray gun simulating the position and orientation of the instrumented spray gun controller with respect to the virtual surface. In this system the tracking system also tracks the position and orientation of the head mounted display unit in order to provide the appropriate perspective to the user in the immersive environment. In this system it is especially useful for the user controls to be accessible from within the immersive environment so that the user does not have to remove the head mounted display unit. This is accomplished by providing menu icons within the immersive environment that can be activated and controlled by the instrumented spray gun controller.

Another relevant copending application application Ser. No. 11 563 842 entitled Virtual Coatings Application System With Structured Training And Remote Instructor Capabilities filed on Nov. 28 2006 assigned to the assignee of the present invention and also incorporated herein by reference relates to software that facilitates structured training of planned lesson curriculum and enhanced network capabilities that allow students to view an instructor demonstrating technique in a remote location. Spray painting virtual reality training systems commercially offered by the assignee often include the features described in all three of these copending patent applications although some systems do not incorporate all of the features.

The invention is a computer simulation and virtual blasting system for the removal of one or more coatings and or rust from a virtual surface. A primary object of the present invention is to provide a virtual blasting system that realistically simulates the blasting experience for the user. In the preferred embodiment the system generally includes a display screen on which is defined a virtual surface such as a flat sheet of metal that is initially covered with the one or more coatings and or rust portions. The user operates an electronic controller in the form of a blasting nozzle that outputs a signal indicating whether the blasting nozzle controller is in an on position or in an off position. The system also has a motion tracking system that tracks the position and orientation of the blasting nozzle controller with respect to the virtual surface defined on the display screen. Simulation software in a computer preferably a desktop or laptop PC generates a virtual blast pattern data in response to at least the position and orientation data received from the tracking system and the signal indicating whether the blasting nozzle controller is in the on position or in the off position. The removal of the one or more coatings and or rust images on the virtual surface is displayed in real time on the display in accordance with the effect of the virtual blast pattern data at each location on the virtual surface.

In another aspect of the invention the preferred system can also simulate pitting damage which may occur to the underlying virtual surface e.g. in case of rust corrosion. The color of the underlying virtual surface in the preferred system adjusts in order to represent the cleanliness of the underlying surface after the one or more coatings and or rust have been removed. The preferred system also includes a multi color assessment mode that indicates whether a given area on the virtual surface has been blasted an appropriate amount or overblasted or underblasted.

In another aspect of the preferred embodiment of the invention the simulation software includes a blasting model that outputs virtual blast intensity that is calculated as a function of at least the standoff distance and angular orientation of the blasting nozzle controller relative to the virtual surface the supplied virtual air pressure the type of blasting media and the abrasive flow rate. The blasting model is preferably based on empirical data collected from blasting patterns generated for various actual blasting conditions. The preferred model distributes blasting intensity via a random number generator in accordance with a combination of a radial gradient and a linear gradient. The radial gradient follows a generally circular pattern in which the inner circular radius defines an area of constant blasting intensity and the outer circular radius defines the outer extent at which blasting intensity becomes negligible. Preferably the blasting intensity in the area between the inner and outer radius falls off linearly between the inner and outer radius. The linear gradient on the other hand depends on the angle of attack.

The realism of the simulation is enhanced in the preferred embodiment by providing an animation of media bounce back from the virtual surface and also preferably providing flickers in the animation representing removed coating chips and or rust. The system also preferably allows the user to select whether to play audio simulating the noise of the blasting process. The preferred system includes loudspeakers that are driven by digital recordings of actual blasting if this feature is toggled on.

The preferred blasting nozzle controller has a switch that is activated by a hand held lever e.g. a dead man s handle on the controller which indicates whether the controller is in an on position or in an off position. A tracking sensor or sensors is are also preferably mounted to the blasting nozzle controller. Otherwise the blasting nozzle controller is similar and preferably a retrofit or replica of an actual blasting nozzle typically used in the field.

The preferred tracking system is a hybrid inertial and acoustic six degree of freedom tracking system. Preferably a combined inertial and acoustic sensor is mounted on the blasting nozzle controller to sense linear and angular momentum as well as ultrasonic signals generated by a series of ultrasonic transmitters mounted above or adjacent the virtual workspace in front of the display screen. The preferred tracking system provides accurate six degree of freedom x y z pitch yaw and roll tracking data and is well suited to avoid interference that can corrupt data with other types of tracking system. The signals from the sensors on the blasting nozzle controller are preferably sent to the computer via a serial connection for use by simulation software and or graphics engine software. The blasting nozzle controller can be attached to an actual compressed air hose to further enhance the realism of the simulation.

In another aspect of the preferred embodiment of the invention the system includes a graphical user interface e.g. a software screen displayed on a computer monitor that allows the user to select setup parameters and settings for the blasting nozzle controller as well as view performance criteria and toggle on or off various optional features of the system. In addition it is preferred that the screen on which the virtual surface is displayed e.g. projection screen in a 2 D system or a head mounted display screen in a 3 D immersive system also include one or more icons set apart from the displayed virtual surface which can be activated by the user pointing the blasting nozzle controller at the icon and holding the blasting nozzle is in the on position.

In yet another aspect of the invention the system can simulate the use of a laser targeting and positioning system such as is disclosed in copending U.S. patent application Ser. No. 11 334 270 entitled Light Beam Targeting and Positioning System For A Paint Removal Blasting System by Richard J. Klein II filed on Jan. 18 2006 and assigned to the assignee of the present invention incorporated herein by reference. Such systems propagate two converging light or laser beams from a blasting nozzle onto a surface to provide a visual aid for positioning the blasting nozzle at the proper standoff distance from and orientation with the surface. In the present invention the graphical user interface preferably allows the user to select whether the system should simulate the use of such a targeting and positioning system.

In addition the features of the invention can be incorporated into a system also having the features described in the above incorporated copending patent applications or can alternatively be used as a stand alone system. In this regard many of the features described in the copending incorporated patent applications such as the use of enhanced software capabilities that enable structured training via planned lesson curriculum enhanced network capabilities that allow students to view an instructor demonstrating technique from a remote location or the use of a head mounted display unit to provide an immersive virtual reality environment are able to be used in connection with the virtual blasting system described herein.

Various other aspects and features of the invention should be apparent to those skilled in the art upon reviewing the following drawings and description thereof.

The virtual blasting system includes a display screen preferably on a large projection screen television although other types of display screens can be used. A 72 inch screen measured on the diagonal provides a suitable amount of virtual workspace although an 86 inch screen is preferred. The system defines a virtual surface on the front surface of the display screen . The user is holding a blasting nozzle controller and is operating the controller to remove virtual coatings and or virtual rust from the virtual surface defined on the screen . The position and orientation of the blasting nozzle controller with respect to the virtual surface on the screen display is monitored using a tracking system preferably a six degree of freedom tracking system that monitors translation in the x y and z direction as well as pitch yaw and roll. The preferred tracking system is a hybrid inertial and ultrasonic tracking system as described in more detail hereinafter and in co pending patent application Ser. No. 11 372 714 incorporated by reference above although many aspects of the invention may be implemented using other types of tracking technologies. The preferred inertial and ultrasonic tracking system is desired because it minimizes electrical interference present with other types of commercially available tracking systems. schematically depicts an arrangement of ultrasonic transmitters mounted to a frame extending over the space in front of the display screen . The space in front of the display screen on which the virtual surface is located is referred to herein as the virtual workspace .

Alternatively although not preferred it may be desirable to provide an immersive system in which the user wears a head mounted display unit as described in the above incorporated U.S. application Ser. No. 11 539 352 except modified as necessary to implement the blasting simulation as described herein in contrast to a spray painting simulation as described in the incorporated pending patent application.

The blasting nozzle controller is connected to a computer preferably via USB cable connection . A monitor keyboard and mouse are connected to the computer as well as one or more loudspeakers . The virtual blasting system preferably includes a graphical user interface that is displayed on the computer monitor .

As mentioned above the preferred blasting nozzle controller is also instrumented with a hybrid inertial and ultrasonic sensor which is mounted to a top surface of the blasting nozzle controller . The preferred inertial and ultrasonic sensor is supplied along with other components of the tracking system from InterSense Inc. of Bedford Mass. The preferred sensor is the InterSense IS 900PC Minitrax tracker device. The sensor includes accelerometers and gyroscopes for inertial measurement and a microphone for measuring ultrasonic signals from the series of ultrasonic transmitters mounted on frame . The preferred arrangement of ultrasonic transmitters consists of a SoniFrame emitter with two 6 foot SoniStrips and one 4 foot SoniStrip from InterSense and provides a tracking volume of approximately 2.0 m 2.0 m 3.0 m for the virtual workspace . The tracking system uses hybrid inertial and ultrasonic tracking technologies substantially disclosed in U.S. Pat. No. 6 176 837 which is incorporated herein by reference. The ultrasonic transmitters receive timing signals from tracking software in the computer . The sensor microphone detects high frequency signals from the ultrasonic transmitters and the sensor accelerometers and gyroscope devices generate inertial position and orientation data. The inertial measurements provide smooth and responsive sensing of motion but accumulation of noise in these signals can cause drift. The ultrasonic measurements are used to correct such drift. The sensor located on the blasting nozzle controller outputs a six degree of freedom signal namely x y z for linear directions and pitch yaw and roll for angular directions. The signals from the sensor are transmitted through a cable which is fed through the controller where it is connected to the USB cable . The position and orientation of the sensor is determined based on software in the computer thus determining the position and orientation of the blasting nozzle controller in the virtual workspace in front of the display screen surface . While it is possible for connections from the controller to the computer to be wireless it is preferred to run the USB cable for 6 to 10 feet in order to simulate a pressurized feed hose on an actual blasting nozzle.

Although not shown in the controller also may include a mock up laser targeting and positioning system shown schematically by reference number in . The function of an actual laser targeting and positioning system is simulated using a reverse projection display method. Actual laser targeting and positioning systems for a blasting nozzle are described in the incorporated copending patent application Light Beam Targeting And Positioning System For A Paint Removal And Blasting System application Ser. No. 11 334 270 filed on Jan. 18 2006 assigned to the assignee of the present application now U.S. Pat. No. 7 270 593. In its preferred form such a system uses a reference light beam projecting forward from the blasting nozzle onto the surface and also projects a non parallel guide beam onto the surface. The user of the blasting nozzle aims the center of the jet of blasting media at the spot illuminated by the reference beam and determines whether the blasting nozzle is at the proper orientation and standoff distance from the surface thus controlling impact velocity by determining whether the illuminated points have converged or are aligned. In the virtual blasting system software within the computer models the illumination of the points for the laser or light beam targeting and positioning system based on the position and orientation data and illuminates those points on the virtual surface .

Based on the six degree of freedom signal that is transmitted to the tracking software via line the tracking software outputs position and orientation data to the simulation software . As described in more detail in U.S. Pat. No. 6 176 837 incorporated herein by reference the tracking software determines the position and orientation data with advanced Kalman filter algorithms that combine the output of the inertial sensors with range measurements obtained from the ultrasonic components. Arrow depicts the six degree of freedom position and orientation data being sent from the tracking software to the simulation software . As discussed in co pending and incorporated patent application Ser. No. 11 563 842 an immersive 3 D system would also include a sensor that sends position and orientation data of the head mounted display unit to the tracking software . The simulation software also receives information arrow directly from the blasting nozzle controller regarding whether the blasting nozzle is in an on position or an off position as well as information regarding system set up from the graphical user interface see arrow . Generally speaking the simulation software feeds calculated information to a performance database arrow and to graphic engine software arrow . In practice the preferred system actually involves several separate flows of information from the simulation software to the graphical engine software and the performance database . The graphic engine software outputs data that drives images on the projection screen depicted by arrow as well as data that drives loudspeakers depicted by arrow . On the projection screen the system will show real time three dimensional graphics illustrating the virtual surface and paint and rust layers as removed throughout a training session. Performance data and current nozzle settings are also preferably displayed on the projection screen throughout training sessions. The preferred graphics engine includes an audio component to load and play audio as well as support for the six degree of freedom tracking system and support for receiving the signal from the blasting nozzle controller . In addition the graphics engine software includes matrix and vector libraries that are used to calculate positions orientations model transformations intersections projections formats and other such datum.

As discussed in the above copending and incorporated patent application Ser. Nos. 11 372 714 11 539 352 and 11 563 842 when the user launches the virtual blasting system software on the computer the Windows application programming interface is launched to run the application software. Preferably the user is required to login before using the system. The system generates a student performance data file for each student that has logged in on the system and these student data files are stored as part of the performance database. Once the student is logged in the graphical user interface appears on the computer screen and performance data for that session specific to the student is read from and written to the student data file and displayed on the computer screen .

The simulation software includes a mathematical blasting model that models the intensity and the distribution pattern of the virtual jet of blasting media impacting the virtual surface for a slice of time as will be discussed in more detail below. Simulation software also includes a target or visual model accumulation shader in which models a two dimensional image to be displayed on the projection screen as the virtual surface or alternatively a three dimensional image in an immersive system with a head mounted display unit . Before a training session begins the visual model models the initial coatings and or rust along with any exposed underlying surface that are programmed to be virtually displayed. Preferably the visual models for the virtual surfaces and coatings and rust are supplied in the 3D Studio DOS 3.ds format. For two dimensional images the models are flat along the z axis. Software can be developed for this application in the c programming language using Microsoft Visual Studio .

The mathematical blasting model in the simulation software predicts beam shape and beam intensity of the blasting media based on standoff distance and angle of the blasting nozzle controller relative to the virtual surface as well as supplied air pressure media type hard medium soft and media flow rate. For each timing cycle the intensity of the impacting media is determined from empirical data preferably as follows 

The actual intensity distribution is based on a random number generator over a distribution pattern for each slice of time. Referring to the blasting model assumes two distribution gradients one radial and one linear which are multiplied together for every point to form a blended pattern . The radial gradient model shown in distributes the media impact power and removal effectiveness i.e. the intensity using a circular pattern or alternatively an elliptical pattern in which the inner radius defines an area of constant intensity the outer radius defines the extent to which intensity of the virtual jet becomes negligible and between the inner radius and the outer radius the intensity varies linearly with the radius. The outer radius is provided by the above tables. The linear gradient pattern varies linearly in response to the orientation of the controller with respect to the virtual surface i.e. the intensity gradient changes with respect to the angle of attack. The overall pattern as mentioned is a combination of the linear gradient and the radial gradient and the overall pattern dimensions are modified in accordance with the standoff distance see Beam Shape in the above tables.

The mathematical model compensates for the rotation of the controller by displacing and rotating the coverage pattern and modifying the coverage density according to the collected data. Generally speaking the pattern as a whole exhibits reduced coverage due to pitch and yaw. Thus a constant in the extended data structure is returned which represents the average reduction in coverage density over the area of constant coverage. For pitch and yaw changes through 15 or 20 the total average density variation only approaches about 4 .

The preferred graphics engine is a scene graph based rendering engine and in particular the GRaiL graphics engine developed by and available from Southwest Research Institute San Antonio Tex. as described in the above incorporated patent application Ser. Nos. 11 372 714 and 11 539 352. shows the operation of the preferred visual blasting model using GRaiL . Referring to the box labeled with reference number indicates generally that data representing the nozzle position orientation and trigger position are sent to the mathematical blasting model . The mathematical blasting model is labeled in as blasting intensity calculator and as described earlier distributes the intensity from the above look up tables with the combined radial and linear gradients to determine intensity for every point on the removal pattern per time cycle. This intensity value is then passed to the compositor which is preferably a four channel texture map. Coatings rust substrate appearance substrate pitting and composition of these elements are modeled as texture maps. Each layer of coating or rust is represented as an individual texture map. These texture maps represent the appearance of the layer assuming that the entire layer is visible on the part. Removal and display of the layers is managed by the accumulation shader . The Layer 1 channel A represents the thickness of the first layer and or rust. The Layer 2 channel B represents the thickness of layer 2 and the Layer 3 channel C represents the thickness of layer 3. Channel D represents the alpha channel which represents the amount of blasting media to touch the substrate after a predetermined surface condition is reached in order to determine substrate pitting and substrate appearance as described below. As illustrated in for each time slice the compositor draws information from the mathematical blasting model as illustrated by arrow . This blasting intensity pattern data is added to the then current values for each layer as indicated by block and passes values to the off screen buffer A B C and D. The compositor also saves the accumulated values for the next time cycle see arrow . The results of the off screen buffer A B C D are applied to the accumulation shader for each time cycle. The texture maps coating layers rust substrate pitting and composition elements are shown for that time slice based on the information gathered in the off screen buffer. The accumulation shader displays the appropriate texture map for that time slice depending on the value stored. If there is rust present on the target part the rust is depicted in layer 1. A mask is used for this purpose. The mask image is white wherever paint layers are on the part and it is black wherever those areas are covered with rust. The mask does not change during execution of the training lesson that is the mask remains static even if paint or rust are removed. Mask having varying degrees of rust can be stored electronically. As shown in the layer 1 channel A is a combination of the rust appearance and the layer 1 coating appearance A as determined by the mask . Channel B represents the layer 2 coating appearance as shown by box B and channel C represents the appearance of the layer coating as depicted by box C. The accumulation shader combines the channels A B and C from the off screen buffer as depicted by box . Assuming that the maximum coating thickness is given a value of 10 the display of rust and or layers of coatings is determined in accordance with the following rules. If the mask is black in an area and the value of the layer 1 channel is less than 10 rust and pitting will be displayed. Note that pitting accumulates via the alpha channel D as illustrated by box . If the mask is white then the accumulation shader will display the topmost coating that is remaining along with any pitting damage. For example in a system where there are three layers of paint and no rust the system will first display layer 3 until layer 3 has been removed then it will display layer 2 until layer 2 has been removed and then it will display layer 1 until layer 1 has been removed at which time it will display the substrate. Box illustrates the initial pitting effect for example due to simulated corrosion from rust. Box shows that additional pitting damage for the time slice is added to the initial substrate pitting per time cycle. Box represents the texture map for the fully cleaned substrate. The pitting layer overlays the substrate layer . Box in the accumulation shader indicates that the accumulation shader provides a final texture map that combines the substrate image the pitting effect and the coating and or rust image. This texture map is passed to the onscreen renderer box as depicted by arrows .

Preferably the animation for the media bounce back simulates paint chips in the media bounce back. In particular the front and back of the paint chips are different colors so as to simulate the flicker that occurs in actual blasting. The onscreen renderer also receives a media bounce back animation . Media bounce back is displayed as an animated texture to approximate the visual appearance of the media and paint flakes bouncing off of the virtual surface. The media bounce back animation is preferably mapped onto a square centered at the intersection of the media stream and the virtual part. The media bounce back animation is alpha blended with the virtual part image to simulate the transparent nature of the bounced media cloud. As shown in the onscreen renderer draws the virtual work surface with the remaining virtual paint and rust on the surface and the animated media bounce back and also depicts whether the virtual surface has been pitted. The onscreen renderer is GRaiL s normal rendering path. The onscreen renderer outputs to the open graphics library which controls the display on the projection screen as illustrated by output box .

The system set up parameters shown on the screen in are the simulated flow rate and air pressure for the blasting nozzle controller . The performance criteria shown on the screen in are percent overblasting media emitted percent cleaned and overall score. The displayed parameter setups as well as the displayed performance scores can be edited by the user as described below. The virtual surface in illustrates areas of rust coating and underlying exposed substrate. Preferably the user is allowed to select the percentage of rust on the surface and the system will produce a mask simulating a rust pattern for the appropriate percentage.

Referring now to the preferred graphical user interface prompts the user to login in order to bring up the main screen and to start the training session. Once the user logs in the user can select between free play mode and training mode as described in copending patent application Ser. No. 11 563 842 incorporated herein by reference. The graphical user interface executes within Microsoft Internet Explorer Web Browser and allows the user to log in choose courses and administer users lessons and classes. Note that in one embodiment of the invention the software provides the ability to choose between a virtual blasting system or a virtual painting system as disclosed in the above incorporated patents. The preferred graphical user interface also provides screens for selecting lessons within the training mode or the free play mode and then starting monitoring and stopping training lessons. shows an exemplary main screen on the graphical user interface when a blasting lesson is in progress. In this configuration the surface type is preselected for the lesson as is the percent of rust on the virtual surface. The user is required to select certain training setup parameters such as media type hard medium or soft and supplied air pressure media flow rate .

The graphical user interface screen also includes several toggle switches. Toggle box labeled PLAY AUDIO allows the user to select whether the simulation will include simulated blasting noise in accordance with data from the audio component in the simulation software. In this regard the system includes one or more speakers and the software interactively generates an output sound signal in response to whether the switch on the blasting nozzle controller has been activated. The output sound signal is provided in real time preferably with a two second delay for startup to drive the one or more loudspeakers to simulate the sound of an actual blasting nozzle in use. As mentioned the simulation software preferably includes digital sound files of actual blasting noise recordings. It has been found that the volume of blasting varies generally proportionally to the supplied air pressure. The software controls the volume of the sound generated by the loudspeakers in accordance with the supplied air pressure setting on the graphical user interface .

Box entitled SHOW CURRENT SCORE allows the user to choose whether the current performance scores are displayed on the display screen next to the virtual surface such as depicted by reference number in . Box entitled SHOW SETTINGS allows the user to choose whether the current controller settings are displayed on the display screen next to the virtual surface such as depicted by reference number in . Having this information displayed on the projection screen puts this information within the scope of vision of the user and provides immediate feedback in a non distracting manner.

Box in entitled SHOW ASSESSMENT allows the user to choose whether to display the virtual part in a multiple color assessment mode. Referring to when in assessment display mode areas with paint or rust are displayed as normal however areas with no paint or rust are color coded to represent the amount of excessive blast media to reach the virtual surface. For example it is preferred that shades of blue represent underblasting while shades of green represent blasting close to achieving the target surface profile and shades of red represent overblasting. illustrates this color coding. provides an example of how a blasting pattern might look in assessment mode if the controller were moved up and down slightly to form an oval or elliptical pattern. The inner section might be overblasted whereas the outer fringes might be underblasted. The assessment display is created using the accumulation shader in . The accumulation shader is a .cg file. Note that the user can virtually blast a part on the virtual surface without being in assessment mode and then change the settings to show assessment display mode on the display screen .

Referring again to box entitled SHOW LASERGUIDE on the user interface screen enables the user to select whether the simulation software should model a light or laser targeting and positioning system by illuminating two dots on the virtual surface thus helping the user maintain the blasting nozzle controller in an appropriate position and orientation with respect to the virtual surface. While it may be desirable to outfit the blasting nozzle controller with a mock up of an actual laser targeting and positioning system as disclosed in copending U.S. patent application Ser. No. 11 334 270 now U.S. Pat. No. 7 270 593 such a mock up is not necessary to carry out this aspect of the invention. Preferably the software generates data to illuminate an image on the projection screen simulating a reference beam hitting the virtual surface as well as a gauge beam hitting the virtual surface. The image for the reference beam is preferably set to be in the center of the virtual jet of blasting media as it impacts the surface whereas the image for the gauge beam depends on the standoff distance and orientation of the controller with respect to the virtual surface . Preferably the image of the reference beam and the image of the gauge beam will converge to a single point at the middle of the blast pattern when the blasting nozzle controller is located at the appropriate distance and orientation with respect to the virtual surface . However the image of the gauge beam on the display screen will depart from the image for the reference beam if the nozzle controller is moved too far too close to the surface or tilted inappropriately. Since the standoff distance between the blasting nozzle controller and the virtual surface is known by the tracking system as well as the offset between the sources of the imaginary reference beam and the imaginary gauge beam and the angle of attack of the imaginary gauge beam with respect to the imaginary reference beam via settings on the mocked up laser guide or the graphical user interface or assumed default settings the system is able to calculate the location of the illuminated images for the imaginary reference beam and the imaginary gauge beam on the surface using fundamental trigonomic expressions.

In addition as previously mentioned the graphical user interface shown in displays one or more performance monitoring metrics for the current training session as well as data summaries for previous training sessions. Note that the display box lists the following information for the current training session media used percent cleaned percent overblasted percent underblasted overall score and elapsed time. The performance computations are based on the position and angle of the blasting nozzle controller in accordance with the computer simulation. The performance criteria are preferably defined as percent overblasting area with waste media divided by total area of the virtual surface media emitted in ounces total blasting media sprayed from nozzle controller percent clean area without coating or rust divided by total area of virtual surface and overall score 100 X clean Y blasted where X and Y are factors specified in the system configuration file . Box on the screen in shows summaries of previous performance scores for the logged in user. The performance data is stored and recalled using the performance database as previously discussed in .

The graphical user interface can also include dropdown menus such as dropdown menus labeled file display and tools . Under the dropdown menu for file the preferred system includes a restart command which restarts the training session and resets all the performance data a save to database command which saves the current student scores to the database a save as file command which saves the current user scores to a specified file and an exit command which exits from the virtual blast application. The display dropdown menu preferably includes a show settings command a show performance metrics command a play audio command a show assessment mode command a show laser paint command etc. The tools menu preferably includes the calibrate tracker command which starts the tracker calibration mode.

It should be apparent to those skilled in the art that the preferred virtual blasting system described herein includes many features designed to enhance the realism of blasting training session as well as performance monitoring of such training sessions. In part because the blasting model is based on blasting patterns collected from actual blasting experiments the model realistically simulates actual blasting sessions. Importantly the system can be modified to include additional models for other types of blasting nozzle controllers in addition to a controller simulating pressurized supplied abrasive.

Those skilled in the art should appreciate that the embodiments of the invention disclosed herein are illustrative and not limiting. Since certain change may be made without departing from the scope of the invention it is intended that all matter contained in the above description and shown the accompanying drawings be interpreted as illustrative and not in a limiting sense.

