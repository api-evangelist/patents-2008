---

title: Abstraction function for mobile handsets
abstract: Handset, computer software and method for protecting sensitive network information, available in the handset, from disclosure to an unauthorized server, by using an abstraction function module, the handset being connected to a network. The method includes receiving at the abstraction function module an encoding key from an abstraction server; receiving at the abstraction function module a request from a client or application for providing the sensitive network information from a control plane module of the handset, wherein the client or application resides in a user plane module, which is different from the control plane module, the sensitive network information is stored in the control plane module of the handset, and both the control plane module and the user plane module reside in the handset; retrieving by the abstraction function module the requested sensitive network information from the control plane module; encrypting, by the abstraction function module, the retrieved sensitive network information based on the received encoding key; and providing the encrypted sensitive network information to the client or application in the user plane module.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08831223&OS=08831223&RS=08831223
owner: Telefonaktiebolaget L M Ericsson (Publ)
number: 08831223
owner_city: Stockholm
owner_country: SE
publication_date: 20081230
---
This application is related to and claims priority from U.S. Provisional Patent Application Ser. No. 61 022 437 filed on Jan. 21 2008 entitled Network Abstractions and Hiding Functions for Mobile Devices to J. Bolin et al. the entire disclosure of which is incorporated here by reference.

This application is related generally to communications systems devices and methods and more specifically to mobile devices services and software for protecting sensitive information from being disclosed to unauthorized third parties.

Mobile phones and services on mobile handsets mobile handset also refers to embedded devices in e.g. PCs laptops vehicles etc. have had a fantastic evolution during the last decade. When 3GPP standardized GSM and later 3G during the late 1980 s and 1990 s circuit switched telephony and later Short Message Service SMS were mainly the only services available. Since then mobile handsets and networks have evolved to create powerful devices capable of running both local applications and browser based services connected to a network providing a bandwidth high enough for TV and interactive multimedia. With the increasing bandwidth and need to provide a feasible technical platform and transport technology for multimedia services packet switched networks e.g. using Internet Protocol IP as the fundamental technology are becoming the dominating platforms for mobile services. There are a number of reasons why this trend is being supported by most actors in the communications business. One reason is that third parties will start to develop applications for such systems and just as in the case with Internet this will likely be a key to the expected success of next generation technologies. Another reason is that IP provides a technology platform where it is cheaper to deploy functionality. This is to a large extent due to economy of scale as technology also used by the IT industry is cheaper than traditional telecom technology.

Additionally with the increasing bandwidth advanced mobile handsets having IP connectivity a functionality that was previously implemented as a tightly integrated functionality in the operators networks with so called thin e.g. relatively limited processing and or memory resource clients and using control channels for communication are available as applications located in the IP domain in the operators network or even outside of their networks and with a relatively thicker e.g. having relatively more resources client on the handset. In other words the conventional thin clients were limited in their capabilities and thus the logic in the service relied on network and or server and proxy side instead of relying on the mobile handset. Typical example of the thin clients is the traditional browsers and or SMS MMS based services. However with the development of the more advanced mobile handsets the thicker clients i.e. Java Symbian iPhone applications have more of the logics performed in the client and not in the network and or server. This is also true for the next generation web environments with more advanced browsers for example Google Gears and Android. In order for these thicker clients to communicate with servers in the network there is often a need to transfer information therebetween e.g. information regarding the network capabilities and or the native functionality in the handset and there arises therefore a need for interfaces and protocols which enable the exchange of such information. This functionality and information is to a large extent what is often referred to as the control plane of a communication system while the communications between a client associated with the handset and a server in the network e.g. based on a packet based technology such as IP is usually referred to as the user plane .

There are several interfaces which have the capability to obtain data about the native functionality of the handset and network information stored in the control plane in the handset which an operator would not like to share with an unauthorized user or server. Such interfaces are based on operating system OS which typically provides most of the native functionality that is available in the handset. Examples of OS are Symbian Nokia Series 60 Windows Mobile and Linux. These OSs may provide interfaces for services and information that are available in the control plane. Examples of such services and information include Call Control SMS MMS services as well as network information e.g. base station ID to which a handset is currently attached neighbor list and active passive set. An active set includes 3G base stations that are candidates for soft handover and the handset decoded the pilots of these base stations in order to be able to perform the handover. A passive set includes 3G base stations that are heard by the handset but are not candidates for soft handover. The handset does not decode these pilots to the same degree as for the active set. In addition to the interfaces provided by the OS Java J2ME or other run time environments also provide a wide set of standardized interfaces in which a Java application may obtain access to the services and information from the control plane.

On the other hand since the user plane based services typically mean lower investment cost and shorter time to market the Open Mobile Alliance OMA has standardized service enablers based on user plane signaling. One example of a user plane based service is the user plane based positioning standardized in OMA Secure User Plane Location SUPL . In SUPL a SUPL client in the terminal may access network information and positioning capability. The client may communicate with a SUPL Server using IP and a provisioned IP address.

This type of architecture raises certain issues and challenges. As the interfaces to the control plane provide the user plane services with a mechanism to obtain information from the control plane this information can be exported to entities outside of the operators domain. However since some of the information from the control plane may be sensitive and can be abused by entities outside the operator these interfaces may introduce a commercial and sometimes a security risk for the operator. As various services and clients need the information provided by these interfaces and thus the information has to be supplied to the legitimate services and or clients. Such legitimate services and or clients are those for example that have established an agreement with the operator for receiving sensitive network information. One example of such sensitive network information is the Cell ID and also the neighbor list i.e. a list including neighbor base stations and or cells of a given cell. For services such as OMA SUPL positioning and IP Multimedia Subsystem services the user plane clients need the information from the control plane in order to work properly. Thus hiding the information from the control plane from everybody except the operator is not a solution.

When information such as the Cell ID is available to applications in the user plane other actors than the operator can monitor and register the information and use it to compete with the operator for example to gain business advantages. One example of such competitive use is that of independent actors not related or in a relationship with the operator providing user positioning services and statistics using the operator s infrastructure. Another competitive use is that of competing operators monitoring and keeping registers of competing operator s network infrastructure for business intelligence. In addition to these commercial examples there are also some countries in which the information such as cell planes is supposed to be kept secret due to national security reasons. As the information as such e.g. the Cell ID often is used in a large number of nodes and systems in the operators network e.g. access and routing control user management and charging etc. this information should be properly controlled by the operator to be available to the permitted services and or clients and also to the equipment within the network.

Accordingly it would be desirable to provide devices systems and methods that avoid the afore described problems and drawbacks.

According to an exemplary embodiment there is a method for protecting sensitive network information available in a handset from disclosure to an unauthorized server by using an abstraction function module the handset being connected to a network. The method includes receiving at the abstraction function module an encoding key from an abstraction server receiving at the abstraction function module a request from a client or application for providing the sensitive network information from a control plane module of the handset wherein the client or application resides in a user plane module which is different from the control plane module the sensitive network information is stored in the control plane module of the handset and both the control plane module and the user plane module reside in the handset retrieving by the abstraction function module the requested sensitive network information from the control plane module encrypting by the abstraction function module the retrieved sensitive network information based on the received encoding key and providing the encrypted sensitive network information to the client or application in the user plane module.

According to another exemplary embodiment there is a handset configured to protect sensitive network information available in the handset from disclosure to an unauthorized server by using an abstraction function module the handset being connected to a network. The handset includes a transceiver configured to receive an encoding key from an abstraction server and a processor connected to the transceiver to receive the encoding key. The processor includes the abstraction function module wherein the abstraction function module is configured to receive a request from a client or application for providing the sensitive network information from a control plane module of the handset wherein the client or application resides in a user plane module which is different from the control plane module the sensitive network information is stored in the control plane module of the handset and both the control plane module and the user plane module reside in the handset retrieve the requested sensitive network information from the control plane module encrypt the retrieved sensitive network information based on the received encoding key and provide the encrypted sensitive network information to the client or application in the user plane module.

According to an exemplary embodiment there is a computer readable medium including computer executable instructions wherein the instructions when executed implement a method for protecting sensitive network information available in a handset from disclosure to an unauthorized server the handset being connected to a network. The method includes providing a system comprising distinct software modules wherein the distinct software modules comprise an abstraction function module a control plane module and a user plane module receiving at the abstraction function module an encoding key from an abstraction server receiving at the abstraction function module a request from a client or application for providing the sensitive network information from the control plane module of the handset wherein the client or application resides in the user plane module which is different from the control plane module the sensitive network information is stored in the control plane module of the handset and both the control plane module and the user plane module reside in the handset retrieving by the abstraction function module the requested sensitive network information from the control plane module encrypting by the abstraction function module the retrieved sensitive network information based on the received encoding key and providing the encrypted sensitive network information to the client or application in the user plane module.

The following detailed description of the invention refers to the accompanying drawings. The same reference numbers in different drawings identify the same or similar elements. Also the following detailed description does not limit the invention. Instead the scope of the invention is defined by the appended claims.

Reference throughout the specification to one embodiment or an embodiment means that a particular feature structure or characteristic described in connection with an embodiment is included in at least one embodiment of the present invention. Thus the appearance of the phrases in one embodiment or in an embodiment in various places throughout the specification is not necessarily all referring to the same embodiment. Further the particular features structures or characteristics may be combined in any suitable manner in one or more embodiments.

According to exemplary embodiments by introducing an abstraction functionality in the mobile handset sensitive information such as that described above from the control plane can be abstracted and protected from potential abuse. The abstraction functionality may for example hide modify or encode the sensitive information in order to protect it from abuse. According to an exemplary embodiment not all the information in the control plane is sensitive. Thus that information from the control plane that is not sensitive may be shared with third parties that have no agreement with the operator of the network. For this case the abstraction functionality may be configured to determine which information in the control plane is sensitive and which is not sensitive. In addition the abstraction functionality may be configured to encrypt only the sensitive information from the control plane and not the non sensitive information.

According to exemplary embodiments described below the abstraction layer processes information from the control plane in the handset before exposing this information to interfaces as Java or to the operation system or to clients in the user plane. It is noted that any of the runtime environment Java the operation system or a client may retrieve sensitive network information from the control plane. The abstraction function may for example be connected always scheduled or upon request to a server in the operator s network. If the abstraction is performed by encryption the server may provide the abstraction function with an encryption key as will be discussed later. Because services in the operator s network may depend on information available in the control plane this aspect should be taken into consideration when abstracting the information in accordance with the exemplary embodiments in order to not negatively impact those services. One way to take this into account is to encrypt the information according to an encryption key known by all associated entities in the operator s network in need of the information. Using the OMA SUPL service example described above the Cell ID information can be encrypted using an encryption key known by a SUPL client in the handset and then sent to a SUPL server to which the encryption key is communicated.

According to an exemplary embodiment an abstraction functionality which may for example be considered a middleware may be located between the handset s control plane and the interfaces and clients which would otherwise expose information from the control plane to the user plane. In order to better understand these exemplary embodiments illustrates a conceptual view of a typical mobile handset without an abstraction function. Therein a bottom layer represents the control plane which provides the core functionality of the mobile handset e.g. communications with the mobile phone via control signalling used to manage the connection mobility and also some of the basic services e.g. call control and SMS . On top of the control layer may be the operating system which manages the phone s functionality and provides the interface to functionality for applications and clients in the user plane . Clients and or applications such as browsers calendar and games are examples of services implemented in the user plane on top of the operating system .

The mobile phones may also include a Java Virtual Machine JVM . The JVM may run on top of the operating system and enables Java based applications to run on the handset . There are various JVMs which are adapted for platforms with different computing capacity and characteristics. One common JVM for mobile handsets is known as the Java Micro Edition J2ME. J2ME provides a number of application programming interfaces APIs for application developers to use when developing applications for mobile handsets.

Thus the J2ME environment is advantageous for those developers that are not associated with a certain operator but intend to deploy applications on handsets subscribing to a certain operator. The exemplary embodiments describe how to allow these developers to access the sensitive information from the control plane when the operator has a relationship with the operators and how to deny other developers and or operators to access the information in the control plane when this later developers and or operators are not authorized to access that data. Java may be used for example to reduce the amount of customization of applications associated with different handset models since the Java APIs used for different handset models are relatively similar to one another.

As mentioned earlier the user plane is disposed above the operating system and Java . The user plane may include one or more applications and or clients. One difference between a client and an application may be that an application provides a service to the user while the client may perform a function for the network and not a direct service to the user i.e. the client has a low level functionality to the user. These applications and clients may use the communication channels of the user plane for exchanging data with the operator s network or with third parties. Such communication channels may be General Packet Radio Services GPRS and TCP IP. These channels may be used to communicate with application and content servers inside the operator s network control domain or servers which are outside the operator s domain e.g. Internet servers .

Applications may access information and functionality in the handset either via the operating system or Java . Additionally or alternately a natively installed client such as an OMA SUPL client may be provided in the user plane to access information in the control plane. Thus an application or client in the handset can extract via APIs in the OS and Java but also by using native clients such as OMA SUPL information from the control plane or invoke functionality and send this to servers outside the operator s network .

According to an exemplary embodiment shows a mobile handset with an abstraction function . The abstraction function is located as a middleware layer between the control plane and the user plane and operates to for example process all or part of the information and or functionality provided to the user plane via the operating system or Java from the control plane . The abstraction function may be implemented between the operating system and Java . According to another exemplary embodiment the abstraction function may be implemented between the control plane and the operating system or between the operating system and Java and the user plane . Also the abstraction function may be implemented as a software module in the existing hardware of the handset or as a dedicated hardware module. In one application the handset may include a smart card that is configured to provide the abstraction function capability. According to this application the abstraction function is portable i.e. the user may remove the smart card from the current phone and transfer it to another phone to have the abstraction function available in the new phone. Still according to this application the abstraction function may be configured specifically for each user and not for each phone e.g. network information may be sensitive for a client in one country but not sensitive for a client in another country and this is achieved independent of the configuration of the handset because the configuration is implemented via the smart card. A smart card is a piece of hardware that is placed in the handset and the handset is configured to read various protocols and or instructions from the smart card. The smart card is removable and can be transferred from a handset to another handset. In another application the smart card may be only software i.e. a security providing functionality as for example the Soft SIM.

According to an exemplary embodiment the abstraction function may establish a protecting layer that insulates the control plane from the user plane such that an application or a client from the user plane need to have a permission in order to receive access to information or functionality from the control plane . The permission may be implemented as for example licenses or other mechanisms for managing authentication and authorization. According to another exemplary embodiment the abstraction function may use the handset or handset associated information or mechanisms e.g. SIM card or hardware identities or Digital Rights Management capabilities to implement the authentication and authorization.

According to an exemplary embodiment the handset may connect to an abstraction server in the operator s network as shown in . This connection may enable the abstraction function to exchange information with the abstraction server such that a coordination of i the servers using or requesting information from the control plane of the handset and ii the abstraction function existent in the handset may be achieved. More specifically supposing that the abstraction is performed by encryption the abstraction server may be used to provide the abstraction function in the handset with a current encryption key. The encryption processing of the information in the abstraction function may combine information provided from the abstraction server with information from the handset for example information from the control plane the user and also service unique information and capabilities. This may result in an encryption that is unique for the particular handset user and or service for a predetermined time period as the encryption is generally valid for the predetermined time period.

The encryption key may be changed as often as desired by the operator of the network with the consequences that storing the encrypted information and its associated location may not be feasible as a solution for locating handsets since the mapping between the encrypted information and the position of the handset is valid only for the predetermined period of time. In one application the abstraction server is configured to automatically change the encryption key at set time intervals or randomly. In another application if the handset determines that the encryption key is older than a predetermined amount of time it may request the abstraction server to provide an updated encryption key or to renew the current encryption key.

The abstraction server is shown in as part of the operator s network. However according to another exemplary embodiment the abstraction server may be outside the operator s network as long as the abstraction server preserves the confidentiality of the encryption key according to the policy of the operator of network . The abstraction server may be configured as will be discussed later in more detail to provide both the handset and the servers belonging or not to the operator s network providing services to the handset with coordinated encryption decryption keys i.e. for a given predetermined period of time the handset and a service providing server use matching encryption decryption keys.

According to an exemplary embodiment the abstraction server may provide for a given predetermined period of time different encryption keys to the same handset for different services that are being used. In other words if a first external server a server that does not belong to the network s operator is providing a first service to the handset and a second external server also a server that does not belong to the network s operator is providing a second service to the handset the abstraction server may provide a first encryption key for the handset to communicate with the first server and a second encryption key different from the first encryption key for the handset to communicate with the second server for a same predetermined period of time.

Thus the abstraction function according to these exemplary embodiments processes information and function queries between the user plane and control plane and may be connected to an abstraction server in the operator s network and the abstraction server may control and instruct the abstraction function regarding how to do the abstraction e.g. encryption keys to be applied etc.

The abstraction server would typically also provide the encryption decryption key to applications servers and services in the operator network or outside the network to the non operator network which may be in need of the encrypted information. illustrates an exemplary architecture with a server on the Internet connected to the abstraction server for providing e.g. the encryption keys to the applications servers and or services belonging to the non operator network . As the server in the non operator network obtains information directly from the abstraction server see path c to use in interpreting and decoding the information provided by the mobile handset see path a the abstraction does not necessarily need to be included in the signaling sequence b between the handset and the operator s network . This arrangement may result in reduced signaling between the handset and the operator s network thus resulting in saving network and server load and time. In this way the server which is located outside the operator s network can receive along path c information needed to interpret or adapt to what is sent along path a from or to the mobile handset .

To more fully appreciate these exemplary embodiments two detailed implementation examples will now be described. These examples are not intended to limit the disclosure and or applicability of the embodiments but only to provide a better understanding of some of the novel features. Both examples are related to the geographical location of the handset i.e. location information. However other services that do not use location information may be adapted and or configured similar to these examples. In the first example the handset is not provided with an abstraction function while in the second example the handset is provided with the abstraction function . More specifically these examples involve creating a base station Cell ID plan outside the operator s network. In this scenario a mobile handset with positioning capabilities which may be either using the operator s positioning system or a GPS receiver monitors the Cell ID value and associates it with the position retrieved by the GPS. The result of this process may be the generation of a database containing Cell ID values and also the longitude latitude and altitude of the handset associated with the Cell ID. When the database is generated by a party outside the operator s network for plural Cell IDs this database may be stored and made available to mobile handsets. Thus other mobile handsets may use the database to obtain their location without using the operator positioning capabilities or using other capabilities such as GPS even though the accuracy of this database is typically lower than a database generated by the network s operator . However this scenario is not desired by the network operator as the location information of its handsets may be considered to be sensitive information that might be disclosed upon agreement to external parties.

This exemplary scenario includes two aspects. The first aspect is related to the creation of the database discussed above. The second aspect is related to the usage of the database. More specifically the first aspect is related to reporting network information together with handset location information retrieved from a reference system in this case the GPS from the handset to a server for building the database in the server. The second aspect is related to performing a location determination of the mobile handset by using network information to search for the corresponding location information in the database built in the first aspect. Thus under this scenario there may be a client on the mobile handset which fetches the network information in this case Cell ID from the control plane. Assume purely for the purposes of this example that the client is based on J2ME and the following three exemplary methods may provide location information about the mobile network 

According to the methods disclosed above the client which resides in the handset may obtain a code for the country in which the handset is located a value that identifies the operator of the network a code that identifies a location area of the cell in which the handset is present and an identity of the cell. There are also methods that may retrieve signal strength and timing advance values from the handset and establish the location information e.g. geographical position of the handset based on these values instead of the values disclosed above. The client could also be based on Symbian which offers even more information via various other methods.

Regarding the first aspect discussed above the client in the mobile handset may execute three functions for generating the database which are illustrated in . A first function is related to obtaining current location information of the handset using the GPS which may be built in the handset or connected to the handset via e.g. Bluetooth . A second function is related to obtaining the network information which is generally achieved by retrieving information from the control plane of the handset via a Java interface. According to an exemplary embodiment such network information may include information about the country code MobileNetworkCountrycode information about the location area of the cell LocationArea and the Cell ID of the cell. A third function is related to managing a connection of the handset to the server typically predetermined IP address URL on the Internet or other network and reporting the network information and the location information which may include longitude latitude and or altitude retrieved from the GPS. This information may be stored in the database managed by the server . As the network information may be representative of an area rather than a point defined by the longitude latitude and altitude of the handset retrieved from the GPS the server may perform a transformation mapping the points location of handsets to areas to be represented by the particular network information. In this scenario in which the network information with the highest granularity is the Cell ID the server may create a model with the approximate geographical coverage area for the real cell belonging to the operator of network .

The trigger of the functions discussed above may be for example the start of a client or an action by an end user. In the aspect shown in the server may populate the database with the information reported by the clients in the mobile handset and also may store and or maintain the database.

A function performed by the server in response to receiving position information from the handset is illustrated in . According to this aspect a data manager provided in the server receives in step the information from the handset and provides this information to for example a database manager for storing in step this information in a predetermined format i.e. building the database .

When the mobile handset queries the database for determining its location information the handset may use for example the network information as a key to send the query to server . Thus as shown in a client of the handset may obtain in step the network information which may include the MobileNetworkCountrycode LocationArea and Cell ID via a Java interface and send this information in step to server with a request for providing the position information corresponding to the network information. The server receives the network information and manages during a step a process of searching the database for determining the location information of the handset . The server provides the determined location information to the handset in step such that the handset receives an answer to its query i.e. an answer that includes for example the longitude the latitude and or the altitude of the handset . Optionally the server may provide a radius of the cell if the Cell ID method is used to determine the radius. If other methods are used for determining the radius the radius is calculated based on various parameters for example in GPS the radius is about 10 m.

The process described in step in as taking place in the server is illustrated in more details in . According to an exemplary embodiment a request response manager in server receives a location request which may include the network information from the handset and distributes the network information in step to a database manager . The database manager searches the database for the location information of the handset matching the received network information. After the location information of the handset is determined the database manager informs in step the request response manager about this information. The request response manager provides the location information to the handset in step .

It is noted that no encryption is performed in the processes described with regard to and thus the network information obtained by the client of the handset from the control plane may be accessed by a third party server that is not authorized by the operator of network to access that information.

Having described this example for a mobile handset without an abstraction function e.g. such as the mobile handset shown in this example is next discussed for a mobile handset having the abstraction function e.g. such as the mobile handset shown in . If the handset is equipped with the abstraction function in addition to providing a beneficial security function such an abstraction function has the potential to interfere with the interface between the user plane application or client and the information in this case the network information in the control layer causing authorized services or clients to not being able to perform their tasks. Thus the scenario presented above for creating a base station Cell ID plan outside the operator s network may be impaired. If however the abstraction function encrypts of the network information in such a form that server is able to decrypt it then the method illustrated in may still be used.

Accordingly the following describes an exemplary technique for creating a base station Cell ID plan outside the operator s network but with an abstraction function on the handset and an abstraction server in the network . According to this exemplary embodiment it is assumed that the outside server managing and hosting the location information e.g. the location mapping database and providing the location of a handset as a function of the network information has a business relation with the operator and has access to the decryption key from the abstraction server . Such an outside server may be server shown in .

With regard to those steps or parts of the steps for generating the database and for providing the location information of a handset when using the abstraction function which are similar to those shown in are not repeated herein. However some of the novel features shown in are discussed next.

As shown in after the GPS information is gathered in step the handset gathers the network information in step encrypts the network information and sends the encrypted network information and the GPS information to the application or client of the user plane . Thus the network information retrieved from the control plane by the abstraction function is not the Current Mobile Network Code Location Area Cell ID also referred to as MNC LA Cell ID but is instead the encrypted network information. Thus it can be seen that both steps and include the network information in an encrypted form to protect this information from unauthorized third parties. To obtain the correct network information the encrypted information must be decrypted with a valid decrypting key.

The server that builds the database performs the steps illustrated in . The information received from the handset is decrypted by the data manager provisioning module based on the decrypting key KD received from the abstraction server . The database manager uses the decrypted information for building database .

The processes performed in step are shown in more details in . The request response manager receives the encrypted network information from the handset . This information is provided in step to the data manager which decrypts the network information based on the decryption key KD. Based on the received decrypted network information the database manager searches the database for determining the position information of the handset . The position information is sent in step to the request response manager which sends this information to the handset . The decryption key used by the data manager may be obtained from the operator s abstraction server .

For completeness an exemplary signaling diagram associated with the two cases building the database and using the database to provide location determination is illustrated in . Therein the steps numbered are described below. Steps are related to the generation of the database and steps are related to the usage of the database. A series of steps related to building the database are marked as A and another series of steps related to using the database are marked as B. 

Regarding building the database the abstraction server may provide the abstraction function with the encryption key KE in step . Simultaneously or later in time the abstraction server may provide in step the location providing server with the corresponding decryption key KD. If the encryption key KE is changed by the abstraction server the abstraction server is configured to automatically update the decryption key KD in the location providing server . In step a client may request network information and GPS location from various planes of the handset . While the network information is located in the control plane the GPS information may be available either in the control plane in the user plane or in another plane. The request of step is handled via the abstraction function . The abstraction function forwards in step the request to the native device API. The network information MNC LA Cell ID is retrieved by the abstraction function in step and encrypted. Thus the encrypted network information MNC LA Cell ID is provided in step to client . Later in time or simultaneously with step the GPS information is provided in step to client . The GPS information i.e. location information may be provided unencrypted by the abstraction function to the client or application after the abstraction function determines that the location information is not sensitive network information. In one application the client retrieves the location information independent of the abstraction function i.e. directly from a location in the handset where the location information is stored. Client may use the received information i.e. encrypted network information and non encrypted location information to send it to server in step .

Therefore server may use the encrypted network information if the server has a decryption key KD or otherwise the network information cannot be extracted from the encrypted network information. In this way an unauthorized server that is not part of the operator s network or does not have an agreement with the operator of the network cannot extract the network information i.e. the sensitive information. By using this process with the abstraction function implemented in the handset the security of the sensitive network information is achieved and the activities of the third party servers that have agreements with the operator of the network are not affected by the encryption process.

According to another exemplary embodiment the steps performed by a client or application for determining the location information of the handset is discussed with regard to section B of . In step the location determination client requests network information from the control plane . The request is handled by the abstraction function as all other requests from the user plane to the control plane . The abstraction function forwards in step the request to the native device API for obtaining the network information from the control plane . The network information MNC LA Cell ID is retrieved by the abstraction function in step and encrypted. The encrypted network information MNC LA Cell ID is provided by the abstraction function in step to client . Client sends in step a request for location information to server . The request includes at least the encrypted network information MNC LA Cell ID . After the server locates in its database the position information of the handset that corresponds to the received encrypted network information the client receives in step the position information of the handset which identifies an area corresponding to the decrypted network information MNC LA Cell ID . Server is able to return the corresponding area of the handset as the server has the decryption key KD received in step in from the abstraction server .

According to an exemplary embodiment a method for protecting sensitive network information available in the handset from disclosure to an unauthorized server by using an abstraction function module is described with reference to . The method includes a step of receiving at the abstraction function module an encoding key from an abstraction server a step of receiving at the abstraction function module a request from a client or application for providing the sensitive network information from a control plane module of the handset wherein the client or application resides in a user plane module which is different from the control plane module the sensitive network information is stored in the control plane module of the handset and both the control plane module and the user plane module reside in the handset a step of retrieving by the abstraction function module the requested sensitive network information from the control plane module a step of encrypting by the abstraction function module the retrieved sensitive network information based on the received encoding key and a step of providing the encrypted sensitive network information to the client or application in the user plane module.

The modules discussed above are shown in an exemplary embodiment in . The abstraction function module is connected to the user plane module and to the control plane module . These modules implement the functionality of the abstraction function control plane and user plane shown in . These modules are configuring at least a processor and or a memory of the handset to achieve the functionalities discussed with regard to .

Thus it will be appreciated that the foregoing exemplary embodiments describe devices systems and techniques associated with generating based on data encrypted by an abstraction functionality a database in a server external to a network to which a handset belongs and or a function for providing information from the database to a mobile terminal handset or device without disclosing to unauthorized parties sensitive network information. Although the above exemplary embodiments have been discussed in the context of providing location information to a handset those skilled in the art would appreciate that the novel techniques and mechanisms for building and using the database are not limited to only providing location information.

Terminals handsets or devices that were discussed above may for example be represented generally by the block diagram illustrated in . Therein the mobile handset includes one or more physical transmit antennas in this example numbering four although more or fewer than four transmit antennas can be used. The physical transmit antennas are connected to a processor via transmit TX chain elements which can include one or more of filters power amplifiers and the like as will be appreciated by those skilled in the art. The transmit chain elements may be part of a transceiver that is configured to transmit and receive signals. Processor s in conjunction with memory device s and potentially other devices not shown can operate to provide the abstraction function or layer discussed above e.g. by way of software stored therein additional hardware or some combination of software and hardware. Thus the abstraction layer functionality described above can for example be performed in software by executing computer readable instructions from memory device to perform the encryption or other techniques described above.

Thus it will be apparent that exemplary embodiments also relate to software e.g. program code or instructions which are stored on a computer readable medium and which when read by a computer processor or the like perform certain steps associated with transmitting information signals which are abstracted or hidden in the manner described above.

Systems and methods for processing data according to exemplary embodiments of the present invention can be performed by one or more processors executing sequences of instructions contained in a memory device. Such instructions may be read into the memory device from other computer readable mediums such as secondary data storage device s . Execution of the sequences of instructions contained in the memory device causes the processor to operate for example as described above. In alternative embodiments hard wire circuitry may be used in place of or in combination with software instructions to implement the present invention.

Numerous variations of the afore described exemplary embodiments are contemplated. The above described exemplary embodiments are intended to be illustrative in all respects rather than restrictive of the present invention. Thus the present invention is capable of many variations in detailed implementation that can be derived from the description contained herein by a person skilled in the art. All such variations and modifications are considered to be within the scope and spirit of the present invention as defined by the following claims. No element act or instruction used in the description of the present application should be construed as critical or essential to the invention unless explicitly described as such. Also used herein the article a is intended to include one or more items.

