---

title: Pre-fetching of data in a mobile communications environment
abstract: The invention relates to techniques for controlling a pre-fetching of data in a mobile communications environment. More specifically the invention relates to controlling a pre-fetching of data items into a cache associated with a mobile terminal. A method embodiment of the invention is performed by a cache management server and comprises the steps of receiving a pre-fetching request for data items, wherein the pre-fetching request comprises a first user identification associated with the mobile terminal; obtaining, based on the first user identification, one or more second user identifications from a community database of a social network; selecting items for the pre-fetching based on the second user identifications; and providing the selected items in response to the pre-fetching request.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08694492&OS=08694492&RS=08694492
owner: Telefonaktiebolaget LM Ericsson (publ)
number: 08694492
owner_city: Stockholm
owner_country: SE
publication_date: 20081103
---
The invention relates to techniques for controlling a pre fetching of data in a mobile communications environment. More specifically the invention relates to controlling a pre fetching of data items into a cache associated with a mobile terminal.

Cache management procedures are conventionally performed in mobile communications networks in order to cope with latencies in the presentation of content to mobile users which may occur due to limited network transmission resources. A cache is provided in a mobile terminal e.g. mobile phone smart phone PDA notebook or similar terminal device adapted for connection with a mobile communications network. Particular content data items which may be requested for presentation on the terminal are downloaded to the cache. Such data items may for example comprise product offers or news such as political or sports information etc. In case a downloaded data item is actually requested for presentation on the terminal the item is already available in the cache and can be presented without delay. This download in advance is generally termed pre fetching .

As eventually any cache is limited in storage cache management requires a decision logic for deciding which data items to pre fetch into the cache. Some form of automatic determination has to be performed which data items from a possibly large set of items are most likely to be queried by the user of the mobile terminal. For example in a shopping environment the complete set of items may represent all the products of a shop or retailer. A simple determination routine may comprise to pre fetch those data items related to products bought earlier by the user which is useful in case the user can be assumed to regularly buy the same products again e.g. in a supermarket environment. Pre fetching data items which are most relevant for the user of the mobile terminal not only minimizes latency in the content presentation but also contributes to minimizing storage resources required for the caching.

Although various procedures for determining data items for pre fetching are known the miss rate thereof is generally high i.e. for example in an advertisement provisioning system many items pre fetched into a cache may never be requested by the user which leads to a waste of transmission resources in the network and storage resources in the terminal.

There is a demand for a pre fetching scheme which is more efficient in terms of network transmission resource usage and cache storage resource usage.

This demand is satisfied by a method for controlling a pre fetching of data items into a cache associated with a mobile terminal. The method is performed by a cache management server. The method comprises the steps of receiving a pre fetching request for data items to be provided by a mobile communications network to the mobile terminal for presentation to a user of the mobile terminal wherein the pre fetching request comprises a first user identification associated with the mobile terminal obtaining based on the first user identification at least one second user identification from a community database containing user profiles of users of a social network selecting items for the pre fetching based on the obtained at least one second user identification and providing the selected items in response to the pre fetching request.

Each of the first and or second user identification may comprise an identification of a user of the terminal in a mobile communications network such as an IMSI International Mobile Subscriber Identity TMSI Temporary Mobile Subscriber Identity or MSISDN Mobile Subscriber ISDN number . Additionally or alternatively the user identification may comprise an application layer identification such as a user name or login name. For example the user identification may comprise a user name in the social network.

The cache may comprise a cache in the mobile terminal. In other implementations additionally or alternatively a cache may be provided on the network side i.e. in the mobile communications network or in a separate network of a specific service provider. Regarding the placement of the cache in the mobile communications network the cache may be provided in a radio access part of the mobile communications network e.g. in association with a BSC radio Base Station Controller in a GSM network an RNC Radio Network Controller in an UMTS network or an evolved Node B in an LTE network. In other implementations the cache may be provided outside the radio network part in a core network part of the mobile communications network e.g. in association with a serving MSC Mobile services Switching Center in a GSM network an SGSN Serving GPRS Support Node in an UMTS or LTE network or an SGW Serving Gateway or MME Mobility Management Entity in an LTE network.

The social network may comprise a plurality of user profiles hosted by the community database which is to be understood as a functional entity which may comprise one or more database servers arranged locally or in a distributed fashion. The word plurality shall throughout the description and claims be interpreted as a number greater than one . The social network may comprise social network service functions such as e.g. a search function in order to identify one or more users of the social network based on user profile parameters. The step of obtaining the at least one second user identification may comprise using such a social network service function of the social network for searching the at least one second user identification among a plurality of user identifications forming the community of the social network each user identification being related to one of the user profiles hosted in the community database.

The second user identifications may be obtained based on one or more attributes from a user profile associated with the first user identification. In one implementation the attributes comprise a location of the mobile terminal. The attributes may be used to trigger the social network service function e.g. the search function. For example a user s age may be retrieved from the user profile associated with the first user identification and may be used to identify second user identifications of social network users of comparable age. In another example items for the pre fetching are selected based on item indications of a second user identification related to a user near to the location of the mobile terminal. For example the at least one second user identification may be related to a mobile terminal which is currently located in the same shop as the mobile terminal of the first user identification.

The social network may be hosted by server nodes being part of the mobile communications network. For example the social network may comprise users of the communications network and the community database may be part of an HLR Home Location Register or HSS Home Subscriber Server of the mobile communications network. In other implementations the social network is separate from the mobile communications network. For example the social network may be hosted by a service provider in the Web. As a concrete example the social network may comprise customers of a retailer.

A user data repository may be provided which contains item indications related to the at least one second user identification. The repository may for example be provided by at least one of the mobile communications network and the social network. In one variant the method comprises the step performed by the cache management server of retrieving from the user data repository one or more item indications related to the second user identification s the item indications being termed community based item indications as these have been retrieved based on the users related to the user of the mobile terminal via the social network. The item indications may explicitly or implicitly indicate data items which may be selected for pre fetching. The selection of items for the pre fetching may be based on the retrieved community related item indications. An item indication may comprise one or more of the data item itself a specification thereof and a pointer to a storage place at which the data item is stored.

A user data repository may be provided which contains data item indications related to the first user identification. This repository may be hosted by the same service provider as the repository for the second user identification or by a different provider. In one implementation the method comprises the further step of retrieving from the user data repository for the first user identification one or more item indications which are termed personal item indications as these are related to the user of the mobile terminal. The selection of items for the pre fetching may be based on both the community based item indications and the personal item indications.

In one realization of the method the selection of items for the pre fetching comprises selecting items based on matching community based item indications with personal item indications. The matching may comprise identical matching or similarity matching. For example in case the items represent products item indications may match in aspects such as product type or brand such that data items may be selected for pre fetch representing products which are similar with regard to these aspects.

Some modes of the method may comprise the step of selecting based on the first user identification the social network from multiple social networks. For example a mobile network indicated by an IMSI may be used as the basis to select a social network associated with that mobile network.

The above indicated demand is further satisfied by a method for supporting a pre fetching of data items into a cache associated with a first mobile terminal wherein the method is performed by a user data repository associated with a second mobile terminal. The method comprises storing triggered by an operation performed by the second mobile terminal one or more item indications and providing in response to a query from a cache management server one or more of the stored item indications for pre fetching into the cache associated with the first mobile terminal.

The user data repository may be associated with the mobile communications network or the social network. The terminal operation triggering storage of the item indications may relate to a shopping activity comprising at least one of purchasing a product item receiving an offer for a product item and querying a product item. Corresponding item indications may be stored in the user data repository.

The one or more item indications may be stored in association with tags or similar indications which may comprise e.g. an indication of a location of the second mobile terminal a time a tag manually provided by the user etc.

Further the abovementioned demand is satisfied by a computer readable medium having computer executable instructions for performing the method according to any one of the preceding claims. The computer may comprise one or more computing devices for implementing for example a cache management server or a user data repository. The computer readable medium may be a permanent or re writeable memory e.g. a flash or EEPROM within or associated with a computing device or a removable CD ROM DVD or USB stick.

The above indicated demand is further satisfied by a cache management server which is adapted for controlling a pre fetching of data items into a cache associated with a mobile terminal. The cache management server comprises a component adapted to receive a pre fetching request for data items to be provided by a mobile communications network to the mobile terminal for presentation to a user of the mobile terminal wherein the pre fetching request comprises a first user identification associated with the mobile terminal a component adapted to obtain based on the first user identification at least one second user identification from a community database containing user profiles of users of a social network a component adapted to select items for the pre fetching based on the obtained at least one second user identification and a component adapted to provide the selected items in response to the pre fetching request.

In some implementations the cache management server further comprises a component adapted to retrieve from a user data repository containing item indications related to the at least one second user identification one or more community based item indications and wherein the component adapted to select items for the pre fetching is adapted to select the items for the pre fetching based on the retrieved community related item indications. According to one variant of these implementations the component adapted to retrieve one or more community based item indications is further adapted to retrieve from a user data repository containing data item indications related to the first user identification one or more personal item indications and wherein the component adapted to select items for the pre fetching is adapted to select the items for the pre fetching based on the community based item indications and the personal item indications.

The cache management server may be adapted to receive location indications related to at least one of the first and second user identifications. In this case the component adapted to select items for the pre fetching is adapted to select the items for the pre fetching based on the received location indications.

In some realizations of the cache management server the component adapted to obtain the at least one second user identification is adapted to use a social network service function of the social network for searching the at least one second user identification among a plurality of user identifications forming the community of the social network each user identification being related to one of the user profiles hosted in the community database.

The above indicated demand is still further satisfied by a user data repository which is adapted for supporting a pre fetching of data items into a cache associated with a with a first mobile terminal. The user data repository is associated with a second mobile terminal and comprises a component adapted to store triggered by an operation performed by the second mobile terminal one or more item indications and a component adapted to provide in response to a query from a cache management server one or more of the stored item indications for pre fetching into the cache associated with the first mobile terminal.

Moreover the above indicated demand is satisfied by a cache management system comprising a cache management server and one or more user data repositories as outlined above.

In the following description for purposes of explanation and not limitation specific details are set forth with regard to a cache management system in a mobile communications environment in order to provide a thorough understanding of the current invention. It will be apparent to one skilled in the art that the current invention may be practiced in other embodiments that depart from these specific aspects. For example the skilled artisan will appreciate that the current invention may be practised not only in a shopping environment for a delivery of advertisements and offerings as described below to illustrate the invention but may be practised in other environments and for other purposes as well. This may include any system for a distribution of content data items to users which aims at providing personalized services. One such example is a news delivery service which intends to provide news of particular interest to each specific user.

Moreover the invention may be practiced in any communication and information distribution system in which transmission and or storage resources are limited and a caching approach comprising selecting and caching a subset from a set of information or data items is applied.

Those skilled in the art will further appreciate that functions explained hereinbelow may be implemented using individual hardware circuitry but also using software functioning in conjunction with a programmed microprocessor field programmable gate array FPGA application specific integrated circuit ASIC one or more digital signal processors DSPs or a general purpose processor. It will also be appreciated that when the current invention is described as a method it may also be embodied in a computer processor and a memory coupled to the processor wherein the memory is encoded with one or more programs that perform the methods disclosed herein when executed by the processor.

At least one further user Y with mobile terminal is also served by the cache management system which comprises an application server a community server and a retailer server . The entity formed by application server and community server will sometimes be referred to as Cache Management Server CMS hereafter. There is a flexibility in the separation of functionalities between application server and community server which may for example depend on whether both servers are located in the mobile communications network or whether only the application server is part of the mobile network while the community server is part of a separate network. Some corresponding example embodiments will be described below.

The mobile communications network serving the mobile terminals and is not further shown in for the sake of clarity. However as a concrete example one or both of the application server and community server may be located in an IMS IP Multimedia Subsystem domain of the serving mobile network in other words in some embodiments only a portion of a CMS may belong to a mobile network . The community server may additionally or alternatively be associated with a social network comprising a plurality of user profiles and possibly a set of social network service functions. The community server has access to a community database hosting user profiles or at least user identifications of users of the social network. Dependent on the specific embodiment the community database may be implemented on one or more hardware devices and may be implemented on a common hardware basis with the community server or on a separate hardware basis.

The social network users represented in the database may be members of a loyalty system. For example all the customers of a shop or of a chain of shops or of a particular brand etc. may be represented in the database . As another example the community database may store users of an Internet based social network or a Web based community such as Facebook MySpace Plaxo Pulse LinkedIn etc. The community server may also have access to multiple different community databases. In this case the community server may identify links for example users of a first community may also be part of a second community. This allows the community server to define itself social groups incorporating users sharing preferences for the same brands retailers locations etc. As a still further example the community server may also define a social group as comprising the customers currently visiting a particular shop single location or retailer possibly several locations . Therefore the community server may not only access the community database for identifying users but may also generate and maintain data in the community database or a separate database in a dynamic way by retrieving data from existing community databases and buffering these data in the database as needed.

The community server further has access to user data repositories and associated with user X of terminal and user Y of mobile terminal respectively. The association may be based on user identifications such as IMSI or MSISDN. Alternatively or additionally a specific application layer user name or login name may be used. With regard to the shopping environment used to illustrate the techniques proposed herein the repositories and may collect data items or indications thereof associated with products which have been bought or queried in the past by the user or which have been offered to the user.

In the embodiment illustrated in the community server accesses the user data repositories and . In other embodiments the data repositories may be accessed by the application server. The user data repositories may be provided by the mobile communications network serving the mobile terminals and and may store any indications of any items bought by the users X and Y using their mobile terminals and respectively.

The retailer server manages for a specific retailer a central retailer database which is assumed to identify all products offered and sold by the retailer. The products may be identified by GTINs Global Trade Item Numbers i.e. product IDs based on one of the standards defined by the GS1 Global Standards 1 organization. Further the retailer server may manage multiple databases of a chain of local stores operated by the retailer. One such database is illustrated in . The database may comprise product IDs of products offered and sold by the local store. As an example when accessed by the CMS with a location indication related to the local store the retailer server may primarily provide product IDs from the local store database . The database may be queried in case no location indication is provided the location indication does not match to any of the local stores or there is no access to a specific database such as database .

The retailer server may be operated by the retailer or on behalf of the retailer for example by a service provider or the mobile network operator. Generally the retailer server may manage multiple retailer databases for example in case the retailer server manages a shopping mall.

The functionality of one or both of the application server and the community server as illustrated in and described below may be implemented in software i.e. each of the blocks referenced as and in may be understood as comprising a software and or firmware package for implementation on a general purpose hardware or on a more specific hardware such as one or more ASICs FPGAs or DSPs. The AS and CS may be implemented on a common hardware platform e.g. as a server in an IMS domain of mobile communications network of . Alternatively the AS on the one hand and the CS on the other hand may be implemented on separate hardware platforms. For example the AS may be implemented on a server platform in the mobile network while the CS may be implemented on a server platform in a social network to which the community database see below is associated.

An operation of the CMS of will be described with reference to the flow diagram illustrated in . Generally the CMS operates to control a pre fetching of data items into the cache associated with mobile terminal . Consider a situation in which user X uses the mobile terminal for a presentation of products offered by a local shop of the retailer of retailer server in . User X is located in or near to the local shop whose products are represented in the local store database . In this situation appropriate data items representing products of the local shop may be pre fetched into cache in order that these data items may be available to the user with minimal latency and desirable quality for example in case the user queries for the corresponding products.

In step the reception component receives a pre fetching request for data items from the mobile terminal . The request includes a user identification user ID of user X for example an MSISDN associated with the terminal . The reception component may convert the received user ID into a system internal user ID one or more user IDs of one or more social networks and or may keep the received user ID. In any case the reception component triggers the community server by providing a message including the one or more user IDs thereto. For the sake of clarity it is assumed that only one user ID is provided to the community server .

In step the query component of community server operates based on the user ID received with message to obtain one or more user IDs of users other than user X from the community database . Specifically the query component may transmit a database query including the user ID to the community database . The query may include further search parameters in order to identify users belonging to the same social group as user X in the community database . For example the query component may search in the community database for users which are near to the location of mobile terminal of user X and which have a similar gender age preferences etc.

It depends on the implementation in which way these parameters may be determined. As one example the current location may have been provided to the community server in the request . Additionally or alternatively the CMS may operate to retrieve the current location of mobile terminal from the mobile network serving the terminal . In still other embodiments the query component may use the retrieval component to access the user data repository for user X not shown in for clarity for retrieving parameters of interest for the social group search.

Having collected parameters such as location and age the query component may further prepare the search query by defining a granularity in location and age. These additional range parameters may either be prescribed in the community server or may be provided from the application server to the community server . Eventually the query component transmits the query to the community database or to several such databases . The query component may make use of a social network service function for searching the community database provided by the social network the community database is associated with. The response indicates user IDs of other users which are near to the current location of user X with the prescribed tolerance and which are similar in age with user X within a given range of ages. With signal the query component provides the user ID for user X as well as the retrieved user ID s to the retrieval component .

In the example described here it is assumed that the retrieved user IDs provided with signal to the retrieval component comprise a user ID of user Y cf. FIG. . In step the retrieval component provides requests and to user data repositories of user X and of user Y respectively for retrieving data item indications stored therein. In more detail the user data repositories and may be associated with various user IDs of users X and Y respectively. For example an MSISDN and a login name used by user X Y for logging into a Website provided by the retailer of retailer server may both be associated with user data repository . The login name of user Y may have been retrieved from the community database and may then be used to access user data repository .

The request may comprise additional parameters for example the current location of terminal . The item indications stored in the user data repositories and may be associated with tag parameters such as location store name brand etc. In case exactly one user data repository is kept for a particular user of the mobile network the CMS is associated with this repository may contain multiple sets of item indications which may for example be related to different shops. In response to the request a subset of the item indications matching with the request parameters may be retrieved by the retrieval component from the user data repository of user Y.

The retrieval of item indications for the user X from user data repository may be performed in a similar way as has been described for retrieval . In step the retrieval component provides the retrieved item indications to the selection component . In order to select items for the pre fetching the selection component accesses the retailer server cf. for retrieving item indications therefrom and then processes the item indications received from the retrieval component and retailer server . The operation of the selection component will be described in detail further below.

After having selected one or more item indications for the pre fetching the selection component inputs these into the provisioning component which operates in step to transmit the selected items in response to the pre fetching request to the cache . The provisioning component may retrieve the data items corresponding to the received item indications via retailer server from one or both of databases and . In the cache the pre fetched data items are stored for the case a user of terminal requests a presentation thereof.

While in it is illustrated that it is the store server which provides the data items or identifiers thereof from both the central retailer database and the local database to the CMS in other embodiments the Cache Management Server may directly access one or both of the central database and the local store database i.e. the CMS may incorporate part or all of the functionality of the retailer server . Vice versa in a configuration such as illustrated in also the retailer server may comprise the functionality of filtering the first data set with the second data set as described above.

The functionality of filtering the first data set with the second data set may be repeated for example upon a detection of the mobile terminal that its location has changed or upon the detection by the CMS or the retailer server that any of the first data set and second data set has changed. With regard to a change in location the detection threshold for such change can be defined with different granularities. For example a change may be detected when a user is entering or leaving a store and or a change may be detected when the user moves from one shop section to another. In any of these cases the step of filtering the first data set may be repeated based on different second data sets .

Further data sets and representing personal patterns and group patterns respectively provide for a further filtering of the data from the retailer databases.

Taking the example of user X associated with mobile terminal of the personal patterns include the data received from the user data repository of user X as has been described with reference to step and retrieval of . For instance the personal patterns may comprise item indications related to previous purchases and offers received earlier from the retailer. Also user preferences such as sports electronics travelling may be stored in the user data repository and may contribute to selecting items for pre fetching. In some embodiments the personal patterns may comprise multiple purchase histories for different retailers or may even comprise the entire purchase history of the user when using the mobile terminal for example in case user data repository is hosted by the mobile network operator providing the cache management server .

As shortly discussed further above storing personal patterns in a user data repository such as repository may be complemented by tagging the stored item indications with additional parameters. As an example an item indicator may be tagged by indications of a location and a time of purchase. The item indication indicative of the purchased product may be stored together with these tags in the user data repository. The tagging may be performed automatically by associating a time stamp and a location indication with the item indication. The location indication may for example be determined automatically by the mobile network. For example the location may be a geographical indication determined by a location based service provided by the mobile network. The location may additionally or alternatively comprise an indication of a shop a shopping mall or a retailer. Respective data may be taken from the data transceived by the mobile terminal in an application layer.

In some embodiments tagging may also be performed manually. For instance the user may tag an item according to its intended use or goal e.g. the user may enter text into a tag form e.g. wedding gift or choose from a menu provided to him or her by the mobile terminal. The user may additionally rate the item. A ranking may also be performed by the cache management server as will be described below and may be performed based on for example the number of times an item has been queried or bought. Generally items or indications thereof may be ranked high as being likely to be purchased again for example based on a particular location store and or type of store. Consider for example that many users may buy regularly particular products in a supermarket. As another example for a ranking mechanism items that are affected by seasonal changes may be included or excluded i.e. may be ranked higher or lower.

Turning to the group patterns illustrated in these patterns comprise data retrieved from one or more other user data repositories besides that for user X. In the example of in particular data from the repository for user Y are retrieved and contribute to the group patterns . The group patterns thus comprise further items item indications purchased by users such as user Y which are assumed to belong to the same community or social group as user X. Such assumption may be based on determining users sharing common attributes such as age gender and location. For example user Y of terminal may have been determined by community server as belonging to the same social group as user X of terminal because a search in the community database has revealed user Y as having a similar age gender and current location as user X.

It is to be noted that group patterns such as patterns may also be used for determining items for pre fetching even in case there are no personal patterns such as patterns available. A typical example may be a new customer or a customer which for some reason has not logged in into the retailer web site. In this case no user data repository may exist or it may be unknown. While age and gender of the user may also not be available at least a location of the terminal may be available and may be used to determine data items which might be of interest to the user. In other cases a user profile and or user data repository may exist but no or few item indications may be stored therein because the user is for example new in a shop. Then nevertheless item indications may be selected for pre fetching from user data repositories of other users identifies as belonging to the same community social group or social network.

The community database and the user data repositories may be dynamically updated at any time in response to activities such as shopping activities of the users of the network. Hosting cache management services such as described here for a plurality of retailers may also contribute to improve recommendations and thus minimize network load as it is possible to connect to the behavior of other users in a social network in real time. For instance the following recommendation would be possible People in your network close to your location are buying items A and B for wedding gifts right now .

Based on the location specific data items personal patterns and group patterns a selection routine may determine items for pre fetching as will be described now.

In step the procedure accepts a user ID of user X. The procedure may further accept a current time a location of the mobile terminal an indication of a shopping list an indication characterizing the current shopping activity which may comprise a type of store currently visited e.g. gifts such as wedding gifts birthday gifts etc. The procedure further comprises in step to receive item indications from the shopping list and in step to receive the purchase history i.e. item indications from the user data repository for user X. In step further user IDs e.g. for user Y are obtained from the community database as has been described with reference to step in . With execution of step item indications are retrieved from the user data repository of user Y step .

During execution of step a pre fetch list for user X is for the first time collected from items on the shopping list if it exists and is not empty . As a concrete example for step it may be tested for each item in the shopping list whether the item exists at the location of user X i.e. whether the item is available at the local store. Those items for which the condition is fulfilled may be added to the pre fetch list for user X and may be ranked high for the pre fetching.

In step an item received from the user data repository for user X is added with e.g. medium priority to the pre fetch list X if this item exists at the location of user X. In case a tag is associated with the item e.g. wedding gift and this item matches with a shopping activity the item may be included with a high priority in the pre fetch list. Additionally or alternatively a selected item may be ranked high in case a timestamp associated therewith equals a current time.

With execution of steps further items are added to the pre fetch list for user X based on the items retrieved from the user data repository for user Y. As a concrete example an item from user data repository may be added with e.g. medium priority to the pre fetch list X if it is available at the location of user X. In case a tag is associated with the item and this item matches with a shopping activity the item may be included with a high priority in the pre fetch list X. Additionally or alternatively a selected item may be ranked high in case a timestamp associated therewith equals a current time.

The pre fetch list for user X eventually contains a list of indications of products i.e. product IDs and for each product ID an associated priority level or ranking. This list may then be used as a basis for the pre fetching in the provisioning component .

While not shown in a selection routine may additionally or alternatively comprise a part for joined processing of items from user data repositories of user X and other social group users such as user Y. The processing may for example comprise a determination whether any item occurs in both personal patterns and group patterns and ranking such matching items high. Referring back to with regard to a ranking of item indications a selection routine may generally rank with highest priority item indications present both in personal patterns and group patterns because these items may be considered as being most likely to be queried thus these items should be pre fetched with highest priority. Items present only in personal patterns may be ranked with next highest priority and items only present in group patterns may be ranked low.

A matching and ranking routine may simply determine a number count of item indications in a social group. Consider a shopping environment in which all products of a store have assigned a unique product ID therewith for example based on the GS1 GTIN framework. A relative priority of items may then be based on the frequency of occurrence of product IDs in the social group formed by the users being currently or generally customers of this shop. Other ranking mechanisms may additionally or alternatively be applied. For example a ranking based on an item occurrence in personal and group patterns may be modified according to current marketing efforts of the retailer availability of products in a local store near to a current location of the user etc.

In step the mobile terminal sends a pre fetch request to the application server . The step may be implemented as an HTTP GET request including as arguments for example an application layer user ID of user X and or an IMSI related to mobile terminal of user X. The request may further include context related data such as a location indication as well as items which may be items currently contained in a shopping list kept on the mobile terminal .

In step the application server operates to forward the request to the community server . The forwarded request may also be an HTTP GET request including the same arguments as the message received in step by the application server . In some embodiments however an IMSI of user X may have been mapped to a login name of user X. In step the community server determines the proper user data repository associated with the received user ID of user X. In step the community server sends an SQL query to the identified repository including an indication of the current location of a terminal . The query may also comprise the user ID of user X. In addition the item indications or particular aspects thereof such as type of goods brands etc. may be included in the SQL query in order to search for similar items. In step the user data repository responds to the community server with providing additional item indications which may relate for example to similar products bought by user X earlier at the indicated location.

The step may comprise further processing to determine membership of user X in one or more social networks communities or social groups. Based on the result of this determination in step which may be performed in parallel with step the community server requests from the determined community database users which are associated with user X in a social group or network. For providing the request to the community database a community specific API Application Programmer Interface may be used. For example social networks or communities such as Facebook or LinkedIn provide the REST Representational State Transfer API for access thereto. In step the community database returns in response to the request of step indications of one or more users associated with user X as being in the same social group to the community server . Referring to the example configuration of for example a user indication of user Y is provided to the community server .

In step the community server sends an SQL query to the user data repository including the user Y as identified in the response . The current location of user X may be included in the query as well as item indications or aspects thereof as received in one or both of steps and . In step the repository responds with providing additional items to the community server .

In step a selection routine such as that illustrated in is performed in the community server note that according to the embodiment illustrated in the selection may alternatively be performed in the application server . Generally the additional items of user Y and still other users returned in step may either simply be added to the items of user X returned in step or a joined processing may be performed on both sets during which as discussed above for example matching items may be identified. Step may further comprise a ranking of the returned items.

In step the community server provides in a HTTP response to the HTTP request of step the list of selected items to the application server . The list may include all selected items or may comprise a maximum number of items as dependent on e.g. available transmission capacity or storage capacity of cache in mobile terminal . In the latter case items may be selected for pre fetching according to their priority.

In step the application server may optionally request additional data such as additional product information either from the retailer server or directly from e.g. the central database . In step the retailer server responds with providing the additional information. For the request response pair a REST or SOAP Simple Object Access Protocol interface may be used. In response to the HTTP request in step the selected list of items for pre fetching is provided in a HTTP response to the mobile terminal . The list may also contain recommendations and offers. A cache management routine in the terminal may then initiate actual retrieval of the selected items for buffering in the cache .

The functionality of the user data repository as illustrated in and described below may be implemented in software i.e. the blocks referenced as in may be understood as comprising a software and or firmware package for implementation on a general purpose hardware or on a more specific hardware such as one or more ASICs FPGAs or DSPs. The user data repository may be implemented e.g. together with user data repository and multiple further user data repositories on a common hardware platform in the mobile communications network of .

A functionality related to the user data repository will now be described with reference to the flow diagram in . Generally the user data repository dedicated to user Y is provided to support a pre fetching of data items into the cache of terminal which is related to user X. It is assumed that user Y performs a shopping activity using the mobile terminal . For example user Y may purchase a product item may receive an offer for a product item or may query a product item. In any of these cases the cache management server may monitor the shopping activity and may provide the corresponding data item or an indication thereof e.g. a product ID towards the user data repository . Triggered thereby in step the item indication related to user Y is stored in the storage component of repository . Additional data tags may be stored in association with the item indication for example the control component may operate to tag a timestamp to the entry. In this respect the cache management server may provide the item indication together with an indication of time location etc. to the control component . In other embodiments the control component may trigger a determination of the current time and the location of user Y.

In case items for pre fetching are determined for user X and user Y belongs to the same social group as user X the cache management server provides a trigger to the user data repository for item indications of user Y. In response to trigger in step the control component operates to access the storage component to retrieve according to parameters provided with the trigger at least a subset of the item indications stored in storage component and provide these item indications including tagged data to the CMS for possibly pre fetching the corresponding items to cache in mobile terminal associated with user X.

In step the mobile terminal operates to support a shopping activity of user Y for example user Y may buy a product item receive an offer or queries for a product item. The mobile terminal is adapted to log purchased objects to provide some automatic tagging and some possibility for the user to manually enter tags. The terminal is configured for preparing based on such activity a dataset which includes a data item representative of the subject product and which possibly includes associated tags indicating a location a product price and type a reason for buying etc.

In step the terminal transmits the tagged item indication in an HTTP PUT message towards the cache management server of more precisely the application server thereof. The HTTP PUT may comprise for example a user ID of user Y a current location of the user Y the one or more product items subject of the shopping activity and the associated tags. In step the application server forwards the HTTP PUT message towards the community server . In step the community server has identified based on the user identification of user Y the associated repository and applies for example an SQL method to insert the data i.e. the items and associated tags in the repository . In the user data repository the received item indications and tags may be stored as has been described exemplarily with the embodiment of and step . In step the repository acknowledges successful storage of the received data to the community server in an SQL response. In steps and successful execution is indicated in a HTTP response to the application server and mobile terminal respectively.

The techniques proposed herein can form the basis for improved pre fetching schemes. When selecting data items for a pre fetch into a cache associated with a mobile terminal accounting for items associated with other users belonging to the social group of the user of the mobile terminal in terms of e.g. age gender location membership in a social network community etc. allows selecting items which are more likely of interest for the user. This avoids a waste of resources for transmission and caching of unwanted data items while keeping the general advantage of pre fetching namely the minimized latency in presentation of items to the user. Thus transmission resources can be saved in the network e.g. over the radio interface. Further a cache provided in the mobile terminal can be minimized in terms of storage resources. Also in a configuration in which the cache is generally provided in the network considerable resources can be saved as the network may have to provide caching for a possibly large number of mobile terminals.

On the other hand given transmission and storage resources may be more efficiently utilized i.e. a presentation quality of the data items may be improved e.g. by providing an increased resolution to images. While the proposed techniques have been illustrated in a shopping environment the advantages outlined above can be realized within any framework in which personalized content is distributed to users consider for example a personalized news service.

While the current invention has been described in relation to its preferred embodiments it is to be understood that this description is for illustrative purposes only. Accordingly it is intended that the invention be limited only by the scope of the claims appended hereto.

