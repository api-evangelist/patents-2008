---

title: Restroom convenience center
abstract: A restroom monitoring system for monitoring attributes of fixtures within a restroom using sensors. Additional attributes are determined from the monitored attributes. Consumable usage levels are estimated based on predetermined consumption levels associated with usage states of the fixtures. The restroom monitoring system provides an indication of the need for replenishment of consumables based on the monitored attributes of the fixtures. In addition, restroom monitoring system may provide additional information regarding the restroom attributes to a service provider, a manager or a user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08364546&OS=08364546&RS=08364546
owner: Sloan Valve Company
number: 08364546
owner_city: Franklin Park
owner_country: US
publication_date: 20081105
---
This application is related to and claims priority from U.S. Provisional Patent Application 60 985 606 filed Nov. 5 2007 which is hereby incorporated by reference.

Conventional commercial restrooms are characterized by multiple plumbing fixtures and their respective fittings such as water closets with flushometers urinals with and without flushometers lavatory sinks with faucets and the accompanying devices that dispense consumables such as soap paper towels water closet tissues water closet disposable seat covers urinal deodorant supplies and wall hung air fresheners. With such a wide diversity of amenities in any given commercial restroom periodic maintenance of the consumables alone consumables are those provided materials that are used by the restroom patrons as a function of traffic creates a substantial task list not only in the supply of them into the dispensing devices within the restroom but also into the particular facility where they are being consumed.

Managers of commercial restrooms view the restroom as yet another expense or at the other extreme an opportunity to make a statement to their customers. Indeed many studies have shown a large impact can be experienced by customers whether positive or negative by the customer s singular visit to the restroom area. In some of these installations the multi fixture restrooms can be many and can be located in remote parts of a large expansive campus. Typically the cleaning consumable refilling and plumbing maintenance has fallen under the responsibility of the property owner or property manager. The routine cleaning of the restroom and refilling of the soap paper towels and paper tissue dispensers has typically fallen upon the in house group under maintenance called house keepers. Their primary responsibility is to maintain the commercial restrooms for a pleasant and efficient use by customers visiting the property. This routine cleaning is accomplished by facilities through many schemes and systems that range from very informal and non specific to regimented systems of routes and times of the routing. In the past most owners of commercial restrooms have cleaned and maintained the restroom this way in order to maintain an area of the property commercial restroom but is a procedure which can do harm with an unpleasant patron experience.

Of all the venues for commercial restrooms one common patron problem is universal. More times than not a particular patron of the commercial property restroom is not familiar with the property layout and the location of all of the possible restrooms. Manual signage is only indicative of location and in the instance of many people using the most convenient restroom forewarning of a queue people waiting in line inside the restroom and choices of alternate restrooms with no queues is not possible. Moreover conventional restroom facilities especially in high traffic areas such as airports stadiums educational institutions and restaurants have traditionally experienced long queues and insufficient or wasted asset capacity during periods of peak restroom usage. As such potential restroom users are often subjected to frustration and inconvenience as a result of these issues. A particular challenge is not only the daily servicing many of these restrooms but it is also being able to leverage that service with fewer employees in a job position which is also prone to high turnover. For example if a particular restroom within a property has not been used all day there is no need to waste valuable time servicing that restroom. This is equally valid if certain fixtures are known historically to have been used more than others and the periodic routine maintenance of that fixture could potentially be deferred to a less frequent servicing routine if there were some efficient way to do so.

The tasks of cleaning and replenishing consumables in a commercial restroom have ultimately fallen upon the owner of the general property. Whether that property is a public pay for entertainment movie theatres and stadiums hospitality hotels and resorts convention halls or high traffic public locations railroad stations airports etc. varying degrees of methods have been used to clean and replenish the commercial restrooms of those properties. Much of the methods have been home grown and specific to the properties from simple route plans that teams of employees are instructed to follow to evenly cover the expansive property layouts to specific routines of restrooms based upon known general traffic conditions. For example in airports a restroom located next to a gate which routinely deplanes large body aircraft may be overly utilized whenever the large population of flyers deplanes. Depending upon the level of quality desired for each property the actual maintenance routine could be minimal leaving major cleaning to less traffic periods. The actual routing of house keepers and verifying a cleaning replenishment routine is left to knowledge of the property traffic and simple hand written logs which sometimes can be found hanging in an inconspicuous spot within the restroom. Absent a miscalculation on traffic pattern or an incomplete service routine by a new maintenance employee the need for servicing may be determined only by a physical observation of the restroom or worse yet a customer complaint about the state of a substandard commercial restroom.

National restaurant chains and QSRs Quick Serve Restaurants know the impact of substandard restroom cleanliness with some chains actually placing a dollar value on the cost. Such a costly element of the business is left to the good practices of a busy manager who with the best of intentions during the manager s work day does not always have the time to devote to restroom quality. The forgotten small restrooms during the business day can better be monitored centrally from the home offices as well as allowing for the economies of large scale use on consumables purchases for bargaining with low cost providers of such consumables. It is yet another factor of today s business models that can have the restroom monitoring being performed remotely as well as the consumables procurement being remote from the actual consumption.

A large segment of commercial restroom owners contract out the sanitation tasks of the commercial restroom to outside service providers and the service that used to be in house is now more economically sourced out. This has allowed for reductions in house personnel to maintain the restroom keeping a fraction of the previous work force for emergency tasks. These service providers can be a local agent or a branch of a larger state or country wide company. With the bulk of the work tasks being contracted outside a business the actual supplies purchasing for a specific restroom can be located miles or even states away and are now more disparate than when accomplished by in house personnel. These changes have ushered in a whole new set of challenges when it comes to maximizing the commercial restroom as an asset.

The traditional commercial restroom has provided water control and dispensing consumables through either manual operation or automatic operation using infrared sensors or other sensors that detect the presence of users of faucets on sinks water closets urinals and other consumables dispensers. At the present time many of these types of commercial restrooms have adopted hands free operation where the user touching the various plumbing fittings is minimized for the user s convenience or sanitary reasons. Most of these automatic sensors follow a logical routine for detecting valid targets users within a predefined sensing zone and ignoring invalid targets such as patrons walking past plumbing sensor detections zones or hands moving quickly below faucet and soap dispenser fittings. Typically each valve operates alone with no communication or direct interaction with other valves and each sensor operates an associated fixture with no communication or correlation with other sensors. With no inter communication or central communication potentially useful information that can be extracted from for example the activation and deactivation of individual sensors is not utilized and or discarded. Simple counting of the activations may yield some basic inferential information on consumables but precise prediction of the entire property s restrooms can be greatly underutilized. Some prior art patents owned by the assignee U.S. Pat. Nos. 7 304 569 and 7 177 725 network these sensors for gross control of the restroom via a central controller offering two way communication between the plumbing fittings and a central area. The actual electronic detection elements of the sensor software are not broken up and only gross information of on and off and length between the on and off can be extrapolated. In the case of sensors to detect all levels of consumable paper and level of consumable liquids more sensors complicate the system network and are prone to diagnostic and added repair when they fail increasing life cycle costs and system complexity.

The lack of restroom automation can also lead to wasted water due to valves that leak slowly or run on causing flooding. Slow leaks during no demand times can also prompt intervention by maintenance staff to fix a slow leak before it becomes so obvious it is running on. The lack of restroom automation further can lead to suboptimal operating conditions such as water flow failure exhausted consumable supplied inoperable water fixtures which can increase the cost of ownership and or general owner and user dissatisfaction due to any of the above. Accordingly there is a substantial need for improved monitoring and maintenance of restrooms and also there is a need to maximize the restroom asset while minimizing the cost to maintain the asset by support services.

Additionally there has been a movement to implement ecologically friendly and ecologically efficient systems and services in facilities in particular with respect to e.g. water paper and soap consumption in restrooms. From a servicing standpoint facilities managers as well as janitorial staff have also experienced frustration and an inability to effectuate efficient operating procedures allowing such staff to maintain consumables supplies and also to know when for example an appropriate time period e.g. a lull in restroom activity would allow janitorial staff to address issues in the restroom facilities. Hence there is a need for implementing systems and methods that can address these problems from both the restroom user perspective and the servicing staff perspective. With more large facilities contracting out the housekeeping service the need for making those servicing visits by outside personnel requires more exacting information on what to expect at a given commercial restroom within a property. It would be highly advantageous for such systems and methods to be integrated with solutions for addressing the need for improved monitoring and control of restrooms as well as reducing the need for additional infrastructure e.g. minimal use of sensors thus simplifying and or simply eliminating the increased cost and service requirements for additional sensors. With the increasing demand and economic pressure monitoring the commercial restroom at a quality level with minimal costs has become extremely difficult. There is a further need to maximize the restroom asset while minimizing the support services cost to maintain the asset.

A system comprises a plurality of sensors in a restroom facility which operate various automatic devices such as flushometers faucets and other commercial restroom devices. The sensors are in communication with a network and provide direct information regarding aspects of the restroom facility such as but not limited to timing information water closet and urinal water flow temperature air quality and user traffic. The system extrapolates the direct information to determine indirect information regarding the state of other various aspects of the restroom facility including but not limited to the condition of the water closets and urinals the supply level of consumables the general cleanliness of the restroom facility and availability generally of various restrooms and also of fixtures in the restroom when traffic patterns in the facility are high. The system provides an indication regarding the need for attention to an aspect of the restroom facility based upon the direct actual sensor activations and indirect information heuristic software models . For example a control system can include at least one server configured to monitor data states associated with a first of features of the restroom a controller coupled to the at least one sensor and configured to receive first state data associated with the first set of features and the controller further having a coupled memory storage with embedded alarm data characteristic of selected combinations of different ones of the first states data and the controller operative to generate particular action commands upon receiving a selected one of the combinations thereby causing at least one of servicing of the restroom activation of informational direction to user of the restroom and providing useful restroom status information to the user. In addition in another aspect of the invention a method for forecasting restroom usage queue times for selected fixtures of the restroom includes operably associating at least one fixture sensor with at least one fixture in the restroom such that at least one attribution of the fixture is monitored by the fixture sensor operably associating each of the at least one fixture sensors with a restroom controller monitoring entrance and exit events for the restroom using a presence sensor the presence sensor associated with the restroom controller generating a time date stamp for data generated by the at least one fixture sensor and the presence sensor determining a user saturation of the restroom calculating an estimated queue time associated with the user saturation of the restroom and communicating the calculated queue time to potential users thereby enabling efficient use of the restroom.

In one embodiment the present invention relates to a restroom control system for controlling a restroom and its restroom facilities. The system comprises one or more sensors configured to monitor states associated with a first set of features of the restroom. A controller is operably coupled to the one or more sensors and configured to receive first states data therefrom associated with the first set of features to determine second state data associated with a second set of features and communicate the status condition associated with the first set of features thereby causing useful actions to be scheduled for the restroom.

Another aspect of the invention related to a method for automatically generating work orders for a restroom by sensing the state of at least one restroom fixture communicating the at least one sensed state to a controller calculating the use of at least one type of consumable within the restroom facility based upon a predetermined average usage for each of the at least one sensed states aggregating the calculated usage for each type of consumable within the restroom facility to determine a total amount used for each type of consumable determining when the total amount used for each type of consumable surpasses a predetermined threshold evaluating at least one of additional stored data and sudden occurrence data for determining whether the predetermined threshold should be adjusted based on the additional stored data and the sudden occurrence data and issuing a work order for replenishment of each type of consumable for which the respective threshold has been surpassed.

In a further aspect the present invention relates to a method comprising receiving first data from a plurality of sensors at least one associated with a flushometer inferring information based on the received first data the inferred information being indicative of at least one state of the restroom facility requiring at least one corrective measure and transmitting at least one notification including at least one instruction for implementing the at least one corrective measure.

In yet another aspect the present invention relates to a computer implemented system for managing restroom facilities comprising a central processing unit CPU and a storage device coupled to the CPU. The storage device has information stored therein for configuring the CPU to first data from a plurality of sensors associated with at least one of an appliance aspect and a utilization aspect of a restroom facility second data determined by executing computer software based on the received first data the second data being indicative of at least action state of the restroom facility requiring at least one corrective measure for the restroom facilities and an alarm system activated by a notification of achieving the at least one action states including at least one instruction for implementing the at least one corrective measure for servicing the restroom facilities.

In yet another aspect the present invention related to a method for forecasting restroom usage queue times for selected fixtures of the restroom. The method comprises operably associating at least one fixture sensor with at least one fixture in the restroom such that at least one attribution of the fixture is monitored by the fixture sensor operably associating each of the at least one fixture sensors with a restroom controller monitoring entrance and exit events for the restroom using a presence sensor the presences sensor associated with the restroom controller generating a time date stamp for data generated by the at least one fixture sensor and the presence sensor determining a user saturation of the restroom calculating an estimated queue time associated with the user saturation of the restroom and communicating the calculated queue time to potential users thereby enabling efficient use of the restroom.

In yet another embodiment the present invention relates to a system for a restroom. The system includes at least one server configured to monitor data states associated with a first of features of the restroom. A controller is coupled to the at least one sensor and configured to receive first state data associated with the first set of features. The controller has a coupled memory storage with embedded alarm data characteristic of selected combinations of different ones of the first states data. The controller is operative to generate particular action commands upon receiving a selected one of the combinations thereby causing at least one of servicing of the restroom activation of informational direction to user of the restroom and providing useful restroom status information to the user.

To the accomplishment of the foregoing and related ends the invention comprises the features hereinafter fully described and particularly pointed out in the claims. The following description and the annexed drawings set forth in detail certain illustrative aspects and implementations of the invention. These are indicative however of but a few of the various ways in which the principles of the invention may be employed. Other objects advantages and novel features of the invention will become apparent from the following detailed description of the invention when considered in conjunction with the drawings described below.

The present invention will be described with respect to the accompanying drawings in which like numbered elements represent like parts. The present invention is directed to a system and method of monitoring the status condition of one or more functions associated with a restroom extrapolating one or more additional status conditions from the status condition of the monitored functions communicating one or more of the status conditions and effectuating services to a restroom.

With reference to the figures is a schematic diagram illustrating one exemplary embodiment of a restroom convenience center system for use with a restroom. In the restroom such as a commercial bathroom has a plurality of differing kinds of fixture therein. For example the fixture may include one or more water closets one or more automatic urinals one or more faucets trash receptacles as well as dispensers of consumable items such as restroom tissue paper soap paper napkin fragrance bowl sanitizer seat covers and hand sanitizer. Other types of the fixtures showers hand dryers and a product dispensing machine may also reside within the restroom and all such fixtures are contemplated as falling within the scope of the present invention. As illustrated in at least one information source is provided in communication with a restroom convenience center controller . The information source may be for example a sensor or a peripheral device .

Briefly turning to the sensors which are disclosed in more detail below the restroom of further includes a plurality of the sensors . The sensors receive data regarding observed conditions of the restroom . The sensors may be associated with one of the fixtures within the restroom such as urinal automatic activation sensors associated with the urinals respectively water closet automatic activation sensors associated with the water closets in the restroom and faucet automatic activation sensors associated with faucets . Other ones of the sensors may be located within the restroom for gathering data but not associated with a particular one of the fixtures such as air quality sensor patron counter and a water flow sensor . Various sensors for use with the present invention are further described below.

With continued reference to the restroom convenience center controller is operatively associated with each of the sensors in the restroom as illustrated to receive either via push or pull data from one or more of the various sensors or their respective controllers within the restroom . Although illustrates hard wired type electrical connection to the sensors it should be appreciated that such sensors may be coupled to the controller in a wireless or other type manner and such alternatives are contemplated by the present invention and described in further detail below. A preferred embodiment utilizes a ZigBee wireless network protocol which is able to create self organizing mesh networks thus negating any need to perform complicated routing configurations between wireless nodes. It should be noted however that other network protocols and or infrastructures can be utilized in accordance with various embodiments. It should also be noted that although it is preferable to utilize wireless based sensors and facilities collectively referred to as wireless information sources for example shown in if for example building infrastructure inhibits the effectiveness of wireless communications wired sensors facilities and networks collectively referred to as wired information sources for example shown in can be used in accordance with various embodiments such as fiber and power line communication.

Furthermore although the restroom convenience center system is generally illustrated and referred to as a physically separate component from the fixture and the sensors it should be appreciated that the restroom convenience center system may be included as a single device or component with the other sensors or the peripheral devices such as in combination with the air quality sensor built into the flushometer automatic activation sensor of the urinal or the water closet or integrated with a graphical user interface in the restroom . It will be appreciated that this can be ideal for retrofit applications or for small restrooms. It should be appreciated in instances where the restroom convenience center controller is accessible to patrons the tamper detection aspects of the invention discussed further below achieve an increased importance.

The Data Collection Unit for example can be but is not limited to an Atmel AVR microprocessor. The DCU manages the DCU configuration collects data from attached wired information sources and wireless information sources provides system time via an RTC real time clock performs some minimal processing of data communicates with the NIU communicates with DAN and provides a mechanism to update its application flash image. Thus as illustrated in the DCU receives data from various attached peripheral devices air quality sensor janitor login interface patron call device keypad tamper sensor or switch temperature sensor LUI RTC described in further detail below as well as from those sensors and devices that are wirelessly linked to the restroom convenience center controller . The DCU also provides information back out of the controller such as to provide the LUI to a stakeholder in the restroom . In one embodiment the DCU receives data from the respective sensors at set time intervals and timestamps the data. It should be appreciated that the DCU may be configured as desired to receive or request information at different time intervals or even substantially continuously from different sensors . A nonlimiting example would include for example as the air quality sensor that may transmit data every second and the water closet automatic activation sensor that transmits data every minute.

With continued reference to the NIU is another hardware module that can be utilized in accordance with various embodiments and is responsible for providing access to the Internet by a user such as by a web based user interface for configuring and viewing system contents storing historical data data driven event notification and a means for notifying an external server of re supply and predictive maintenance data. The NIU for example is a Digi Connect ME module. The NIU manages the NIU configuration of devices for example ZigBee nodes IP parameters configurable user preferences provides a full Transmission Control Protocol and Internet Protocol TCP IP stack provides user notifications provides predictive maintenance and re supply algorithm capability provides a web based user interface to the system provides an File Transfer Protocol FTP server for code updates provides an FTP client for code updates provides timestamp capability provides historical data on demand and uses the ThreadX operating system.

Continuing the reference to the DAN is responsible for managing the wireless device network and providing an interface between attached nodes and the DCU . The DAN can for example be a MaxStream XBee ZigBee interface module. However it should be appreciated that various types of networks known in the art may be utilized with the restroom convenience center system . The DAN acts as a network coordinator to manage the device network communicates with attached nodes and communicates with the DCU .

As described above the NIU is responsible for providing a web based user interface which is discussed below. With reference now to in one embodiment of the system the controller such as via the NIU see also is communicatively connected to the Internet or some other network capable of providing data communications and allows an end user such as a system operator building facilities manager etc. to interact with the restroom convenience center controller over e.g. the Internet via embedded web pages. The embedded web pages can provide various remote interactions with and displays associated with data sensed and extrapolated at the restroom convenience center controller . For example the embedded web pages can allow an end user to acknowledge alerts reset counters and or sensors and perform a manual janitorial visit. Additionally the embedded web pages can provide access to views of all relevant restroom convenience center controller and restroom convenience center system information.

With reference to a detailed illustration is provided depicting one embodiment of the various restroom convenience center controller elements DCU NIU and DAN and their corresponding function. The DCU can comprise but is not limited to the following modules a time management module a configuration persistence module the firmware interfaces e.g. the XBee interface and data acquisition and control modules for attached devices as well as wireless devices. The NIU can comprise but is not limited to the following modules a time management module a configuration persistence module the firmware web server and machine to machine interface a data archive various predictive algorithms and communication interfaces e.g. for email File Transfer Protocol FTP etc. The DAN can comprise but is not limited to XBee ZBee interface module and firmware.

While generally the restroom convenience center system is referred to in the singular sense it should be appreciated that in certain embodiments multiple areas of the restroom convenience center systems may be linked to a networked system providing for centralized control and or data warehousing. Thus illustrates a restroom convenience center controller in communication with information sources . Typically this represents a single restroom such as shown in . are diagrams illustrating another exemplary aspect of the present invention wherein a plurality of the restroom convenience center controller each individually associated with their own respective restroom s are coupled to a central global command unit e.g. network operations center NOC .

Various embodiments contemplate a central monitor and control system associated with a large venue such as for example a convention center an airport a school a hospital or a sports stadium in which a large number of restrooms reside therein. In such an embodiment each restroom can have its own restroom convenience center controller associated therewith in which data is received from various information sources therein and a status communication is then communicated in response thereto. More particularly in the present example such data is transmitted over a communication pathway such as a data bus not shown through a router not shown optional to a global command unit over a system level data bus.

With specific reference to three separate restroom convenience center controllers are illustrated as being in communication with a NOC . The restroom NOC includes a restroom management database allowing for storage and retrieval of information such as for performing predicting functions as further described below. In addition it should be appreciated that various software modules may be resident or accessible via the Internet to allow functionality for messaging predictive maintenance consumable replenishment route planning LEED Leadership in Energy Efficiency Design compliance water conservation figures of merit policy compliance and building and patron safety. Such an embodiment may be useful for controlling all of the restroom within a given facility. is a further embodiment wherein each restroom convenience center controller for a facility is in communication with an intermediary controller for that facility which is in turn along with other like controllers for other facilities in communication with a NOC . It will be appreciated that such an embodiment may be useful in monitoring global facilities within a single entity or providing restroom management services to a group of different entities.

Although optional the intelligent routers not shown may be employed in the present example to facilitate an orderly transfer of data to the NOC in an orderly fashion to avoid packet collisions etc. In one example the analysis of collected data discussed further below is performed at the restroom convenience center and alarm conditions and states are passed on to the NOC . However in another embodiment of the present invention some portions of analysis are performed at both the restroom convenience center controller level and at the NOC level. For example to the extent that further analysis is to be performed to compare and or analyze historical or trend data between the various different restrooms as is further discussed below such analysis can be done at passed up to the NOC .

The restroom convenience center controller will also periodically export accumulated system and device data to an outside server as described above. The system operator may configure the restroom convenience center controller to export none some or all of the interim direct data that it collects from the facilities e.g. exporting all sensor data from the flushometers or exporting all accumulated air quality sensor data which would otherwise be discarded. In addition to this interim data all accumulated totals e.g. total flushes total faucet run time will be sent to an outside server. Data is sent as for example a comma separated value CSV file attached to a regular email. One skilled can appreciate XML format SNMP Simple Network Management Protocol format to name a few can equally be applicable. The location of the email server or the type of recipient machine human is unimportant the only requirement being that the restroom convenience center controller is properly configured to contact an outgoing mail server on its local network via Ethernet or WiFi .

A key benefit of a centralized approach embodiment especially when monitoring a very large number of geographically distributed restrooms includes the ability to leverage existing commercial database knowledge engine data mining customer help desk and customer relationship management software applications when building restroom management applications. Such a large scale system would require preferably the computing power to run sophisticated applications on top of the commercial software packages to speed development and reduce development costs. Applications might include predictive failure models based on statistical methods such as the Poisson distribution dynamic resource scheduling based on queuing theory route planning and order forecasting. Alternatively a smaller scale system may not require a back office to aggregate data from multiple locations but instead would place a high value on a localized system that is remotely accessible and would likely emphasize different benefits from that of a corporate retail client for instance. While some of the same applications such as predictive failure and route planning might be used with the localized system they would likely be a subset of the full application resident at the data warehouse.

If an alarm event or need to take corrective action is detected by the restroom convenience center controller the alarm text alarm time restroom convenience center controller identifier alarm type and any alarm specific data is dispatched to the address es configured for that type of alarm. An alarm is only dispatched once while it is active. No new alarms of the type will be sent until the alarm is reset. The alarm is cleared by the restroom convenience center controller if the condition that causes the alarm is reversed. The alarm is cleared by a user for instance via a restroom convenience center controller web page.

Additionally actions can be prompted in accordance with various embodiments such as the generation of work orders. That is after an appropriate one of the sensors senses a state of one of a plurality of the restroom fixtures described above e.g. calculating the use of each type of consumable based upon a predetermined average usage for each consumable the calculated usage for each type of consumable is aggregated to determine a total amount of consumable usage. When the total amount of consumable usage surpasses a predetermined threshold a work order can be issued by the restroom convenience center controller for replenishing each type of consumable for which the respective threshold has been surpassed. Likewise when the controller determines based on the data from the sensors that maintenance preventative or remedial is required a work order including likely replacement parts can be generated.

Referring back to further detail regarding portions of the structure of the restroom convenience center system and the relative interactions of the sensors such as water closet automatic activation sensor and faucet automatic activation sensor the peripheral devices such as patron counter device and card reader the controller and communication pathways is shown. illustrates an overview diagram of a network for effectuating various embodiments.

Generally speaking all the sensors associated with particular facilities in the restroom e.g. the patron counter the urinals the consumable dispenser the water closet the faucets etc can transmit their data to the restroom convenience center controller wirelessly as described above to avoid complicated or expensive wiring in the restroom . The use of wireless communications in association with automatic urinal the water closet and the faucets allows for application of the described system without invasive work on the restroom. For example the sensors can communicate with the restroom convenience center controller using a ZigBee wireless network protocol.

In one embodiment a janitor login interface the patron counter and the indoor air quality sensor and the presence sensors are also shown as being communicatively connected to the restroom convenience center controller for gathering and transmitting sensed data to the restroom convenience center controller . Additionally the sensors and the peripheral devices described above can be collectively and wirelessly connected to the restroom convenience center controller as well again for sensing and transmitting data to the restroom convenience center controller .

With continued reference to the restroom convenience center controller is configured to operate on the LAN of the facility in which it is installed as described to above. Each of the restroom convenience center controllers can be configured by default to use a dynamic host configuration protocol DHCP to acquire network settings automatically. Each restroom convenience center controller may also be manually configured with fixed network settings if required. It should be noted that for embodiments utilizing Wi Fi the restroom convenience center controller may require additional configuration to access the wireless network including the use of a SSID Service Set Identifier code as well as a WEP Wired Equivalent Privacy or WPA Wi Fi Protected Access encryption key. Depending on the configuration of the DHCP Dynamic Host Configuration Protocol server it may be necessary to enter additional information manually such as the SMTP Simple Mail Transfer Protocol server required for email delivery. Because the network settings may be configured through the serial port it is not necessary to access the restroom convenience center controller over the network to modify its network settings but can be configured via the LUI .

In addition in a preferred embodiment the restroom convenience center controller can automatically discover active nodes typically associated with one of the sensors or the peripheral device . Through a web interface e.g. embedded web pages discussed below a system operator can see a list of discovered nodes and add those nodes to the restroom convenience center controller system. The operator can also manually add nodes to the restroom convenience center controller system in the event that automatic discovery is not possible or feasible e.g. by adding a battery operated node .

It should also be appreciated that each of the sensors or the peripheral device may further include an associated identifier such as a unique identifier used to differentiate the data from one of the particular fixtures from another. For example it may be desirable for the system to be able to discern the first urinal from the third urinal in the bank of urinals such that 50 actuations of each is not indicative of the need to replace the deodorant but 100 actuations of a single one of the urinals would be indicative.

Regarding the real time clock of the DCU the real time clock allows for time stamping events transmitted to the restroom convenience center controller . The use of a time stamp for events allows for a determination of elapsed time such as between events or between an adjustable baseline and an event. Using the real time clock the restroom convenience center controller can also determine the need for certain actions based on the passage of time. For example the replenishment of consumables and general cleaning may be based on patron volume and sensor activations as previously described but may also factor in the time elapsed since a previous cleaning.

As has been discussed above one component of the restroom convenience center system is the sensor or a plurality of the sensors used to provide information regarding the restroom and stakeholders. According to one embodiment the system includes at least one of the sensors which may be associated with a portion of the fixture in the restroom or generally monitor a state or property of the restroom such as occupancy. Generally speaking the sensors will either be independent from the fixtures in the restroom such as an air quality sensor or the patron counter . Other sensors are dependent i.e. associated with a fixture to sense a function associated with the given fixture such as signage for current time use of one or more of the fixtures and predicted time to availability or direction to an available fixture or another restroom . The invention considers all possibilities for obtaining data including inferred data based on other non direct measurements native communications built into the flush valve add on modules to transduce the events of interest and also non direct methods such as ultrasonically monitoring a plumbing riser and using digital signal processing techniques to uniquely identify the fixture actuation. Some illustrative non limiting examples of the sensors for use with the present invention are described in greater detail below. In a more global view if other like restrooms are present in the same site the other restroom need have only limited numbers of the sensors relative to a first typical restroom thereby allowing accurate prediction of usage in all like restrooms . It should be noted however that not all the fixtures within the restroom need to be associated with and the sensors . As will be described below in greater detail data from one sensors or the restroom may be used to predict the current or future state of the given fixture consumable or the restroom in general.

It should be appreciated that the number and type of the sensors utilized in any given restroom or series of restrooms may be varied depending on the desired accuracy reliability and cost of the system . In addition in one embodiment the sensors include sensor level controllers or fixture level controllers not shown disposed at that fixture that provide varying types of control based upon the type of the fixture or the sensor associated therewith. Further the types of the sensors may be varied depending on the particular restroom s venue or usage. While the desired results to be achieved by the restroom convenience center system will vary from user to user illustrates a table including one estimate of benefits needs or requirements according to the market . As can be seen the importance of various aspects able to be addressed by the restroom convenience center system vary from market to market.

For example an airport restroom sensor suite might include a presence sensor such as for the automatic urinal and the air quality sensor . This sensor suite might be chosen to optimize housekeeping efficiency since an airport typically contains a large number of the restrooms typified by periods of high traffic followed by low or no traffic. Alternatively a sensor suite for the restroom in an office building might include the door positioned patron counter and the air quality sensor to optimize the building s image and attention to detail. While not illustrated in it should also be appreciated that there are other trends along which patterns can be drawn regarding desired restroom convenience center system functionality that drives the particular configuration and level of consumables service of the restroom convenience center system for a given installation. Gender for example may play an important role in certain installations. A woman s restroom may include sensors for discerning the presence of liquid as compared to solid waste in a water closet while a men s restroom may include sensors for detecting users in operation of a waterless form of the urinals . Further the sensors utilized may be varied depending on the desired relative importance of various aspects of restroom configuration and maintenance.

Turning now to illustrative non limiting examples of the sensors that may be used with the present invention one type of the sensor that may be used is a motion or presence detection sensor such as an IR sensor see . Typically this type of sensor provides a state indication i.e. a target within the detection zone yes or no. In combination with a clock mechanism the presence sensors may derive the length of time of the presence or absence of something in the detection zone. It should be appreciated that presence sensors see are typically included in automatic actuation sensors such as those used to provide hands free flushing of the water closet and the urinals or hands free faucet and towel dispenser activation. Thus many of the automatic fixtures within modern commercial restrooms already include sensors that can be used to provide data to the restroom convenience center system in accordance with the present invention. For example the presence sensor may be associated with the water closet the urinal the faucets the consumable dispenser such a paper towel dispenser or proximity near the entry exit door. As has been previously mentioned a portion of the fixture may be associated with the sensors as shown in or alternatively each of the fixtures may be associated with the presence sensor such as shown in . The presence sensor operates to detect when a valid target user enters a detection zone and then send a signal to actuate the device typically either when the target enters the detection zone such as for the faucets and consumable dispensers or when the target leaves the detections zone for the water closet the urinals the faucet or the entry exit door.

With continued reference to one specific type of presence sensor is a water closet automatic activation sensor or urinal water closet automatic activation sensor collectively flushometer automatic activation sensor associated with the urinal or the water closet respectively that may provide information regarding absolute activations absolute flow duration periodic activations periodic flow duration status message count time of use and battery information. A further type of the presence sensor is a faucet automatic activation sensor that may provide absolute activations absolute flow duration periodic activations periodic flow duration time of use status message count and battery information.

Additional information is available from typical prior art sensors such as total activations battery status battery door status time of use and battery contact status. For example the restroom convenience center controller can record a running total of activations for each flushometer and will send alerts and notifications when the flushometer generally indicates that its battery is sub nominal. A water closet automatic activation sensor can record the number of flush valve activations at the particular water closet . The water closet automatic activation sensor passes flush valve activation count information to the restroom convenience center controller via e.g. a wireless link. Additionally the water closet flushometer automatic activation sensor keeps a running count of the number of activations locally in some non volatile memory or can also be sent to a centralized offsite memory in a control center. Periodically the water closet automatic activation sensor will relay its absolute count information as well as other use information such as cumulative time of use to the restroom convenience center controller . Alternatively the flushometer automatic activation sensor may provide a single output to the controller when the count exceeds a predetermined threshold.

In terms of the faucets the restroom convenience center controller supports collection of all available data from the faucets both battery operated and hard wired. Available data can include for example total run time number of on off water output cycles for each user water flow hot cold and or total and battery status. The restroom convenience center controller records a running total of the run time for each of the faucets and will send alerts and notifications when a battery operated faucet indicates that its battery is generally sub optimal.

A further type of the presence sensor not used to trigger activation may further be used in association with any one of the fixtures to achieve an indication of usage of the fixture time of use and projected time of availability which can be used for notification to future users of the fixture or even the wait time for all or one of the fixtures for any given restroom . This may be of particular relevant for the fixture such as waterless urinals or baby changing tables where the usage does not require an activation and instead just a count and duration. It should further be appreciated that it may be desirable to position the presence sensors where users may be utilizing the restroom but not activating the fixture or using consumables such as someone merely standing at the sink to use the mirror or collecting a paper towel for personal use.

Other types of the sensors also fall within the spirit and scope of the invention. For example a water flow sensor is a sensor for measuring the flow of water through a given fixture or supply line. Such the water flow sensor may comprise a simple flow meter. Again with reference to the sensor may include the water flow sensor associated with at least one water supply line not shown for the restroom for example associated with a main water supply line and providing water to the restroom . The water flow sensor may provide information regarding the absolute flow and the periodic flow. One such one of the water flow sensors is described in U.S. patent application Ser. Nos. 12 253 745 and 12 253 745 assigned to the present assignee. Not every one of the fixtures necessarily needs a flow sensor and indeed if a bank of the fixtures has one connected upstream of the supply this can enable narrowing down a leak problem to a very finite set of the fixture on a common plumbing wall.

Not every sensor needs be directly associated with the fixture . For example the air quality sensor may be utilized to provide data associated with the air quality within the restroom or a portion of the restroom . While the figures and description generally describe the use of the single air quality sensor per restroom positioned to measure the general air quality of the space it should be appreciated that one or more of the air quality sensors could be positioned to be more highly correlated to space surrounding a particular fixture . The air quality sensor may be configured to provide raw gas values and or air quality values and also detect specific types of gases or air contamination.

The restroom convenience center controller can collect the air quality sensor data from one or more of the air quality sensors installed in the restroom . Additionally the restroom convenience center controller has a provision for one locally connected air quality sensor although additional sensors can be added via for example the ZigBee wireless network. The restroom convenience center controller can also monitor the air quality sensor levels and determine the overall air quality of the restroom from this data. It should be noted that although the restroom convenience center controller does not need to retain the air quality sensor historical data in memory a system operator may configure the restroom convenience center controller to export this data to an outside server or other internal separate unit for establishing profiles of certain parameters for future predictive use or for threshold evaluations.

Another sensor that need not be associated with the given fixture is a patron counter . The patron counter provides a count of the passage of an object such as a user through a given space. The Patron counters are well known for being able to measure presence and direction of travel and may comprise the presence sensors such as discussed above or may be the sensors such as those measuring door swings by capacitance or other means. Typically the patron counter will be positioned near an entrance or exit but can be positioned for use with the water closet so as to provide a count of individuals entering and or leaving the restroom . The patron counter may record an absolute count and or a time period count.

The patron counter may be employed alone or in concert to ascertain traffic associated with the restroom as well as a usage thereof. For example referring to a patron counter located at an entrance of the restroom may give a count of a number of people entering and exiting the facility over a given period of time. For a given sampling period of time the average length of time a person remains in the restroom can be determined. In addition a second one of the patron counters located at one or more other locations may be utilized to obtain a count of individuals that used the facility. For example the patron counter may be located at the faucets or at doors of the water closet or other locations. In the above manner two types of data may be collected to give information relating to what percentage of people entering the restroom actually use the water closet etc. as opposed to for example simply using the mirror for grooming or other purposes. The average length of time for a given period of time of a person remaining in the restroom can be compared to the average service time for each of the fixtures and that comparison can dictate whether a person will experience a queue time wait time or not and even impact service time or scheduling action for that fixture. With more advanced modeling of the monitored times probabilistic models can be simulated and effectuated in realtime to obtain more predictive expectations of how long a user may expect to wait and then output that information for display to the user.

Yet another of the sensors that may be utilized without associating specifically with the fixture is a temperature sensor . The temperature sensor may be internal or external to the restroom or both may be provided. Further the temperature sensor may be a component of the HVAC system. Such information may be relevant to future service actions or provide predictive information as to the fixture use and consumables replenishment such as the outside temperature being extremely hot or cold resulting in changes of restroom use.

As discussed regarding other aspects of the invention the presence sensors may include a time element for detecting the duration of a use i.e. the duration of the presence detection . Other ones of the sensors in the restroom may include the sensors employed to identify the presence of consumable supplies such as water closet paper paper napkins soap and other products such as deodorizers and or sanitizers.

As was generally mentioned above regarding the data collection by the DCU the timing of data collection may vary depending on information source . For example the patron call device for a patron and the tamper switch or sensor may provide asynchronous data collection sending a signal to the DCU whenever they are activated . However the air quality sensor and the temperature sensor may provide data in regular time intervals. Further the data may be provided as a pull by the controller from the information source or push from the information source to the controller .

Although a single one of the sensors is illustrated in as being associated with a given fixture and the present application generally refers to sensor in the singular when referring to the sensorization of a single fixture it should be appreciated that multiple sensors having differing functions may be employed on the given fixture as may be desired. In one example each water supply line not shown associated with the individual water closet or the urinal may also have the water flow sensor associated therewith to measure the volume of water as opposed merely to the activation of the water closet or the urinal by the water flow sensor .

In addition each of the sensors may include the ability to discern more than one aspect of the restroom . For example the sensor may include a number of individual sensor units spaced together or apart. For example it may be desirous to use multiple patron counters to form a larger detection area within a singular restroom . In addition some of the sensors may provide additional data that relates to more than one aspect of the restroom . One example would be the air quality sensor . In certain embodiments the air quality sensor not only provides an output signal proportional to the summation of a broad class of Volatile Organic Compounds VOCs but it is possible to extract timing information from the output signal that can be used for pattern recognition. The VOC output signal in combination with the extracted timing information and pattern recognition can be used to predict and discriminate activities such as cigarette smoking from other VOC generating events.

In another illustrative example as previously discussed the flush valve of the fixture may have the sensor that can provide an indication of when an individual is present when they have left and how long they were present in addition to when the flush valve is triggered. For a flush valve associated with the presence sensor data gathered may include the occurrence of a complete flush cycle the manner of actuation i.e. manual or automatic the type of flush selected such as a partial flush or a full flush and the length of time the presence or actual use was detected such as to indicate either solid longer time or liquid shorter time waste in the water closet . Further based on the type of sensor employed various differing states associated with the fixture may be monitored such as standby no valid target user within the detection zone armed valid target user detected and flushed or activated user is serviced and leaves the detection zone for the water closet or the urinal . In addition a timer may be used such as equivalent to the armed time of automatic activation sensors to provide information regarding the length of time a user is present at the water closet the urinal the faucet the consumable dispenser or other restroom device. This time value can be used to generate service or use time for that particular fixture . Collecting and analyzing the service times for a particular user population time span can be analyzed within the system software to predict or to report status of the asset and to anticipate service needs. This reporting can be for maintenance scheduling or for signaling users as to the wait status they may encounter by using the restroom or any selected one of the fixtures of their choosing.

In certain embodiments the predictive aspects of the invention described below may be used to predict the state of one of the restroom from the sensor data from another. In such an embodiment it is preferable that the dependent restroom include at least one sensor of the same type as the primary restroom such as a patron counter to allow for normalization and benchmarking between the two restrooms. This capability can enable reduction of sensor needed and simplify service action.

The restroom convenience center controller as described above is able to accept input from stakeholders for various purposes and shown generally in . The restroom control system in one embodiment further comprises a patron call device for the purpose of indicating an unsatisfactory condition in the restroom e.g. an alarm notification upon a user activation thereof. The input to the restroom convenience center controller can be effectuated via a simple momentary input e.g. a switch or touchless sensor. Alternatively voice input such as via recording a patron voice message or a live chat with an operator can also be implemented. Therefore when a patron activates the patron call device input the restroom convenience center controller assumes that an unsatisfactory condition now exists unknown to owner in the restroom and that service is required. The restroom convenience center controller can additionally dispatch any notifications or alarms that would be required because of this action. The restroom convenience center controller can also record the timestamp of all patron activations and export this information to an outside server e.g. the restroom convenience center controller server on a periodic basis.

The patron call device may also include a confirmation aspect such that a user must confirm the activation to avoid accidental or prank patron calls. In one example the patron call device is generic and simply indicates a user need in the restroom . In another alternative the patron call device contains multiple buttons or indicators and a graphical user interface and is configured to send data relating to specific requests for example a maintenance request a supply replenishment request or a medical emergency. In one embodiment the system is configured to monitor the status of a patron call such as patron calls not yet confirmed response status for confirmed patron calls and historical number of patron calls.

It should also be noted that the restroom convenience center controller or individual sensors within the restroom can include or be locally connected to one or more of the tamper sensors . The tamper sensor or switch can detect when an outer casing of the restroom convenience center controller is removed or otherwise tampered with and effectuate an alarm condition or notification.

In a further embodiment a janitor and or maintenance interface is provided. The restroom convenience center controller can accept input from a standard radio frequency RF contactless card reader to allow individual janitorial staff to indicate that the restroom has been serviced. If a janitor activates the card reader the restroom convenience center controller assumes that any previously indicated unsatisfactory conditions have been resolved and that consumable resupply has occurred. In one embodiment the restroom convenience center controller records the time duration and identity of all janitorial visits and exports this information to an outside server on a periodic basis as well.

In one embodiment the janitor and or maintenance interface described above is used to create the electronic version of a restroom serviced clipboard displayable on a graphical user interface such a LUI . When a janitor activates the interface the date and time is recorded. When the janitor completes servicing the restroom the janitor interface is reactivated thereby creating a record of the duration of service personnel visit. Additionally the janitor interface can record the identity of the servicing janitor. A method for recording the service provided by the maintenance personnel i.e. general re supply cleaning etc. is also provided. The ability to reset predictive algorithms to a baseline condition based on re supply by maintenance personnel is provided as well in addition to the ability to enter actual consumables inventory for fine tuning of predictive re supply algorithms.

Further the LUI may be provided within the restroom . The LUI can provide an interface for patrons and or servicing personnel such as janitors access to the restroom convenience center controller for reporting certain conditions as described above. Thus the LUI may serve as the patron call device and the janitor login interface . In addition the LUI can be utilized when configuring the restroom convenience center controller via e.g. a laptop computer PDA or other processor. For example patrons can utilize the LUI to indicate that the particular restroom fixture or asset needs servicing or attention in accordance with a patron specific LUI screen while another LUI screen can be displayed when a janitor accesses the restroom convenience center controller . That is when a janitor accesses the restroom convenience center controller an electronic restroom service clipboard can appear.

The sensors communications pathways and the restroom convenience center controller function to provide stakeholders with information regarding the historic current and predicted conditions in the restroom . Although the methods and functionality are illustrated and described below as a series of acts or events it will be appreciated that the present invention is not limited by the illustrated ordering of such acts events or functionality. For example some acts may occur in different orders and or concurrently with other acts or events apart from those illustrated and or described herein in accordance with the invention. In addition not all illustrated functionality may be required to implement a methodology or system in accordance with the present invention. The methods of the present invention moreover may be implemented in association with the devices illustrated and described herein as well as in association with other devices and systems not illustrated and utilize various combinations of components.

Various stakeholders have been previously discussed in regard to interactions and usage of the restroom convenience center system . illustrates one non exhaustive list of stakeholders and the information provided by the restroom convenience center system to and or used by those stakeholders including building owner operations building maintenance personal patrons janitorial housekeeping government agencies manufacturer .

More specifically are detailed diagrams representative of various actions events and or interactions that are contemplated in accordance with various embodiments. The stakeholders illustrated in are the patron facility operations facility maintenance restroom convenience center system manufacturing restroom convenience center system maintainers janitorial and information sources . It should be noted that although represent human actors such roles can comprise systems and devices e.g. facility operations can be personnel as well as facility operations management systems.

Facility maintenance activities may include system reset system configuration system diagnostics device calibration algorithm calibration and device commissioning restroom convenience center system manufacturing activities include executing code testing and updating programs such as by flashing memory. Those monitoring the restroom convenience center system may also perform updates to the programming.

Janitorial activities include responding to service calls and regular service of the restroom but of which may involve the janitor login function. The restroom devices such as the fixtures and other services devices also may interact with the restroom convenience center system to perform activities such as receiving set points sending data and timestamps alarming generation device calibration and device commissioning. The NOL independent system integrators and BAS all provide information gateway activities.

Those activities that are likely to occur less frequently are illustrated in . For example the patron may perform prank service requests or tamper with the restroom convenience center system . The facility operations and facility maintenance may experience a loss of HVAC lighting water pressure communication or power. The restroom convenience center system manufacturing and restroom convenience center system maintainers may experience a failure of the program updating. The janitorial staff also may forget to utilize the janitor login interface or the login may result in an unknown or unauthorized entry. The restroom devices may experience component failure or particularly in the case of wireless devices intermittent data transmission or total communication failure. Likewise the NOC independent system integrators and BAS may experience communication failure.

Thus each stakeholder has certain activities and interactions with the restroom convenience center system including potentially problematic interactions or indications that can be addressed by the restroom convenience center system . For example the restroom convenience center system can sense and respond to patrons that tamper with the restroom convenience center controller and or the fixtures the sensors the counters etc. As described above the restroom convenience center controller can also distinguish between real and prank or accidental service requests. Additionally through the use of the restroom convenience center system facility operations and maintenance personnel or systems can be apprised of and respond to a loss in heating ventilation and air conditioning HVAC services loss of lighting loss of water pressure communication failures and power failures e.g. to the restroom convenience center controller . Restroom convenience center controller manufacturing and maintenance personnel can perform code testing and program updating with regard to for example the restroom convenience center controller . Janitors on the other hand can respond to service calls or simply being routine and regular service and log such service by way of swiping a smart card or other identifying device . Additionally janitorial staff that either forgot to swipe their card or result in unauthorized entry unknown identity can also be sensed and addressed in the restroom convenience center system . Interactive Stakeholders such as NOC operators building automation system BAS operators and or independent system integrators can access the restroom convenience center system via some manner of information gateway e.g. embedded web pages LAN connection etc. For example if the updating program function via flashing the memory fails restroom convenience center controller maintainers and or manufacturing personnel can interact therewith. In addition the restroom fixtures can interact with the restroom convenience center system via the use thereof where set points can be received data and timestamps of such usage or determined and transmitted alarm and or notification generation. It should be noted that the calibration of algorithms device calibration as well as device commissioning can be effected by or in response to usage. Moreover failed or intermittent communications with and the failure of wired information sources and wireless devices can be sensed and addressed as well.

Whereas illustrated overview diagrams of a restroom and its respective elements e.g. the restroom fixture the sensors activators etc. is a more detailed illustration of the elements users service staff communications aspects and interactions there between. illustrates a restroom convenience center controller as the hub of the restroom . Certain of the peripheral devices and or the sensors are shown to be connected to the restroom convenience center controller e.g. the patron counter plumbing devices temperature sensor the tamper sensor or switch and the air quality sensor being hardwired to the restroom convenience center controller and a second one of the air quality sensors being wirelessly connected thereto. Additionally various bathroom controls and machine to machine links to external systems are shown with respect to the restroom convenience center controller .

In the broadest sense the sensors employed within the restroom and or the fixture controllers pre assigned functions by monitoring and or sensing one or more first pieces of data therein at . For example a patron counter see is operable to identify a traffic amount within the restroom to generate a count associated therewith. A presence sensor is operable to identify when the water closet or the urinal is flushed to likewise generate a count and also timing information as described herein . As described herein timing information can also be collected and used for user information and predictive purposes as well which will be further described hereinafter.

As illustrated in the sensor sends the data associated therewith to a respective restroom convenience center controller in a series of steps. At step the sensors are initialized. At step the sensor is actively monitoring the restroom . At step sensed data is sent to the controller . At step the status condition is communicated based on an analysis of the sensed data. At step an alarm is sent. At step operations parameters are issued. At step data is stored. The restroom convenience center controller is configured to receive such data and through the use of predictive algorithms heuristics and or inferential statistics applied to the data infer information such as a status condition of the restroom associated with the respective functions at .

In one embodiment the sensor data is brought into the restroom convenience center system using a selected media and protocol but the sensor s functional profile remains the same with the data being normalized when it is stored in memory. An application programming interface API can then be used to flatten out the hierarchical representation of the sensor data to ease the burden of application development. This embodiment provides for improved speed of application development and flexible and modular communication options due to the normalized data forms used for the sensor data. A program needing access to the data from the sensors such as to make probabilistic predictions described below would access only the required parameters rather than a sensor s full functional profile variable set. The sensor and device data formats may be defined by a schema. The flattened sensor data may be provided as Meta data to an application simplifying the need for tedious parsing operations.

The status condition can thus be considered to be indicative of a need for at least one corrective measure and is communicated such as to the NOC a cell phone PDA computer workstation or other devices wherein such status conditions can initiate the transmission of a fault or alarm notification actionable or informational one or more operating parameters or a data report relating to use or traffic in the restroom at a given time or over a period of time.

In one embodiment information regarding changes over time are utilized as well as static snap shots regarding the state of the restroom . For example the air quality sensor may detect a high VOC level. This may be predictive of either usage of high water volumes by the water closet or may be predictive of a clogged form of the water closet . Thus to discriminate between the events of the example above high VOC associated with usage vs. a clogged bowl logic may be used. For instance one method would be to first examine the rate of change associated with the air quality sensors . Next it would be valuable to know whether the restroom is currently occupied such as from the state of the presence sensors . An examination of the time stamps for multiple flushes might also help to discriminate between a legitimate air quality sensor event in the making vs. a clogged bowl. It should be appreciated that a combination of logic statistics and pattern recognition can be combined to provide a high probability of forecasting the state based on indirect sensor inputs. This type of timing analysis also is applicable to other of the fixtures in the restroom .

Based on the received data the controller is further operable to ascertain and communicate a status condition associated with the various monitored functions. For certain data the restroom convenience center controller may include a threshold value for which the respective sensor data is accumulated until the respective threshold is exceeded and a status condition is determined. Thus the state table discussed below is not utilized to determine the state of the restroom until the appropriate values for each of the sensors are reached. Thus values corresponding to different time windows may be combined when determining the state. In one embodiment the controller is operably coupled to the one or more sensors and configured to receive first states data therefrom associated with a first set of features which the sensors monitor to determine second state data associated with a second set of features not necessarily monitored.

In one embodiment the restroom convenience center controller estimates the future state of the restroom or the fixtures or other features or components within the restroom by determining the current state of the restroom or the components therein and evaluating such current state information over time. One manner of determining the current state is through the use of a state table . The process of populating the state table may vary widely depending on the specifics of the application. For example for purposes of consistency a fast food restaurant chain may want all the restroom convenience center system state tables to operate strictly in accordance with a set policy or combination of policies. This is in contrast to an application such as an airport where responsiveness to prioritized needs drives a requirement for the system to be adaptive. In the former case an application would simply compare the normalized sensor data with the pre determined table of allowable states complete with pre determined thresholds and weightings. The latter case will involve conventional and well known stochastic methods and predictive models such as the finite Markov chain. Markov is a stochastic methodology which predicts a future action based upon existing data and probabilities of future states. If a restroom is at state according to patron visits are very high and a patron call button has alarmed. In a Markov decision chain a change state can be decided by several approaches concerning the probability of those approaches In state a. the patron visits could reduce and no further patron calls will be experienced or b. the patron visits will remain at the present rate OR increase without a further patron call received. The actual probability for each of the above as well as others that can be considered can be estimated and a decision action made based upon the probabilities. As can be seen as more system data is accumulated and processed information about traffic patterns at specific times can affect the probability that patron visits will reduce simply because the system has learned the new information and it was extrapolated in the probability. Also see the data of and A D which show the behavior of such patron visits and a look up table can be utilized for performing the above described Markov decision process. Using such known stochastic methods it should be possible to predict the restroom state at a future point with higher accuracy occurring over time. The state table includes a list of states sensor data and the response corresponding to the state. While the state table of includes 64 possible states it should be appreciated the possible states are a function of the number of inputs and also that using a similar technique to a Karnaugh map they can be factored down into a lesser set of discrete response scenarios. Fuzzy logic may be applied to the data contained in the state table that takes into account prior states trending and predicted next state.

It should be appreciated that a wide variety of factors may exhibit a correlation to one degree or another with the state of the restroom a portion of the restroom or a consumable within the restroom . For a given installation it is desirable to utilize the fewest number of the sensors necessary to provide the desired levels accuracy and precision in predicting future states of the restroom .

Thus in one embodiment the system is configured to utilize a wide variety of information to determine the appropriate state table reflective of the restroom and or the facility as a whole. It should be appreciated that any combination of information may be used to establish the thresholds and state table and that some measure of increased accuracy of the predictions can be achieved the more information is used. Such information may include useful data relating to the restroom including layout location within a building relative to patron traffic and content to the general user including gender and age to the facility in which the restroom is located including purpose such as school or office building and layout such as whether the restroom is located near a lunch room or other heavy patron traffic and relating to external factors such as temperature and calendar date or other external factors which are particularly significant or unusual days of the year or widespread illness of users of which all the above parameters can be entered into the system predictive function indicative of predictable use level information. Such information may further include baseline statistical predictions or sensor data such as how long a typical user both male and female washes their hands following a solid waste event as compared to a liquid waste event or the air quality sensor output that corresponds to cigarette smoke or various other gases that may be present in the restroom .

The information may correlate to a known impact on the state table thresholds or algorithms of the present invention. Table 1 provides nonlimiting examples of such correlations all of which can be established with statistical methods for predictive future use.

The state table for a school will likely be very different than the state table for a similarly sized office building or athletic stadium and other different facilities. For instance the school s state table might contain lower thresholds and higher weightings for VOC detection than the office building. Installation parameters such as gender venue etc. affect the thresholds weighting ratios and other aspects of the state table. A higher visits hand wash ratio at a restaurant might result in a more aggressive consumable replenishment threshold in the state table than a restroom located in a public park. illustrates a table including one possible set of benefits needs or requirements for various markets . It will be appreciated that such factors may be varied and is provided as a non limiting example.

One of the configuration parameters available for building the state table involves entering a facility schedule for normal operations holidays special events and for occurrence of characterizable sudden events such as arrival of a multiple number of airplanes at one area of an airport when the scheduled times were spaced apart. Such a state could statistically project the increased level of patron use and prepare and service the restroom accordingly. Since the operation of the restroom convenience center system will be implemented as a state machine a heavy usage condition or a situation where the available resources are unable to service the backlog the restroom convenience center system will transition for the normal operation state to one of several off normal states to begin redirecting patrons or other pertinent actions. This off normal state will prioritize requests among several restroom convenience center system to service the restroom is in the order of worst need first.

Turning now to one embodiment of a main operation logic of the restroom convenience center system is depicted. At step restroom sensor data is acquired. At step a remove protocol is performed and the data is transported and formatted. At step the sensor data is stored pursuant to a predetermined schema. At step the state table is populated for the current state. At step the current state is compared to the acceptable state. At step a decision is made regarding whether the current state is acceptable. If it is the system returns to step . If not then the results are analyzed at step . Alarms are processed at step and the acceptable state table is updated at step .

Turning now to an alternative embodiment is depicted illustrating a method of operation . Sensor consumable correlation data empirical data and site specific experience are gathered at steps respectively. At step the desired state definition is developed. At step a model of the current state is predicted. At step a determination is made regarding if visits are greater then a predetermined threshold for consumable replenishment. At step a determination is made regarding if faucet activations are greater then a predetermined threshold for consumable replenishment. At step a determination is made regarding if water closet activations are greater then a predetermined threshold for consumable replenishment. At step a determination is made regarding if urinal activations are greater then a predetermined threshold for consumable replenishment. At step the weighting and correlation factors are applied to sensor threshold of steps . At step warnings alarms and reporting are implemented based upon the weighting correlation and threshold. Realtime sensor data is gathered at step and the system returns to step .

Turning to specific factors that may impact the state table and probability determinations factors that may impact the predictability of the state for the given fixture are the location of the fixture within the restroom the overall layout of the restroom the traffic pattern within the restroom and the occurrence of high volume patron traffic due to a special event or a sudden influx of traffic such as an unexpected coincidence of plane arrivals at an airport not in accordance with the regular schedule. For example for the restroom layout shown in it may be determined either through prior experience actual observations or accumulated statistical data associated with use of the instant restroom layout and location that patrons tend to use the first faucet more frequently due to that first faucet being located nearer to a restroom door or more proximate dispensers of consumables. Thus such information can also be factored into the above described conventional and well known statistical algorithm or heuristics to further enhance the predictability of when the soap dispenser associated with that first faucet will be depleted. Therefore the restroom convenience center controller configuration can also utilize and take into account a Cartesian mapping method of identifying location of fixtures within a drawn restroom grid of the restroom fixture and probabilistic models of the restroom fixture usage. Moreover with the minimal addition or utilization of the patron counter the direct data can be utilized by the restroom convenience center controller for example to also predict when the restroom fixture such as the aforementioned faucets are likely to be occupied and thus determine information that can be utilized to direct patrons to for example an unseen faucet in the restroom facility or another restroom altogether that may be currently experiencing less patron traffic usage. Hence patrons behavior can be anticipated as well as modified directed to maximize the usage of an asset or alternative restroom facilities without a risk of a monitoring system being overly intrusive from the perspective of the patrons.

In one embodiment patron call information may be used for quality control purposes or may further be used to dynamically alter thresholds for supplies and maintenance requests. For example if it is determined that an average response time for supply replenishment requests is 20 minutes the threshold at which at an automated request is generated may be altered to ensure that future replenishment occurs prior to the supplies being exhausted thereby minimizing future manual patron requests. In the above manner the controller may better predict how to service various needs associated with the restroom .

In one embodiment restroom traffic is monitored as the primary predictor and driver of the state table determinations for example using the patron counters as the sensors in one or more locations within the restroom . In one example usage is defined differently than traffic in the restroom because not all patrons who enter the restroom use a water closet or the faucet but instead many enter for grooming purposes and thus are not necessarily consuming supplies i.e. using one of the restroom fixtures . Consequently in another aspect of the invention the restroom controller or the global command unit may take the restroom traffic data and usage data and generate use traffic historical profiles and use such data to generate usage thresholds or use such data for other purposes as may be desired.

In one example an air quality sensor senses the presence of a volatile offensive gas or compound. If no flushing of a water closet or urinal is sensed for an appropriate time span the restroom convenience center controller may infer that a patron has entered the restroom and is smoking a cigarette therein or otherwise causing generation of unwanted gases. In another example a representative fixture such as the faucet may have a presence sensor associated therewith while the adjacent fixture does not. Upon receiving a certain number of counts from the faucet sensor the restroom convenience center controller can apply as described herein a conventional and well known predictive algorithm in conjunction with comparing the count to a predetermined number of counts to determine to a sufficient degree of probability that for example paper towels need to be replenished. Further such data can be analyzed in combination with external data such as the day being that of a special event having a time dependent rising profile or a sudden notice of a statistically large event such as numerous off schedule air flights have arrived together at an airport to enable service action to be taken in accordance with predictive determinations for such an event.

Turning now to a specific example of a state table shows a state table which can be utilized in accordance with various embodiments to determine appropriate actions that can or should be taken in response to the generated indirect or inferential data described above. illustrates a plurality of states that can be experienced in relation to thresholds or occurrence of statistically significant events that are surpassed with respect to various sensors or in combination with incoming data notices in a restroom facility. It should be appreciated that are used for illustrative purposes and that the invention is not limited to the types or quantity of sensors listed in the state table of . Further it should be appreciated that a state table in accordance with the present invention may be sized so as to correspond with the number of sensor inputs or may be compacted by various methods to reducing the total number of potential states.

The state table allows for a determination of the current state of the restroom given a set of indications from sensors . For example if the water closet sensor is activated x number of times for a given time period and for the particular statistical conditions occurring for the restroom the restroom convenience center controller determines whether x surpasses a predetermined threshold set for an allowable number of activations before requiring service based on an average number of times a water closet is supposed to be flushed for a particular period of time and for the known statistical conditions at that time . If x does surpass the predetermined threshold it may be assumed that for example a patron is repeatedly attempting to flush the water closet due to the water closet becoming clogged or is deliberately causing repeated water use for inappropriate purposes . Hence the restroom convenience center controller can access the sensor state and response matrix and determine that the current state i.e. state requires that servicing personnel respond by inspecting the water closet for potential equipment failure and or abuse. It should be noted that a plurality of combinations and states beyond those illustrated in can be implemented in the sensor state and response matrix. Moreover as mentioned above regarding the particular conditions the different thresholds that might trigger one or more responses can be customized depending on the size location predicted demographic e.g. men or women and predicted frequency of use of the restroom facility and or restroom fixture therein among other factors such as described above .

A fixture that is explicitly included in the make up of the system state table can be based upon actual counts should that capability exist or inferred data calculated from another fixture proximate to the first with the inferred count adjusted by physical position and occupancy quotient.

Based on the sensor data and analyses described herein well known predictive algorithms based on conventional statistical methods can be used to estimate the percentage of consumables depleted or the need for preventative maintenance etc. An alarm is dispatched to the configured recipient destinations when the estimated percentage exceeds a configured level. The algorithm is reset when consumables are restocked such as when an input is provided manually or automatically via a key card type system or via RF tags on the consumables . The level of consumables within each restroom may be tracked. In addition the restroom convenience center may track the total consumable stock such as at a building such that consumables or maintenance parts can be ordered automatically when supply is below a threshold. In one embodiment the estimated percentage of maximum inventory is provided to the restroom convenience center controller via web page configuration. An easy means is provided to indicate 100 consumable restocking. A means is also provided to indicate less than 100 restocking levels.

The restroom convenience center controller monitors an accumulated value particular to each type of the fixture or device. The values are monitored until they meet configured criteria. Accumulated values are manually reset via web page interaction or interaction with an interface in the restroom such as a janitor login interface providing an input to the controller denoting restocking when equipment maintenance or equipment replacement is performed. There may be multiple accumulated values per multiple devices. When the criteria are met the alarm type device identifier restroom convenience center controller identifier alarm trigger criteria alarm time and equipment ID are reported to a configured recipient. Possible values of monitored parameters are water total flow device duty cycles device activations device time in service number of service calls facility temperature particular users of the site in view of special events or particular days in the year and even other factors such as widespread illness or unusual weather conditions. In one embodiment a report presenting the current value of all devices accumulated values and threshold is available via a web page as discussed further below.

In other words data can be collected with respect to already existing sensors that are conventionally utilized to sense the presence of a target user and for example turn an associated fixture such as the faucet on or off. Whereas the conventional sensors and restroom facility systems merely utilize a disjointed series of the sensors to automate the fixture operation various embodiments described herein can extrapolate the on off data to predictively ascertain useful information when correlated with at least relative time data and other sensor data correlated therewith. For example various embodiments gather a number of times that the first faucet sensor goes on and off. Such data can be combined aggregated with time data that is relative to e.g. a predetermined average time that a restroom user takes to wash his her hands. This combined aggregated data can then be applied to one or more predictive algorithms to determine with sufficient specificity when soap dispensers associated with the faucets and the first faucet need to be replenished. That is direct data e.g. the on off sensor data can be utilized to extrapolate and or predict indirect data e.g. when one or more soap dispensers in the same restroom facility will likely be consumed and thus require replenishing.

For example one embodiment may set the usage value for the toilet paper in the water closet as N and N 0 to start. The restroom convenience center system assigns an impact on N for the sensor where certain sensors only slightly increase N and others provide a larger increase. An alternative embodiment involves determining the likelihood of a usage based upon all of the sensors in the table i.e. the water closet activation plus an air quality indication is more indicative of a toilet paper usage than faucet and air quality.

One embodiment of the invention would be to sensorize a reference restroom in a sufficient manner to predict the state of another base restroom . Additional restrooms at the same general location may then only include a minimal set of the sensors or the sensor such as providing only patron counters positioned at a door at the remaining restrooms . The door patron counter would then act as a bias that is used to adjust where that particular restroom s needs are against the more fully sensorized reference restroom .

For the purposes of illustration the state table is shown by a series of 0 s and 1 s to indicate whether a particular device is above or below threshold or expected value. In one embodiment the 0 s and 1 s represent continuous analog values discrete counts and probability density functions. Thus in certain embodiments thresholds for the state table could be populated based purely on empirical data obtained from the actual venue or similar installation.

It should be further appreciated that the accuracy and precision of the described predictive aspects of the invention may be improved in some cases through the use of additional sensors . Over time in a certain context it may be possible to accurately predict the need for service based only on number of visitors to the restroom . However each time a new sensor is added to the system a more accurate prediction of the current state can be made. However highly useful correlation information for predictive calculations can be obtained from a correlation table to map the relative correlation between the various sensors and states of the restroom or the fixture consumables and other devices therein . illustrates one non limiting example of a correlation table . In the illustrated embodiment sensor input includes faucet activations urinal activations water closet activations patron visits air quality and patron call status. For each of these sensor inputs the correlation for various consumable usage is provided as high medium low or no correlation . It is intuitive that there would be a strong correlation between water closet activations and toilet paper usage just as there would be a strong correlation between faucet activations and soap usage. However a correlation also exists between water closet flushometer activations and soap usage although not as strong as that between faucet activations and soap usage. Thus the flexibility of the present invention allows for different combinations of the sensors and accumulated historical data and comparison with current device data allow for different predictive approaches to predicting the current state of the restroom and predict alarm states in the future.

Once the sensor data has been used to determine such as via the state table the current or predicted state of the restroom the restroom convenience center system can also determine whether certain thresholds have been exceeded through the use of correlations. One way to do this is to establish a correlation factor for the water closet valve actuations to toilet paper usage. The correlation table e.g. indicates there is a high degree of correlation between water closet valve actuations and toilet paper usage. For a given installation it may be known or assumed that in the case of male patrons a water closet is sometimes used in place of the urinal so it would be desirable that the system remove this presumed action from counting towards the value of toilet paper depletion especially in a male restroom. This is in effect a statistical negative weight which can be included to predict more precisely when consumables are to be replaced as opposed to merely assuming one flush event equals use of toilet paper. That is if a user is using a water closet for liquid waste and therefore not using toilet paper the correlation between the water closet actuation and the use of toilet paper must be adjusted. In one embodiment conventional stochastic models may be used to generate the state table and correlations. Another approach to further quantify population of the state table is to make use of the statistics method known as the Delphi technique. The Delphi technique would essentially treat each of the sensor inputs with it s own set of thresholds as an expert . The initial thresholds would be set qualitatively based on experience such as but not limited to look at the restroom state after 85 visits a roll of toilet paper gets used up about every 35 water closet activations after about 125 hand washes the towels should be checked etc. Each sensor could be polled to send data or may push data to the application when it reaches or is approaching warning or alarm state and all of the sensor input s expertise could be summarized to determine whether the sensors all think the toilet paper should be replaced or the towels need replenishment or other corrective action is needed. Thus each different sensor or information regarding the restroom may be treated as providing an independent opinion as to the state of the restroom . For example it may be know that there is a high correlation between water closet activations and toilet paper usage. Likewise it may be also known that there is a correlation between water closet activations and hand towel usage albeit not as strong as for water closet activations to toilet paper. Using the Delphi technique the mean of the sensor inputs can be determined and the range of responses analyzed to make a decision.

The restroom convenience center system can utilize various learning or smart computing techniques to adapt to a given installation or set of conditions. To correlate the data with other information the system again relies upon the state table forcing a discrete number of conditions that can be detected and further enabling the option for the system to react in a pre planned manner or one that adapts and learns over time. The system also can include embedded or stored historical use data for the restroom and even the fixtures and the dispenser which can be called on to assist in the learning process. Further manual feedback or rather actual observations is one way for learning to occur. It should be appreciated that maintenance and janitorial personnel can physically inspect the restroom and enter into the restroom convenience center system such as through the LUI any items that were found to be out of compliance with established policy. The patron call device is another input to the restroom convenience center system which can cause learning to occur in the system . The patron call device s initiation of learning in the restroom convenience center system would be reduced to practice by employing logic and statistical techniques to result in information. For example it may be determined that based on the last x occurrences of this specific condition there is an y chance that a patron call will be initiated to report an unacceptable housekeeping condition. If y is above a certain predetermined threshold the restroom convenience center system will initiate an alarm such as a text message to the cleaning personnel located in closest proximity to the restroom predicting the need for service next. It should further be appreciated that in certain embodiments it will be equally important for the servicing personnel to report a no service required event as well for learning to occur in this scenario as a source of feedback to the system . One of ordinary skill in the art will appreciate there are numerous other conventional well known ways in which the system can learn and which are used herein. Pattern matching is an example of another technique that can be used as a stimulus to induce learning for restroom convenience center system applications. The underlying algorithm used by the restroom convenience center system in a given embodiment might initially assume a Gaussian distribution for the patron s use of a particular fixture which is translated to a value in the state table representing a warning alarm trend variable or other quantity of interest. A background algorithm will then begin to check actual experience against the Gaussian model and make appropriate adjustment based on the error.

In one embodiment the predictive aspects are improved by having the system periodically set to a known acceptable state. As mentioned previously the patron call device may be used to true up the system by allowing for an unacceptable condition to be reported that can be a catalyst for the system to recalibrate based on learning from the specific conditions that led to the unanticipated shortage of consumables for instance.

Further the restroom convenience center system may utilize an adjustment upon the occurrence of a certain event such as if an excessive number of patron calls due to unacceptable conditions or housekeeping inspections indicate the need for services is occurring prior to the system actually providing a warning or alarm a routine can be automatically or manually initiated that will provide for a more aggressive algorithm. A qualified patron call request to report an unacceptable maintenance or housekeeping condition will trigger a recalibration of the algorithm to become more aggressive in its prediction of facility needs. A restroom with little to no usage of the patron call capability is one that is probably well maintained. These visits are time stamped by the restroom convenience center system as part of the electronic log. Therefore one example of the restroom convenience center system application program might walk down the state table looking for any value to go over threshold which would initiate a notification. This additional aggressiveness might be obtained by adjusting some or all thresholds downward by an amount such as for example 10 . Another method might provide increased weighting to a sensor input or combination of inputs that conventional data analytics algorithms show to be good predictors of actual activity over the default state table settings. Another embodiment might implement simple logic that provides notice if the patron counter R the water closet urinal activations AND the faucets go over threshold then the thresholds are adjusted as described above. Thus for particular installations the predictive accuracy may increase as a larger universe of observed data is gathered.

The use of graphical user interfaces as a part of or in combination with the restroom convenience center system has been previously described. In certain embodiments user interfaces provide specific information and functionality. and A H are representative screen shots of exemplary embedded web pages that can show valve failure alarms for various restroom fixture a restroom overview and various performance related data. Generally the user interfaces and can indicate whether or not water related fixture are not operating and whether or not those fixtures have been turned off as well as general maintenance alarms.

More particularly shows a screen shot of a overview page indicating the status of the restroom convenience center system including a toolbar or menu bar allowing for access to additional pages. In the example of the options include overview performance all fixture A performance total facility B configuration system C and alarms D. The overview screen further includes individual displays providing certain information in one embodiment snapshots summarizing information available from more detailed pages. For example an events log a diagrammatic representation of a selected restroom an indication of a selected fixture performance and the performance of the whole facility as well as performance charts regarding traffic air quality and temperature . In one embodiment the overview page provides for interactive and dynamic display of information such as allowing a user to select an individual fixture from the diagram resulting in the display of information related to that fixture in the areas fixture .

In one embodiment once the ZigBee nodes for those devices have been added to the restroom convenience center controller system the system operator may then add individual devices to the restroom convenience center controller system configuration using the embedded web pages in the restroom convenience center controller . The operator can enter identifying information and other details for each device added to the system including the physical location and identifying marks or serial numbers for the unit.

Additionally the embedded web pages can be used to modify the restroom convenience center controller configuration parameters described above. That is an end user can provide system and network parameters facilities parameters and or instructions consumables services and notifications parameters heuristics information as well as calendar data related to the above parameters e.g. for scheduling and timing replenishment actions and also even allow entry of information related to unusual or non recurring events which will impact service or alarm conditions. Furthermore the embedded web pages can be utilized to present various event reports e.g. system events facility events and network events such as those already described above. Various other pieces of information can be presented as well including but not limited to histograms forecasting and trending data diagnostic information export restore information as well as hypertext transfer protocol HTTP information.

In one aspect of the present invention restroom usage is compared to a predetermined threshold either simple thresholds or complex states resulting from correlation of various sensed events or other statistically significant events and if exceeded the restroom controller generates an alarm notification with a time date stamp and transmits such alarm to a user via one or more devices and or sends the alarm to the global command unit. The time date stamp can be useful in evaluating response times to such alarms which then can be further used to dynamically adjust various thresholds to ensure that alarms are set at appropriate times so as to avoid one or more of the supplies being completely exhausted.

The restroom convenience center controller as described above can be configured to deliver alerts and alarms regarding various events and conditions to responsible personnel via email. If notifications are to be delivered to a cellular handset the text messaging email address of that handset should be supplied as an address e.g. 12165551234 myvzw.net . Alerts may include any of the conditions described above and resulting alarms and or notifications can be tagged as urgent or requiring immediate attention. Additionally different email addresses may be assigned to different categories of alert and alarm conditions depending upon who the responsible parties are for resolving various conditions. Alert and alarm conditions may either reset themselves if the condition is reversed or be cleared by a system operator using the embedded web pages in the restroom convenience center controller .

In addition or alternatively based on the monitored fixture usage and the generated fixture usage profile the method may further query whether the monitored usage activity of one or more of the fixture deviates from the predetermined or dynamically generated usage profile. If so an alarm notification is generated and time stamped and then transmitted to a user via one or more devices and or sends the alarm to the global command unit.

Data may also be exported on demand by accessing the embedded web pages and selecting an immediate export. This may be done for maintenance or diagnostic purposes.

As discussed above the restroom convenience center system and method of the present invention advantageously provides for real time monitoring of one or more of the fixtures associated with the restroom and such system and method is expandable to the monitoring and control of multiple restrooms in a large venue for example. By providing such real time monitoring alarm notifications associated with such functions can be communicated in a timely manner thereby facilitating improved service need or preventive maintenance response.

Various embodiments allow the restroom convenience center controller to monitor facilities usage generate an alert condition when it determines that a piece of equipment may need periodic maintenance due to accumulated usage and wear such as those fixture and aspects described above. Once maintenance has been performed on the concerned components a system operator would acknowledge the maintenance activity to the restroom convenience center controller through embedded web pages which allow interaction at the restroom convenience center controller server of NOC level. It should be noted that interaction with the restroom convenience center controller can also be implemented remotely. For example each restroom convenience center controller consists of a system of a plurality of buildings that can be accessed configured modified etc. via the embedded web pages.

In one embodiment the user interfaces may be used to depict a restroom figure of merit . The figure of merit gives a stakeholder information regarding a desired feature of the restroom important for that stakeholder or facility. It also can provide a metric for comparing different restrooms. For instance the figure of merit metric would be particularly useful to a fast food chain or service station business which is trying to distinguish its brand from competitors. The figure of merit could be used to print out lists of outstanding performers those that are in compliance and those that require remediation. In one embodiment a figure of merit would be a composite score based on a number of factors including a low number of legitimate patron call requests availability of consumables fixture and device availability nothing broken and off line VOC levels crowding and time of overcrowding of the restroom .

Additionally by estimating restroom traffic the restroom convenience center controller can determine how long on average it should take to deplete the consumables soap towels water closet paper etc in the dispenser and send an alert via email to the party responsible for stocking the restroom and ordering supplies. Moreover the restroom convenience center controller can send an email directly to the supply depot requesting a shipment of supplies thus automating the resupply process. It should be noted that the restroom convenience center system including one or more restroom convenience center controller and one more sensors for each restroom facility can be scaled appropriately depending upon the environment. In other words a first restroom facility can be outfitted simply with a single restroom convenience center controller that it is able to harness the collective randomness of previously unused and or discarded data gleaned from existing presence sensors to effectively predict indirect water usage consumable replenishment and appropriate service responses as well as redirect patron traffic to alternative ones of the restroom fixtures and or other restroom facilities.

In one exemplary preferred embodiment the restroom convenience center system interfaces with a user such that selected critical sensor information can be used to monitor general availability of the fixture in the restrooms monitor the presence of a user in certain general locations of the restroom and collect critical timing information needed to evaluate service requirements and fixture availability in the restroom .

During a low service level state illustrated in the restroom can be characterized by no visible queues at fixture such as water closets or faucets such that the restroom has excess capacity. As the user enters the restroom via a door to a first area the user activates a patron counter which generates a time stamp data for entry into the restroom . This time stamp date is stored by a memory component either of the patron counter or the restroom convenience center controller . The user then moves to any location within the restroom or can even decide to immediately leave. If the user moves to the water closet or the urinal the presence sensor can detect general location and even position at the given water closet or the urinal . Once the user engages the selected fixture additional timing data is collected and stored by the memory component and used for system processing analysis and action items such as consumables replacement or repair of an apparently nonfunctional fixture . Then once the user engages a specific fixture at a second location out of the fixture such as the water closet the urinal the faucet and a hand drying component not shown the presence sensor associated with the water closet urinal and faucet moves into an alarmed state and an accumulated time is also stored for use by the restroom convenience center controller . Once the user disengages the selected fixture the associated presence sensor moves from the armed state then to an activation state and then back to a standby mode state upon the user leaving the detection zone thus awaiting a new user to repeat the timing cycle.

The user may then choose to go to a third location in the restroom to engage another of the fixtures such as a changing or work station or the faucet . The user then initiates washing of their hands by activating faucet water flow and or the soap dispenser . The faucet has an associated sensor use that activates a timing cycle much as was done for the water closet or the urinal to accumulate useful timing information time elapsed as well as actual start and end time for use by the processing system. For automatic faucets as previously discussed the logic of operation has the faucet in a stand by mode or an on mode and thus the time stamp will be for an on mode then to an off mode once user leaves the faucet. The sink can further include other disposables such as soap hand sanitizer and paper towels from dispenser . Once any user leaves the restroom via area the restroom convenience center controller time stamps departure time for use by the processing system. The restroom can further include other features such as the patron call device which can be tracked by the restroom convenience center controller .

In another exemplary mode of operation when the restroom illustrated in is operating during peak loading by users more users are present then the number of the fixture . In such a situation the user enters through the door and activates the patron counter that generates associated time stamp data for use by the restroom convenience center controller . In the peak loading mode queues develop for each of the fixtures such that rapidity of time turnaround is logged for each of the fixture and that data is processed for use by the restroom convenience center controller . This system can then analyze the data and evaluate such information as ratio of users to fixture being available with knowledge of departing versus entry of users such discernment of entry versus departure can also be determined by appropriate joint use of a patron counter and the presence sensor . In addition during periods of frequent use of the restroom the air quality sensor not shown in could have an associated peak in detection of gases and even particular profile characteristics of the status of use of the fixture and time of use of each of the water closets . In addition the timing information associated with the wash station faucet can also be correlated to frequency as well as number and time of use of the faucets thereby enabling gathering of data useful for restroom sensoring of the consumables being expended and consequent scheduling of consumables replacement or other services.

In another exemplary aspect of the invention the restroom convenience center system can use the restroom data obtained as described herein to provide potential users with helpful information. For example informational restroom signage could be provided at the entry to the restroom and even at each of the fixture within the restroom . Thus when the restroom has available the fixture such information can be displayed. When the restroom is under heavy use the signage can indicate which of the fixtures are available with associated wait times and can also indicate alternate available restrooms with fixture ready for use in less crowded alternate restrooms. Further detailed information such as queue times can be provided via the external or even internal signage for specific fixtures . With knowledge of rate of entrance and exit by user the restroom convenience center controller can also apply various predictive models to project fixture wait time and availability probabilities.

With reference to A D and A D illustrate observed data from a sample restroom with a patron counter and flushometer fixture counting flushes being provided. It will be appreciated by one of ordinary skill in the art that A B and A D provide an indication of various thresholds correlations and weighting that could be used in accordance with the principles of the present invention. is a table depicting raw data log of restroom entrances and fixture flushing over 47 days for two restrooms one male and one female in a high traffic environment. It can be observed that there is very good one to one correlation between male visits and fixture flushing with only a 3 difference in the number of users entering the restroom and the number of fixture activations. By contrast the female restroom has a 40 difference in the count of users entering the restroom and fixture activations. This shows consistent multiple flushing on the part of the female users when compared to the male users.

Traffic intensity is the measure of the congestion of the restroom . It is used to anticipate pending queues within a system. Specifically it compares the rate of arrivals to the rate of departures.

With a traffic intensity index nearer to zero there is very little queue time in the system. With a traffic intensity closer to one the occurrence of queuing within the restroom increases. In any given commercial restroom the traffic counter of arrivals and departures for a unit of time is an early warning indicator that the restroom is reaching a saturation and queuing models begin to be employed. The queuing models are then used to balance traffic to other proximate restrooms by giving patrons information on making decisions based upon average anticipated queue times for the restroom and to notify service personnel or the RCC system of any imminent service events or alarm states. People entering and leaving the commercial restroom generate the following index as characterized by .

With continued reference to the queuing logic tracks both people entering and people leaving. At step a patron enters the restroom passing through the detection zone of the patron counter . At step an entrance signal is received by the restroom convenience center . At step Nis increased by one to account for the entry of the person in step . At step a time corresponding to the traffic count is obtained. At step hacek over N is calculated to determine the average number of people entering per time period. Essentially in parallel the system also tracks the number of patrons exiting. At step a patron exits the restroom passing though the detection zone of the patron counter . At step an exit signal is received by the restroom convenience center . At step Nis increased by one to account for the exit of the person in step . At step a time corresponding to the traffic count is obtained. At step hacek over N is calculated to determine the average number of people exiting per time period. At step the traffic intensity index is calculated by dividing hacek over N by hacek over N . If the value is greater than or equal to 1 then a queuing estimate is provided at step if the intensity index is less than 1 the system returns to steps and .

With similar generated data for patrons being counted during exiting traffic intensity ratios can be determined. This calculated ratio for a restroom can indicate if queuing might be present within the restroom and patrons may experience a wait once entering the restroom . In one embodiment when the traffic intensity ratio goes beyond a value of 1 the system begins analyzing the individual fixture data to determine expected queue times based upon the service level of the individual fixtures . It should be appreciated that various methods and models can be used to predict the expected queue time but one non liming example follows classic parallel server models in queuing theory assuming a Poisson distribution of patron arrivals at the fixtures.

Where a statistically significant service rate is generated by the system with extracted data. The average arrival rate one can appreciate is a trivial value the system has already generated per unit of time.

As long as the traffic intensity ratio for the restroom remains at 1 or greater each set of information from the sensor in the restroom corresponding to an individual fixture is analyzed in real time in order to determine how much time remains before the next fixture becomes available for patrons in the queue. This information gets correlated to arrive at a probability for broadcasting beyond the restroom perhaps to digital message boards either above the occupied fixtures or in the hallway before entering the restroom . Unoccupied fixtures within a restroom experiencing queues having digital messages above each fixture could broadcast a message of the availability. Moreover if during high queue times a particular fixture fails to experience use by a patron in the queue an alert to this anomaly is trivial for the system to generate and send.

At any time during non peak hours the traffic intensity ratio for the restroom is less than 1 the individual fixture data is continually stored for analysis. This data is used for various maintenance subroutines as well as inferential data on other consumables in accordance with the principles of the present invention.

In this embodiment an important aspect is always knowing what the service rates are for the individual fixtures for a given restroom traffic profile which as has been discussed previously may vary from installation to installation and even type of population using the facility at any given time. With gathered data for various traffic patterns any given fixture can have an average service time estimated based upon historical stored data against that fixture . Having an estimated average service time allows the system to estimate service time when the restroom begins experiencing queue times. Table 2 illustrates the activity of the presence sensor associated with the fixture and the corresponding activity of the restroom convenience center controller .

The logic for predicting queue time begins at step with the patron trigger detection associated with a particular fixture x in the restroom such as by presence sensor . The presence sensor goes into armed mode at step . At step the sensor sends a signal to the restroom convenience center controller which is time stamped. The value of tais stored at step . At step the patron exits the fixture resulting in the sensor exiting the armed state. The corresponding signal is time stamped and then stored as tat step . The restroom convenience center controller then calculates at step the fixture service time by t ta. At step the calculated value is stored as St. At step the presence sensor returns to standby mode and the system returns to step . One can additionally appreciate that when an expected activation of water is anticipated by the above a simple edit check can be trivial for the system to accomplish by perhaps water flow detection.

Although the invention has been shown and described with respect to a certain aspect or various aspects it is obvious that equivalent alterations and modifications will occur to others skilled in the art upon the reading and understanding of this specification and the annexed drawings. In particular regard to the various functions performed by the above described components assemblies devices circuits etc. the terms including a reference to a means used to describe such components are intended to correspond unless otherwise indicated to any component which performs the specified function of the described component i.e. that is functionally equivalent even though not structurally equivalent to the disclosed structure which performs the function in the herein illustrated exemplary embodiments of the invention. In addition while a particular feature of the invention may have been disclosed with respect to only one of several aspects of the invention such feature may be combined with one or more other features of the other aspects as may be desired and advantageous for any given or particular application. Furthermore to the extent that the term includes is used in either the detailed description or the claims such term is intended to be inclusive in a manner similar to the term comprising. 

Various embodiments are described in the general context of method steps which may be implemented in one embodiment by a program product including computer executable instructions such as program code executed by computers in networked environments. Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. Computer executable instructions associated data structures and program modules represent examples of program code for executing steps of the methods disclosed herein. The particular sequence of such executable instructions or associated data structures represents examples of corresponding acts for implementing the functions described in such steps.

Software and web implementations of the present invention could be accomplished with standard programming techniques with rule based logic and other logic to accomplish the various database searching steps correlation steps comparison steps and decision steps. It should also be noted that the words component and module as used herein and in the claims is intended to encompass implementations using one or more lines of software code and or hardware implementations and or equipment for receiving manual inputs.

