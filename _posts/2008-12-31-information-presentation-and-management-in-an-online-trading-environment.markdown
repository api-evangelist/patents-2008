---

title: Information presentation and management in an online trading environment
abstract: A method includes receiving, from a user, publication data to be published and location data identifying a storage location at which an image to be associated with the publication data is stored. The image to be included in the publication data is retrieved from the storage location identified by the location data. A reduced-size image using the retrieved image is generated and the reduced-size image is aggregated with further reduced-size images for presentation at a remote site.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07912925&OS=07912925&RS=07912925
owner: eBay Inc.
number: 07912925
owner_city: San Jose
owner_country: US
publication_date: 20081231
---
This application is a continuation of U.S. application Ser. No. 11 312 876 filed on Dec. 20 2005 and issued as U.S. Pat. No. 7 499 979 which is a continuation of U.S. application Ser. No. 09 777 306 filed Feb. 5 2001 and issued as U.S. Pat. No. 7 007 076 which is a continuation of U.S. application Ser. No. 09 436 566 filed Nov. 9 1999 and issued as U.S. Pat. No. 6 732 161 which is a continuation of U.S. application Ser. No. 09 177 726 filed Oct. 23 1998 and issued as U.S. Pat. No. 6 058 417 which applications are incorporated herein by reference.

Contained herein is material that is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction of the patent disclosure by any person as it appears in the Patent and Trademark Office patent files or records but otherwise reserves all rights to the copyright whatsoever.

More and more Internet users are realizing the ease and convenience of buying and selling online by way of person to person online trading pioneered by eBay Inc. the assignee of the present invention. As a result collectors hobbyists small dealers unique item seekers bargain hunters and other consumers are able to buy and sell millions of items at various online shopping sites.

The success of an online shopping site depends upon its ability to provide an enjoyable shopping experience and an easy to use environment in which buyers and sellers can conduct business efficiently. Current online shopping sites have certain limitations in the manner in which they present information to users. With reference to a typical item listing will briefly be described. A textual list of items representing the results of a user query is presented within a web page format to the user e.g. a prospective buyer on his her computer system In this example the web page format presented to the prospective buyer includes items that are currently available for sale on a particular page within a particular category . Each item includes a hypertext link having a title or brief description of the item for sale an indication of whether or not an image of the item is available the current minimum bid the number of bids received and an auction ending time . Based upon the item titles prospective buyers can decide whether or not to view more detailed information on a particular item. In order to view detailed information on a particular item of interest the buyer is required to select the hypertext link associated with the item. A new page is then presented with more detailed information regarding the item selected. The more detailed information may include among other things the item s starting price a username associated with the seller of the item a username associated with the current high bidder a detailed description of the item in text or HTML format and an image the seller has associated with the item for example. To continue browsing other items of interest the prospective buyer must return to the previously viewed listing using the browser s Back function for instance and select the hypertext link associated with the next item of interest. While associating an image with an item such as a digitized picture of the item has the advantage of allowing the prospective purchaser to make a more informed decision the iterative process of individually selecting items to view their images can be very time consuming and even frustrating.

In light of the foregoing it is desirable to provide an improved user interface for online commerce sites. In particular it would be advantageous to enhance the online trading experience by providing buyers with a mechanism to more quickly preview items for sale. Additionally the trading experience of sellers may be improved by automating certain aspects associated with item registration.

A method and apparatus for information presentation and management in an online trading environment are described In the following description for the purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the present invention. It will be apparent however to one skilled in the art that the present invention may be practiced without some of these specific details. In other instances well known structures and devices are shown in block diagram form.

As will be described in greater detail below the present invention includes features for enhancing the online trading experience for both buyers and sellers. When sellers register an item for sale they provide information about the item. For example the seller may associate a textual description an image shipping terms and other information with the item. Advantageously according to one aspect of the present invention to associate an image with an item for sale the seller is not required to provide the image in a particular format or size rather the method and apparatus of the present invention automatically harvest images and transform them to an appropriate format for use with the system. According to another aspect of the present invention prospective purchasers visiting an online commerce site employing the present invention need not navigate to a separate web page for each item to view images associated with the items rather thumbnail images for multiple items are aggregated onto a web page to allow quick preview by the prospective purchaser. In the context of this application the term thumbnail or thumbnail image generally refers to a new image that is a miniature version of the original user supplied image. Typically the thumbnail image will be approximately 1 inch.times.1 inch or smaller. According to one embodiment thumbnail images are approximately 96 pixels.times.96 pixels.

In the preferred embodiment the steps of the present invention are embodied in machine executable instructions. The instructions can be used to cause a general purpose or special purpose processor which is programmed with the instructions to perform the steps of the present invention. Alternatively the steps of the present invention might be performed by specific hardware components that contain hardwired logic for performing the steps or by any combination of programmed computer components and custom hardware components.

The present invention may be provided as a computer program product which may include a machine readable medium having stored thereon instructions which may be used to program a computer or other electronic devices to perform a process according to the present invention. The machine readable medium may include but is not limited to floppy diskettes optical disks CD ROMs and magneto optical disks ROMs RAMs EPROMs EEPROMs magnet or optical cards or other type of media machine readable medium suitable for storing electronic instructions. Moreover the present invention may also be downloaded as a computer program product wherein the program may be transferred from a remote computer e.g. a server to a requesting computer e.g. a client by way of data signals embodied in a carrier wave or other propagation medium via a communication link e.g. a modem or network connection .

Importantly while embodiments of the present invention will be described with respect to an online person to person trading environment the method and apparatus described herein are equally relevant to other applications in which image data is collected from disparate sources and presented to a user and or other e commerce environments such as online shopping sites auctioning sites and the like.

A computer system representing an exemplary server in which features of the present invention may be implemented will now be described with reference to . Computer system comprises a bus or other communication means for communicating information and a processing means such as processor coupled with bus for processing information. Computer system further comprises a random access memory RAM or other dynamic storage device referred to as main memory coupled to bus for storing information and instructions to be executed by processor . Main memory also may be used for storing temporary variables or other intermediate information during execution of instructions by processor . Computer system also comprises a read only memory ROM and or other static storage device coupled to bus for storing static information and instructions for processor .

A data storage device such as a magnetic disk or optical disc and its corresponding drive may also be coupled to computer system for storing information and instructions. Computer system can also be coupled via bus to a display device such as a cathode ray tube CRT or Liquid Crystal Display LCD for displaying information to a computer user. Typically an alphanumeric input device including alphanumeric and other keys may be coupled to bus for communicating information and or command selections to processor . Another type of user input device is cursor control such as a mouse a trackball or cursor direction keys for communicating direction information and command selections to processor and for controlling cursor movement on display .

A communication device is also coupled to bus for accessing remote servers via the Internet for example. The communication device may include a modem a network interface card or other commercially available network interface devices such as those used for coupling to a Ethernet token ring or other type of network. In any event in this manner the computer system may be coupled to a number of clients and or other servers via a conventional network infrastructure such as a company s Intranet and or the Internet for example.

The thumb building machine includes a harvesting process and a database . As will be described further below the harvesting process periodically harvests images that sellers have associated with items in the listing database . After a set of images have been harvested and thumbnailed the harvesting process notifies the thumb server that new thumbnails are available.

The thumb server includes a thumbnail management process a thumb database and one or more backup databases . Clients interact with the thumbnail management process to receive image data associated with the Gallery format. When new thumbnails are available the thumbnail management process makes a backup copy of the current thumb database receives a copy of a new database from the thumb building machine and begins serving thumbnail images from the new database.

Importantly as one feature of the present embodiment thumbnail images are not stored as individual files rather they are stored in an efficient database format that will be described further below. However at this point a justification for such an approach is worth mentioning. In the context of an online commerce site that may processes tens of thousands of new items every day efficiency and stability are key considerations. The practicality of storing and maintaining thousands upon thousands of individual compressed thumbnail image files is questionable at best. It is thought that existing operating systems would become unstable and or fail to work properly if millions of thumbnail images were stored in various places on the disk as individual files cluttering the file system. Therefore rather than maintaining a complex file structure with potentially millions of separate files according to one embodiment of the present invention an efficient database is maintained that is designed to get information into memory quickly to provide fast access to the thumbnail images stored therein.

Note that in this description in order to facilitate explanation the thumb building machine the listing server and the thumb server are generally discussed as if they were each a single device. However each of the thumb building machine the listing server and the thumb server may actually comprise multiple physical and or logical devices connected in a distributed architecture and the various functions performed may actually be distributed among multiple devices. Additionally in alternative embodiments the functions performed by the various servers may be consolidated and or distributed differently than as described. For example any function can be implemented on any number of machines or on a single machine. Also any process may be divided across multiple machines.

Having briefly described exemplary interactions among various devices in which features of the present invention may be implemented item maintenance processing will now be described with reference to . In general item maintenance comprises three activities creating and modifying items harvesting images to be associated with the items and presenting items to prospective buyers.

At step depending upon user interactions with the various servers appropriate processing is performed. If a user request is received to add a new item then processing continues with step . If a user query is received e.g. a query specifying a category and a page then processing continues with step . Various events may also trigger item maintenance processing. For example according to the embodiment illustrated upon expiration of a predetermined harvesting interval processing continues with step . In alternative embodiments harvesting may be performed on a periodic basis or continuously.

At step item registration processing is performed. According to one embodiment an HTML form such as the one illustrated in is supplied to the user. When the completed form is submitted to the listing server the listing management process updates the listing database to include the new item.

At step the harvesting process downloads user specified images associated with newly listed items to its local database . New items may be identified for example by a periodic scan of the listing database by either of the listing management process or the harvesting process . The harvesting process may also periodically reload images and update thumbnails associated with items that are not new to accommodate subsequent user modification. For example a user may change the originally specified image or provide a new URL to be associated with an item for sale. Further details regarding harvesting are described below.

At step item presentation processing is performed. According to one embodiment responsive to a user request e.g. a query specifying a category and a page number the listing management process generates HTML describing to the user s browser how to gather and compose the web page. As will be described further below the HTML may contain image tags referencing thumbnail images stored in the thumb database . An exemplary Gallery format an item presentation format that incorporates thumbnails for fast preview is illustrated in .

Upon receiving a request to add a new item the listing management process may respond with an HTML form such as registration form . The registration form may include a variety of standard HTML form interface elements including text input fields checkboxes radio buttons and popup menus for example. The most important piece of information for purposes of this application is the picture URL . The picture URL text input field allows a seller to specify an image of his her choice to be associated with the item being registered. Note that no additional information regarding the image is necessary. Advantageously in this manner the user need not worry about supplying an image in a particular format or one that is limited to a particular size. As will be described further below the harvesting process automatically downloads the specified image converts it to the appropriate format and scales it to the appropriate size that is appropriate for use with the Gallery presentation mechanism.

The seller also provides his her user ID or email address and a password in form . According to this example the seller additionally submits a descriptive title for the item and a geographical location of the item. Providing the location of the item allows prospective buyers to evaluate potential costs relating to shipping etc. In order for the item to show up in user queries for a particular category the seller also selects one of a number of categories and chooses the most specific sub categories from a predefined list in a popup menu for example. Finally the seller may specify acceptable payment methods shipping terms the quantity of items of this type that are available a minimum bid per item and the duration of the offer. When the item is posted to the listing database a unique item number is generated and associated with the item. The item numbers may be sequentially numbered as new items are posted to the listing database for example.

The present invention is not limited to any particular implementation of registration processing or to the specific information that may be associated with an item for sale. Importantly the registration form is intended only to illustrate some of the many types of information that may be associated with an item that is posted to the listing database . In alternate embodiments more or less information may be associated with items.

At step image location information is retrieved from the listing database for a set of images that will be downloaded concurrently. According to one embodiment the image location information is a URL. However other mechanisms are envisioned for specifying an image location such as a directory path etc.

At step an attempt is made to convert erroneous user supplied data to legal data For example the user supplied data for the image location may be massaged to have correct URL syntax. URLs follow the syntax described in Request for Comments RFC 1738 Uniform Resource Locators URL December 1994. According to RFC 1738 a URL contains the name of the scheme being used e.g. http ftp gopher etc. followed by a colon and then a string the scheme specific part whose interpretation depends on the scheme. URLs are therefore written as follows 

For example the eBay home page is currently located at the following URL http www.ebay.com . The scheme is http and the scheme specific part is www.ebay.com .

At step multiple image downloads are started using a sockets based interface. Prior to starting the downloads it may be necessary to attempt a variety of option configurations in order to establish communication with a particular server.

At any rate assuming communication has successfully been established with the servers that have the desired image data in one embodiment downloads are performed concurrently. After the downloads have begun the status of the downloads is polled periodically step . If an error arose in one or more of the downloads processing continues with step . If one or more of the downloads has completed then processing continues with step .

At step error handling is performed. Attempts may be made to determine whether or not an error has in fact occurred. For example it is not uncommon for a server to incorrectly identify a file size thereby causing a mismatch between the actual size of the downloaded file and the expected file size. In situations like these the image can be salvaged however other situations may require the download to be restarted.

At step the one or more images that have been downloaded successfully are thumbnailed and stored for later inclusion in the thumbnail database . According to one embodiment the process of thumbnailing an image is performed with an imaging tool kit such as ImageGear98 Gold Pro of Accusoft. Thumbnailing an image may be broken down into three steps 1 first decompression is performed from the harvested image s source format 2 then the decompressed image is converted to a thumbnail that will fit within a predetermined space. For example the largest dimension of the source image may be scaled to fit the corresponding dimension of the predetermined space then the other dimension of the source image may be scaled proportionately 3 finally the thumbnail is recompressed into a predetermined output format e.g. Joint Photographics Expert Group JPEG .

Preferably for convenience of the users the thumbnailing process may receive one of many different image formats. According to one embodiment the source format and the output format are one of the following Tagged Image File Format TIFF JPEG JPEG 12 Lossy JPEG 12 8 Lossless P JPEG Audio Video Interleave AVI JPEG File Interchange Format JFIF Dehrin Winfax PCX ZSoft Paint format TGA Truevision Targa File Format Portable Network Graphics PNG DCX G3 G4 G3 2D Computer Aided Acquisition and Logistics Support Raster Format CALS Electronic Arts Interchange File Format IFF IOCA PCD IWF ICO Mixed Object Document Content Architecture MO DCA Windows Metafile Format WMF AT7 Windows Bitmap Format BMP BRK CLP LV GX2 IMG GEM IMG Xerox IMT KFX FLE MAC MSP NCR Portable Bitmap PBM . Portable Greymap PGM SUN PNM Portable Pixmap PPM Adobe Photoshop PSD Sun Rasterfile RAS SGI X BitMap XBM X PixMap XPM X Window Dump XWD AFX Imara Exif WordPerfect Graphics Metafile WPG Macintosh Picture PICT Encapsulated PostScript EPS Graphics Interchange Format GIF . Of course as new image formats are introduced it would be advantageous to provide support for those as well.

At step the listing management process retrieves information from the listing database corresponding to the items that will be displayed for the category and page requested for example.

At step the predefined page format is populated based upon the information retrieved in step . At this point it should be noted that according to one embodiment of the present invention thumbnail images are accessed from the thumb server by item number. As one feature of this embodiment references to the thumbnail images stored on the thumb server may be generated on the fly by the listing management process based upon the image format and the item number. For example an inline image tag can be generated having the general form . In this manner no additional space is required in the listing database for image file names. Another option would have been to represent the image reference in the form of a query e.g. http cgi.ebay.com cgi DBAPI.dll GetImage item item number. However while the former representation would be cached by caching proxy servers the latter representation is not typically cached by caching proxy servers. Therefore hiding the underlying queries to the thumb database from caching proxy servers by representing the thumbnail images in the HTML as if they were stored as individual files has the benefit of causing the caching proxy servers to perform more efficiently thereby generally reducing the load on the site and making the experience better for all users. Additionally users that access the listing server and the thumb server by way of a caching proxy server such as those on America Online for example will have enhanced performance as a result of the thumbnail images being cached because the data for rending the web pages will be available much faster.

According to another feature of the present embodiment by displaying all images in a predetermined fixed size display area the listing management process doesn t need to have detailed knowledge about the individual images. For example according to an embodiment described previously the listing management process can simply use the item number to generate references e.g. inline image tags for the desired thumbnail images.

According to one embodiment each database entry comprises a length field and image data. The length field may identify the length of the entry or the length of the image data. The image data represents the compressed thumbnail image. For purposes of this example it is assumed the thumb server has a 4 Gigabyte virtual address space and that the thumb database can be compressed into a single 1 Gigabyte file. When the thumbnail management process opens the thumb database for reading rather than using file system calls that would not provide sufficient caching it opens the thumb database as a memory mapped file. As a result the thumb database is loaded completely into a continuous block of the virtual address space . Accessing an individual entry of the database may then be accomplished by selecting an offset corresponding to the desired image from an array of relative offsets such as index . Advantageously after the thumb database is loaded into virtual address space disk I O can be avoided for subsequent accesses thereby enhancing the speed at which images can be served to clients.

In the foregoing specification the invention has been described with reference to specific embodiments thereof. It will however be evident that various modifications and changes may be made thereto without departing from the broader spirit and scope of the invention. The specification and drawings are accordingly to be regarded in an illustrative rather than a restrictive sense.

