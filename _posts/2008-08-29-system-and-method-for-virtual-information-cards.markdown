---

title: System and method for virtual information cards
abstract: A client includes a card selector, and receives a security policy from a relying party. If the client does not have an information card that can satisfy the security policy, the client can define a virtual information card, either from the security policy or by augmenting an existing information card. The client can also use a local security policy that controls how and when a virtual information card is defined. The virtual information card can then be used to generate a security token to satisfy the security policy.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08561172&OS=08561172&RS=08561172
owner: Novell Intellectual Property Holdings, Inc.
number: 08561172
owner_city: Seattle
owner_country: US
publication_date: 20080829
---
This application is related to U.S. patent application Ser. No. 11 843 572 titled PERFORMING A BUSINESS TRANSACTION WITHOUT DISCLOSING SENSITIVE IDENTITY INFORMATION TO A RELYING PARTY filed Aug. 22 2007 U.S. patent application Ser. No. 11 843 638 titled POLICY BASED AUDITING OF IDENTITY CREDENTIAL DISCLOSURE BY A SECURE TOKEN SERVICE filed Aug. 22 2007 and U.S. patent application Ser. No. 11 843 640 titled FRAMEWORK AND TECHNOLOGY TO ENABLE THE PORTABILITY OF INFORMATION CARDS filed Aug. 22 2007 all of which are herein incorporated by reference for all purposes and all of which claim the benefit of U.S. Provisional Patent Application Ser. No. 60 895 312 filed Mar. 16 2007 U.S. Provisional Patent Application Ser. No. 60 895 316 filed Mar. 16 2007 and U.S. Provisional Patent Application Ser. No. 60 895 325 filed Mar. 16 2007 all of which are herein incorporated by reference for all purposes.

This application is also related to U.S. patent application Ser. No. 12 019 104 titled PROCESSING HTML EXTENSIONS TO ENABLE SUPPORT OF INFORMATION CARDS BY A RELYING PARTY filed Jan. 24 2008 which claims the benefit of U.S. Provisional Patent Application Ser. No. 60 973 679 filed Sep. 19 2007 both of which are herein incorporated by reference for all purposes.

This application is also related to U.S. patent application Ser. No. 11 843 591 titled CREDENTIAL CATEGORIZATION filed Aug. 22 2007 U.S. patent application Ser. No. 11 843 608 titled CHAINING INFORMATION CARD SELECTORS filed Aug. 22 2007 U.S. patent application Ser. No. 12 026 775 titled METHODS FOR SETTING AND CHANGING THE USER CREDENTIAL IN INFORMATION CARDS filed Feb. 6 2008 U.S. patent application Ser. No. 12 029 373 titled VISUAL AND NON VISUAL CUES FOR CONVEYING STATE OF INFORMATION CARDS ELECTRONIC WALLETS AND KEYRINGS filed Feb. 11 2008 U.S. patent application Ser. No. 12 030 363 titled INFO CARD SELECTOR RECEPTION OF IDENTITY PROVIDER BASED DATA PERTAINING TO INFO CARDS filed Feb. 12 2008 U.S. patent application Ser. No. 12 038 674 titled SYSTEM AND METHOD FOR SECURE ACCOUNT RESET UTILIZING INFORMATION CARDS filed Feb. 27 2008 U.S. patent application Ser. No. 12 042 205 titled PRIVATELY SHARING RELYING PARTY REPUTATION WITH INFORMATION CARD SELECTORS filed Mar. 4 2008 U.S. patent application Ser. No. 12 044 816 titled SYSTEM AND METHOD FOR USING WORKFLOWS WITH INFORMATION CARDS filed Mar. 7 2008 U.S. patent application Ser. No. 12 054 137 titled CARDSPACE HISTORY VALIDATOR filed Mar. 24 2009 U.S. patent application Ser. No. 12 054 774 titled CLAIM CATEGORY HANDLING filed Mar. 25 2008 U.S. patent application Ser. No. 12 108 805 titled RESTRICTED USE INFORMATION CARDS filed Apr. 24 2008 U.S. patent application Ser. No. 12 111 874 titled REMOTABLE INFORMATION CARDS filed Apr. 29 2008 U.S. patent application Ser. No. 12 112 772 titled DYNAMIC INFORMATION CARD RENDERING filed Apr. 30 2008 U.S. patent application Ser. No. 12 170 384 titled NON INTERACTIVE INFORMATION CARD TOKEN GENERATION filed Jul. 9 2008 and U.S. patent application Ser. No. 12 184 155 titled SITE SPECIFIC CREDENTIAL GENERATION USING INFORMATION CARDS filed Jul. 31 2008 all of which are herein incorporated by reference for all purposes.

This invention pertains to using information cards and more particularly to interacting with a relying party without having an information card that can satisfy the relying party s security policy.

When a user interacts with sites on the Internet hereafter referred to as service providers or relying parties the service provider often expects to know something about the user that is requesting the services of the provider. The typical approach for a service provider is to require the user to log into or authenticate to the service provider s computer system. But this approach while satisfactory for the service provider is less than ideal to the user. First the user must remember a username and password for each service provider who expects such information. Given that different computer systems impose different requirements and the possibility that another user might have chosen the same username the user might be unable to use the same username password combination on each such computer system. There is also the related problem that if the user uses the same username password combination on multiple computer systems someone who hacks one such computer system would be able to access other such computer systems. Second the user has no control over how the service provider uses the information it stores. If the service provider uses the stored information in a way the user does not want the user has relatively little ability to prevent such abuse or recourse after the fact.

To address this problem new systems have been developed that allow the user a measure of control over the information stored about the user. Windows CardSpace sometimes called CardSpace is a Microsoft implementation of an identity meta system that offers a solution to this problem. Microsoft Windows and CardSpace are either registered trademarks or trademarks of Microsoft Corporation in the United States and or other countries. A user can store identity information with an identity provider the user trusts. When a service provider wants some information about the user the user can control the release of information stored with the identity provider to the service provider. The user can then use the offered services that required the identity information.

While this system simplifies the management of information used to satisfy the requests of service providers there are potential problems. For the system to operate the user needs to have an information card on his or her system that can provide all of the information requested by the relying party. If the relying party requests information that cannot be satisfied by any one information card on the user s machine the system breaks down. This situation can occur for example if the relying party requests a combination of information not previously requested and for which the user might not have yet set up an information card. Another way in which this situation can occur is if the user is new to the system and has yet to set up any information cards at all.

In an embodiment of the invention a client includes a card selector a receiver and a transmitter. Upon receipt of a security policy from a relying party the client can determine whether any installed information card can satisfy the security policy. If no information card satisfies the security policy which can occur for example if no information card is yet installed the client can define a virtual information card which can be used to generate a security token that can be transmitted to the relying party.

The foregoing and other features objects and advantages of the invention will become more readily apparent from the following detailed description which proceeds with reference to the accompanying drawings.

Before explaining the invention it is important to understand the context of the invention. shows a sequence of communications between a client a relying party and an identity provider. For simplicity each party the client the relying party and the identity provider can be referred to by their machines. Actions attributed to each party are taken by that party s machine except where the context indicates the actions are taken by the actual party.

In computer system the client is shown as including computer monitor keyboard and mouse . A person skilled in the art will recognize that other components can be included with computer system for example other input output devices such as a printer. In addition does not show some of the conventional internal components of computer system for example a central processing unit memory storage etc. Although not shown in a person skilled in the art will recognize that computer system can interact with other computer systems such as relying party and identity provider either directly or over a network not shown in of any type. Finally although shows computer system as a conventional desktop computer a person skilled in the art will recognize that computer system can be any type of machine or computing device capable of providing the services attributed herein to computer system including for example a laptop computer a personal digital assistant PDA or a cellular telephone.

Relying party is a machine managed by a party that relies in some way on the identity of the user of computer system . The operator of relying party can be any type of relying party. For example the operator of relying party can be a merchant running a business on a website. Or the operator of relying party can be an entity that offers assistance on some matter to registered parties. Relying party is so named because it relies on establishing some identifying information about the user.

Identity provider on the other hand is managed by a party responsible for providing identity information or other such information about the user for consumption by the relying party. Depending on the type of information identity provider stores for a user a single user might store identifying information with a number of different identity providers any of which might be able to satisfy the request of the relying party. For example identity provider might be a governmental agency responsible for storing information generated by the government such as a driver s license number or a social security number. Or identity provider might be a third party that is in the business of managing identity information on behalf of users.

The conventional methodology of releasing identity information can be found in a number of sources. One such source is Microsoft Corporation which has published a document entitled Introducing Windows CardSpace which can be found on the World Wide Web at http msdn2.microsoft.com en us library aa480189.aspx and is hereby incorporated by reference. To summarize the operation of Windows CardSpace when a user wants to access some data from relying party computer system requests the security policy of relying party as shown in communication which is returned in communication as security policy . Security policy is a summary of the information relying party needs how the information should be formatted and so on.

Once computer system has security policy computer system can identify which information cards will satisfy security policy . Different security policies might result in different information cards being usable. For example if relying party simply needs a user s e mail address the information cards that will satisfy this security policy will be different from the information cards that satisfy a security policy requesting the user s full name mailing address and social security number. The user can then select an information card that satisfies security policy .

Once the user has selected an acceptable information card computer system uses the selected information card to transmit a request for a security token from identity provider as shown in communication . This request can identify the data to be included in the security token the credential that identifies the user and other data the identity provider needs to generate the security token. Identity provider returns security token as shown in communication . Security token includes a number of claims or pieces of information that include the data the user wants to release to the relying party. Security token is usually encrypted in some manner and perhaps signed and or time stamped by identity provider so that relying party can be certain that the security token originated with identity provider as opposed to being spoofed by someone intent on defrauding relying party . Computer system then forwards security token to relying party as shown in communication .

In addition the selected information card can be a self issued information card that is an information card issued not by an identity provider but by computer system itself. In that case identity provider effectively becomes part of computer system and computer system generates security token .

In this model a person skilled in the art will recognize that because all information flows through computer system the user has a measure of control over the release of the user s identity information. Relying party only receives the information the user wants relying party to have and does not store that information on behalf of the user although it would be possible for relying party to store the information in security token there is no effective way to prevent such an act .

The problem with this model is as noted above that there is an implicit assumption that client includes an information card that can satisfy security policy . If no such information card exists as can happen if no information card has yet been added to client or if no individual information card includes all of the claims requested by in security policy then the user will not be able to use the system to produce security token . And without security token the user might not be able to access the desired resource on relying party .

Now that the problem removing the assumption that client stores an information card that can satisfy security policy is understood embodiments of the invention can be explained. shows the client of equipped to use virtual information cards according to an embodiment of the invention. In client includes card selector receiver and transmitter . Card selector enables the user of the client to select a desired information card such as information card to use in a particular transaction. As discussed above information card can be a personal information card where all the information is provided by the user and is locally asserted to be valid or a managed information card where the information is stored on an identity provider and is asserted to be valid by the identity provider. Receiver and transmitter enable communications to and from the client.

Client can also include local policy store which can store local security policies such as local security policy . Local security policy can also be called a virtual information card policy. Local security policy can be a local security policy defining how virtual information cards can be defined and used. Local security policy is discussed further with reference to below.

Client can also include virtual information card definer adder and upgrader . Virtual information card definer can define a virtual information card that can be used to satisfy a security policy from a relying party. Adder can add a virtual information card to client based on the definitions in virtual information card definer as a new information card. Upgrader can upgrade an existing information card on client to include additional information based on the definitions in virtual information card definer . Virtual information card definer adder and upgrader are discussed more with reference to below.

The discussion above and below suggests that once a virtual information card has been defined by virtual information card definer this newly defined virtual information card can then be stored on client and used as an information card in future transactions. In addition the presence of information card on client can be used as a springboard for defining a new virtual information card using virtual information card definer . While these statements are correct a person skilled in the art will recognize that neither of these statements is required these statements do not represent requirements for embodiments of the invention to operate. For example the virtual information card does not need to be stored on client . That is the combination of virtual information card definer and local security policy can be used to define virtual information cards for all transactions without any virtual information card ever being stored on client as new information cards. Similarly as discussed above there might not be any information cards stored on client in which case virtual information card definer does not have an existing information card to augment and define a virtual information card.

Information card identifier then identifies which information card if any comes closest to satisfying security policy . It may be that no information card comes close to satisfying security policy . It also may be that there are multiple information cards that come close to satisfying security policy .

Once an information card has been identified by information card identifier as a near match for the security policy augmenter augments the identified information card with the additional information needed to satisfy security policy . The result of this effort is virtual information card which can satisfy security policy .

There are some circumstances in which the operation of virtual information card definer might not seem obvious. The first is if there are no information cards installed on the client. In this situation then information card identifier will be unable to identify a near match information card. Virtual information card definer can then define virtual information card as including all the data requested in security policy .

Another circumstance in which the operation of virtual information card definer might not be obvious is when local security policy is used. As discussed above with reference to and below with reference to local security policy defines limits under which virtual information card can be defined. For example local security policy can require that virtual information card be defined by augmenting an existing information card that includes specific claims. This information can be used by information card identifier to limit which information cards are considered as acceptable bases for augmentation to virtual information card .

As discussed above with reference to it is possible for there to be no information cards installed on the client at the time the client receives a security policy from a relying party. It is also possible that no information card installed on the client satisfies the security policy nor is any installed information card considered a sufficiently near match to serve as the basis for augmentation. This latter situation can occur for example if no information card includes any claims requested by the security policy or if the local security policy requires that an information card include information that conflicts with that requested by the security policy. In these situations virtual information card definer can define a virtual information card as including all the claims requested in the security policy assuming that no local security policy prevents the definition of such a virtual information card . Assuming this virtual information card results in a security token that satisfies the relying party s security policy this virtual information card can be added to the client as a proper information card. This process of adding the virtual information card to the client as a proper information card is accomplished using adder of .

A point worth noting is that there is no guarantee that a virtual information card can be used to generate a security token. Specifically the virtual information card might include information or methods not known to be available at the party generating the security token which can be an identity provider but could also be the local client . For example consider a virtual information card that is based on an existing information card that includes everything requested by a relying party except the user s e mail address. The virtual information card can add the e mail address to the list of claims requested from the identity provider in the security token. But if the identity provider does not understand the e mail address claim or does not know the user s e mail address the identity provider cannot include this claim in the security token which means the security policy of the relying party would not be satisfied.

As discussed above with reference to virtual information card definer can augment an existing information card to satisfy a security policy rather than defining a new virtual information card from scratch. Assuming the security token generated using the virtual information card satisfies the relying party s security policy the differences between the originally selected information card and the virtual information card can be added to the information card to upgrade that information card.

List of claims lists the claims that are requested by the relying party. Relative to a particular information card list of claims can include one or more claims not included in the information card. For example given a particular information card the particular information card might include all claims in list of claims except claim . While claim is an example of a claim missing from the particular information card a person skilled in the art will recognize that any information can be missing from the information card and needed for augmentation.

Security policy can also request other metadata which is limited only by what a relying party might reasonably request. For example in security policy indicates that the relying party wants the security token to be issued by an identity provider with a particular IP address. A person skilled in the art will recognize that any other metadata can be requested by the relying party in security policy .

To the extent that no information card on the client can satisfy all the requested data in security policy a virtual information card can be used to satisfy the security policy. Embodiments of the invention therefore enable responding to security policies even when any of the information requested in the security policy such as token type list of claims or other metadata might be missing from a potentially viable information card.

As discussed above with reference to the client can include a local security policy which can limit how and when a virtual information card can be used. shows details about local security policy of . In local security policy is shown as including three limitations. List identifies identity providers that are acceptable in generating a security token. For example as discussed above with reference to the security policy can specify that a particular identity provider be used in generating the security token. But if the identity provider requested by the relying party happened to be untrustworthy the use of that identity provider could be dangerous. For example the identity provider might be known to release information that should not be released without the owner s consent. By including list of acceptable identity providers local security policy can provide the user with some control over the use of virtual information cards. While shows list of acceptable identity providers as a white list that is a list of the only acceptable identity providers a person skilled in the art will recognize that list can be managed in other words for example as a black list as a list of identity providers for which the user should be prompted before the security token is requested or any combination of the above among other possibilities.

If it turns out that local security policy blocks the use of an identity provider that is requested by the security policy the conflict can be resolved in any manner desired. In some embodiments of the invention local security policy can trump the security policy thereby blocking the user from access to the requested resource but protecting the user s information. In other embodiments of the invention local security policy can defer to the security policy giving the user access to the requested resource at the cost of potentially giving up some control over the user s information. A person skilled in the art will recognize other ways in which conflicts between local security policy and the security policy can be resolved for example by letting the user decide which policy should control.

Local security policy can also include maximum number of missing claims . Maximum number of missing claims indicates how far a particular information card can deviate from the security policy and still be used as a basis for a virtual information card. For example with maximum number of missing claims set to 2 as shown in if an information card is missing say five claims requested in the security policy then the information card can be rejected as the basis for a virtual information card.

Local security policy can also include required claims . Required claims can be used to specify claims that the information card must have these claims cannot be specified by augmentation. For example in the information card must include the home address and telephone number claims if an information card does not include these claims the information card cannot be used as the basis for a virtual information card. By specifying claims that must be included in the information card the system can provide a greater probability that the identity provider can generate the security token.

While shows a single local security policy a person skilled in the art will recognize that there can be any number of local security policies. For example the administrator of a local computer network can define a security policy applicable to all security tokens transmitted from the network and the users of the network can define their own local security policies to add additional levels of security. If there are multiple local security policies the client can access all applicable local security policies in defining a virtual information card.

While shows only three limitations in local security policy a person skilled in the art will recognize that there can be any number of limitations. For example any of the limitations shown in can be omitted if not needed. Alternatively if an administrator identifies other limitations beyond those shown in these additional limitations can be included in local security policy . The criteria shown in are merely exemplary criteria that can be included in local security policy a person skilled in the art will recognize other criteria that can be used for example credential categorization described in related U.S. patent application Ser. No. 11 843 591 titled CREDENTIAL CATEGORIZATION filed Aug. 22 2007 and herein incorporated by reference for all purposes token type auditing mode which permits an identity provider to know which relying party is requesting the security token etc.

If no existing information card can satisfy the security token then at block the client accesses one or more local security policies. If there are no local security policies defined on the client or otherwise applicable block can be omitted as shown by dashed arrow . At block the client defines a virtual information card. If it turns out that there are different ways in which the virtual information card can be defined for example if there are multiple information cards that are close enough to the security policy or if a virtual information card can be defined without reference to any information card as well as by augmenting an existing information card more than one virtual information card can be defined. At block the client receives from the user a selection of one of the virtual information cards. At block a security token is generated based on the selected virtual information card. Processing then continues with block on .

On the other hand if there are installed information cards on the client then at block the client identifies an information card that nearly satisfies the security policy. At block the client identifies information requested in the security token but not satisfied by the information card. At block the client defines a virtual information card based on the identified information card but also including the information requested in the security policy that is not satisfied by the information card. At block the information card can be upgraded to include the information the information card did not satisfy. Block can be omitted as shown by dashed arrow . A person skilled in the art will recognize that the client might only upgrade the information card on the client after the security token has been accepted by the relying party in which there might be other activity and or conditions to be met before the information card is upgraded. 

While suggests that defining a virtual information card from the security policy and defining a virtual information card from an existing information card are separate options a person skilled in the art will recognize that both branches can be taken in parallel. That is even though there might be an information card that nearly satisfies the security policy a virtual information card might be defined as though there were no information card on the client. Similarly multiple virtual information cards can be defined based on existing information cards nothing limits the system to defining only one virtual information.

The following discussion is intended to provide a brief general description of a suitable machine in which certain aspects of the invention can be implemented. Typically the machine includes a system bus to which is attached processors memory e.g. random access memory RAM read only memory ROM or other state preserving medium storage devices a video interface and input output interface ports. The machine can be controlled at least in part by input from conventional input devices such as keyboards mice etc. as well as by directives received from another machine interaction with a virtual reality VR environment biometric feedback or other input signal. As used herein the term machine is intended to broadly encompass a single machine or a system of communicatively coupled machines or devices operating together. Exemplary machines include computing devices such as personal computers workstations servers portable computers handheld devices telephones tablets etc. as well as transportation devices such as private or public transportation e.g. automobiles trains cabs etc.

The machine can include embedded controllers such as programmable or non programmable logic devices or arrays Application Specific Integrated Circuits embedded computers smart cards and the like. The machine can utilize one or more connections to one or more remote machines such as through a network interface modem or other communicative coupling. Machines can be interconnected by way of a physical and or logical network such as an intranet the Internet local area networks wide area networks etc. One skilled in the art will appreciate that network communication can utilize various wired and or wireless short range or long range carriers and protocols including radio frequency RF satellite microwave Institute of Electrical and Electronics Engineers IEEE 545.11 Bluetooth optical infrared cable laser etc.

The invention can be described by reference to or in conjunction with associated data including functions procedures data structures application programs instructions etc. which when accessed by a machine result in the machine performing tasks or defining abstract data types or low level hardware contexts. Associated data can be stored in for example the volatile and or non volatile memory e.g. RAM ROM etc. or in other storage devices and their associated storage media including hard drives floppy disks optical storage tapes flash memory memory sticks digital video disks biological storage and other tangible physical storage media. Associated data can also be delivered over transmission environments including the physical and or logical network in the form of packets serial data parallel data propagated signals etc. and can be used in a compressed or encrypted format. Associated data can be used in a distributed environment and stored locally and or remotely for machine access.

Having described and illustrated the principles of the invention with reference to illustrated embodiments it will be recognized that the illustrated embodiments can be modified in arrangement and detail without departing from such principles and can be combined in any desired manner. And although the foregoing discussion has focused on particular embodiments other configurations are contemplated. In particular even though expressions such as according to an embodiment of the invention or the like are used herein these phrases are meant to generally reference embodiment possibilities and are not intended to limit the invention to particular embodiment configurations. As used herein these terms can reference the same or different embodiments that are combinable into other embodiments.

Consequently in view of the wide variety of permutations to the embodiments described herein this detailed description and accompanying material is intended to be illustrative only and should not be taken as limiting the scope of the invention. What is claimed as the invention therefore is all such modifications as can come within the scope and spirit of the following claims and equivalents thereto.

