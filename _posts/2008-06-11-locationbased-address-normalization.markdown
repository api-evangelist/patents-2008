---

title: Location-based address normalization
abstract: Architecture for normalizing phone numbers and other types of connection information for facilitating mobile communications for users outside their local service areas. When a mobile user attempts to make a connection to a destination entity while outside the user's regular service area, the current location of the user is determined by the system. A normalization rule is selected that corresponds to a local service area associated with the current location. The phone number or other type of connection data string is normalized to the standards of the local service area. The normalized data string is used to automatically complete the connection to the destination entity. In this way, communication is facilitated and simplified for mobile users while traveling abroad.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08238922&OS=08238922&RS=08238922
owner: Microsoft Corporation
number: 08238922
owner_city: Redmond
owner_country: US
publication_date: 20080611
---
Number normalization is used in telecommunications networks for receiving a string of dialed numbers from a user and converting the string into a format that can be used by call processing equipment to route communication sessions from the user to a destination entity. Number normalization is typically used in conjunction with a conventional numbering scheme such as E.164 recommended by the International Telecommunication Union Telecommunication Standardization Sector ITU T which defines the international public telecommunication numbering plan used in the public switched telephone network PSTN . The North American Numbering Plan NANP includes various geographically bounded numbering plan areas having numbers defined by a three digit area code and a seven digit telephone number for routing calls.

A specific example of number normalization is abbreviated dialing in which a user can dial a shortened string of digits to connect within a particular service area. For example for local dialing within an area code a user can dial 555 1234 and the number is automatically normalized within the network to the NANP number of 425 555 1234. In dialing within a private corporate network a further abbreviated number can be used e.g. 51234 and that dialed string is normalized to 425 555 1234 even for corporate users within the network from different geographic locations outside the local numbering plan boundaries.

In mobile communications a problem can arise when a mobile user is operating outside the user s normal operating area while traveling since a user s location affects the normalization of the number. For example a United States user traveling in the United Kingdom UK may be unable to complete calls since the local UK phone network uses different number normalization rules to format the dialed string than the rules used by the user s NANP normalized phone. This results in frustration inconvenience and a loss in productivity for the user and for the individuals the user needs to contact.

In addition to mobile phones normalization can also applied be to other types of mobile devices or mobile capable systems such as laptop computers that use different address formats when roaming across numbering plan boundaries. Such address formats can include URIs uniform resource identifiers based addresses which include both email addresses and session initiation protocol SIP addresses.

The following presents a simplified summary in order to provide a basic understanding of some novel embodiments described herein. This summary is not an extensive overview and it is not intended to identify key critical elements or to delineate the scope thereof. Its sole purpose is to present some concepts in a simplified form as a prelude to the more detailed description that is presented later.

To that end architecture is disclosed for normalizing phone numbers and other data strings when a user is communicating outside the user s local service area. A variety of normalization rules are provided for numbering plans corresponding a variety of geographic locations representing different telecommunications service areas. These normalization rules can be stored in a normalization database. When dialing a phone number or other connection address a current location of the user s mobile device is sent to an enterprise communications server. The location is used to select a suitable normalization rule that applies for the local service area. The selected normalization rule is applied to the dialed phone number or other type data string to produce a normalized number that can be used in connecting to the destination in accordance with the local communications network. In this way communication is facilitated for mobile users traveling outside a normal service area.

To the accomplishment of the foregoing and related ends certain illustrative aspects are described herein in connection with the following description and the annexed drawings. These aspects are indicative of the various ways in which the principles disclosed herein can be practiced all aspects and equivalents of which are intended to be within the scope of the claimed subject matter. Other advantages and novel features will become apparent from the following detailed description when considered in conjunction with the drawings.

The disclosed architecture relates to a computer implemented communications system for normalizing phone numbers and other types of connection information that facilitate mobile communications for users outside local service areas. For example when a mobile user attempts to make a connection to a destination entity while outside the user s regular service area the current location of the user is determined by the system. One or more normalization rules can be selected that correspond to a local service area associated with the current location. The phone number or other type of connection data string is normalized to the standards of the local service area. The normalized data string is used to automatically complete the connection to the destination entity. In this way communication is facilitated and simplified for mobile users while traveling abroad or outside the regular service area.

Reference is now made to the drawings wherein like reference numerals are used to refer to like elements throughout. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding thereof. It can be evident however that the novel embodiments can be practiced without these specific details. In other instances well known structures and devices are shown in block diagram form in order to facilitate a description thereof. The intention is to cover all modifications equivalents and alternatives falling within the spirit and scope of the claimed subject matter.

As illustrated in the system includes a selection component for selecting normalization rules based on location information of the mobile device . The mobile device initiates a connection to a destination entity using connection information . A normalization component is provided for normalizing the connection information based on the location information . Automatic completion of the connection to the destination entity is facilitated using the normalized connection information as will be discussed in greater detail hereinbelow.

In an exemplary implementation a mobile device of a United States US or North American mobile user traveling in the United Kingdom UK operates with standard US normalization for connection information e.g. a dialed 7 digit phone number string . US normalization automatically places at the beginning of the connection information a 1 for the US country code and a 3 digit area code. However in dialing a UK number the system applies the 44 country code and a suitable geographic area code to the dialed number based the current location of the mobile device .

As also illustrated in the normalization database and the normalization component are also part of the enterprise communications server . In this way the normalization of the connection information to produce the normalized connection information is performed by the server remotely from the mobile device . Additionally the completion of the connection to the destination entity is performed by the server remotely from the mobile device .

In order to complete the connection to the destination entity the mobile device sends the normalized connection information e.g. the phone number string normalized to the local rules to the local cellular service. The connection to the telephone network is then performed in the conventional manner via a cellular mobile switching center. In this way the remote entity from which the normalization rules were downloaded need not be the same entity that connects the communication session.

It is to be appreciated that the connection information and the normalized connection information can be a phone number. Based upon the original location and the current location of a mobile device the connection information can be normalized using one of a North American numbering plan NANP a national numbering plan NNP a private numbering plan a mobile country code MCC or a mobile number portability MNP allows mobile users to retain existing cell phone numbers when changing mobile operators .

Alternatively the connection information and the normalized connection information can be any suitable character string for use with other types of mobile devices besides cellular phones such as a mobile communications equipped laptop computer or PDA or the like. For such mobile devices the connection information can include an Internet protocol IP address a uniform resource identifier URI or a session initiation protocol SIP address.

The selection component can use a number of different types of location information e.g. geographical to ascertain the suitable normalization rules . For example location coordinates can be retrieved from a geographical location technology such as global positioning system GPS of the type commonly located on board mobile devices such as cellular phones. These GPS coordinates can be mapped to numbering plan boundaries to derive a suitable normalization rule s .

Alternatively the location information can be derived from the wireless communications carrier signal. When the mobile device logs on to a mobile network the network sends an updated location area identifier LAI to the mobile device the LAI can include an MCC optionally a mobile network code MNC and a location area code. The normalization database can cross reference this information to a local numbering plan to derive the numbering plan boundaries.

Some networks operate with an IP multimedia subsystem IMS . Communications on these types of networks include a P Visited Network ID header that is inserted by a first hop server in the visited network. This information can also be used to derive location of the mobile device based on the location of the first hop server.

In embodiments where the mobile device is a laptop computer a location country can be determined from an IP address of a connected server. An outside network such as the enterprise communications server will observe the country in which the connected server is located and thereby determine location of the mobile device . The mobile device can also detect signals from WiFi wireless fidelity networks in the vicinity and derive a geographical location from those networks.

As also illustrated in a call processing component is provided for receiving the location information through a data channel from the mobile device . The data channel is used in suitably equipped cellular phones for sending and receiving emails and browsing the Internet. The data channel can also be used in an exemplary embodiment as will be described in detail hereinbelow. Here the call processing component is part of the enterprise communications server .

The server can also include a retrieval component for storing and retrieving the selected normalization rule s for reuse with subsequent phone calls while the mobile device remains within a corresponding location. The retrieval component cooperates with the call processing component and can include a memory for storage of the appropriate numbering plan. In this way the process of normalization need not be reapplied repeatedly with each call thereby increasing speed and efficiency for the mobile user.

Following is a series of flow charts representative of exemplary methodologies for performing novel aspects of the disclosed architecture. While for purposes of simplicity of explanation the one or more methodologies shown herein for example in the form of a flow chart or flow diagram are shown and described as a series of acts it is to be understood and appreciated that the methodologies are not limited by the order of acts as some acts can in accordance therewith occur in a different order and or concurrently with other acts from that shown and described herein. For example those skilled in the art will understand and appreciate that a methodology can alternatively be represented as a series of interrelated states or events such as in a state diagram. Moreover not all acts illustrated in a methodology can be required for a novel implementation.

It is to be appreciated that the selection of the normalization rule s at can be performed on an enterprise communications server remotely located from the mobile device. The normalization at and the completion of the mobile communication connection at can be performed remotely from the mobile device e.g. from the enterprise communications server . Alternatively the normalization at and the completion of the mobile communication connection at can be performed within the mobile device.

The completion of the mobile communication connection at can be performed in the following manner. A call to the destination entity is dialed from an enterprise communications server. Another call is dialed back to the mobile device from the enterprise communications server. The calls are connected together by the enterprise communications server so that a seamless connection is observed by the mobile user.

In one exemplary embodiment the connection information used in the method of can be a phone number particularly if used by a cellular phone or other suitable device. Depending on the locations of the mobile user and the destination entity the normalizing can be performed using one or more of a North American numbering plan national numbering plan private numbering plan mobile country code or mobile number portability. In another exemplary embodiment in which a portable computing device such as a laptop computer or the like is used the connection information can include one or more of an IP address a URI or a SIP address.

The aforementioned method can be implemented in the following manner. When a call is initiated the connection information and location information are sent to an enterprise communications server over a data channel used by a cellular phone to send and receive email and web pages. The enterprise communications server derives the user s location and assigns a suitable normalization rule for the connection information. In a server based embodiment the enterprise communications server calls the user s mobile device e.g. a cellular phone over the regular phone channel. However a mobile application programming interface API suppresses the ringing and thereby simulates the appearance of an outgoing call. The enterprise communications server initiates a call to the destination using the normalized connection information. The calls are thus bridged together internally to provide a seamless connection.

The aforementioned implementation facilitates payment schemes used in various international cellular networks. For example outside of the United States a caller party pays program is typically used where the caller pays for the call. However in the US both the caller and the callee pay based on connection minutes. Since the enterprise communications server is the caller the call is less expensive while operating under a caller party pays program.

As used in this application the terms component and system are intended to refer to a computer related entity either hardware a combination of hardware and software software or software in execution. For example a component can be but is not limited to being a process running on a processor a processor a hard disk drive multiple storage drives of optical and or magnetic storage medium an object an executable a thread of execution a program and or a computer. By way of illustration both an application running on a server and the server can be a component. One or more components can reside within a process and or thread of execution and a component can be localized on one computer and or distributed between two or more computers. The word exemplary can be used herein to mean serving as an example instance or illustration. Any aspect or design described herein as exemplary is not necessarily to be construed as preferred or advantageous over other aspects or designs.

Referring now to there is illustrated a block diagram of a computing system operable to execute the computer implemented communications system in accordance with the disclosed architecture. In order to provide additional context for various aspects thereof and the following discussion are intended to provide a brief general description of a suitable computing system in which the various aspects can be implemented. While the description above is in the general context of computer executable instructions that can run on one or more computers those skilled in the art will recognize that a novel embodiment also can be implemented in combination with other program modules and or as a combination of hardware and software.

Generally program modules include routines programs components data structures etc. that perform particular tasks or implement particular abstract data types. Moreover those skilled in the art will appreciate that the inventive methods can be practiced with other computer system configurations including single processor or multiprocessor computer systems minicomputers mainframe computers as well as personal computers hand held computing devices microprocessor based or programmable consumer electronics and the like each of which can be operatively coupled to one or more associated devices.

The illustrated aspects can also be practiced in distributed computing environments where certain tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment program modules can be located in both local and remote memory storage devices.

A computer typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by the computer and includes volatile and non volatile media removable and non removable media. By way of example and not limitation computer readable media can comprise computer storage media and communication media. Computer storage media includes volatile and non volatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital video disk DVD or other optical disk storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by the computer.

With reference again to the exemplary computing system for implementing various aspects includes a computer having a processing unit a system memory and a system bus . The system bus provides an interface for system components including but not limited to the system memory to the processing unit . The processing unit can be any of various commercially available processors. Dual microprocessors and other multi processor architectures can also be employed as the processing unit .

The system bus can be any of several types of bus structure that can further interconnect to a memory bus with or without a memory controller a peripheral bus and a local bus using any of a variety of commercially available bus architectures. The system memory can include non volatile memory NON VOL and or volatile memory e.g. random access memory RAM . A basic input output system BIOS can be stored in the non volatile memory e.g. ROM EPROM EEPROM etc. which BIOS are the basic routines that help to transfer information between elements within the computer such as during start up. The volatile memory can also include a high speed RAM such as static RAM for caching data.

The computer further includes an internal hard disk drive HDD e.g. EIDE SATA which internal HDD can also be configured for external use in a suitable chassis a magnetic floppy disk drive FDD e.g. to read from or write to a removable diskette and an optical disk drive e.g. reading a CD ROM disk or to read from or write to other high capacity optical media such as a DVD . The HDD FDD and optical disk drive can be connected to the system bus by a HDD interface an FDD interface and an optical drive interface respectively. The HDD interface for external drive implementations can include at least one or both of Universal Serial Bus USB and IEEE 1394 interface technologies.

The drives and associated computer readable media provide nonvolatile storage of data data structures computer executable instructions and so forth. For the computer the drives and media accommodate the storage of any data in a suitable digital format. Although the description of computer readable media above refers to a HDD a removable magnetic diskette e.g. FDD and a removable optical media such as a CD or DVD it can be appreciated by those skilled in the art that other types of media which are readable by a computer such as zip drives magnetic cassettes flash memory cards cartridges and the like can also be used in the exemplary operating environment and further that any such media can contain computer executable instructions for performing novel methods of the disclosed architecture.

A number of program modules can be stored in the drives and volatile memory including an operating system one or more application programs other program modules and program data . All or portions of the operating system applications modules and or data can also be cached in the volatile memory . It is to be appreciated that the disclosed architecture can be implemented with various commercially available operating systems or combinations of operating systems.

The aforementioned application programs other program modules and program data can include the computer implemented communications system the mobile device the selection component the normalization rules the location information the destination entity the connection information the normalization component and the normalized connection information from the computer implemented communications system the enterprise communications server and the normalization database from and the computer implemented communications system from . The application programs other program modules and program data can also include the computer implemented communications system the dialed phone number the normalized phone number and the call routing component from the computer implemented communications system the call processing component and the retrieval component from and the computer implemented communications system from .

A user can enter commands and information into the computer through one or more wire wireless input devices for example a keyboard and a pointing device such as a mouse . Other input devices not shown can include a microphone an IR remote control a joystick a game pad a stylus pen touch screen or the like. These and other input devices are often connected to the processing unit through an input device interface that is coupled to the system bus but can be connected by other interfaces such as a parallel port IEEE 1394 serial port a game port a USB port an IR interface etc.

A monitor or other type of display device is also connected to the system bus via an interface such as a video adaptor . In addition to the monitor a computer typically includes other peripheral output devices not shown such as speakers printers etc.

The computer can operate in a networked environment using logical connections via wire and or wireless communications to one or more remote computers such as a remote computer s . The remote computer s can be a workstation a server computer a router a personal computer portable computer microprocessor based entertainment appliance a peer device or other common network node and typically includes many or all of the elements described relative to the computer although for purposes of brevity only a memory storage device is illustrated. The logical connections depicted include wire wireless connectivity to a local area network LAN and or larger networks for example a wide area network WAN . Such LAN and WAN networking environments are commonplace in offices and companies and facilitate enterprise wide computer networks such as intranets all of which can connect to a global communications network for example the Internet.

When used in a LAN networking environment the computer is connected to the LAN through a wire and or wireless communication network interface or adaptor . The adaptor can facilitate wire and or wireless communications to the LAN which can also include a wireless access point disposed thereon for communicating with the wireless functionality of the adaptor .

When used in a WAN networking environment the computer can include a modem or is connected to a communications server on the WAN or has other means for establishing communications over the WAN such as by way of the Internet. The modem which can be internal or external and a wire and or wireless device is connected to the system bus via the input device interface . In a networked environment program modules depicted relative to the computer or portions thereof can be stored in the remote memory storage device . It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers can be used.

The computer is operable to communicate with wire and wireless devices or entities using the IEEE 802 family of standards such as wireless devices operatively disposed in wireless communication e.g. IEEE 802.11 over the air modulation techniques with for example a printer scanner desktop and or portable computer personal digital assistant PDA communications satellite any piece of equipment or location associated with a wirelessly detectable tag e.g. a kiosk news stand restroom and telephone. This includes at least Wi Fi or Wireless Fidelity WiMax and Bluetooth wireless technologies. Thus the communication can be a predefined structure as with a conventional network or simply an ad hoc communication between at least two devices. Wi Fi networks use radio technologies called IEEE 802.11x a b g etc. to provide secure reliable fast wireless connectivity. A Wi Fi network can be used to connect computers to each other to the Internet and to wire networks which use IEEE 802.3 related media and functions .

Generally applications e.g. program modules can include routines programs components data structures etc. that perform particular tasks or implement particular abstract data types. Moreover those skilled in the art will appreciate that the inventive methods can be practiced with other system configurations including single processor or multiprocessor systems minicomputers mainframe computers as well as personal computers hand held computing devices microprocessor based or programmable consumer electronics and the like each of which can be operatively coupled to one or more associated devices.

The handset e.g. a cell phone can typically include a variety of computer readable media. Computer readable media can be any available media accessed by the handset systems and includes volatile and non volatile media removable and non removable media. By way of example and not limitation computer readable media can comprise device storage media and communication media. Storage media includes volatile and or non volatile removable and or non removable media implemented in any method or technology for the storage of information such as computer readable instructions data structures program modules or other data. Storage media can include but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital video disc DVD or other optical disk storage magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by the handset systems.

The handset includes a processor for controlling and processing onboard operations and functions. A memory interfaces to the processor for the storage of data and one or more applications e.g. a video player software user feedback component software etc. . The applications can also include a user interface UI application that operates with a client e.g. operating system to facilitate user interaction with handset functionality and data for example answering initiating calls entering deleting data configuring settings address book manipulation multimode interaction etc. The applications can include other applications that came installed with the handset and or can be installed as add ons or plug ins to the client and or UI for example or for other purposes e.g. processor firmware etc. .

Additionally the applications can include the computer implemented communications system the mobile device the selection component the normalization rules the location information the destination entity the connection information the normalization component and the normalized connection information from the computer implemented communications system the enterprise communications server and the normalization database from and the computer implemented communications system from . The applications can also include the computer implemented communications system the dialed phone number the normalized phone number and the call routing component from the computer implemented communications system the call processing component and the retrieval component from and the computer implemented communications system from .

The other applications can include voice recognition of predetermined voice commands that facilitate user control call voice processing voice recording messaging e mail processing video processing image processing music play as well as subsystems or components described infra. Some of the applications can be stored in the memory and or in a firmware and executed by the processor from either or both the memory or and the firmware . The firmware can also store code for execution in power up initialization and control during normal operation of the handset .

A communications component can interface to the processor to facilitate wired wireless communications with external systems for example cellular networks VoIP voice over IP networks local wireless networks or personal wireless networks such as Wi Fi Wi Max and so on. Here the communications component can also include a multimode communications subsystem for providing cellular communications via different cellular technologies. For example a first cellular transceiver e.g. GSM can be one mode and an Nth transceiver can provide cellular communications via an Nth cellular network e.g. UMTS where N is a positive integer. The communications component can also include a transceiver for unlicensed communications e.g. Wi Fi Wi Max Bluetooth etc. for corresponding communications. The communications component can also facilitate communications reception from terrestrial radio networks e.g. broadcast digital satellite radio networks and Internet based radio services networks.

The handset can process IP data traffic via the communications component to accommodate IP traffic from an IP network such as for example the Internet a corporate intranet a home broadband network a personal area network etc. via an ISP or broadband cable provider. Thus VoIP traffic can be utilized by the handset and IP based multimedia content can be received in an encoded and or decoded format.

The handset includes a display for displaying multimedia that include text images video telephony functions e.g. a Caller ID function setup functions menus etc. The display can also accommodate the presentation of multimedia content e.g. music metadata messages wallpaper graphics etc. .

An input output I O interface can be provided for serial parallel I O of data and or signals e.g. USB and or IEEE 1394 via a hardwire connection and other I O devices e.g. a keyboard keypad mouse interface tether stylus pen touch screen etc. . The I O interface can be utilized for updating and or troubleshooting the handset for example.

Audio capabilities can be provided via an audio I O component which can include a speaker for the output of audio signals related to for example indication that the user pressed the proper key or key combination to initiate the user feedback signal call signals music etc. The audio I O component also facilitates the input of audio signals via a microphone to record data and or telephony voice data and for inputting voice signals for telephone conversations.

The handset can include a slot interface for accommodating a subscriber identity system that can accommodate a SIM or universal SIM USIM and interfacing the subscriber identity system with the processor . However it is to be appreciated that the subscriber identity system can be manufactured into the handset and updated by downloading data and software thereinto.

An image capture and processing system e.g. a camera can be provided for decoding encoded image content. Additionally as indicated photos can be obtained via an associated image capture subsystem of the image system . The handset can also include a video component for processing video content received and for recording and transmitting video content.

Optionally a geolocation component e.g. GPS global positioning system facilitates receiving geolocation signals e.g. from satellites via the communications component that define the location of the handset . Alternatively or in combination therewith the geolocation component can facilitate triangulation processing for locating the handset .

The handset also includes a power source in the form of batteries and or an AC power subsystem which power source can interface to an external power system or charging equipment not shown via a power I O component .

Referring now to there is illustrated a schematic block diagram of an exemplary computing environment that interacts with the computer implemented communications system . The environment includes one or more client s . The client s can be hardware and or software e.g. threads processes computing devices . The client s can house cookie s and or associated contextual information for example.

The environment also includes one or more server s . The server s can also be hardware and or software e.g. threads processes computing devices . The servers can house threads to perform transformations by employing the architecture for example. One possible communication between a client and a server can be in the form of a data packet adapted to be transmitted between two or more computer processes. The data packet can include a cookie and or associated contextual information for example. The environment includes a communication framework e.g. a global communication network such as the Internet that can be employed to facilitate communications between the client s and the server s .

Communications can be facilitated via a wire including optical fiber and or wireless technology. The client s are operatively connected to one or more client data store s that can be employed to store information local to the client s e.g. cookie s and or associated contextual information . Similarly the server s are operatively connected to one or more server data store s that can be employed to store information local to the servers .

What has been described above includes examples of the disclosed architecture. It is of course not possible to describe every conceivable combination of components and or methodologies but one of ordinary skill in the art can recognize that many further combinations and permutations are possible. Accordingly the novel architecture is intended to embrace all such alterations modifications and variations that fall within the spirit and scope of the appended claims. Furthermore to the extent that the term includes is used in either the detailed description or the claims such term is intended to be inclusive in a manner similar to the term comprising as comprising is interpreted when employed as a transitional word in a claim.

