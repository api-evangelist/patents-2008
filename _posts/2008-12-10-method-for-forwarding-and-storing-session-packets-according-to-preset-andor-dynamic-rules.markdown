---

title: Method for forwarding and storing session packets according to preset and/or dynamic rules
abstract: A system and method for recording and/or monitoring data by forwarding it, with or without analyzing or otherwise filtering the data itself are provided. According to embodiments of the invention, the system and method are operative over IP networks. According to an embodiment of the invention, there is provided a system and method for forwarding data according to at least one characteristic of the data, such as the session's metadata for example, without analyzing or otherwise filtering the data itself. According to another embodiment of the invention, before the data is forwarded to the recording device, pre-processing algorithms are performed according to a system preset or according to one or more rules.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08094587&OS=08094587&RS=08094587
owner: Nice Systems Ltd.
number: 08094587
owner_city: Raanana
owner_country: IL
publication_date: 20081210
---
The present invention relates to a system and a method for recording voice and other data passed through IP sessions and or other data or media sessions and in particular for such a system and method in which a recording session is triggered. The present invention also relates to a system and method for selectively recording and monitoring voice and other data passed through a session which may optionally be an IP session and or a multimedia session or any other type of media or data session by forwarding the data without a need for filtering the data itself by the recording and monitoring system. Such forwarding may be triggered according to metadata and or other external characteristics of the data itself.

Telecommunication is an important aspect of interactions between individuals as it enables individuals to communicate without being physically present in the same location thereby potentially increasing the possibilities for cooperation between such individuals. Simultaneously an increasing number of telecommunication sessions are being monitored and or recorded for example for quality assurance at a help desk or other customer support center or service center and or on a financial trading floor.

Previously such monitoring or recording was relatively simple in the background art. For example telephone calls may typically be passed to the individual through a PBX public exchange switch or CO central office which features a central switching matrix. All telephone calls passing this switch would therefore pass through the central matrix such that integration of the recording and or monitoring equipment with the central matrix would enable all such telephone calls to be recorded and or monitored.

Unfortunately monitoring and or recording such telephone calls through the IP session protocols is not as simple. For example the session does not pass through a central switching matrix as IP communication does not feature such a matrix. Thus such communication is relatively diffuse even across a WAN wide area network or LAN local area network .

The situation is further complicated by the topology of the IP network which consists of switch boxes routers and bridges and which may prevent any recording and or monitoring system from accessing such communication sessions that are routed on different network segments. In addition encrypted sessions add a further element of complexity as access to such sessions is typically only granted to participants as only participants have access to the necessary information to decrypt the encrypted session.

Furthermore currently available systems may easily overwhelm the network and or the recording or monitoring device with the large volumes of data that can be generated through such monitoring. This problem may be particularly acute with media sessions which typically feature the transmission of a plurality of different types of data. One attempted solution to this problem is to filter data before it is recorded and or otherwise stored. In order to filter the packets of interest for determining which packets should be stored processing and memory resources must be expended. Additionally the process of filtering further limits the capacity of the processing unit to a limited and relatively small number of concurrent sessions.

Furthermore simply adding more filtering units each of which is required to filter another portion of the required sessions might not solve the problem as all of the units that monitor the same network infrastructure also must operate on the same amount of pre filtered data.

The background art does not teach or suggest a solution to the problem of collecting information about an interactive session over an IP network. The background art also does not teach or suggest a solution to the problem of monitoring and or recording IP media sessions particularly with regard to the potentially large amounts of data that may be collected. The background art does not teach or suggest a system or method for selectively forwarding data according to dynamic and or static rules without a need for analyzing or filtering the data itself by the recording monitoring system in order to verify whether it should be recorded or monitored. Furthermore the background art does not suggest an implementation in which data sent within the session to the recording monitoring system is compressed even and especially when the data sent between the other parties of the monitored recorded session is not compressed.

The present invention overcomes these problems of the background art by providing a system and method for recording and or otherwise monitoring IP media sessions. Hereinafter the term media also includes multimedia as for example IP sessions may also optionally be multimedia sessions with data being exchanged according to one or more different types of media. It should also be noted that the present invention is also useful for any type of IP session as well any type of media or multimedia session or any type of data session. A preferred embodiment of the present invention is related to voice over IP sessions or voice communication through IP sessions for example for a conference call.

The present invention features a recording and or monitoring device referred to hereinafter as a recording device for the purposes of clarity only and without any intention of being limiting. The recording device is preferably a participant in the IP media session although more preferably the recording device only receives data for recording and or otherwise monitoring the session. Therefore the IP media session is preferably a multi user session such as a conference call for example even if data is being provided for recording from only one of the participants in the session. This implementation of the present invention as described in greater detail below overcomes such drawbacks of the background art as the inability to otherwise decrypt encrypted sessions and recording across network segments.

Alternatively the recording device may receive the data to be recorded and or monitored through a separate recording session or any other separate type of communication such that the recording device is optionally not a participant in the IP session.

According to one embodiment of the present invention the data that is transmitted to the recording device comprises compressed data that can optionally be either decompressed by the recording monitoring device or alternatively stored as received.

According to a preferred embodiment of the present invention there is provided a system and method for forwarding data according to at least one characteristic of the data without analyzing or otherwise filtering the data itself Such characteristics may optionally be included in the metadata related to the session e.g. the identifier s for the parties in the session the media type or types of data being exchanged or transferred in the session the subject of the session some type of indication that the session belongs to a group of similar sessions etc. The present invention features a recording and or monitoring device referred to hereinafter as a monitoring device for the purposes of clarity only and without any intention of being limiting. The monitoring device is a participant in the IP medial session although preferably the monitoring device only receives data for recording and or otherwise monitoring the session and or for forwarding the data to another such device that performs the recording and or monitoring of the session. Therefore the IP media session is preferably a multi user session such as a conference call for example even if data is being provided for recording from only one of the participants in the session. This implementation of the present invention as described in greater detail below overcomes such drawbacks of the background art as the inability to otherwise decrypt encrypted sessions and recording across network segments.

Hereinafter the term separate network portion includes any separate portion or network across which recording is performed such as a different network segment and or network for example.

According to a preferred embodiment of the present invention the monitoring device is present on a network with a conference control unit such as a MCU multi conference unit for example. Hereinafter the term conference is used to refer to any multi participant session even if only two participants are present one of which is the device of the present invention. The conference control unit either receives a request to initiate the conference call media or multimedia session from the recording device of the present invention and or from one of the participating IP communication devices and or from some other component on the network. Examples of such communication devices include but are not limited to IP telephony devices IP telephones and computational devices which include an IP telephony component.

According to another preferred embodiment of the present invention at least one but optionally and more preferably all of the entities or parties which participate in the recorded monitored session are able to duplicate the received and sent data and then to forward the data to the recording monitoring system. Optionally and preferably the data is forwarded after only minimal address information is provided and or changed such that for example preferably only the destination IP address and port are changed for example for data that is transmitted as IP packets. Thus the data is preferably forwarded with minimum pre processing.

According to another preferred embodiment of the present invention the duplication and forwarding of the recorded monitored session data is performed by another component of the IP communication system other than by a party to the session for example by a gateway.

It should be noted that the data to be forwarded may optionally be summed all or some parts of the session before forwarding but may alternatively be unsummed. In the latter case it may optionally be summed by the recording monitoring sub system or alternatively may be recorded monitored without summation. Summation relates to providing at least a portion or optionally all of the information for more than one session within a single forwarded session. For example if the session s data includes audio data then summation refers to audio summation.

The data to be forwarded may optionally be compressed before forwarding but may alternatively be uncompressed. In the former case it may optionally be compressed by the recording monitoring sub system. In the latter case it may optionally be transmitted in an uncompressed form by the monitoring sub system.

The data to be forwarded may also optionally be encapsulated before forwarding for example according to TCP IP protocols but may alternatively not be encapsulated. In the latter case it may optionally be encapsulated by the recording monitoring sub system or alternatively may be recorded monitored without encapsulation.

According to another optional but preferred implementation of the present invention the monitoring device is the NiceLog product of Nice Systems Ltd of Ra anana Israel.

Preferably the port that the recording monitoring device is connected to on the network switch or router needs not to be configured as a sniffing mirroring port. Instead the present invention is based upon the monitoring and or recording of data on a session basis where the responsibility for duplicating and forwarding the data to be recorded monitored is not on the IP network infrastructure.

The present invention has a number of advantages. For example the present invention lowers the network bandwidth utilization required for recording monitoring. In addition the present invention distributes the resources required for compressing the recorded data for saving storage resources. Another benefit is that the recorder does not need to have build in compression capabilities thus reducing both its cost and complexity for example less computing power less hardware fewer software algorithms and the like .

Hereinafter the term computational device refers to any type of computer hardware system and or to any type of software operating system or cellular telephones or any type of hand held device such as a PDA personal data assistant as well as to any type of device having a data processor and or any type of microprocessor or any type of device which is capable of performing any function of a computer.

Hereinafter the term session refers to a plurality of transmissions between any two or more computational devices which may optionally include more than one type of data and which may also optionally additionally or alternatively include transmissions in the form of transmitted packets of data.

Hereinafter the term content of data includes any information including one or more characteristics that are descriptive of the actual data itself that is included in the data packets of the session and that cannot be obtained from any other external source. It does not include any external characteristic of the data. Hereinafter the term external characteristic of the data refers to metadata or any type of data which is descriptive of the session and or transmission or of the information within the session and or transmission.

For the present invention a software application or program could be written in substantially any suitable programming language which could easily be selected by one of ordinary skill in the art. The programming language chosen should be compatible with the computational device according to which the software application is executed. Examples of suitable programming languages include but are not limited to C C and Java.

Hereinafter the term duplication and related terms may optionally include pre processing including but not limited to encryption decryption re encapsulation or encapsulation summation and compression.

The present invention is of a system and method for recording and or otherwise monitoring IP media sessions. The present invention features a recording and or monitoring device referred to hereinafter as a recording device for the purposes of clarity only and without any intention of being limiting. When recording monitoring is initiated the recording device optionally and preferably becomes a participant in the IP media session although alternatively and preferably the recording device only receives data for recording and or otherwise monitoring the session. Therefore the recorded monitored IP media session optionally and preferably becomes a multi user session such as a conference call for example even if data is being provided for recording from only one of the participants in the session. Alternatively the data may optionally be monitored and or recorded in a separate monitoring and or recording session by the recording and or monitoring device.

Optionally only a portion of all such media sessions are recorded although alternatively all such sessions are recorded. The recording device may optionally receive a command for determining when a session is to be recorded. Alternatively the recording device may receive data for all such sessions but may preferably only record certain sessions. More preferably a scheduler determines whether the session should be recorded which may optionally be located with the recording device but alternatively is separated on the network.

According to a preferred embodiment of the present invention the recording device is present on a network with a conference control unit such as a MCU multi conference unit for example. Hereinafter the term conference is used to refer to any multi participant session even if only two participants are present one of which is the device of the present invention. The conference control unit either receives a request to initiate the conference call media session from the recording device of the present invention and or from one of the participating IP communication devices and or from some other component on the network. Examples of such communication devices include but are not limited to IP telephony devices IP telephones and computational devices which include an IP telephony component.

According to another preferred embodiment of the present invention at least one but optionally and more preferably all of the entities or parties which participate in the recorded monitored session are able to duplicate the received and sent data and then to forward the data to the recording monitoring system. Optionally and preferably the data is forwarded after only minimal address information is provided and or changed such that for example preferably only the destination IP address and port are changed for example for data that is transmitted as IP packets. Thus the data is preferably forwarded with minimum pre processing. Optionally this minimum pre processing may include also the compression of some or all the data before forwarding. In a preferred embodiment of the present invention such pre processing is preferably performed by using compression resources of the communication system that were originally designed for being capable of compressing the data of the original sessions. Such pre processing may also optionally include but is not limited to one or more of encapsulation re encapsulation encryption decryption or summation.

According to another preferred embodiment of the present invention the duplication and forwarding of the recorded monitored session data is performed by another component of the IP communication system other than by a party to the session for example by a gateway.

According to another optional but preferred implementation of the present invention the recording device is the NiceLog product of Nice Systems Ltd of Ra anana Israel.

According to other optional but preferred embodiments of the present invention the IP media session may also include one or more non IP telephony devices such as a telephone device communicating through the PSTN public switched telephony network . For this embodiment the system of the present invention preferably features a gateway for receiving such communication and for enabling the data to be passed to other components of the present invention including but not limited to the recording device.

According to another optional but preferred implementation of the present invention the system and method of the present invention are enabled for hunt groups which use a plurality of virtual telephone numbers rather than fixed telephone lines that are reserved for particular telephone numbers. Hunt groups are well known in the art one example of a suitable reference is found in Newton s Telecom Dictionary 16th Expanded Updated Edition by Harry Newton published in 2000 by Telecom Books page 414 which is incorporated by reference as if fully set forth herein. Hereinafter the term hunt group refers to any type of virtual or non fixed telephone extension systems in which a central control unit of some type such as the gatekeeper of the present invention determines the physical extension which is used.

According to another optional but preferred embodiment of the present invention there is provided a system and method for forwarding data according to at least one characteristic of the data such as metadata for example without analyzing or otherwise filtering the data itself.

Optionally only a portion of all such media sessions are recorded although alternatively all such sessions are recorded. The monitoring device may optionally receive a command for determining when a session is to be recorded. Alternatively the monitoring device may receive data for all such sessions but may preferably only record certain sessions. More preferably a scheduler determines whether the session should be recorded which may optionally be located with the monitoring device but alternatively is separated on the network.

The present invention may also optionally be implemented with a number of well known protocols in the background art for media and multimedia IP sessions including but not limited to H.323 RTP real time protocol RTCP real time control protocol H.225 and H.245 Cisco Skinny protocol Nortel uniStim protocol as well as CODECs for encoding decoding the media or multimedia data for such sessions including but not limited to G.711 G.723 G.722 G.728 G.729 H.261 and H.263 and all their flavors versions releases and or types all of which are hereby incorporated by reference as if fully set forth herein. In addition references may be found at http www.normos.org ietf rfc rf c1889.txt as of Aug. 17 2001 which are also hereby incorporated by reference as if fully set forth herein including all links and other data Web pages found at the Web site. Further information may also be found in U.S. Pat. No. 6 122 665 issued Sep. 19 2000 which is also incorporated by reference as if fully set forth herein.

The present invention is also operative with any type of data that is in a suitable format such as audio video and other types of data packets for example. The present invention is preferably operative with communication sessions of computer network based telephone or telephone like systems including video conferencing chat Web Collaboration trunk radio and other data sessions systems enabling data sessions which are not necessarily audible or visible that can optionally be logged and or monitored and or optionally and preferably have their data selectively forwarded.

The principles and operation of the method according to the present invention may be better understood with reference to the drawings and the accompanying description. It should be noted that the present invention is described with regard to IP telephony for the purposes of clarity only and without any intention of being limiting.

Referring now to the drawings shows an illustrative system for recording and or otherwise monitoring an IP communication session which may optionally be a media or multimedia session. The session may optionally be initiated at any one of an IP telephone on a LAN local area network an IP telephone on a WAN wide area network and a telephony device communicating through a PSTN public switched telephony network . Examples of suitable IP telephones include but are not limited to VIP or SP 12 or 7900 series IP phones Cisco Inc. San Jose Calif. USA . Preferably the actual handling of the session is slightly different for each of these different initiating devices as described in greater detail below.

As shown LAN features a recording device . According to another optional but preferred implementation of the present invention recording device is the NiceLog product of Nice Systems Ltd of Ra anana Israel. This product features a monitor for monitoring activity through voice telephony on an IP network. Although the activity is monitored through voice telephony protocols other types of data may also optionally be monitored such as video and audio data transmissions. The monitor component of the NiceLog product includes a recording function to record these voice and other types of data transmissions. For example the recording function may be manually activated to start recording. Further details may be found in the User s Manual of the NiceLog product.

Recording device is preferably in communication with a recording agent for controlling the process of recording although optionally both recording device and recording agent may be present in a single device although separate devices are preferred. Alternatively recording device may optionally perform all of these functions. Recording agent is preferably operated as a software module by a computational device . According to the present invention upon initiation of the IP media session recording agent determines that the session has been initiated and directs recording device to record the session. Optionally only certain sessions are recorded. In order to support recording the media session is constructed as a conference call and recording device then becomes a participant in that conference call.

For the first example of initiating device previously given IP telephone on LAN initiates the session as explained also with regard to the flowchart of showing an exemplary method according to the present invention for recording and or otherwise monitoring IP media sessions. For example IP telephone may contact gatekeeper to initiate the session with an IP telephone on computational device in stage . Both participants are therefore connected through LAN .

In stage the control path is established by gatekeeper for example according to the H.323 protocol in order for the IP session to be initiated. In stage if recording device is not present and or operational preferably the normal IP communication session is enabled with IP telephone . Alternatively if recording device is present then recording agent preferably identifies the incoming request to initiate the session.

In stage a recording agent control module shown with regard to preferably controls the conference call recording. Optionally and more preferably recording agent control module sends a request to initiate the conference call to gatekeeper . This request preferably includes a request to include recording device in the conference call.

In stage gatekeeper sends a request to conference controller to initiate the IP media session with recording device as a participant thereof. In stage conference controller initiates the conference call between IP telephone and IP telephone . In stage recording device is preferably added to the conference call. Recording device may optionally request from conference controller for example that the data in the session is compressed before being sent to recording device . Conference controller may optionally and preferably compress the data for being sent to recording device . Optionally and more preferably if conference controller is an MCU then the MCU preferably performs compression of the data sent to recording device . Conference controller or the MCU if present may also optionally perform pre processing of the data as previously described.

A similar operation is performed if the session is to be established with IP telephone on WAN . As shown in WAN is optionally connected to LAN through a router LAN may optionally feature a hub . IP telephone may again initiate the session by contacting gatekeeper the remaining stages are performed substantially as previously described. Alternatively IP telephone may initiate the session. In order for IP telephone to initiate the session and the recording preferably IP telephone features recording agent and recording agent control module as part of a single device. It should be noted that only one of IP telephone and IP telephone requires recording agent and recording agent control module operated directly by the IP telephone itself in the case of a smart telephone or alternatively operated by a computational device which also operates the IP telephone in order for the session to be recorded.

The operation is preferably adjusted somewhat if a telephony device communicating through a PSTN is contacted by IP telephone to initiate the media call and or if telephony device initiates the call. In both cases communication to and from telephony device passes through a gateway for example in order to translate regular PSTN communication to IP based communication such as H.323 protocol based communication for example. Gateway then preferably contacts gatekeeper in order for telephony device to be recognized as a participant in the session. The remaining functions are similar to those shown in . Gateway may optionally be implemented as a Cisco Internet Router 3620 for example Cisco Inc. San Jose Calif. USA .

For this implementation recording device preferably has at least one and more preferably a plurality of reserved telephone numbers which correspond to actual telephone lines. Video and or audio data may optionally be captured according to the RTP real time protocol protocol.

This preferred method is similar to that of for stages . In stage however the gatekeeper identifies the hunt group which has been called.

In stage the gatekeeper searches for a free telephone line within that particular hunt group. In stage the conference call is established through the conference controller and the recording device joins the conference call in stage as previously described.

According to optional but preferred implementations of the present invention any of the above embodiments may be optionally implemented with a computationally enabled telephone device in place of the computational device for operating the recording agent and or the recording agent control module .

System preferably features a communication sub system with a plurality of sessions which are to be recorded and or monitored. Illustrative sessions shown in are labeled as s and s to indicate a non limiting illustrative number of two sessions. Communication sub system may optionally feature one or more management units sharing the functional responsibilities of managing communication sub system and several end points shown as a plurality of parties labeled as p p and pN for the purpose of illustration only and without any intention of being limiting . Management unit may optionally and preferably include the functionality of an IP telephony Gatekeeper for example a gatekeeper software and or hardware operating according to the H.323 protocol. Management unit may also optionally additionally or alternatively include the functionality of an IP telephony MCU examples of which include but are not limited to Cisco Call Manager AVAYA Media Servers and the MultiVantage software and Nortel Succession Communication Server.

Communication sub system may optionally be connected to one or more external end points that are outside of communication sub system shown as at least one external party again for the purposes of illustration and without any intention of being limiting. Such a connection may optionally and preferably be provided for managing sessions between them and the previously described internal end points which are shown as parties . The communication between the external end point external party and communication sub system may optionally be transmitted by one or more signaling and or media gateway s not shown for example for converting the signaling and or media protocols and encoding.

According to another preferred embodiment of the present invention at least one but optionally and more preferably all of the entities or parties which participate in the recorded monitored session such as party for example are able to duplicate the received and sent data and then to forward the data to the recording monitoring system. Optionally and preferably the data is forwarded after only minimal address information is provided and or changed such that for example preferably only the destination IP address and port are changed for example for data that is transmitted as IP packets. Thus the data is preferably forwarded with minimum pre processing.

According to another preferred embodiment of the present invention the duplication and forwarding of the recorded monitored session data is performed by another component of the IP communication system other than by a party to the session for example by a gateway as previously described not shown .

System also optionally and preferably features a recording and monitoring sub system which optionally and more preferably includes the following units a recording and monitoring management unit which supports the configuration of the system and preferably also manages its resources a non limiting example of which is NiceCLS Nice Systems Ltd. Ra anana Israel or any other call monitoring system that is known in the art a recording unit which receives the forwarded sessions data a playback unit which enables the reconstruction of a recorded session and a monitoring unit which enables monitoring of a forwarded session by a third party no matter if it is recorded or not. It should be noted that system may optionally and preferably feature one or more recording and monitoring sub systems while each of recording and monitoring sub system may optionally and preferably feature one or more of each of the above components.

The procedure of configuring the system and of initiating the duplication and forwarding process is not shown although such a procedure is well known in the art and could easily be performed by one of ordinary skill in the art. Optionally such a procedure may require one or more additional elements which could also easily be selected by one of ordinary skill in the art.

One or more both of recording unit and monitoring unit may optionally be implemented as the NiceLog product of Nice Systems Ltd. of Ra anana Israel.

System may optionally comprise more than one unit of any of the above types. Units may optionally and preferably be combined where one unit may perform the functionality of another. For example the management functionality may be implemented within recording unit or within communication sub system non limiting examples of configurations may optionally include one or more of incorporating the functions of monitoring and recording in the same unit or incorporating recording and playback and monitoring in the same unit or incorporating management and playback in the same unit. Each unit s functionality may optionally be split into several sub units. By way of example only and without any intention of being limiting the function of recording may optionally be split into separate subunits for handling capturing and storage respectively management may optionally be split into separate subunits for handling engines and databases and so forth. It is assumed that all of these configurations are within the area of the present invention.

The method of the present invention may optionally be used for recording monitoring all of the sessions of communication sub system and or for selecting the sessions to be recorded monitored. Recorded monitored sessions may optionally include incoming and or outgoing sessions from external parties s and or may also include internal sessions s between one or more parties that are managed by communication sub system . A plurality of such parties is shown as p p and pN for the purpose of illustration only and without any intention of being limiting. The data from recorded monitored sessions is preferably forwarded to a recording and monitoring sub system as shown by a plurality of forwarding arrows f f . A selection of one or more sessions for which data is to be forwarded and preferably recorded and or monitored may optionally be done at least partially and more preferably is performed completely according to a characteristic of one or more parties for example in order to record all sessions of a specific group of telephone extensions and or users of an IP telephony system or according to any other characteristic of party or external party for example in order to e.g. record all sessions of a specific group of external parties . It should be noted that such a characteristic of one or more parties is considered to be a characteristic of a session which includes such each party .

Optionally the selection of one or more sessions may optionally be made by assessing compliance with one or more rules deterministic and or statistical by each session . A deterministic rule is optionally and preferably predefined according to one or more criteria. Non limiting illustrative examples of such rules include recording all sessions per a given period of time or per a number of sessions. The rule may optionally and preferably have multiple parts for example by requiring that a specific extension be one party to each such session and or by requiring that the other party be included in a specific group of parties . An illustrative non limiting example of a statistical rule is recording 15 of the sessions of a specific telephone users group group of parties for example between 7 00 and 11 00 AM every day.

Another example of a type of rule is an event driven rule in which the rule or request for action inherent to the rule is invoked according to an event which may occur for example at party . For example the event could optionally be an operation at party such as having the user click on or otherwise select a menu choice from a GUI graphical user interface being displayed by party . The event preferably occurs externally to session .

It should be noted that any of the above types of rules may optionally be static or dynamic. Configuring communication sub system to forward the necessary data to recording monitoring sub system may optionally be performed in a number of different ways. Non limiting examples which may optionally be used singly or in combination include direct configuration of communication sub system for example by using the menu of an IP telephone which may optionally be an implementation of party or by accessing management unit which has a management utility or configuration application that may optionally be operated as a client or as a console or otherwise. For example within an IP telephone system which is an optional implementation of system and more specifically of communication sub system such configuration may optionally be performed by setting each IP telephone party to perform the forwarding and or by setting management unit to handle forwarding of data. Data may optionally be duplicated and transmitted dynamically for example by manual activation of duplication through an IP telephone party .

Another optional mechanism for configuration of communication sub system is to pre configure recording and monitoring sub system after which recording and monitoring sub system would request communication sub system to perform the forwarding. This is preferably performed by having recording and monitoring sub system use the API application programming interface of communication sub system either directly or indirectly. The indirect use may be implemented through a CTI call telephony integration Server for example. The CTI server preferably gives real time information on call events and also preferably supports bi directional communication. Additionally or alternatively recording and monitoring sub system may optionally request communication sub system to perform and to stop forwarding when both recording and monitoring sub system and communication sub system are operating on line . Such a request may optionally be performed per session or per party optionally for a pre determined period of time and or according to a fixed starting time and or ending time. Such a request may optionally include a directive for performing algorithms over the data before forwarding it. Examples of such algorithms include but are not limited to summation and compression.

With regard to as shown in the stage a session is started. The session may optionally and preferably be performed between an external party and an internal party of the communication sub system or alternatively may be performed between two internal parties in the communication sub system.

In stage the recording monitoring sub system preferably receives meta data regarding the session and or another external characteristic of the data. It should be noted that the characteristics of the data such as metadata for example preferably do not require or otherwise involve analysis of the data itself. Such metadata preferably includes an external characteristic or aspect of the data or the session such as identifiers derived from the session itself referred to herein as data session characteristics to include one or both of a data and or a session characteristic or characteristics illustrative examples of such identifiers include but are not limited to an extension identifier a telephone number and or another identifier. The data session characteristics may optionally be received from the communication sub system either directly or via an external device e.g. a CTI server as previously described from an external third sub system or database e.g. a call center customers data base or be derived from the data itself and or any combinations thereof.

In stage the recording monitoring management unit preferably then applies at least one rule. The rule may optionally be dynamic such that it is triggered according to at least one characteristic of the session or alternatively may be static. Optionally and more preferably recording monitoring management unit operates according to a plurality of rules most preferably including at least one dynamic rule and at least one static rule.

Preferably the rule is applied only to the external characteristic s of the data and does not involve analysis and or filtering of the actual content of the data. If the data is to be compressed before being forwarded then the content of the data is preferably analyzed and or filtered in order for compression to be performed such that the data itself is preferably analyzed and or filtered. Otherwise the data is preferably forwarded without such analysis and or filtering.

If the metadata and or other external characteristic of the data matches and or otherwise fits at least one rule then the recording monitoring management unit preferably requests the communication sub system to forward the session data stage . The communication sub system preferably then forwards data to the recording monitoring sub system.

Alternatively the communication sub system may optionally forward data such as packets for example preferably according to one or more rules as previously described. Such a rule may optionally require transmission of data for all sessions. More preferably the rules operated by the recording monitoring sub system may optionally be more complex than those for the communication sub system. Illustrative examples of these rules include but are not limited to the following A Record 10 of the sessions related to a specific campaign in a call center as identified by the communication sub system routing information reported to the recording monitoring sub system B Record all sessions from gold or preferred customers who are optionally identified by the customer identifier inserted by the customer for example when a Web collaboration is started and or who are identified through a telephone number which may be identified automatically by the communication sub system for example and reported to the recording monitoring sub system which correlates these telephone numbers with the database of customer information.

In stage the communication sub system unit preferably duplicates the data and forwards it to the recording and monitoring sub system. The duplication of the data may optionally consist of pre processing including but not limited to summation compression and re encapsulation or encapsulation of at least a portion of the data or alternatively of all of the data according to a system preset or according to one or more rules. The rules may optionally be determined as described above while the system preset is preferably determined for the communication sub system unit for example at the time of configuring the communication sub system unit. In stage the recording and monitoring sub system preferably records and or analyzes and or displays and or monitors the data.

While the invention has been described with respect to a limited number of embodiments it will be appreciated that many variations modifications and other applications of the invention may be made.

