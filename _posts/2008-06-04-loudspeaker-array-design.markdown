---

title: Loudspeaker array design
abstract: Sound signals to be output from a loudspeaker array are modified by a plurality of filters designed according to an unconstrained optimization procedure to improve overall performance (e.g., power, directivity) of the loudspeaker array. More particularly, respective filters are configured to receive a signal to be output to a plurality of loudspeakers. Upon receiving the signal, the respective filters individually modify the received signal according to the results of the unconstrained optimization procedure and then output the individually modified signals to respective loudspeakers. The unconstrained optimization procedure takes into account manufacturing tolerances and individually enhances the signal output to each of a plurality of individual loudspeakers within an array to achieve an overall improvement in performance. In one example, a speaker system utilizes the unconstrained optimization procedure to enable a user to hear an output sound clearly, while adjacent people experience the output sound at lower volume, if at all.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08379891&OS=08379891&RS=08379891
owner: Microsoft Corporation
number: 08379891
owner_city: Redmond
owner_country: US
publication_date: 20080604
---
In the past decade computers have changed the way that we communicate with each other. Instant messaging social networking websites video conferences and file transfers allow us to provide information to each other with greater speed and convenience than ever before. In particular Internet telephone calls and web cameras have made audio and visual communication e.g. teleconferencing and virtual workplaces more common. For many companies a more geographically diverse workforce causes them to rely heavily upon teleconferencing. For employees in cubicles teleconferencing means holding a phone to their ear for hours or wearing a headset that keeps them tethered to their workstations.

Beamforming technology is a signal processing technique that takes advantage of interference between the individual elements of arrays of transmitting or receiving transducers e.g. loudspeakers or microphones to control the directionality of a signal e.g. focus the direction of the output sound . Beamforming applied to loudspeaker arrays allows sound output from speaker arrays to be focused into areas of high volume and nearby areas of low volume. However due to the wide bandwidth of audible sounds beamforming requires a great deal of precision to produce high quality directivity over the entire frequency range. This high degree of precision is difficult to achieve in practice. For example small variations in the manufacturing tolerances of speakers provide sufficient differences in the speaker functionality to produce an unusable output.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key factors or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter.

Sound signals to be output from a loudspeaker array are modified in a manner to improve the performance e.g. power directivity sound level uniformity of the loudspeaker array. More particularly a plurality of filters can be configured to modify a source signal to be output to a plurality of loudspeakers. Upon receiving the signal respective filters individually can modify e.g. change the amplitude and or phase of the source signal and then output individually modified signals to respective loudspeakers.

An objective function is used to optimize a plurality of filters. The objective function utilizes a model of the output of the plurality of speakers unconstrained objective function taking into account manufacturing tolerances. The unconstrained objective function can then be used in an unconstrained optimization procedure to achieve an overall improvement in speaker performance. Formation of the unconstrained objective function begins by defining a primary objective function according to a primary design goal e.g. directionality of sound uniform sound levels in a listening area allowed speaker array power consumption and by defining one or more associated design constraints e.g. equalized power response average zero phase shift . The primary objective function depending in part upon a filter weight e.g. a vector which comprises information about the operation of respective filters is defined according to a primary design goal taking into consideration the behavior of the sound output from individual loudspeakers and compensating for manufacturing tolerances e.g. variation in the resistance of solder bumps shape and thickness of the diaphragm modeled with given distribution e.g. Gaussian . The primary objective function and the associated design constraints are then combined to form the unconstrained objective function that describes the loudspeaker system as a whole. The unconstrained objective function is then optimized via an unconstrained optimization procedure to find filter parameters filter weights that improve performance of the model. Once the unconstrained optimization procedure is complete the filter parameters filter weights are extracted and used by respective filters to make modifications e.g. changes in the amplitude and or phase to the signal output to the loudspeakers to provide a desired performance of the loudspeaker array.

To the accomplishment of the foregoing and related ends the following description and annexed drawings set forth certain illustrative aspects and implementations. These are indicative of but a few of the various ways in which one or more aspects may be employed. Other aspects advantages and novel features of the disclosure will become apparent from the following detailed description when considered in conjunction with the annexed drawings.

The claimed subject matter is now described with reference to the drawings wherein like reference numerals are used to refer to like elements throughout. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the claimed subject matter. It may be evident however that the claimed subject matter may be practiced without these specific details. In other instances structures and devices are shown in block diagram form in order to facilitate describing the claimed subject matter.

A technique for designing a loudspeaker speaker array comprising a plurality of speakers which may be used for a wide range of purposes is provided herein. The array may be designed in a manner so as to address various speaker deficiencies and or inconsistencies and to achieve various desired output criteria such as sound directivity power usage and or sound output magnitude for example. The method utilizes a loudspeaker model that takes into consideration manufacturing tolerances and certain variations resulting therefrom . This model is incorporated into a constrained objective function that defines a criterion for enhancing the signal output to each of a plurality of individual speakers within a speaker array. Respective filters receive a signal to be output to the plurality of speakers and modify the received signal according to the objective function via an unconstrained optimization procedure. The constrained objective function models the system as a whole taking into consideration the behavior of the sound output from respective individual speakers and compensating for manufacturing tolerances using a statistical model for the distribution e.g. Gaussian distribution . The unconstrained optimization procedure then enhances e.g. optimizes the overall audio output of the model to provide improved performance e.g. enhanced contrast between areas of high volume and areas of low volume . Operation of the plurality of filters within the unconstrained optimization procedure is monitored and applied to the respective filters to achieve improved performance e.g. substantially the same performance as modeled in the speaker array.

In one example the results of the unconstrained optimization procedure unconstrained optimization results can be used in conjunction with a speaker array to enable a user to hear an output sound clearly while people adjacent to the user experience the output sound at a significantly lower volume if at all. The sound can be focused by independently controlling a sound signal output from respective speakers in the speaker array. A combination of enhanced signals output from a plurality of speakers can provide an output sound having a controllable directivity pattern e.g. a direction and listening location of a sound output can be manipulated . The controllable directivity pattern can focus the output sound in such a way that sound waves emitted from a plurality of individual speakers may produce areas of negative interference e.g. the sound waves may cancel each other out providing a low volume and areas of positive interference e.g. the sound waves may amplify each other providing a higher volume . For example the directivity pattern could be designed to allow one person to watch and listen to a movie without interrupting an adjacent person who is watching and listening to a sporting event using television with picture in picture.

It will be appreciated that the disclosure herein can be applied to a wide range of primary design goals and applications. For example the unconstrained optimization procedure can be used to improve the overall performance of a speaker array system for a wide range of primary design goals. For example maximum directivity robust maximum directivity and minimum output power are a few exemplary design goals that can be improved by using the unconstrained optimization procedure. Further the results of the unconstrained optimization procedure can be applied to a wide range of applications. For example application of the unconstrained optimization results could be used by a grocery store to advertise a product only to shoppers passing that particular product in an aisle. Similarly an entertainment system could be configured to provide one viewer with sound in Spanish and an adjacent viewer with sound in English or a telephone could provide privacy to its user without requiring a handset. It will be appreciated that the inventors have contemplated a wide variety of such primary design goals and applications.

In one aspect a sound output directional effect exhibited in utilizes beamforming. Beamforming is a signal processing technique that takes advantage of sound wave output interference between individual elements of arrays of transmitting or receiving transducers e.g. speakers or microphones to control directionality of a signal. illustrates an example of sound wave interference. Sound waves are generated from a first and a second omni directional speaker. As the sound waves travel through some medium they comprise high amplitude areas crests e.g. denoted as black lines and low amplitude areas troughs e.g. denoted at a midpoint between the black lines .

In this example if a crest of a sound wave from a first speaker and a crest of a sound wave from a second speaker meet they will constructively interfere with each other e.g. points along lines observe constructive interference generating an increased amplitude causing the observation of a higher volume sound for example at that point of interference. If a crest of a sound wave from a first speaker and a trough of a sound wave from a second speaker meet they will destructively interfere with each other e.g. generating a decreased amplitude causing the observation of a lower volume sound for example at that point of interference. By changing parameters e.g. phase amplitude associated with an output sound wave it may be possible to change a position of the troughs and waves and thereby change a resultant pattern of constructive and destructive interference.

It will be appreciated that while examples described herein illustrate a use for directional sound wave manipulation they can also be utilized for a variety of desired speaker array outputs. As an example power use and or sound amplification may be manipulated utilizing these techniques. Further quality of directional sound output may be enhanced utilizing the techniques that address manufacturing tolerances.

At one or more associated design constraints are defined. Mathematically the one or more associated design constraints provide boundary conditions or limitations which should not be exceeded e.g. the maximum output power of each loudspeaker . Practically the primary design goal allows greater diversity in the design of speakers. For example a primary design goal can be improved directivity and associated design constraints can provide that along with improved directivity for example the speaker array should also have an equalized power response and an average zero phase shift in the listening area.

The primary objective function and the associated design constraints are combined to form an unconstrained objective function at . The modifications that the respective filters e.g. make to the signal input into the speakers e.g. are determined from an unconstrained optimization procedure performed on the unconstrained objective function. The unconstrained objective function can be defined to incorporate primary design goals e.g. directivity uniform sound levels in a listening area desired speaker array power consumption etc. as well as various associated design constraints e.g. equalized power response average zero phase shift etc. . In one particular embodiment the unconstrained objective function is configured to have equalized power response and average zero phase shift in the listening area design constraints . For such an embodiment the unconstrained objective function would have the form 

At the unconstrained objective function is enhanced e.g. optimized minimized and the performance of the respective filters is determined by extracting a filter weight from the enhanced unconstrained objective function. The enhancement of the unconstrained objective function determines a filter weight that facilitates achieving desired results e.g. maximum directivity . The enhancement can be performed using a gradient descent optimization algorithm for example. The filter weight is then extracted and used to determine what modifications should be made to an associated filter to promote the desired results e.g. maximum directivity .

At the plurality of filters are configured to adjust the signals output to respective filters based upon the extracted filter weight. Once the filter weight is extracted the information used in the model to achieve the desired results can then be extracted and used to adjust the signal input into the respective filters e.g. .

At a separate directivity pattern is formed for respective m speakers. The directivity pattern is formed by combining a speaker output model and a speaker tolerance model. The speaker output model models the sound output of a speaker. The speaker tolerance model models manufacturing tolerances for respective speakers of the speaker array according to a given probability distribution e.g. Gaussian . For example a directivity pattern U for respective speakers can be approximated as zero mean complex noise added to the averaged directivity pattern for respective speakers using the equation 0 where is the frequency of sound output from the speaker is the incident angle of the sound wave is the Gaussian distribution and m is an index identifying a particular speaker. In some speaker array configurations one or more different types of speakers can comprise the speaker array. In such configurations respective speakers will have a different averaged directivity pattern e.g. varies with m .

The speaker tolerance model is added to the directivity pattern so that manufacturing tolerances e.g. real world variations present in the manufacturing process are accounted for using the given probability distribution in the primary objective function. Random manufacturing tolerances can comprise for example variations in the resistance of solder bumps between speakers variations in wire gauge between speakers etc. Inclusion of the speaker tolerance model allows the model to have robustness to the manufacturing tolerances of the used loudspeakers in case of mass production of such loudspeaker arrays. This robustness allows to have guaranteed parameters of the loudspeaker array. To provide a desired result the loudspeaker tolerances are modeled according to a probability distribution. The probability distribution will correlate to a certain failure rate e.g. a percent of speakers having tolerances failing outside of the permissible tolerance values . In one example proper modeling of manufacturing tolerances is achieved using a Gaussian probability distribution with a known variation .

At a sound field forming equation is formed for respective speakers. The sound field forming equation describes the modification performed by respective filters on the directivity pattern and how resultant sound waves output from a respective speaker will propagate through space and time e.g. describes the change in amplitude and phase of the sound waves . The sound field forming equation is a function of the frequency of an input sound signal S and the position x y z of the output sound wave and is proportional to the directivity pattern U a filter weight W and a sound propagation vector . For example the sound field forming equation may be where the sound propagation vector equals the Hadamard product of a matrix comprising the directivity pattern for all M speakers U and

At a primary objective function according to a primary design goal is defined as the ratio directivity ratio between the average power produced by the output from the entire plurality of speakers in the listening area and the average power in all areas is found. This directivity ratio therefore provides an equation relating to speaker power based upon the sound field forming model while indirectly taking into account the target pattern of sound field. The average power is calculated by summing the square of the sound field forming equation for each point x y z in the listening area s A and silent area S A and dividing respective areas by the number of points Land L. When forming the ratio of average power the input sound signal S cancels out since the same sound is provided to all the speakers prior to filtering. This leaves the ratio equal to 

At modified alternative primary objective function is defined as the average directivity is computed with accounting of the loudspeakers manufacturing tolerances and an undesirable e.g. worst case directivity is estimated. The average directivity is found by combining the ideal directivity with all loudspeakers matching and the manufacturing tolerances probability distribution. Following a number of transformations the average directivity can be estimated as 

Still another embodiment involves a computer readable medium comprising processor executable instructions configured to apply one or more of the techniques presented herein. An exemplary computer readable medium that may be devised in these ways is illustrated in wherein the implementation comprises a computer readable medium e.g. a CD R DVD R or a platter of a hard disk drive on which is encoded computer readable data . This computer readable data in turn comprises a set of computer instructions configured to operate according to one or more of the principles set forth herein. In one such embodiment the processor executable instructions may be configured to perform a method of such as the exemplary method of for example. In another such embodiment the processor executable instructions may be configured to implement a system configured to improve the relevance rank of web searches for a query. Many such computer readable media may be devised by those of ordinary skill in the art that are configured to operate in accordance with the techniques presented herein.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

As used in this application the terms component module system interface and the like are generally intended to refer to a computer related entity either hardware a combination of hardware and software software or software in execution. For example a component may be but is not limited to being a process running on a processor a processor an object an executable a thread of execution a program and or a computer. By way of illustration both an application running on a controller and the controller can be a component. One or more components may reside within a process and or thread of execution and a component may be localized on one computer and or distributed between two or more computers.

Furthermore the claimed subject matter may be implemented as a method apparatus or article of manufacture using standard programming and or engineering techniques to produce software firmware hardware or any combination thereof to control a computer to implement the disclosed subject matter. The term article of manufacture as used herein is intended to encompass a computer program accessible from any computer readable device carrier or media. Of course those skilled in the art will recognize many modifications may be made to this configuration without departing from the scope or spirit of the claimed subject matter.

Although not required embodiments are described in the general context of computer readable instructions being executed by one or more computing devices. Computer readable instructions may be distributed via computer readable media discussed below . Computer readable instructions may be implemented as program modules such as functions objects Application Programming Interfaces APIs data structures and the like that perform particular tasks or implement particular abstract data types. Typically the functionality of the computer readable instructions may be combined or distributed as desired in various environments.

In other embodiments device may include additional features and or functionality. For example device may also include additional storage e.g. removable and or non removable including but not limited to magnetic storage optical storage and the like. Such additional storage is illustrated in by storage . In one embodiment computer readable instructions to implement one or more embodiments provided herein may be in storage . Storage may also store other computer readable instructions to implement an operating system an application program and the like. Computer readable instructions may be loaded in memory for execution by processing unit for example.

The term computer readable media as used herein includes computer storage media. Computer storage media includes volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions or other data. Memory and storage are examples of computer storage media. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM Digital Versatile Disks DVDs or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by device . Any such computer storage media may be part of device .

Device may also include communication connection s that allows device to communicate with other devices. Communication connection s may include but is not limited to a modem a Network Interface Card NIC an integrated network interface a radio frequency transmitter receiver an infrared port a USB connection or other interfaces for connecting computing device to other computing devices. Communication connection s may include a wired connection or a wireless connection. Communication connection s may transmit and or receive communication media.

The term computer readable media may include communication media. Communication media typically embodies computer readable instructions or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term modulated data signal may include a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal.

Device may include input device s such as keyboard mouse pen voice input device touch input device infrared cameras video input devices and or any other input device. Output device s such as one or more displays speakers printers and or any other output device may also be included in device . Input device s and output device s may be connected to device via a wired connection wireless connection or any combination thereof. In one embodiment an input device or an output device from another computing device may be used as input device s or output device s for computing device .

Components of computing device may be connected by various interconnects such as a bus. Such interconnects may include a Peripheral Component Interconnect PCI such as PCI Express a Universal Serial Bus USB firewire IEEE 1394 an optical bus structure and the like. In another embodiment components of computing device may be interconnected by a network. For example memory may be comprised of multiple physical memory units located in different physical locations interconnected by a network.

Those skilled in the art will realize that storage devices utilized to store computer readable instructions may be distributed across a network. For example a computing device accessible via network may store computer readable instructions to implement one or more embodiments provided herein. Computing device may access computing device and download a part or all of the computer readable instructions for execution. Alternatively computing device may download pieces of the computer readable instructions as needed or some instructions may be executed at computing device and some at computing device .

Various operations of embodiments are provided herein. In one embodiment one or more of the operations described may constitute computer readable instructions stored on one or more computer readable media which if executed by a computing device will cause the computing device to perform the operations described. The order in which some or all of the operations are described should not be construed as to imply that these operations are necessarily order dependent. Alternative ordering will be appreciated by one skilled in the art having the benefit of this description. Further it will be understood that not all operations are necessarily present in each embodiment provided herein.

Moreover the word exemplary is used herein to mean serving as an example instance or illustration. Any aspect or design described herein as exemplary is not necessarily to be construed as advantageous over other aspects or designs. Rather use of the word exemplary is intended to present concepts in a concrete fashion. As used in this application the term or is intended to mean an inclusive or rather than an exclusive or . That is unless specified otherwise or clear from context X employs A or B is intended to mean any of the natural inclusive permutations. That is if X employs A X employs B or X employs both A and B then X employs A or B is satisfied under any of the foregoing instances. In addition the articles a and an as used in this application and the appended claims may generally be construed to mean one or more unless specified otherwise or clear from context to be directed to a singular form.

Also although the disclosure has been shown and described with respect to one or more implementations equivalent alterations and modifications will occur to others skilled in the art based upon a reading and understanding of this specification and the annexed drawings. The disclosure includes all such modifications and alterations and is limited only by the scope of the following claims. In particular regard to the various functions performed by the above described components e.g. elements resources etc. the terms used to describe such components are intended to correspond unless otherwise indicated to any component which performs the specified function of the described component e.g. that is functionally equivalent even though not structurally equivalent to the disclosed structure which performs the function in the herein illustrated exemplary implementations of the disclosure. In addition while a particular feature of the disclosure may have been disclosed with respect to only one of several implementations such feature may be combined with one or more other features of the other implementations as may be desired and advantageous for any given or particular application. Furthermore to the extent that the terms includes having has with or variants thereof are used in either the detailed description or the claims such terms are intended to be inclusive in a manner similar to the term comprising. 

