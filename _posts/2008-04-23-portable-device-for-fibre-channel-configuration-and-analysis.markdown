---

title: Portable device for fibre channel configuration and analysis
abstract: Apparatus, method, and computer program product embodiments for analyzing and configuring a fibre channel link and topology using a portable device are provided. A network microchip is programmed to select at least one of an available plurality of operating modes based on a first user input. The plurality of operating modes include a manual speed selection mode for manually selecting a link speed based on a second user input, an auto speed selection mode for automatically negotiating a highest supported link speed, an auto topology negotiation mode for discovering and reporting all possible port configurations, and a manual topology selection mode for selecting a fibre channel topology based on a third user input.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07843852&OS=07843852&RS=07843852
owner: International Business Machines Corporation
number: 07843852
owner_city: Armonk
owner_country: US
publication_date: 20080423
---
The present invention relates in general to computers and more particularly to apparatus method and computer program product embodiments for fibre channel analysis configuration and troubleshooting in a computing environment using an inexpensive portable device.

Network adapter devices are hardware units that connect computer devices to a communication network. Adapters may be found in virtually every computing environment having network connectivity. Most adapters are not labeled with their attributes such as link speed and network topology capabilities. Instead adapters generally are given a model number and a serial number that must be looked up in the manufacturer s database to obtain their speed and topology capability.

Cross referencing manufacturer information with network attributes has limited effectiveness in that the model number and or serial number must be physically associated with the adapter and the adapter must be accessible. An additional known solution has been to attach an analyzer and obtain a trace. However conventional analyzers are expensive and are not portable. In addition only users with a high degree of knowledge may evaluate the results of such a trace. An additional conventional solution has been to examine the configuration console provided by the manufacturer. This solution is only possible however if a communication link can be established.

When an adapter is installed in a system in many cases the system must be powered down for a user to gain access to the adapter to obtain information or to perform varying configuration functionality. Such a scenario may be disruptive and time consuming to the user. For example if a node port FX NX U G is set to auto topology negotiation and auto speed negotiation as is usually the default setting then the topology and speed negotiation will occur initially at the same time. It is difficult to determine which of these negotiations is at fault when a link fails to initialize. End users frequently use a trial and error method of changing settings until they get the link established. This methodology may result in the link operating at a less than optimal position.

In light of the foregoing a need exists for a simple inexpensive device that can be used to obtain the capabilities of fibre channel devices such as adapters and display the results in some manner to a user. In addition it is useful for such a device to include additional troubleshooting functionality to assist in negotiation scenarios as described above.

Accordingly apparatus method and computer program product embodiments for analyzing and configuring a fibre channel link and topology using a portable device are provided. A network microchip is programmed to select at least one of an available plurality of operating modes based on a first user input. The plurality of operating modes include a manual speed selection mode for manually selecting a link speed based on a second user input an auto speed selection mode for automatically negotiating a highest supported link speed an auto topology negotiation mode for discovering and reporting all possible port configurations and a manual topology selection mode for selecting a fibre channel topology based on a third user input.

In another embodiment by way of example only a method for analyzing and configuring a fibre channel link and topology in a computing environment using a portable device is provided. At least one of an available plurality of operating modes is selected based on a first user input. The at least one operating mode is executed. Executing the at least one operating mode includes at least one of manually selecting a link speed based on a second user input automatically negotiating a highest supported link speed discovering and reporting all possible port configurations and manually selecting a fibre channel topology based on a third user input.

In still another embodiment again by way of example only a computer program product for analyzing and configuring a fibre channel link and topology in a computing environment using a portable device is provided the computer program product comprising a computer readable storage medium having computer readable program code portions stored therein. The computer readable program code portions comprise a first executable portion for selecting at least one of an available plurality of operating modes based on a first user input and a second executable portion for executing the at least one operating mode. Executing the at least one operating mode includes at least one of manually selecting a link speed based on a second user input automatically negotiating a highest supported link speed discovering and reporting all possible port configurations and manually selecting a fibre channel topology based on a third user input.

The following description and claimed subject matter feature exemplary embodiments of mechanisms to provide fibre channel link topology analysis and configuration using a low cost portable device. The device may be adapted to allow a user the ability to select differing link speeds differing network topologies. The device may be further adapted to troubleshoot network configurations. The device may be further adapted to display negotiated speeds configurations or errors to a user. Finally the device or components of the device may be compatible with a Small Computer System Interface SCSI communication protocol.

The mechanisms described and claimed may assist the user in a variety of ways. They may allow the user to determine if a network device such as an adapter is performing correctly. They may facilitate the discovery of capabilities of an unknown network device. They may isolate a problem from a general network issue to a more specific speed negotiation problem or a topology negotiations problem. The mechanisms provide simplicity portability low cost ease of use the ability to separate speed negotiations and accompanying problems from topology negotiations and accompanying problems and the ability to quickly and easily determine the capabilities of a network device.

The portable device as will be described following may include a programmable network microchip such as a fibre channel chip. In one embodiment the network microchip may be programmed using an associated Application Programming Interface API to the microchip. The network microchip may be adapted to allow a user to select at least one of an available number of operating modes.

The operating modes may include the following 1 a manual speed select mode 2 an auto speed selection mode 3 an auto topology negotiation mode and 4 a manual topology selection mode. The manual speed select mode may allow the selection of different link speeds such as a 1 2 4 or 8 gigabits per second gb sec or any future speed that may be defined in the case of fibre channel network topologies.

The auto speed selection mode may utilize a speed list built using speeds supported by the network microchip. In this mode the chip may be adapted to expect to negotiate to the maximum speed the microchip supports. If the device fails to negotiate the maximum speed then a failure may be reported to the user as well as a reporting of any other speeds that were successfully negotiated.

The auto topology negotiation mode allows for the portable device to discover and report all possible port configurations. For example in fibre channel network topologies a port configured as a generic Gx port is capable of becoming a F E or B port. In an exemplary auto topology negotiation operation in a fibre channel fabric the device would report to the user that the connected port is a Gx port and is not loop capable.

In an exemplary manual topology selection in a fibre channel fabric the user may configure the fibre port to be an FL port. If the device fails to configure to the port type specified then again a failure may be reported to the user. If a successful port configuration is made the successful configuration may also be reported.

The network microchip may be adapted for a user to have the ability to select differing combination of speed and topology. The speed and topology analysis configuration may be selected to occur simultaneously and concurrently or consecutively. For example a user may select automatic speed negotiation mode and then select manual topology negotiation mode. In another example a user could select a manual speed negotiation mode with automatic topology negotiation automatic topology negotiation mode .

Referring now to an exemplary portable device for analyzing and configuring a fibre channel link and topology is illustrated in two views. Device is a housing including a variety of additional components. The housing may be composed of a lightweight material to add to portability. Device incorporates a microprocessor a network microchip while shown here as fibre channel a variety of other communications protocols chips may be used for a particular implementation a communications channel therebetween and a memory . Microprocessor may function to execute computer instructions relating to the network analysis and configuration functionality further described. Similarly memory may function to store the computer instructions network and or device information and similar data. A male plug and female plug are incorporated into the device housing in communication with the channel to provide input output I O .

Referring specifically to a variety of human interface mechanisms may be integrated into the device housing such as an on button an off button a reset button and a test button . One skilled in the art will appreciate that the human interface mechanisms may be implemented in a variety of means including switches buttons touchscreens and the like. An status indicator is adapted to display a status of the device for example a status of the execution of a selected operation mode. The indicator shown is a light emitting diode LED yet again other indicator means may be employed.

Additional human interface mechanisms are shown below such as graphical user interface GUI . GUI includes a variety of selectable display data such as an auto negotiate speed topology selection and a manual mode functions display selection . In the depicted example a user may manually select one of an enumerated list of speeds and fibre channel topologies such as an 8 gb sec speed and a Point to Point protocol PPP .

If the LIP is received the method completes loop initialization step . The method then outputs port type and loop capabilities step to the user. A Fabric LOGIn FLOGI is issued step . If an accept ACC is received the method outputs the port type e.g. NL or FL step . If the ACC is not received the method exits and returns to the calling section again step .

If auto speed selection is selected the method then examines the microchip s speed list and selects a default link speed step . Both manual and auto functionality proceed to step where the network microchip illustrated here as a fibre channel chip performs the speed negotiations. The results are then obtained from the microchip again using the chip s API step . The connected speed as well as any failed negotiations are output and returned to the user step . The method then exits and returns to the applicable calling section step .

If manual mode is selected involving a fibre channel fabric the FLOGI subroutine is performed. If manual mode is selected involving ELP compatible networks the ELP subroutine is performed followed by the G U subroutine. If no the method exits and returns to the calling section step .

While one or more embodiments of the present invention have been illustrated in detail the skilled artisan will appreciate that modifications and adaptations to those embodiments may be made without departing from the scope of the present invention as set forth in the following claims.

