---

title: Reverse charging service
abstract: The present invention provides systems and methods for facilitating mobile communication between a calling party and a called party. Aspects of the present invention include establishing, via a service node, mobile communications upon receiving a response, from the called party, to a mobile communication request made by the calling party to the service node, and further include facilitating, via the service node, charging the called party for the established mobile communications.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08155621&OS=08155621&RS=08155621
owner: Roamware, Inc.
number: 08155621
owner_city: San Jose
owner_country: US
publication_date: 20080808
---
This application claims the benefit of U.S. Provisional Application No. 60 935 350 titled Collect Call for GSM Networks Called Party Pays for Mobile Originated Calls filed Aug. 8 2007 the entirety of which is incorporated by reference herein.

The present invention generally relates to mobile communication. More specifically the invention relates to enabling mobile activities for a calling party without charging him for the same.

Mobile communication during roaming contributes a major percentage of a network operator s revenue and specifically voice traffic and SMS traffic contributes even better percentage of the network operator s margin. With increasing competition and regulatory control network operators look for solutions to enhance both local and roaming revenues.

Mobile subscribers can be both prepaid and postpaid. Generally prepaid subscribers are in majority since the prepaid services are relatively easier and quicker to avail of as compared to postpaid services. Usually the network operators restrict their pre paid subscribers from initiating calls while roaming in other networks. This is due to the network operator s lack of ability to charge their pre paid subscribers in real time while roaming. Some existing approaches that provide ability to handle prepaid outbound roaming to the network operator includes Customized Application for Mobile Enhanced Logic CAMEL service and Unstructured Supplementary Service Data USSD call back service. However CAMEL services require a home network operator and a visited network operator to have CAMEL support and a CAMEL roaming agreement with each other. Also USSD call back approach does not provide a good user experience for initiating outgoing calls. Further one limitation of both these approaches is that in case the pre paid subscriber has no balance in his pre paid account then the pre paid subscriber cannot make calls while roaming unless he recharges his pre paid account while roaming. Further there may be situations when postpaid subscribers would not like to make calls and send SMS during roaming to avoid airtime charges. This may result in loss of potential revenues for the network operators.

Network operators face similar problems even for local subscribers. Majority of total subscriber base of networks operators are pre paid subscribers. These pre paid subscribers are cost conscious e.g. they minimize their call activities to minimize cost. Additionally if these local pre paid subscribers have no balance in their pre paid accounts then cannot make calls which again results in the loss of potential revenues for the network operators. Further when the outgoing calls and outgoing SMS for a postpaid subscriber are barred then the post paid subscriber cannot make calls and send SMS which again results in the loss of potential revenue for the network operators.

In accordance with the foregoing there is a need in the art of a system a method and a computer product for allowing pre paid and post paid subscribers to be able to make calls and send SMS without being charged for the same.

The present invention is directed towards a method for facilitating mobile communication between a calling party and a called party. The method includes establishing the mobile communication by a service node upon receiving a response from the called party for a mobile communication request made by the calling party to the service node. The method further includes facilitating by the service node charging of the called party for the established mobile communication.

The present invention also presents a system for facilitating mobile communication between a calling party and a called party. The system includes a service node for establishing the mobile communication upon receiving a response from the called party for a mobile communication request made by the calling party to the service node. Further the service node facilitates charging of the called party for the established mobile communication.

The present invention also presents provides a computer program product including a computer usable program code for facilitating mobile communication between a calling party and a called party by establishing the mobile communication by a service node upon receiving a response from the called party for a mobile communication request made by the calling party to the service node. Further the computer program product facilitates by the service node charging of the called party for the established mobile communication.

In the following description for purposes of explanation specific numbers materials and configurations are set forth in order to provide a thorough understanding of the present invention. It will be apparent however to one having ordinary skill in the art that the present invention may be practiced without these specific details. In some instances well known features may be omitted or simplified so as not to obscure the present invention. Furthermore reference in the specification to one embodiment or an embodiment means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. The appearance of the phrase in an embodiment in various places in the specification does not necessarily refer to the same embodiment.

The present invention provides a system a method and a computer program product where a home network allows a calling party to initiate mobile communication like Mobile Originated MO calls or Short Message Service SMS for which a called party pays. This arrangement of mobile communication is hereinafter interchangeably referred to as reverse charge service where the charges for the call and SMS by the calling party are collected from the called party. illustrates a system for implementing reverse charge service for a subscriber of Home Public Mobile Network HPMN in accordance with an embodiment of the present invention. HPMN includes a service node that establishes mobile communication between a calling party i.e. the subscriber of HPMN and a called party i.e. a subscriber of same operator as HPMN and also facilitates charging called party for the established mobile communication. Voice calls initiated by calling party with the help of reverse charge service i.e. via service node to called party for which called party pays is hereinafter interchangeably referred to as Collect Call . Similarly the SMSs sent by calling party with the help of reverse charge service i.e. via service node to called party for which called party pays is hereinafter interchangeably referred to as Collect SMS . In an embodiment of the present invention a subscriber of HPMN first needs to register for the reverse charge service in order to make calls and send SMS that are paid by a called subscriber. Thus to register the subscriber for the reverse charge service the subscriber details are provisioned in an application database. The application exposes a standard eXtensible Markup Language XML over Hypertext Transfer Protocol HTTP Application Programming Interface API which is invoked by HPMN operator s provisioning system or Customer Relationship Management CRM system to provision subscribers in service node . In another embodiment of the present invention the subscriber does not register for the reverse charge service and avails the reverse charge service on the need basis.

Service node acts as an active node and it has its own point codes and Global Titles GTs . In a first embodiment of the present invention service node controls collect calls between calling party and called party through Mobile Application Part MAP protocol ISDN User Part ISUP protocol or Intelligent Network IN protocol. Similarly in a second embodiment of the present invention service node controls collect SMS between calling party and called party through MAP protocol or Customized Application for Mobile network Enhanced Logic CAMEL Application Part CAP protocol. In an embodiment of the present invention both calling party and called party are subscribers of HPMN s operator. Further calling party and called party can be either prepaid or postpaid subscribers. In an embodiment of the present invention calling party and called party are both present in HPMN . In another embodiment of the present invention calling party is present in HPMN while the called party is roaming in a Visited Public Mobile Network VPMN . In yet another embodiment of the present invention calling party is roaming in the VPMN and called party is present in HPMN . In yet another embodiment of the present invention both calling party and called party are roaming in the VPMN. In various embodiments of the present invention both HPMN and the VPMN are of the same mobile operator. Further HPMN includes 

In an embodiment of the present invention service node communicates with GMSC SSF over ISUP and MAP protocols. Service node further sends SMS to SMSC over a Transmission Control Protocol TCP Internet Protocol IP . Additionally service node communicates with US SD gateway over an XML and a Short Message Peer to Peer SMPP protocol. Service node communicates with prepaid SCP over CAP and Intelligent Network Application Part INAP protocols. Further service node communicates with O M console over a Simple Network Management Protocol SNMP .

After receiving the response from called party service node notifies calling party about this response. When called party approves to bear the charges of the mobile communication service node establishes mobile communication between calling party and called party . In an embodiment of the present invention service node establishes the mobile communication by first initiating a first call to calling party then initiating a second call to called party and finally bridging the first call and the second call in order to connect calling party with called party . In another embodiment of the present invention service node establishes the mobile communication by first initiating the second call to called party then initiating the first call to calling party and then bridging the first call and the second call. In yet another embodiment of the present invention service node establishes mobile communication by initiating calls to both calling party and called party simultaneously and then bridging the two calls. In an embodiment of the present invention service node bridges calling party and called party via an ISUP loop back method. Further service node configures Calling Line Identification CLI that is to be displayed to calling party and called party . In an embodiment of the present invention service node displays the CLI of called party to calling party by imitating calling party that called party s CLI is a calling party s number. In another embodiment of the present invention service node displays a short code for service node as the CLI to calling party . Likewise in an embodiment of the present invention service node displays the CLI of calling party to called party . While in another embodiment of the present invention service node displays the short code for service node as the CLI to called party .

After the mobile communication has been established between calling party and called party service node charges called party for the established mobile communication at step . The process of billing called party is described later in the context of the present invention.

In order to establish mobile communication between calling party and called party service node uses its internal modules. illustrates an internal architecture of service node for implementing the reverse charge service in accordance with an embodiment of the present invention. Service node includes four functional modules a user command interface module a call setup module an O M module and a Call Detail Record CDR aggregator module . User command interface module provides SMS USSD and IVR interfaces to both calling party and called party . User command interface module further provides commands that can be invoked by calling party to interact with service node . Calling party can invoke such commands over SMS or USSD. User command interface module further includes an SMSC interface and an USSD interface . For sending and receiving commands over SMS SMSC interface interacts with SMSC . When calling party chooses the USSD channel USSD interface interacts with USSD gateway or a Home Location Register HLR of HPMN .

Further call setup module implements all signaling and call setup functionality by interacting with GMSC SSF and prepaid SCP using standard signaling protocols. Call setup module further includes an ISUP interface an IN interface a MAP interface and an Interactive Voice Response IVR interface . ISUP interface interacts with GMSC SSF for processing ISUP IN and CAMEL based call setup and tear down messages. IN interface interacts with prepaid SCP using IN and CAMEL protocols for real time charging of calls. MAP interface interacts with HLR using MAP protocol for call setup. IVR interface is used by calling party and called party to interactively setup collect call.

O M module provides all functionality needed for operations and maintenance of service node . O M module supports SNMP alarms and notifications for all major events occurring in service node . O M module includes an SNMP interface that exposes all critical parameters to O M console which uses these parameters for monitoring and querying for health of service node . O M module further includes an administrative user interface that is a bundle of web based graphical user interface that drive administration applications which can be used by service node s administrator to configure and control service node s data and features.

Furthermore CDR aggregator module is responsible for generating CDRs for all calls handled by service node . CDR aggregator module aggregates all call events into CDRs and then it updates them into a database . The CDR files can then be generated from the database. In an embodiment of the present invention various kinds of reports are generated using the CDR for further analysis. These CDRs can be used to hand off call data to a mediation system for billing purpose.

In an embodiment of the present invention database stores a list of valid subscribers e.g. calling party that have registered for the reverse charge service. In an embodiment of the present invention database maintains a blacklist of VPMNs that charge airtime for MT calls to calling party when calling party is roaming in the VPMN. In another embodiment of the present invention database maintains a blacklist of calling parties whose requests for the mobile communication is blocked or rejected by called parties. In yet another embodiment of the present invention database maintains a white list of calling parties for which mobile communication is established without the requirement of the approval from called party .

In an embodiment of the present invention when calling party is a prepaid subscriber and he does not have sufficient balance to make calls or when calling party does not want to bear the expense of the call or when calling party s outgoing calls are barred calling party initiates collect calls using the interface provided by service node . In order to allow only the prepaid calling party the prepaid calling party s data is provisioned into service node using a provisioning module not shown in . In another embodiment of the present invention both prepaid and postpaid calling parties are allowed to initiate calls using service node . In such a case the data associated with both prepaid and postpaid calling party is not provisioned into service node .

Thereafter at steps to service node sends a notification to B party by sending a message USSD Notify B number to HLR via USSD gateway . At step this notification message reaches a VLR B which further sends the notification message to party B as VLR B is associated with party B . As mentioned above since a VLR is usually integrated with a MSC that communicate with each other VLR B integrated with its MSC is hereinafter interchangeably referred to as MSC B VLR B . In an embodiment of the present invention this notification message is to notify party B that party A wants to initiate a call with party B and that party A has requested party B to bear the charges of this call. In an embodiment of the present invention along with this notification message party B also receives an option Ok to accept this request and an option Cancel to reject this request. The Ok option corresponds to accepting the request to bear the call charges and the Cancel option corresponds to rejecting the request to bear the call charges. In an embodiment of the present invention party B accepts to bear the call charges by selecting Ok option. Thus when party B selects Ok option a message such as USSD Ack is received at VLR B . Thereafter in step to step the USSD Notify Ack message reaches service node . Service node upon receiving this notification message initiates the collect call between party A and party B.

In an embodiment of the present invention party B rejects to bear the charges of the call by selecting Cancel option. Thus when party B selects Cancel option a message USSD Ack is received at VLR B . The remaining call for this USSD message to reach service node is similar to steps to . Service node upon receiving the acknowledgement message with Cancel option does not initiate any communication with party B. In an embodiment of the present invention service node further sends a notification to party A informing party A that party B has rejected his request for bearing the call charges. At step service node sends an USSD message such as an USSD Notify A number message to USSD gateway . USSD gateway forwards this message to HLR at step . Thereafter at step HLR sends the USSD message to VLR A which then sends the notification message to party A. Thereafter party A acknowledges to this notification message. Finally VLR A sends an USSD Notify Ack message to service node via HLR at steps to . In an embodiment of the present invention when party B rejects the request of party A to bear the charges of the call party A retries the same process of sending the same request to party B after some time e.g. five minutes .

In an embodiment of the present invention when service node detects an Early Call Forwarding ECF or Late Call Forwarding LCF status being activated for party B after it receives the request from party A for initiating the MO call it sends a notification to party A that a call cannot be set to party B due to ECF. When ECF or LCF is activated for party B the call made to party B would instead be routed to his forwarded number. In this case although party B confirmed to take the call charges using USSD or SMS interface he may forget that unconditional call forwarding is active and may end up being charged for the call which he did not have an opportunity to answer. The ECF or LCF status for party B is obtained by service node by sending a MAP SRI message for party B s number to HLR . The call flow for sending the notification for ECF or LCF is similar to the steps to . Even in this embodiment the party A retries the same process of sending the request to party B after some time e.g. five minutes In an embodiment of the present invention when party B is not responding or is busy or waiting then service node sends a notification message to party A informing that the request made by party A cannot be processed and informing him the reason for the same.

Upon receiving party A s request service node sends an acknowledgement message back to party A via SMSC and MSC A VLR A at steps and . The acknowledgement message is a receipt of successful delivery of the SMS sent by party A to service node . Thereafter at step service node sends an SMS to SMSC to notify party B about the request made by party A to bear the charge of the MO call. At step SMSC sends a Mobile Terminated MT FwdSMS message to MSC B VLR B which further sends the notification SMS to party B. In an embodiment of the present invention this notification SMS is to notify party B that party A wants to initiate a call with party B and that party A has requested party B to bear the charges of this call. In an embodiment of the present invention party B accepts the request of party A to bear the expense of the call and sends an SMS with Ok indicating his acceptance. Thereafter at step MSC B VLR B sends the SMS received from party B to SMSC . Further at step SMSC forwards the SMS to service node . After receiving the notification message from party B service node initiates the collect call.

In another embodiment of the present invention party B rejects the request of party A to bear the expense of the call and sends an SMS with Cancel option indicating rejection of the request. The call flow for notifying service node about the rejection status of party B is similar to as explained in steps to . In an embodiment of the present invention service node further sends a notification to party A informing party A that party B has rejected his request for bearing the call charges. At step service node sends a notification message SMS Notify A number to SMSC . Thereafter at step SMSC sends a message FwdSMS MT Status notification to MSC A VLR A to notify party A that party B has rejected the request of bearing the charges of the call that will be initiated by party A. In an embodiment of the present invention when party B rejects the request of party A to bear the charges of the call party A retries the same process of sending the request to party B after some time e.g. five minutes . In an embodiment of the present invention when service node detects the ECF or LCF status being activated for party B after it receives the request from party A it sends a notification to party A that a call cannot be set to party B due to the ECF or LCF setting. The call flow for sending this notification to party A is similar to as described in steps and . In an embodiment of the present invention when party B is not responding or is busy or waiting then service node sends a notification message to party A informing that the request made by party A cannot be processed and also informing him the status of party B.

After the request from party A has been received by service node service node initiates an IVR call with party B via MSC B VLR B at step to notify party B about the request made by party A to bear the charge of the MO call. At step party B answers the IVR call and answer messages are exchanged between MSC B VLR B . In an embodiment of the present invention party B is made to hear a message that party A has requested to initiate a MO call with party B and wants party B to bear the charge of the call. In an exemplary case party A message recorded by IVR system of service node is made to hear to party B. In an embodiment of the present invention party B responds to the request made by party A using Dual Tome Multi Frequency DTMF . In an embodiment of the present invention Party B presses 1 on a mobile phone to accept the request. Service node notes this response and disconnects the call by sending a release message REL party B to MSC B VLR B at step . Thereafter at step service node receives a release message RLC from MSC B VLR B . After receiving the acceptance from party B service node initiates the collect call.

In another embodiment of the present invention party B presses 2 on the mobile phone to reject the request made by party A. Service node notes this response and disconnects the call by exchanging release messages at steps and . In an embodiment of the present invention after receiving a rejection for the request from party B service node at notifies party A about the rejection of the request. At step service node initiates an IVR call to MSC A VLR A with Calling Party Address CgPA as service node s number and Called Party Address CdPA as party A s number. When party A answers the IVR call answer messages are exchanged between MSC A VLR A and service node at steps and . After party A answers the call party A is notified by the IVR call that party B has rejected the request for collect call. Thereafter at steps and the call is released by service node and release messages are exchanged between service node and MSC A VLR A . In an embodiment of the present invention when party B did not answer the call or an ECF or LCF is detected or was busy party A is made to hear a message indicating the above said status of party B.

In an embodiment of the present invention party B sends a cancel message and the call is disconnected by service node . When the cancel message is received at service node service node disconnects the call and no further communication is done by party B.

In an embodiment of the present invention when party B rejects the request of party A to bear the charges of the call party A retries the same process of sending the request to party B after some time e.g. five minutes . In an embodiment of the present invention when service node detects an ECF or LCF status being activated for party B after it receives the request from Party A for initiating the MO call it sends a notification to Party A that a call cannot be set to the party B due to ECF or LCF. The call flow for sending this notification to party A is similar to as discussed in steps and . In another embodiment of the present invention party A is notified using a USSD message. In yet another embodiment of the present invention party A is notified by service node by sending a SMS to service node .

As discussed earlier to establish a collect call service node needs to initiate separate MO calls to both party A and party B. B and C illustrate a flow diagram for implementing reverse charge service for a collect call by calling party in accordance with an embodiment of the present invention.

In this embodiment service node initiates a first MO call to calling party and a second MO call to called party and then bridges the first and the second MO calls to connect calling party and called party . Hence at step service node initiates an ISUP IAM call to GMSC SSF with CdPA as party A s number with a prefix and CgPA as party B s number. As mentioned earlier the CLI shown to party A is controlled by setting an Additional Calling Address AdCgPA to an appropriate value. In an embodiment of the present invention the AdCgPA is set to party B s number. In another embodiment of the present invention the AdCgPA is set to service node s short code. Thereafter at step GMSC SSF sends an Intelligent Network IN Initial Destination Point IDP message to service node based on the prefixed CdPA. Then at step upon receiving the IN IDP message with the prefixed party A s number service node issues a MAP Send Routing Information SRI message with suppressed Terminating CAMEL Subscription Information T CSI and party A s Mobile Station International Subscriber Directory Number MSISDN A to HLR to obtain a Mobile Station Routing Number MSRN associated with party A MSRN A . It will be apparent to a person of ordinary skill in the art that the steps to represent a standard procedure for obtaining MSRN A.

Thereafter at step once MSRN A is obtained service node issues an IN IDP message to pre paid SCP with CdPA as MSRN A and CgPA as party B s number. In an embodiment of the present invention this IN IDP message enables pre paid SCP to charge party B appropriately for the first MO call on the MSRN A. At step when party B has enough credit in his a prepaid account then pre paid SCP responds with an IN Continue CUE message and Request Report Basic call state model event RRB message. Thereafter at step service node sends an IN Connect CON message to GMSC SSSF with CdPA as MSRN A and CgPA as party B s number. Upon receiving the IN CON message at step GMSC SSF issues an ISUP IAM message with CdPA as MSRN A and CgPA as party B s number. When party A is reachable and answers the ISUP IAM call service node receives answer message relayed through GMSC SSF at steps and . Further at step GMSC SSF sends Event Report Basic call state model ERB message to prepaid SCP . In response to the IN ERB messages prepaid SCP relays IN CUE message to GMSC SSF . In an embodiment of the present invention at step service node is equipped with voice trunks and plays an announcement to party A while it connects the second MO call to the party B.

To initiate the second MO call service node at step initiates an ISUP IAM call to GMSC SSF with CdPA as party B s number and CgPA as the short code assigned to service node . Again the CLI shown to party B is controlled by setting the AdCgPA to an appropriate value. In an embodiment of the present invention the AdCgPA is set to party A s number. In another embodiment of the present invention the AdCgPA is set to service node s short code. Thereafter at step GMSC SSF initiates a MAP SRI with unsuppressed T CSI to HLR to obtain MSRN corresponding to party B MSRN B . It will be apparent to a person of ordinary skill in the art that the steps to represent a standard procedure for obtaining MSRN. Thus at step GMSC SSF obtains the MSRN B.

Furthermore at step GMSC SSF sends an IN IDP message to pre paid SCP with CdPA as MSRN B and CgPA as short code of service node . In an embodiment of the present invention when party B is present in HPMN and MT calls are not charged then prepaid SCP returns an IN CUE message at step . In another embodiment of the present invention when party B is roaming in the VPMN then prepaid SCP checks for the appropriate balance in the party B s prepaid account and if sufficient balance is available SCP sends an IN CUE message to GMS SSF at step . Thereafter at step GMSC SSF forwards the ISUP IAM message to MSC B VLR B . When party B is available and answers the call service node receives answer message at step and . In an embodiment of the present invention service node is equipped with voice trunks IVR option and plays an announcement to party B while it bridges the first MO call and the second MO call via ISUP loop back. Further at step GMSC SSF sends ERB message to prepaid SCP . In response to the IN ERB message prepaid SCP relays IN CUE message to GMSC SSF at step .

In an embodiment of the present invention when called party is a postpaid subscriber the call flow for called party remains similar to what is explained in conjunction with B and C except that IN messages are exchanged with prepaid SCP .

In an embodiment of the present invention charging of the post paid subscribers is done using the call Detail Records CDRs from GMSC SSF .

Further in an embodiment of the present invention no roaming call forwarding CDR is generated and therefore no MTC roaming charges are levied on party A.

In an embodiment of the present invention when party A is roaming in a VPMN network that charges airtime for MT calls the VPMN operator will generate Transfer Account Procedure TAP files to be billed to party A. When party A is a prepaid subscriber this charging may not be possible in real time. Even when party A is a postpaid subscriber there may be chances that party B may not be willing to bear this charge. To avoid these situations collect calls from such network are disallowed by adding the VPMN network into a black list.

As mentioned earlier the reverse charge service also includes sending a collect SMS by calling party to called party for which called party pays. In an embodiment of the present invention for sending the collect SMS calling party sends a MO SMS with a destination number as a prefixed called party s number. When the MO SMS reaches service node service node verifies whether calling party is a valid subscriber of reverse charge service or not. In an embodiment of the present invention service node verifies the validity of calling party using database . In an embodiment of the present invention database stores a list of valid subscribers i.e. calling parties that have registered for the reverse charge service. In an embodiment of the present invention when calling party is an invalid subscriber service node sends a notification to calling party indicating that since calling party is not subscribed for the reverse charge service therefore his request for sending the collect SMS cannot be entertained. In an embodiment of the present invention service node notifies calling party using the USSD interface. In another embodiment of the present invention service node notifies calling party using the SMS interface.

In an embodiment of the present invention when calling party is a valid subscriber of the reverse charge service service node sends a request to called party indicating that calling party wants to send a collect SMS. In an embodiment of the present invention service node sends the request to called party using the USSD interface. In another embodiment of the present invention service node sends the request to called party using the SMS interface. In an embodiment of the present invention called party accepts the request of calling party to send the collect SMS and sends his confirmation to service node . Service node upon receiving the approval from called party forwards the SMS sent by calling party to called party and charges called party for that SMS. In an embodiment of the present invention called party rejects the request of calling party and sends his rejection to service node . Even for rejection called party may send his response using either the USSD interface or the SMS interface. Service node upon receiving a rejection from called party sends a notification to calling party indicating that called party has rejected collect SMS request. In an embodiment of the present invention service node notifies calling party using the USSD interface. In another embodiment of the present invention service node notifies calling party using the SMS interface.

Further in an embodiment of the present invention calling party is able to send collect SMS even when HPMN does not support CAMEL transactions. In another embodiment of the present invention calling party is able to send collect SMS when HPMN supports CAMEL transactions. In both these embodiments calling party can be located either at HPMN or at the VPMN. As mentioned earlier for sending a collect SMS calling party first needs to submit an MO SMS to service node . When calling party is located at HPMN the MO SMS is not charged. However when calling party is located at the VPMN the VPMN can charge for the MO SMS to service node . In one case to avoid charging of MO SMS when calling party is at the VPMN service node sends a negative acknowledgement message for all the MO SMSs which are submitted with a prefixed number. With this negative acknowledgement message an MSC associated with the VPMN assumes a failure in the delivery of the SMS and does not charge for the MO SMS. Service node can later deliver the SMS to called party and can charge called party for the MO SMS. In another case to avoid charging of MO SMS at the VPMN calling party sends a USSD request to USSD gateway . This USSD request is handled by service node . When service node receives the USSD request from calling party service node initiates a USSD transaction with calling party and prompts him to enter the message content. Calling party enters the message content in the USSD reply message. Service node uses this message sent by calling party and converts it into an SMS. Service node then submits this SMS to SMSC with a prefix to called party s number. As USSD service is provided free by most of the mobile operators VPMN does not charge for the message submitted with the help of USSD. Thus depending upon whether HPMN has a CAMEL support or not and whether calling party is located in HPMN or in the VPMN service node provides four options for calling party to submit MO SMS to service node .

In a second case of submitting MO SMS when HPMN does not support CAMEL and party A is at the VPMN then party A issues an USSD message to service node . An example of the USSD message could be 123 B Num where B Num corresponds to party B s number. HLR upon receiving this USSD message routes it to MSC A VLR A . Thereafter at step MSC A VLR A sends a USSD message Process Unstructured SS Req 123 B Num to service node . Service node after receiving the USSD message verifies whether party A is a valid subscriber of reverse charge service or not. In an embodiment of the present invention when service node identifies that party A is an invalid subscriber of the reverse charge service service node cancels the USSD message and sends a notification message to party A and ends the USSD transaction. In another embodiment of the present invention when service node identifies that party A is valid subscriber of reverse charge service service node at step sends a notification message Process Unstructured SS Req Ack to MSC A VLR A for party B indicating that his request is being processed. Thereafter at step service node sends a MAP Unstructured SS Req Input SMS msg message to MSC A VLR A. Party A upon receiving this message enters the message content which is to be sent as collect SMS and sends it back to MSC A VLR A . Thus at step MSC A VLR A sends a message Unstructured SS Req Ack SMS msg to service node . Service node after obtaining the message content for collect SMS sends a notification message Unstructured SS Notify for party A via MSC A VLR A at step . After sending the notification message service node stores the message in database and then enables the collect SMS procedure which is explained later in conjunction with this figure.

In a third case when HPMN supports CAMEL and party A is at HPMN then party A submits the MO SMS to service node by adding a prefix e.g. to party B s number. Hence at step MSC A VLR A sends an IDP message MO SMS IDP Dest Num B to service node . Service node after receiving the IDP message verifies whether party A is a valid subscriber of reverse charge service or not. In an embodiment of the present invention when service node identifies that party A is an invalid subscriber of the reverse charge service service node sends a release message and prevents rejects further messages from party A. In another embodiment of the present invention when service node identifies that party A is valid subscriber of reverse charge service service node at step sends a message to MSC A VLR A to change SMSC s address to service node s address. Based on this change is address MSC A VLR A routes MO FwdSMS to service node . Service node then at step sends an acknowledgment message MO FwdSMS Ack to MSC A VLR A and enables the collect SMS procedure which is explained later in conjunction with this figure.

In a fourth case when HPMN supports CAMEL and party A is at the VPMN then party A issues an USSD message. An example of the USSD message could be 123 B Num where B Num corresponds to party B s number. Hence at step MSC A VLR A sends a USSD message Process Unstructured SS Req 123 b Num to HLR . In an embodiment of the present invention HLR is provisioned with UG CSI USSD Generic CAMEL Subscription Information . Due to the UG CSI HLR at step routes the USSD message to service node . Thereafter service node verifies whether party A is a valid subscriber of reverse charge service or not. In an embodiment of the present invention when service node identifies that party A is an invalid subscriber of the reverse charge service service node at step sends a USSD message USSD Rel Invalid Request . Thereafter at step HLR sends a USSD message Process Unstructured SS Req Ack Invalid Req to MSC A VLR A and thus notifying that party A is an invalid subscriber. Service node further ends the USSD transaction. In another embodiment of the present invention when service node identifies that party A is valid subscriber of reverse charge service service node at step sends a MAP Unstructured SS Req Input SMS msg message to MSC A VLR A. Party A upon receiving this message enters the message content which is to be sent as collect SMS and sends it back to MSC A VLR A . Thus at step MSC A VLR A sends a message Unstructured SS Req Ack SMS msg to service node . Service node after obtaining the message content sends a notification message Unstructured SS Notify for party B via MSC A VLR A . After sending the notification message service node stores the message in database and then enables the collect SMS procedure which is explained later in conjunction with this figure.

Once party B has submitted the SMS to service node through any of the above mentioned four options service node enables the collect SMS procedure. In this procedure at step service node sends a USSD request message like Unstructured SS Req to MSC B VLR B with an indication for party B that party A has requested for a collect SMS. At step MSC B VLR B sends an acknowledgement message Unstructured SS Resp to service node . In an embodiment of the present invention party B upon receiving the USSD request message via MSC B VLR B accepts the request for the collect SMS from party A. Thereafter at step service node sends the MO SMS to SMSC over the IP protocol. Further at step SMSC sends a message Charging for MT SMS to prepaid SCP so as to charge party B for the collect SMS. Thereafter at step prepaid SCP sends an acknowledgement message Charging Ack to SMSC . Thereafter at steps and SMSC exchanges standard MAP messages with HLR to obtain an International Mobile Subscriber Identity IMSI associated with party B IMSI B . After obtaining IMSI B at steps and SMSC sends an MT FwdSMS message to MSC B VLR B and receives an acknowledgment message from MSC B VLR B. Thereafter MSC B VLR B delivers the SMS to party B and party B is charged for that SMS.

In another embodiment of the invention when party B rejects the request for the collect SMS from party A service node sends a notification to party A indicating that party B has rejected the request of the collect SMS. At step service node sends a USSD message Unstructured SS Notify notifying party A that the request for collect SMS has been rejected by party B. Further at step service node receives a USSD message Unstructured SS Notify Resp from party A via MSC A VLR A .

In an alternate embodiment of the present invention service node interacts with party A via MSC A VLR A and party B via MSC B VLR B via the SMS interface instead of USSD interface as explained above. Further the interactions between MSC A VLR A and MSC B VLR B is done via SMSC when the SMS interface is used by service node .

Further when called party is a postpaid subscriber billing of called party for collect SMS is handled by obtaining CDRs from SMSC and MSC B VLR B . These CDRs can be fed into a mediation or billing system. These CDRs are rated on the basis of SMS Type MO MT called number and calling number to charge called party .

When called party is a prepaid subscriber billing of called party for collect SMS is handled in real time. Further when HPMN supports CAMEL called party is charged in real time using CAP triggers to pre paid SCP .

It will be apparent to a person skilled in the art that the present invention can also be applied to Code Division Multiple Access CDMA American National Standards Institute 41D ANSI 41D and various other technologies such as but not limited to VoIP WiFi 3GSM and inter standard roaming. In one exemplary case a CDMA outbound roamer travels with an HPMN CDMA handset. In another exemplary case the CDMA outbound roamer travels with an HPMN GSM SIM and a GSM handset. In yet another exemplary case GSM outbound roamer travels with an HPMN CDMA RUIM and a CDMA handset. To support these variations gateway and client will have a separate SS7 and network interfaces corresponding to both the HPMN and FPMN networks. It will also be apparent to a person skilled in the art that these two interfaces in different directions may not have to be the same technologies. Moreover there could be multiple types of interface in both directions.

An exemplary list of the mapping between GSM MAP and ANSI 41D is described in the table below as a reference.

The present invention provides a reverse charge service for the subscribers of the HPMN. With the help of reverse charge service a calling party is able to make calls and send SMS to a called party for which the called party is charged. The reverse charge service is useful for both prepaid and post subscribers. When prepaid subscribers are out of balance and they still want to make calls and send SMSs they can use the reverse charge service to make collect calls and send collect SMS. When postpaid subscribers do not want to spend on outgoing calls or when their calls are barred they can use the reverse charge service to make collect calls and send collect SMS. The reverse charge service increases revenues of the HPMN operator as the called party pays for the calling party when he is out of balance or when his outgoing activities are barred or when he does not wish to pay for the outgoing calls and SMS maybe when he is in roaming and wants to avoid airtime charges .

The present invention can take the form of an entirely hardware embodiment an entirely software embodiment or an embodiment containing both hardware and software elements. In accordance with an embodiment of the present invention software including but not limited to firmware resident software and microcode implements the invention.

Furthermore the invention can take the form of a computer program product accessible from a computer usable or computer readable medium providing program code for use by or in connection with a computer or any instruction execution system. For the purposes of this description a computer usable or computer readable medium can be any apparatus that can contain store communicate propagate or transport the program for use by or in connection with the instruction execution system apparatus or device.

The medium can be an electronic magnetic optical electromagnetic infrared or semiconductor system or apparatus or device or a propagation medium. Examples of a computer readable medium include a semiconductor or solid state memory magnetic tape a removable computer diskette a random access memory RAM a read only memory ROM a rigid magnetic disk and an optical disk. Current examples of optical disks include compact disk read only memory CDROM compact disk read write CD R W and Digital Versatile Disk DVD .

A computer usable medium provided herein includes a computer usable program code which when executed facilitates mobile communication between a calling party and a called party by establishing the mobile communication by a service node upon receiving a response from the called party for a mobile communication request made by the calling party to the service node. Further the computer program product facilitates by the service node charging of the called party for the established mobile communication.

The components of present system described above include any combination of computing components and devices operating together. The components of the present system can also be components or subsystems within a larger computer system or network. The present system components can also be coupled with any number of other components not shown such as other buses controllers memory devices and data input output devices in any number of combinations. In addition any number or combination of other processor based components may be carrying out the functions of the present system.

It should be noted that the various components disclosed herein may be described using computer aided design tools and or expressed or represented as data and or instructions embodied in various computer readable media in terms of their behavioral register transfer logic component transistor layout geometries and or other characteristics. Computer readable media in which such formatted data and or instructions may be embodied include but are not limited to non volatile storage media in various forms e.g. optical magnetic or semiconductor storage media and carrier waves that may be used to transfer such formatted data and or instructions through wireless optical or wired signaling media or any combination thereof.

Unless the context clearly requires otherwise throughout the description and the claims the words comprise comprising and the like are to be construed in an inclusive sense as opposed to an exclusive or exhaustive sense that is to say in a sense of including but may not be limited to. Words using the singular or plural number also include the plural or singular number respectively. Additionally the words herein hereunder above below and words of similar import refer to this application as a whole and not to any particular portions of this application. When the word or is used in reference to a list of two or more items it covers all of the following interpretations any of the items in the list all of the items in the list and any combination of the items in the list.

The above description of illustrated embodiments of the present system is not intended to be exhaustive or to limit the present system to the precise form disclosed. While specific embodiments of and examples for the present system are described herein for illustrative purposes various equivalent modifications are possible within the scope of the present system as those skilled in the art will recognize. The teachings of the present system provided herein can be applied to other processing systems and methods. They may not be limited to the systems and methods described above.

The elements and acts of the various embodiments described above can be combined to provide further embodiments. These and other changes can be made in light of the above detailed description.

Provided above for the edification of those of ordinary skill in the art and not as a limitation on the scope of the invention are detailed illustrations of a scheme for charging a called party for the mobile communication initiated by a calling party. Numerous variations and modifications within the spirit of the present invention will of course occur to those of ordinary skill in the art in view of the embodiments that have been disclosed. For example the present invention is implemented primarily from the point of view of GSM mobile networks as described in the embodiments. However the present invention may also be effectively implemented on GPRS 3G CDMA WCDMA WiMax etc. or any other network of common carrier telecommunications in which end users are normally configured to operate within a home network to which they normally subscribe but have the capability of also operating on other neighboring networks which may even be across international borders.

The examples under the system of present invention detailed in the illustrative examples contained herein are described using terms and constructs drawn largely from GSM mobile telephony infrastructure. However use of these examples should not be interpreted as limiting the invention to those media. The system and method can be of use and provided through any type of telecommunications medium including without limitation i any mobile telephony network including without limitation GSM 3GSM 3G CDMA WCDMA or GPRS satellite phones or other mobile telephone networks or systems ii any so called WiFi apparatus normally used in a home or subscribed network but also configured for use on a visited or non home or non accustomed network including apparatus not dedicated to telecommunications such as personal computers Palm type or Windows Mobile devices iii an entertainment console platform such as Sony Playstation PSP or other apparatus that are capable of sending and receiving telecommunications over home or non home networks or even iv fixed line devices made for receiving communications but capable of deployment in numerous locations while preserving a persistent subscriber id such as the eye2eye devices from Dlink or telecommunications equipment meant for voice over IP communications such as those provided by Vonage or Packet8.

In describing certain embodiments of the system under the present invention this specification follows the path of a telecommunications call from a calling party to a called party. For the avoidance of doubt such a call can be a normal voice call in which the subscriber telecommunications equipment is also capable of visual audiovisual or motion picture display. Alternatively those devices or calls can be for text video pictures or other communicated data.

In the foregoing specification specific embodiments of the present invention have been described. However one of ordinary skill in the art will appreciate that various modifications and changes can be made without departing from the scope of the present invention as set forth in the claims below. Accordingly the specification and the figures are to be regarded in an illustrative rather than a restrictive sense and all such modifications are intended to be included within the scope of present invention. The benefits advantages solutions to problems and any element s that may cause any benefit advantage or solution to occur or to become more pronounced are not to be construed as a critical required or essential feature or element of any or all of the claims.

