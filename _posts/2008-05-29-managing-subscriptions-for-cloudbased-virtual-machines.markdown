---

title: Managing subscriptions for cloud-based virtual machines
abstract: A cloud management system can track the usage of the virtual machines in order to determine the fees associated with the user's subscription to the cloud computing environment. The usage can include the resources consumed to support the virtual machines and can include the utilization of the virtual machines by the user or third parties. The cloud management system can determine the fees charged to the user for utilizing the cloud computing environment based on the tracked usage.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08943497&OS=08943497&RS=08943497
owner: Red Hat, Inc.
number: 08943497
owner_city: Raleigh
owner_country: US
publication_date: 20080529
---
This invention relates generally to products and services more particularly to systems and methods for cloud computing related services and products.

The advent of cloud based computing architectures has opened new possibilities for the rapid and scalable deployment of virtual Web stores media outlets and other on line sites or services. In general a cloud based architecture deploys a set of hosted resources such as processors operating systems software and other components that can be combined or strung together to form virtual machines. A user or customer can request the instantiation of a virtual machine or set of machines from those resources from a central server or management system to perform intended tasks or applications. For example a user may wish to set up and instantiate a virtual server from the cloud to create a storefront to market products or services on a temporary basis for instance to sell tickets to an upcoming sports or musical performance. The user can lease or subscribe to the set of resources needed to build and run the set of instantiated virtual machines on a comparatively short term basis such as hours or days for their intended application.

When a user subscribes to a cloud issues can arise in the methods for charging for access to the cloud. Often the subscription to the cloud may be based on generic categories of cloud access. As such the user may pay larger fees than necessary if their usage does not match their category of access. Thus there is a need in the art for methods and system that provides for subscription to cloud based computing and for determining fees for access to the cloud based computing that are tailored to individual users.

For simplicity and illustrative purposes the principles of the present invention are described by referring mainly to exemplary embodiments thereof. However one of ordinary skill in the art would readily recognize that the same principles are equally applicable to and can be implemented in all types of information and service portals and that any such variations do not depart from the true spirit and scope of the present invention. Moreover in the following detailed description references are made to the accompanying figures which illustrate specific embodiments. Electrical mechanical logical and structural changes may be made to the embodiments without departing from the spirit and scope of the present invention. The following detailed description is therefore not to be taken in a limiting sense and the scope of the present invention is defined by the appended claims and their equivalents.

Embodiments of the present teachings relate to systems and methods for managing subscriptions of cloud based virtual machines. More particularly embodiments relate to platforms and techniques in which a cloud management system can enable a user to subscribe to the cloud in order to instantiate virtual machines and can track the usage of the virtual machines to determine the fees or other cost or value associated with the subscription.

According to embodiments in general a user can request access to a cloud for instantiating virtual machines in a cloud computing environment. The cloud management system can be configured to establish a base subscription fee or charge for the user to access the cloud computing environment. The base subscription fee can cover access to the cloud computing environment for the instantiation of virtual machines and technical support for virtual machines in the cloud computing environment. Once subscribed at the base level the user can request the instantiation of virtual machines from a cloud computing environment which can include a set of resource servers configured to deliver processor cycles operating systems or components thereof applications input output bandwidth or other computing resources. The cloud management system identifies the resources necessary to build and launch virtual machines to the user s specification and requests those resources from the set of resource servers.

According to embodiments once virtual machines are instantiated the cloud management system can track the usage of the virtual machines in order to determine the accrued fees or charges associated with the user s subscription to the cloud computing environment. The usage can include the resources consumed to support the virtual machines and can include the utilization of the virtual machines by the user or third parties. For example the cloud management system can track the instantiated time of the virtual machines the computing resource consumed by the virtual machines computing cycles bandwidth the time frame of the computing resource consumption peak time off peak time and combinations thereof.

According to embodiments the cloud management system can determine the fees or charges associated with the user for utilizing the cloud computing environment based on the tracked usage. The cloud management system can be configured to maintain rates for the types of usages. The cloud management system can calculate the fees from the tracked usage and maintained rates. Additionally the cloud management system can offer discounts to the user based on the usage of the cloud computing environment. The cloud management system can maintain a list of discounts for volume usage of the cloud computing environment or reduced rates based on the amount of usage by the user.

Additionally the cloud management system can track group or collective usage of multiple virtual machines. The cloud management system can determine the fees based on the group usage of the multiple virtual machines.

By tracking the usage of the virtual machines the cloud management system can charge users based on their individual access to the cloud computing environment. By tracking and charging for actual usage the fees charged to the user can be specifically tailored thereby reducing the cost for access to the cloud computing environment.

In embodiments the entire set of resource servers or other hardware or software resources used to support the cloud along with its instantiated virtual machines is managed by a cloud management system . The cloud management system can comprise a dedicated or centralized server and or other software hardware and network tools that communicate via one or more networks such as the Internet or other public or private network with all sets of resource servers to manage the cloud and its operation. To instantiate a new set of virtual machines a user can transmit an instantiation request to the cloud management system for the particular type of virtual machine they wish to invoke for their intended application. A user can for instance make a request to instantiate a set of virtual machines configured for email messaging or other applications from the cloud . The request can be received and processed by the cloud management system which identifies the type of virtual machine process or other resource being requested. The cloud management system can then identify the collection of resources necessary to instantiate that machine or resource. In embodiments the set of instantiated virtual machines or other resources can for example comprise virtual transaction servers used to support Web storefronts or other transaction sites.

In embodiments the user s instantiation request can specify a variety of parameters defining the operation of the set of virtual machines to be invoked. The instantiation request for example can specify a defined period of time for which the instantiated machine or process is needed. The period of time can be for example an hour a day or other increment of time. In embodiments the user s instantiation request can specify the instantiation of a set of virtual machines or processes on a task basis rather than for a predetermined amount of time. For instance a user could request resources until a software update is completed. The user s instantiation request can specify other parameters that define the configuration and operation of the set of virtual machines or other instantiated resources. For example the request can specify an amount of processing power or input output I O throughput the user wishes to be available to each instance of the virtual machine or other resource. In embodiments the requesting user can for instance specify a service level agreement SLA acceptable for their application. Other parameters and settings can be used. One skilled in the art will realize that the user s request can likewise include combinations of the foregoing exemplary parameters and others.

When the request to instantiate a set of virtual machines or other resources has been received and the necessary resources to build that machine or resource have been identified the cloud management system can communicate with one or more set of resource servers to locate resources to supply the required components. The cloud management system can select providers from the diverse set of resource servers to assemble the various components needed to build the requested set of virtual machines or other resources. It may be noted that in some embodiments permanent storage such as hard disk arrays may not be included or located within the set of resource servers available to the cloud management system since the set of instantiated virtual machines or other resources may be intended to operate on a purely transient or temporary basis. In embodiments other hardware software or other resources not strictly located or hosted in the cloud can be leveraged as needed. For example other software services that are provided outside of the cloud and hosted by third parties can be invoked by in cloud virtual machines. For further example other non cloud hardware and or storage services can be utilized as an extension to the cloud either on an on demand or subscribed or decided basis.

With the resource requirements identified the cloud management system can extract and build the set of virtual machines or other resources on a dynamic or on demand basis. For example one set of resource servers may respond to an instantiation request for a given quantity of processor cycles with an offer to deliver that computational power immediately and guaranteed for the next hour. A further set of resource servers can offer to immediately supply communication bandwidth for example on a guaranteed minimum or best efforts basis. In other embodiments the set of virtual machines or other resources can be built on a batch basis or at a particular future time. For example a set of resource servers may respond to a request for instantiation at a programmed time with an offer to deliver the specified quantity of processor cycles within a specific amount of time such as the next 12 hours.

The cloud management system can select group of servers in the set of resource servers that match or best match the instantiation request for each component needed to build the virtual machine or other resource. The cloud management system can then coordinate the integration of the completed group of servers from the set of resource servers to build and launch the requested set of virtual machines or other resources. The cloud management system can track the combined group of servers selected from the set of resource servers or other distributed resources that are dynamically or temporarily combined to produce and manage the requested virtual machine population or other resources.

In embodiments the cloud management system can generate a resource aggregation table that identifies the various sets of resource servers that will be used to supply the components of the virtual machine or process. The sets of resource servers can be identified by unique identifiers such as for instance Internet protocol IP addresses or other addresses. The cloud management system can register the finalized group of servers in the set resource servers contributing to an instantiated machine or process.

The cloud management system can then set up and launch the initiation process for the virtual machines processes or other resources to be delivered from the cloud. The cloud management system can for instance transmit an instantiation command or instruction to the registered group of servers in set of resource servers . The cloud management system can receive a confirmation message back from each participating server in set of resource servers indicating a status regarding the provisioning of their respective resources. Various sets of resource servers may confirm for example the availability of a dedicated amount of processor cycles amounts of electronic memory communications bandwidth or applications or other software prepared to be served.

As shown for example in the cloud management system can then instantiate one or more than one set of virtual machines or other processes based on the resources supplied by the registered set of resource servers . In embodiments the cloud management system can instantiate a given number for example 10 500 1000 or other numbers of virtual machines to be made available to users on a network such as the Internet or other public or private network. Each virtual machine can be assigned an instantiated machine ID that can be stored in the resource aggregation table or other record or image of the instantiated population. Additionally the cloud management system can store the duration of each virtual machine and the collection of resources utilized by the complete set of instantiated virtual machines .

In embodiments the cloud management system can further store track and manage a user s identity and associated set of rights or entitlements to software hardware and other resources. Each user that populates a set of virtual machines in the cloud can have specific rights and resources assigned and made available to them. The cloud management system can track and configure specific actions that a user can perform such as provision a set of virtual machines with software applications or other resources configure a set of virtual machines to desired specifications submit jobs to the set of virtual machines or other host manage other users of the set of instantiated virtual machines or other resources and other privileges or actions. The cloud management system can further generate records of the usage of instantiated virtual machines to permit tracking billing and auditing of the services consumed by the user. In embodiments the cloud management system can for example meter the usage and or duration of the set of instantiated virtual machines to generate subscription billing records for a user that has launched those machines. Other billing or value arrangements are possible.

The cloud management system can configure each virtual machine to be made available to users of the one or more networks via a browser interface or other interface or mechanism. Each instantiated virtual machine can communicate with the cloud management system and the underlying registered set of resource servers via a standard Web application programming interface API or via other calls or interfaces. The set of instantiated virtual machines can likewise communicate with each other as well as other sites servers locations and resources available via the Internet or other public or private networks whether within a given cloud or between clouds.

It may be noted that while a browser interface or other front end can be used to view and operate the set of instantiated virtual machines from a client or terminal the processing memory communications storage and other hardware as well as software resources required to be combined to build the virtual machines or other resources are all hosted remotely in the cloud . In embodiments the set of virtual machines or other resources may not depend on or require the user s own on premise hardware or other resources. In embodiments a user can therefore request and instantiate a set of virtual machines or other resources on a purely off premise basis for instance to build and launch a virtual storefront or other application.

Because the cloud management system in one regard specifies builds operates and manages the set of instantiated virtual machines on a logical level the user can request and receive different sets of virtual machines and other resources on a real time or near real time basis without a need to specify or install any particular hardware. The user s set of instantiated virtual machines processes or other resources can be scaled up or down immediately or virtually immediately on an on demand basis if desired. In embodiments the various sets of resource servers that are accessed by the cloud management system to support a set of instantiated virtual machines or processes can change or be substituted over time. The type and operating characteristics of the set of instantiated virtual machines can nevertheless remain constant or virtually constant since instances are assembled from abstracted resources that can be selected and maintained from diverse sources based on uniform specifications.

In terms of network management of the set of instantiated virtual machines that have been successfully configured and instantiated the cloud management system can perform various network management tasks including security maintenance and metering for billing or subscription purposes. The cloud management system of a given cloud can for example install or terminate applications or appliances on individual machines. The cloud management system can monitor operating virtual machines to detect any virus or other rogue process on individual machines and for instance terminate the infected application or virtual machine. The cloud management system can likewise manage an entire set of instantiated virtual machines or other resources on a collective basis for instance to push or delivery a software upgrade to all active virtual machines. Other management processes are possible.

In embodiments more than one set of virtual machines can be instantiated in a given cloud at the same overlapping or successive times. The cloud management system can in such implementations build launch and manage multiple sets of virtual machines based on the same or different underlying set of resource servers with populations of different sets of instantiated virtual machines such as may be requested by different users. The cloud management system can institute and enforce security protocols in a cloud hosting multiple sets of virtual machines. Each of the individual sets of virtual machines can be hosted in a respective partition or sub cloud of the resources of the cloud . The cloud management system of a cloud can for example deploy services specific to isolated or defined sub clouds or isolate individual workloads processes within the cloud to a specific sub cloud. The subdivision of the cloud into distinct transient sub clouds or other sub components which have assured security and isolation features can assist in establishing a multiple user or multi tenant cloud arrangement. In a multiple user scenario each of the multiple users can use the cloud platform as a common utility while retaining the assurance that their information is secure from other users of the overall cloud system. In further embodiments sub clouds can nevertheless be configured to share resources if desired.

In embodiments and as also shown in system of the set of instantiated virtual machines generated in a first cloud can also interact with a set of instantiated virtual machines or processes generated in a second third or further cloud . The cloud management system of a first cloud can interface with the cloud management system of a second cloud to coordinate those domains and operate the clouds and or virtual machines or processes on a combined basis. The cloud management system of a given cloud can track and manage individual virtual machines or other resources instantiated in that cloud as well as the set of instantiated virtual machines or other resources in other clouds.

In the foregoing and other embodiments the user making an instantiation request or otherwise accessing or utilizing the cloud network can be a person customer subscriber administrator corporation organization or other entity. In embodiments the user can be or include another virtual machine application or process. In further embodiments multiple users or entities can share the use of a set of virtual machines or other resources.

According to various embodiments to grant access to the cloud the cloud management system can be configured to subscribe the user to the cloud . The cloud management system can be configured to communicate with the user via an interface to allow the user to subscribe to cloud and request instantiation of virtual machine . The interface can be any type of interface to allow the user to communicate information to the cloud management system . For example the interface can be a specific graphical command line or other interface generated by a program or application designed to communicate with the cloud management system . Likewise the interface can be an interface generated in conventional formats such as .html capable of being executed in network programs and applications such as a web browser.

During the subscription the cloud management system can collect information from the user in order to track the user s subscription to the cloud . The cloud management system can collect information such as identity payment and billing information and desired cloud usage. Based on the information provided the cloud management system can be configured to determine a base subscription fee or charge for user . The base subscription fee can allow the user to request instantiation of virtual machines and receive support from the could management system for instantiated virtual machines during periods when those machines are active. The cloud management system can determine the base subscription fee on a general fee for access to cloud or user specific fee based on the user desired cloud usage. The cloud management system can maintain the base subscription fees in cloud management store . The base subscription fee can be a charged one time monthly quarterly or annually.

Once subscribed the user can request the instantiation of virtual machines in cloud . The cloud management system can be configured to receive the request via interface . To instantiate the virtual machines the cloud management system can for example set the operating system application processing level bandwidth and other parameters specifying the resources and capability of the virtual machines .

As part of the process of building set of instantiated virtual machines the cloud management system can instantiate the virtual machines and embed a management ID into that each virtual machine. The management ID can be for instance a file certificate cookie or other identification object encoding a unique identifier for that virtual machine. The incorporation of management ID into the virtual machines can permit cloud management system to directly configure manage store and track the virtual machines .

In embodiments once instantiated the cloud management system can track the usage of the virtual machines in the cloud . The cloud management system can track or meter the consumption of cloud resources by the virtual machines and can track the utilization of the virtual machines by the user or other third parties. For example the management engine can track such data as the duration the virtual machines are instantiated in the cloud the time period that the virtual machines are instantiated peak or off peak times and the computing resources consumed by virtual machines number of resource servers computing cycles bandwidth memory usage storage usage . To track the usage the management engine can communicate with the cloud via network to monitor the virtual machines .

In embodiments the cloud management system can determine a fee or charge for the virtual machines instantiated in the cloud based on the tracked usage. For example the cloud management system can base the fee for each individual virtual machines on the instantiation time such as hours instantiated of each virtual machine . Additionally the cloud management system can base the fee of the amount of resources utilized by each individual virtual machine . For example the cloud management system can base the fees on computing resources for instance computer cycles bandwidth memory utilization storage utilization consumed by a virtual machine . Likewise the cloud management system can base the fee on a combination of instantiation time and consumed computing resources.

Additionally the cloud management system can base the fees charged on the time period in which the each virtual machine is instantiated. For example the cloud management system can charge different rates for peak time periods e.g. time periods when the cloud is heavily utilized and off peak time periods. Likewise the cloud management system can base the fee on a combination of the tracked time period the tracked instantiation time and the consumed computing resources.

In embodiments the cloud management system can group multiple virtual machines in order to track the usage and determine the fee associated with the group of virtual machines . For example the cloud management system can group together virtual machines performing a similar process or can group together virtual machines working together to perform the same process. The cloud management system can base the fee on the combined usage of the group of virtual machines. Additionally the cloud management system can apply discounts to the fees based on the groups of virtual machines or on other bases.

In order to determine the fee based on tracked usage in embodiments the cloud management system can maintain a list of rates for the various usages such as instantiation duration computing resources consumed and instantiation time period. Additionally the cloud management system can maintain a list of discounts available based on the usage of the cloud . For example the cloud management system can maintain a list of discounts for volume usage of the cloud computing environment or reduced rates based on the amount of usage by the user. The cloud management system can maintain the list of rates and discounts in cloud management store . To determine the fees the cloud management system can retrieve the list of rates and calculate the fees based on the tracked usage.

In embodiments as shown to track the subscriptions to cloud the cloud management system can maintain a record for the user . The record can include an identity field . The identity field can include information to identify and describe the user such as name the user billing information and the base subscription fee for the user. The record can also include instantiated virtual machine fields identifying virtual machines or groups of virtual machines instantiated for the user . Fields can include the management ID for the virtual machines instantiated for the user the tracked usage for the virtual machines and the fees determined for the tracked usage for the virtual machines .

The cloud management system can utilize record to bill the user for the subscription to cloud . For example the management engine can retrieve record for the user from cloud management store and extract the base subscription fees and usage fees for the user . The cloud management system can initiate a payment process via any electronic or physical payment process for the extracted fees. For example the management engine can generate a bill to be transmitted to user or can initiate automatic payment if the user has provided payment information. The cloud management system can perform the billing process on demand or in a periodic manner.

The cloud management system can also utilize record to update the user on the status of a subscription to cloud . For example the management engine can retrieve record for user from cloud management store and generate a report or summary of virtual machines instantiated resources used and fees accrued. The cloud management system can provide the report or summary to the user via interface or any other type of electronic or physical delivery channel. The cloud management system can perform the updating process on demand or in a periodic manner.

As described above the charges for use of the cloud can be based on the usage of a virtual machine as a whole or group of virtual machines. In embodiments the charges for base subscription and use of the cloud can also be based on the usage of particular components of the virtual machines such as the applications operating systems middleware appliances and combinations thereof. The cloud management system can be configured to determine and charge a base subscription fee for the use of each individual component or grouping of components. For example the base subscription fee can be a flat rate charged one time monthly quarterly or annually for each individual component.

In embodiments as for the virtual machines the cloud management system can determine a fee or charge for the components instantiated in the cloud based on tracked usage. For example the cloud management system can base the fee for each individual component on the instantiation time such as hours instantiated of each component. Additionally the cloud management system can base the fee of the amount of resources utilized by each individual component. For example the cloud management system can base the fees on computing resources for instance computer cycles bandwidth memory utilization storage utilization consumed by each component. Likewise the cloud management system can base the fee on a combination of instantiation time and consumed computing resources. The cloud management system can be configured to store the tracked usage and fees for the components in a record such as record in cloud management store .

Additionally the cloud management system can base the fees charged on the time period in which the each component is instantiated. For example the cloud management system can charge different rates for peak time periods e.g. time periods when the cloud is heavily utilized and off peak time periods. Likewise the cloud management system can base the fee on a combination of the tracked time period the tracked instantiation time and the consumed computing resources.

In embodiments the cloud management system can group multiple components together in order to track the usage and determine the fee associated with the group of components. For example the cloud management system can group together components that are working together to perform a particular solution such as a Web storefront. The cloud management system can base the fee on the combined usage of the group of components. Additionally the cloud management system can apply discounts to the fees based on the groups of components or on other bases. For example if a new components is added to a group of similar components a discount can be applied to each new similar component added.

In order to determine the fee for components base subscription and usage in embodiments the cloud management system can maintain a list of rates for base fee for the components and the various usages such as instantiation duration computing resources consumed and instantiation time period. Additionally the cloud management system can maintain a list of discounts available based on the usage of the cloud . For example the cloud management system can maintain a list of discounts for volume usage of the cloud computing environment or reduced rates based on the amount of usage by the user. The cloud management system can maintain the list of rates and discounts in cloud management store .

To determine the fees the cloud management system can retrieve the list of rates and calculate the base subscription fees and fees based on the tracked usage of the components. As mentioned above once determined the cloud management system can bill and update the user on the accrued charges and fees for the components.

After subscription in the cloud management system can instantiate virtual machines as requested by the user. Once instantiated in the cloud management system can track the usage of the instantiated virtual machines. The cloud management system can track the consumption of the cloud s resources by the virtual machines and can track the utilization of the virtual machines by the requesting user or other third parties. For example the management engine can track such data as the duration the virtual machines are instantiated in the cloud the time periods that the virtual machines are instantiated peak or off peak times and the computing resources utilized by virtual machines number of resource servers computing cycles bandwidth memory usage storage usage .

Then in the cloud management system can determine the fees for the virtual machine usage. The cloud management system can base the fees on the tracked usage and a list of rates maintained by the cloud management system . Once determined in the cloud management system can bill the user for the fees incurred. The cloud management system can perform the billing process on demand or in a periodic manner.

Then in if the user terminates access to the cloud the process can end but the process can return to any point and repeat. While describes the subscription process for virtual machines the process can also be utilize for the subscription process for components of the virtual machines.

In the foregoing and other embodiments the user making an instantiation request or otherwise accessing the cloud network can be a person customer subscriber corporation organization or other entity. In embodiments the user can be or include another virtual machine application or process. In further embodiments multiple users or entities can share the use of a set of virtual machines or other resources.

While the invention has been described with reference to the exemplary embodiments thereof those skilled in the art will be able to make various modifications to the described embodiments without departing from the true spirit and scope. The terms and descriptions used herein are set forth by way of illustration only and are not meant as limitations. In particular although the method has been described by examples the steps of the method may be performed in a different order than illustrated or simultaneously. Those skilled in the art will recognize that these and other variations are possible within the spirit and scope as defined in the following claims and their equivalents.

