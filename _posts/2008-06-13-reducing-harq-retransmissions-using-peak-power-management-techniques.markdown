---

title: Reducing harq retransmissions using peak power management techniques
abstract: Systems, methods and apparatuses for reducing HARQ retransmissions using peak power management techniques are presented. In one example, a receiver may perform multi-level error correction for reducing HARQ retransmissions. The receiver may include a Peak-to-Average-Power Ratio Management Module (PAPR MM) decoder configured to perform a first level of error correction utilizing retransmissions originating at a front end of a distal transmitter. The receiver may further include a symbol demapping module connected to the PAPR MM decoder, a deinterleaver connected to the symbol demapping module, and a decoder connected to the deinterleaver and the PAPR MM decoder, where the decoder may be configured to perform a second level of error correction utilizing retransmissions originating at a back end of the distal transmitter. A transmitter for reducing HARQ retransmissions using PAPR techniques is also presented.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08271842&OS=08271842&RS=08271842
owner: QUALCOMM Incorporated
number: 08271842
owner_city: San Diego
owner_country: US
publication_date: 20080613
---
The embodiments of the disclosure relate generally to improving the efficiency of error correction for digital communications and more specifically for reducing Hybrid Automatic Repeat Request HARQ retransmissions based upon peak to average power ratio management techniques.

The demand for improving the capacity speed and quality of wireless data services is driving advancements in the spectral efficiency and error correction capability of wireless communication systems.

Improvements in spectral efficiency may be realized using multi carrier modulation techniques which can use a number of closely spaced non interfering orthogonal sub carriers that overlap in frequency. Such modulation techniques include Orthogonal Frequency Division Multiplexing OFDM and Orthogonal Frequency Division Multiple Access OFDMA which have been successfully used because of their efficiency and high tolerance to adverse multipath effects. However these modulation techniques may produce transmit signals having a peak power level which is much larger than the average power of the transmitted signal thus having a high Peak to Average Power Ratio PAPR . Signals having large peaks may increase the amount of intermodulation distortion resulting in an increase in the error rate. Minimizing the PAPR allows a higher average power to be transmitted for a fixed peak power which may improve the overall signal to noise ratio at the receiver.

The PAPR of a multi carrier modulated signal may be managed using a variety of approaches which introduce some redundancy into the communication system. One known PAPR management technique is called Selective Mapping SM which may involve generating a large set of data vectors all representing the same information. The data vector with the lowest resulting PAPR may be selected for transmission. Another PAPR management approach is called Partial Transmit Sequences PTS which rotates the phase of data vectors creating a set of candidate signals conveying similar information. The rotated phase signal providing the lowest PAPR is chosen for transmission.

As mentioned above the increasing demand for improved wireless communication systems are also driving improvements in error correction techniques. Transmission errors may be attributable to competing signals being simultaneously transmitted especially in the case where signals have an undesirably high PAPR inclement weather signal strength shadows electrical interference and or other conditions affecting the air interface. Such conditions may result in one or more packets being dropped or corrupted. When a dropped or corrupted packet occurs additional resources may be utilized to provide redundant information to correct the transmission error. One method of providing additional information is to selectively increase redundancy using HARQ processing. HARQ processing can enable error recovery by combining retransmitted packets with previously received corrupted packets stored at the receiver.

While HARQ processing may be effective at correcting errors it can introduce undesirable latencies into a communication system. HARQ retransmissions conventionally involve redundant encoding operations which may be computationally intensive and thus consume time and power.

Accordingly it would be desirable to improve the efficiency of error correction for digital communications by reducing HARQ retransmissions during error correction operations.

Exemplary embodiments of the disclosure are directed to systems methods and apparatuses for reducing HARQ retransmissions using peak power management techniques.

One embodiment may include a method for correcting errors received over a communication link. The method may include receiving a packet at a decoder where the packet may be a first retransmission of an initial transmission determining if the packet contains an error which is uncorrectable using the initial transmission and or the retransmission performing a first level error correction based upon a subsequent retransmission of the packet originating from a Peak to Average Power Ratio PAPR management module encoder determining if the corrupted packet can be corrected by the first error correction and performing a second level error correction based upon a subsequent retransmission originating from an encoder if the first error correction cannot correct the corrupted packet.

Another embodiment may include a method of correcting errors transmitted over a communications link. The method may include transmitting a packet to a receiver buffering a transmitted symbol corresponding to the packet in a Peak to Average Power Ratio Management Module PAPR MM encoder receiving a notification regarding the status of the packet from the receiver and selecting between a first encoding and a second encoding based upon a received notification where the first encoding corresponds to a first level of error correction associated with the PAPR MM encoder and the second encoding corresponds to a second level of error correction associated with a channel encoder.

Yet another embodiment may include a method for performing multi level error correction which reduces HARQ retransmissions. The method may include receiving at a first receiver a packet retransmission from a second transmitter determining at the first receiver if the packet contains an error which is uncorrectable using the retransmission and or an initial transmission transmitting from a first transmitter a negative acknowledgement NACK to a second receiver and selecting at the second transmitter between a first encoding and a second encoding based upon the NACK where the first encoding corresponds to a first level of error correction associated with a NACK Type 1 and the second encoding corresponds to a second level of error correction associated with a NACK Type 2.

Another embodiment may include a receiver which performs multi level error correction for reducing HARQ retransmissions. The receiver may include a Peak to Average Power Ratio Management Module PAPR MM decoder configured to perform a first level of error correction utilizing retransmissions originating at a front end of a distal transmitter a symbol demapping module connected to the PAPR MM decoder a deinterleaver connected to the symbol demapping module and a decoder connected to the deinterleaver and the PAPR MM decoder where the decoder may be configured to perform a second level of error correction utilizing retransmissions originating at a back end of the distal transmitter.

Another embodiment may include a transmitter which may perform multi level error correction for reducing HARQ retransmissions. The transmitter may include a Peak to Average Power Ratio Management Module PAPR MM encoder which may provide front end retransmissions to accommodate a first level of error correction and at least one channel connected to the PAPR MM encoder for modulating data for transmission wherein the at least one channel may further include a channel encoder where the channel encoder may be configured to provide back end retransmission to accommodate a second level of error correction an interleaver which may be connected to the channel encoder and a symbol mapping module which may be connected to the interleaver.

Yet another embodiment may include a method for coordinating a multi level error correction for reducing HARQ retransmissions. The method may include providing from a back end of a receiver a NACK Type 2 notification to a back end of a local transmitter in response to receiving an initial packet having an uncorrectable error receiving at the back end of a receiver a first retransmitted packet having a new channel encoding in response to the NACK Type 2 notification providing from the front end of the receiver a NACK Type 1 notification to a front end of a local transmitter in response to the first retransmitted packet having an uncorrectable error and receiving at the front end of the receiver a subsequently retransmitted packet having a new PAPR encoding originating from the front end of the distal transmitter.

Another embodiment may include a method for coordinating a multi level error correction for reducing HARQ retransmissions. The method may include providing from a back end of a transmitter an initial packet transmission having an uncorrectable error receiving from a back end of a local receiver a retransmission request directed to the back end of the transmitter retransmitting from the back end of the transmitter a subsequent packet having a new channel encoding receiving from a front end of the local receiver a retransmission request directed to the front end of the transmitter and retransmitting from a front end of the transmitter a subsequent packet having a new PAPR encoding.

Yet another embodiment may include an apparatus for correcting errors received over a communication link. The apparatus may include a means for receiving a packet at a decoder wherein the packet is a first retransmission of an initial transmission means for determining if the packet contains an error which is uncorrectable using the initial transmission and or the retransmission means for performing a first level error correction based upon a subsequent retransmission of the packet originating from a Peak to Average Power Ratio PAPR management module encoder means for determining if the corrupted packet can be corrected by the first error correction and means for performing a second level error correction based upon a subsequent retransmission originating from an encoder if the first error correction cannot correct the corrupted packet.

Another embodiment may include an apparatus of correcting errors transmitted over a communications link. The apparatus may include a means for transmitting a packet to a receiver means for buffering a transmitted symbol corresponding to the packet in a Peak to Average Power Ratio Management Module PAPR MM encoder means for receiving a notification regarding the status of the packet from the receiver and means for selecting between a first encoding and a second encoding based upon a received notification where the first encoding may correspond to a first level of error correction associated with the PAPR MM encoder and the second encoding may correspond to a second level of error correction associated with a channel encoder.

Yet another embodiment may include an apparatus for performing multi level error correction which reduces HARQ retransmissions. The apparatus may include means for receiving at a first receiver a packet retransmission from a second transmitter means for determining at the first receiver if the packet contains an error which is uncorrectable using the retransmission and or an initial transmission means for transmitting from a first transmitter a negative acknowledgement NACK to a second receiver and means for selecting at the second transmitter between a first encoding and a second encoding based upon the NACK where the first encoding may correspond to a first level of error correction associated with a NACK Type 1 and the second encoding may correspond to a second level of error correction associated with a NACK Type 2.

Another embodiment may include an apparatus for coordinating a multi level error correction for reducing HARQ retransmissions. The apparatus may include means for providing from a back end of a receiver a NACK Type 2 notification to a back end of a local transmitter in response to receiving an initial packet having an uncorrectable error means for receiving at the back end of a receiver a first retransmitted packet having a new channel encoding in response to the NACK Type 2 notification means for providing from the front end of the receiver a NACK Type 1 notification to a front end of a local transmitter in response to the first retransmitted packet having an uncorrectable error and means for receiving at the front end of the receiver a subsequently retransmitted packet having a new PAPR encoding originating from the front end of the distal transmitter.

Another embodiment may include an apparatus for coordinating a multi level error correction for reducing HARQ retransmissions. The apparatus may include means for providing from a back end of a transmitter an initial packet transmission having an uncorrectable error means for receiving from a back end of a local receiver a retransmission request directed to the back end of the transmitter means for retransmitting from the back end of the transmitter a subsequent packet having a new channel encoding means for receiving from a front end of the local receiver a retransmission request directed to the front end of the transmitter and means for retransmitting from a front end of the transmitter a subsequent packet having a new PAPR encoding.

Another embodiment may include a computer readable media embodying logic for correcting errors received over a communication link the logic configured to perform a method which includes receiving a packet at a decoder wherein the packet is a first retransmission of an initial transmission determining if the packet contains an error which is uncorrectable using the initial transmission and or the retransmission performing a first level error correction based upon a subsequent retransmission of the packet originating from a Peak to Average Power Ratio PAPR management module encoder determining if the corrupted packet can be corrected by the first error correction and performing a second level error correction based upon a subsequent retransmission originating from an encoder if the first error correction cannot correct the corrupted packet.

Aspects of the invention are disclosed in the following description and related drawings directed to specific embodiments of the invention. Alternate embodiments may be devised without departing from the scope of the invention. Additionally well known elements of the invention will not be described in detail or will be omitted so as not to obscure the relevant details of the invention.

The word exemplary is used herein to mean serving as an example instance or illustration. Any embodiment described herein as exemplary is not necessarily to be construed as preferred or advantageous over other embodiments. Likewise the term embodiments of the invention does not require that all embodiments of the invention include the discussed feature advantage or mode of operation.

The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of embodiments of the invention. As used herein the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will be further understood that the terms comprises comprising includes and or including when used herein specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one or more other features integers steps operations elements components and or groups thereof.

Further many embodiments are described in terms of sequences of actions to be performed by for example elements of a computing device. It will be recognized that various actions described herein can be performed by specific circuits e.g. application specific integrated circuits ASICs by program instructions being executed by one or more processors or by a combination of both. Additionally these sequence of actions described herein can be considered to be embodied entirely within any form of computer readable storage medium having stored therein a corresponding set of computer instructions that upon execution would cause an associated processor to perform the functionality described herein. Thus the various aspects of the invention may be embodied in a number of different forms all of which have been contemplated to be within the scope of the claimed subject matter. In addition for each of the embodiments described herein the corresponding form of any such embodiments may be described herein as for example logic configured to perform the described action.

Base station may transmit data messages or other information wirelessly to mobile device by conventional over the air techniques. For example the wireless signals between mobile device and the base station may be based on any of several different technologies including but not limited to CDMA code division multiple access MC CDMA multi carrier code division access TDMA time division multiple access FDMA frequency division multiplexed access OFDM orthogonal frequency division multiplexing and any systems using a hybrid of coding technologies such as GSM or other like wireless protocols used in communications or data networks.

HARQ processing can enable reliable recovery from errors by storing corrupted packets in the mobile device rather than discarding them. When a corrupted packet is received the mobile device may store it in an on board buffer and combine the corrupted packet with one or more subsequent retransmissions to increase the probability of a successful decoding. Even if the retransmitted packet s contains errors a good packet can be derived from the combination previously received corrupted transmissions. This process may be referred to as soft combining and can include Chase Combining CC and or Incremental Redundancy IR . CC may be a basic combining approach wherein the base station may be simply retransmitting the exact same set of coded symbols of the original packet. With IR different redundancy information may be sent during retransmissions by recoding the packet in a different manner thus incrementally increasing the coding gain. To improve the speed of HARQ processing the functionality may be implemented directly at the physical Media Access Control L1 layer of the mobile device .

The network depicted in the figure is merely exemplary and may include any system that allows communication over the air and or via a fixed cable and or wire communication paths between and among components. For example exemplary over the air interfaces may include Wi Fi WiMAX and or UMB ultra mobile broadband . Mobile device and base station may be embodied in the form of many different types of wired and or wireless devices including one or more of a telephone cellular telephone wirelessly connected computer PDA personal digital assistant pager navigation device music or video content download unit wireless gaming device inventory control unit or other like types of devices communicating wirelessly via the air interface. Cellular or other wireless telecommunication services may communicate with a carrier network through a data link or other network link.

As shown in both base station and mobile device include a transmitter and a receiver. At the level of detail described for the modulator and demodulator for both the transmitter and receiver in base station include similar components and work in a related manner as the modulator and demodulator in transmitter and receiver respectively included in the mobile device . For brevity only the details of the mobile device s modulator and demodulator are described below.

The demodulator within the receiver of mobile device may include a symbol demapping module a deinterleaver and a decoder . The transmitter includes a modulator which may include a symbol mapping module an interleaver and an encoder .

A packet may be transmitted by the base station s transmitter and is initially received and processed by receiver s RF and digitizing components not shown . The packet may then symbol demapped by the symbol demapping module to processes the incoming In phase I and Quadrature Q components of the modulated signal which represent symbols and convert the modulated symbol into binary values bits . The packet may then be passed to deinterleaver module which arranges the signal into its proper order in either the time and or the frequency domain to reverse the interleaving operations which may be performed at the transmitter . The packet may then be passed to decoder for error detection and correction processing. Decoder may be for example a turbo decoder or a low density parity check LDPC decoder which may provide highly efficient error correction based upon redundant information sent with the original transmission of the packet. If an error is detected by the decoder which cannot be corrected by the data contained in the original transmission a decision may be made by the decoder to request a HARQ retransmission via a signal . Once the request signal is provided to the transmitter a NACK response may be forwarded over the physical control channel by the transmitter . The NACK may include one or more packets which are modulated by passing through the encoder the interleaver and the symbol mapping module . Once the NACK is received by the base station receiver the base station transmits a HARQ retransmission via its transmitter . Once the HARQ retransmission is received by the decoder it may use the retransmitted packet in conjunction with the original packet to correct the previously detected corrupted packet.

Because the conventional receiver can make the error correction decision at the decoder or at the back end of the demodulator after operations performed by the symbol demapping module and the deinterleaver a significant amount of latency may be encountered with a HARQ retransmission. The majority of this latency may be introduced by the deinterleaver .

As is described below in the description of the subsequent figures embodiments of the invention may avoid this latency by providing another level of error detection correction ahead of the symbol demapping module and the deinterleaver or as referred to herein at the front end of the demodulator .

As used herein when describing operations with respect to a particular receiver the transmitter proximate to that receiver may be called the local transmitter. The transmitter opposite to the particular receiver may be called the distal transmitter. For example with respect to receiver the local transmitter is transmitter and the distal transmitter is transmitter residing at the opposite side of the air interface. The same naming convention may be used when discussing a particular transmitter. For example with respect to transmitter the local receiver is receiver and the distal receiver is receiver residing on the opposite side of the air interface.

At the level of detail shown in the transmitter and the receiver may include similar block level components as shown in transmitter and receiver respectively so details therein have been omitted below for ease of explanation.

Moreover while the description of the receiver and transmitter of the embodiment shown in is set forth in the context of the mobile device similar components and operations may be mirrored in the transmitter and receiver of the base station . Exemplary differences between the components of the mobile device s transmitter and receiver and the base station s transmitter and receiver are discussed when the more detailed aspects of the embodiments are presented in the descriptions of .

Further referring to the demodulator may include a Peak to Average Power Ratio Management Module PAPR MM a symbol demapping module a deinterleaver and decoder .

In accordance with various embodiments of the disclosure the demodulator may perform two levels of error detection correction. A first level of error detection correction is less computationally intensive to perform and may be utilized when the channel quality indicator CQI is low. Moreover the first level of error detection correction may be performed at the front end of a receiver. A second level of error detection correction may be more powerful and thus more computationally intensive. However the second level of error correction may likely fail when the CQI is low. The second level of error detection correction may be performed at the back end of a receiver.

After a packet error has been initially detected using conventional techniques which involve the aforementioned second level of error detection correction subsequent error s involving the same packet may be further detected utilizing the first level of error detection correction and thus bypassing the second level of error correction. During this occurrence it may be safely assumed that the CQI is low and repeating the second level of error correction again is unlikely to be successful both time and power may be saved. Details of the demodulator are provided below and details of the modulator are provided thereafter.

Packets transmitted by the transmitter of the base station may be initially received by the RF and digitization portion of the receiver not shown and then may be sent to the PAPR MM . The PAPR MM may be included in the front end of the demodulator and may initially perform PAPR decoding. In some embodiments the PAPR MM may receive additional side information to assist in the decoding and if so the PAPR MM may perform a first level of error detection correction on the received side information. In either case once the error detection is performed on the side information the number of uncorrectable errors on the side information may be used in conjunction with a threshold to determine when to perform subsequent levels of error correction as will be explained in more detail below.

If the number of errors relating to the side information does not exceed the threshold as described above the PAPR decoding may be performed to reduce the peak power. Techniques for accomplishing this may include Selective Mapping SLM Blind Selective Mapping used when side information is not transmitted but derived from the packet data Partial Transmit Sequences and or other conventional techniques used to minimize the peak to average power ratio.

SLM is a technique where the same information can be represented in different forms. Each of the different forms may be sequences having different peak to average power ratios PAPR . The sequence having lowest PAPR may be chosen for transmission by the PAPR MM encoder . Because there are a plurality of sequences which may be transmitted the PAPR MM encoder may provided additional information to the PAPR MM decoder which identifies the sequence which was selected. This additional information may be represented in what is term as side information. For example if there are 10 different sequences that may represent the same information and sequence is selected because it minimizes the PAPR then the side information may include the number and this information may be sent to the receiver. In other techniques known as blind SLM the side information is not sent along with the data but may be estimated from the data itself using for example maximum likelihood estimators. In either case obtaining the correct side information may be important for properly decoding the transmitted packet in the PAPR MM decoder . Accordingly the side information may be protected through the utilization of error control codes such as for example simple block codes convolution codes etc.

Further referring to after PAPR decoding the packet may be passed onto the symbol demapping module and then the deinterleaver . The symbol demapping module may processes the incoming I and Q components of the modulated signal which represent symbols and then convert the modulated symbol into bits. The deinterleaver may arrange the signal bits into their proper order in either the time and or the frequency domain to reverse the interleaving operations which may be performed by the modulator in transmitter .

The received packet may then be sent to the decoder for a second level error detection and correction which may include such algorithms as for example turbo decoding or low density parity check decoding LPDC . The second level of error detection may be referred to as occurring at the back end of the receiver given its proximity in the processing chain. At the second level the error detection correction operations may be performed on the received bits demapped from the packet itself and not on the side information as done at the first level of error detection correction described above. If the decoder detects an error in the packet the decoder may try to correct it using only the redundant information associated with received packet. If there was no error in the sent packet or if the second level of error correction performed by the decoder is successful the corrected packet is passed on to subsequent stages of the mobile device for further use.

When a packet which is retransmitted for the first time contains an uncorrectable error which may occur when there is low CQI and the second level of error correction is not successful the demodulator may initiate a first level error correction. Here the decoder may instruct the modulator of the mobile device to send a specific type of NACK to the receiver of the base station . Because this type of NACK may originate from the front end of the receiver it is referred to as a NACK Type 1. In response to the NACK Type 1 the transmitter of the base station may send a retransmission of the packet may includes symbols that have a different PAPR encoding along with any appropriate side information. This retransmission comes from the PAPR MM encoder residing in the front end of the transmitter not shown but the PAPR MM encoder is described in context of the mobile device s modulator in more detail below . This retransmitted packet may also include error correction information for the side information. The error correction information for the side information may include for example ECC data for convolutional error correction. The symbols which are encoded by the PAPR MM encoder contain the same information as the original but are formed differently that the previous transmission. The retransmission is received by the PAPR MM decoder in the demodulator of the mobile device which can decode the packet. The PAPR MM decoder may also perform error correction on the side information to ensure packet is properly decoded. The PAPR decoded packet may then be sent on to the subsequent blocks in the demodulator as described above.

The second level error correction involves HARQ processing which retransmits packets in response to receiving a NACK Type 2. This HARQ transmission may utilizes the encoder in the transmitter described in more detail below and thus it originates from the back end of the transmitter at the channel encoder . Depending upon the type of HARQ processing being used the information in the retransmission may vary. However most HARQ processes send some form of redundant information which may be processed with the corrupted packet in order to correct it. While HARQ processing is effective at correcting errors it has the disadvantage of being time consuming because the retransmitted packet must at least pass through both the modulator and the demodulator again.

The first level detection correction improves the efficiency of the demodulator because corrupted packets having a low CQI are effectively filtered out from the rest of the processing chain of the demodulator. Because of their low signal quality the corrupted packet could not have been corrected using the second level of correction at the decoder . Thus the first level correction detection avoids needlessly processing the corrupted packet through the symbol mapping module the deinterleaver which may be especially time consuming and finally the decoder . This tiered approach to error detection correction may save time power especially useful for mobile devices and computational resources of the communication system.

Further referring to the transmitter of the mobile device may include a multi carrier modulator which includes a plurality of channels   through . The number of channels n may be a function of the desired capacity of the communication system and may be any number within practical limits. In various embodiments the number of channels may be 128 to 2048 or higher. The modulator may be used in systems employing CDMA OFDM OFDMA WiMAX UMB etc.

Each channel may include a channel encoder an interleaver and a symbol mapping module . The channels may feed into a PAPR MM encoder which provides the signal for transmissions to the receiver in the base station .

The channel encoder may provide second level error correction functionality using for example a turbo encoder. The interleaver may change the order in time or frequency of the data to provide time or frequency diversity. This may provide protection against multipath or deep fade effects. The symbol mapping module may map data bits into modulation symbols. The symbol mapping module may include for example QAM Q PSK and or other modulation methods. The PAPR MM encoder may provide peak power management using SLM blind SLM PTS and or other conventional methods. The PAPR MM encoder may also provide error correction coding when transmitting side information. In other embodiments the side information may not be transmitted but instead is derived from the received data.

When the demodulator requests a first level retransmission which was decided at the demodulator s front end by the PAPR MM decoder the PAPR MM encoder may provide the retransmission by for example selecting an alternative mapping which satisfies the peak to average power requirement and contains the same information as the original transmission. This first level retransmission may improve the efficiency of the error correction because it may obviate processing the packet by the back end of the modulator e.g. the channel encoder the interleaver and the symbol mapping module in the transmitter .

If the demodulator requests a second level retransmission a HARQ retransmission which is decided at the receiver s back end by the decoder the transmitter has the channel encoder not shown perform the error correction i.e. the retransmitted packet originates at the back end . The retransmitted packet is subsequently processed by the rest of the modulator s processing chain through the PAPR MM encoder wherein after it is transmitted back to the receiver in the mobile device .

An initial packet may be received at the receiver and pass through the PAPR MM Decoder the Symbol Demapping and the Deinterleaver modules. As used herein the term initial packet may describe a packet which has not yet been retransmitted in request to any decoding and or error correction operation s . The initial packet may then be received at the decoder and Error detection correction may be performed Block . As described earlier the Decoder may use Turbo Decoding LPDC and or any other conventional method to accomplish this task. As described above this type of correction is the second level of error correction which occurs at the back end of the demodulator . The Decoder may then determine if the initial packet contains an error which it cannot correct given the redundant information which may have been sent with the initial packet transmission B . If the packet can be corrected the receiver may notify the local transmitter to send an ACK to the base station receiver B . If the decoder determines in B that the packet cannot be corrected the Decoder may notify the local transmitter to send a NACK Type 2 to the base station receiver B . The Decoder may also provide a NACK Type 2 feedback notification to the PAPR MM Decoder so it may be initialized to perform subsequent first level error detection correction if the need arises B . This initialization may include resetting one or more statistical parameters e.g. counter s which may be used in threshold calculations described below. After the base station receiver receives the NACK Type 2 it will notify the base station transmitter to retransmit the packet and in doing so will be re encoded by the transmitter s turbo encoder i.e. in response to the NACK Type 2 the packet will be retransmitted from the back end of the transmitter . The mobile device receiver may then receive the retransmitted packet B which may be processed by the PAPR MM Decoder the Symbol Demapping module the Deinterleaver and then presented to the Decoder . The method may continue to process B described below.

Process B may begin by receiving a packet at the decoder which may perform the second level error detection correction Block . If the packet contains no error or if it is determined that packet contained an error which could be corrected by the decoder B then the decoder may provide a notification to the local transmitter to send an ACK to the base station B . If it is determined that the packet was corrupted and could not be corrected by the decoder in B then the demodulator may notify the transmitter to send a NACK Type 1 to the base station B . For example this notification may be initiated at the Decoder which may provide the notification to the PAPR MM Decoder which may in turn forward the notification to the PAPR MM decoder . The PAPR MM decoder may generate the NACK Type 1 which may be subsequently transmitted by the transmitter to the base station receiver .

In response to the NACK Type 1 being sent a transmission including a new PAPR encoding of the same symbol may be received at the front end of the demodulator B . In some embodiments additional side information may also be received to assist in the PAPR encoding e.g. SLM decoding . In other embodiments no side information may be received e.g. blind SLM decoding . The new PAPR encoding may be generated by a PAPR MM encoder residing in the base station transmitter which may be decoded by the PAPR MM decoder B . In some embodiments the PAPR decoding may utilize SLM along with received side information. In other embodiments blind SLM may be used to derive the side information from the received data itself. Known techniques such as for example maximum likelihood estimation may be used to derive an estimate of the side information. The PAPR MM decoder may further perform error detection correction on the side information if the side information was transmitted along with the new PAPR encoding as in for example conventional PAPR SLM techniques B . This operation may be performed using known error detection and convolutional error correction code techniques ECC . Alternatively if blind SLM is being used for PAPR encoding decoding and no side information was actually transmitted error detection may be based on the confidence in the estimated side information B . The confidence may be estimated by using known statistical estimators which may vary depending upon type of modulation QAM PSK etc. used for symbol mapping and demapping. If an error was detected in the side information or a low measure of confidence was calculated the PAPR MM decoder may attempt to correct this error in the side information B .

The PAPR MM decoder may then determine if the side information contains an uncorrectable error or has an unacceptably low measure of confidence if blind SLM is being used B . If the side information was correctable the PAPR demapping performed by the PAPR MM Decoder may have been successful. At this point the first level of error correction is complete and the PAPR decoded packet itself may have error detection correction performed on it at the decoder . Here the transmitted data packet and not the side information may undergo error detection correction.

If it is determined that the side information contains an error which is not correctable using the ECC information B an error metric may be computed B . The error metric may be determined by keeping a running sum e.g. using a counter of the number of erred side information values provided by the PAPR MM decoder . This metric may be compared to a threshold value B . This may be used to make a decision regarding which approach the receiver will use as a next step in the error detection correction process i.e. try again with level 1 detection correction having a NACK Type 1 sent or use level 2 detection correction in association with a HARQ retransmission by having a NACK Type 2 sent .

The threshold value used in the above determination may be computed in a variety of different ways. One exemplary threshold value T may be computed by the following equation where

If it is determined that the error metric computed in B does not exceed the threshold T in B the sum may be increased by incrementing the counter B . Afterwards the level 1 error detection correction process may reiterate by transferring control back to B where another NACK Type 1 may be sent to the transmitter . Any counters may also be incremented keeping track of the number of times the side information either received or derived was found to be defective.

If the determination in B finds that the error metric computed in B exceeds the threshold T the counter may be initialized and a notification may be provided to the local transmitter that the counter has exceeded the threshold and thus expired B . The level 2 error detection correction process may then be started by having the receiver notify the local transmitter to send a NACK Type 2 to the base station B . The receiver may then receive a retransmission of the packet itself which may originate from the back end of the base station transmitter i.e. at the base station s channel encoder B . Once the retransmitted packet passes through the PAPR MM Decoder the Symbol Demapping module and the Deinterleaver control may then be transferred to B where the decoder performs the level 2 error detection correction at the back end of the demodulator .

If the transmitter determines an ACK notification was provided by the receiver B the transmitter may proceed to the next packet by moving the buffer retransmission window forward B . If an ACK notification was not received in B the transmitter may check to see if the receiver provided a NACK Type 1 notification or if an expired counter notification was NOT received B . If a NACK Type 1 notification was received or if a expired counter notification was not received then level 1 error correction detection may be desired and a retransmitted PAPR encoding of the same symbol is formed by the PAPR MM encoder in the transmitter B . This newly PAPR re encoded packet may then be subsequently transmitted to the receiver at the base station B .

If the transmitter determines in B that a NACK Type 1 notification was not provided by receiver then a NACK Type 2 notification may have provided by the receiver . Alternatively an expired counter notification may have been provided by receiver . In either of these cases the packet may be re encoded by the channel encoder e.g. using a turbo encoder in transmitter B . This newly channel encoded packet may then be sent by transmitter over the air interface to the receiver B .

In signal flow diagram A shows the signal flows when it is determined that the side information either transmitted or derived is valid in block B as shown in .

The transmitter of the base station may send an initial packet transmission S. The initial packet may be encoded at the back end of the transmitter prior to being sent across the air interface to the receiver . The receiver may decode the initial packet at the back end of the receiver e.g. in the decoder . As described above we will assume the back end of the receiver determines the initial packet contains an uncorrectable error. As a result the back end of the receiver may then provide a NACK Type 2 notification to the back end e.g. the channel encoder of the transmitter S. The back end of the receiver may also provide a NACK Type 2 notification to the front end of the receiver e.g. PAPR MM Decoder in order to initial it for first level error detection correction operations S. In response to the NACK Type 2 notification S the transmitter may then send a NACK Type 2 across the air interface to the base station receiver which may be processed at the receiver s back end S. The receiver may provide a retransmission request to the back end of the base station s transmitter . In response the transmitter will retransmit the packet which is re encoded at the back end of the transmitter S. Here the re encoding may take place in the channel encoders.

Assuming the retransmitted packet also contains an uncorrectable error the back end of the receiver may detect the error and can send a notification to the front end of the receiver that a NACK Type 1 should be provided to the base station S. The front end of the receiver may provide a notification to the PAPR MM encoder of the transmitter that a NACK Type 1 should be transmitted S. Note that after S the NACK Type 1 counter may be incremented. This notification may be provided via the PAPR MM decoder in receiver . The transmitter at the front end may then transmit a NACK Type 1 to the receiver S. This NACK Type 1 may be processed at the front end of receiver which may in turn provide a retransmission request to the front end of transmitter S. In response to the retransmission request S the front end of the transmitter may transmit a packet which is re encoded by the PAPR MM encoder residing in base station S. This new PAPR encoding occurs on the same symbol and may only needs to be decoded by the front end of receiver in the PAPR MM Decoder . At this time the PAPR MM Decoder may determine if the side information is valid. As described above in this determination may be made in Block . It may be performed using error detection correction if the side information was actually transmitted as it is for SLM. Alternatively the side information may have been derived if blind SLM is used and therefore a statistical metric may be calculated to determine the validity of the derived side information. If it is determined that the side information is valid the PAPR MM Decoder at the front end of the receiver may notify the back end of the transmitter to transmit an ACK to the base station S. The transmitter may respond by transmitting the ACK to the receiver at the base station which may be decoded at this receiver s back end.

In signal flow diagram B shows the signal flows when it is determined that the side information either transmitted or derived is not valid in block B and the error correction metric is not exceed in B as shown in . The signals S through S may be the same as described above and need not be repeated.

If in Block shown in it is determined that the side information is not valid and it is further determined that the error correction metric threshold is not exceeded in Block the following signal flows may occur. Initially the front end of the receiver may notify the front end of the transmitter to transmit a NACK Type 1 S. This may be done by the receiver s PAPR MM decoder . In addition the PAPR MM decoder may increment the counter to track the number of NACK Type 1 notifications that have been sent. The front end of the transmitter may respond by transmitting a NACK Type 1 S. This NACK Type 1 may be processed by the front end of the base station s receiver . The front end of the receiver may provide a retransmission request to the front end of transmitter S. In response the front end of the transmitter may transmit data which has been re encoded by the PAPR MM encoder of the transmitter S. The retransmitted PAPR re encoding may be decoded at the front end of the receiver in the PAPR MM Decoder .

In signal flow diagram C shows the signal flows when it is determined that the side information either transmitted or derived is not valid in block B and the error correction metric is exceed in B as shown in . The signals S through S may be the same as described above and need not be repeated here.

Initially the receiver front end may send a notification to the receiver s back end to prepare a NACK Type 2 S. The front end may also initialize the NACK Type 1 counter to zero. The receiver s back end may in turn notify the back end of transmitter to generate a NACK Type 2 which the transmitter will subsequently transmit S. This NACK Type 2 may be decoded by the back end of receiver at the base station. The back end of the receiver may provide a retransmission request to the back end of the transmitter S. The transmitter may re encode the packet at the back end using the channel encoders and then retransmit the channel re encoded packet S. This packet may be decoded at the back end of the receiver .

If no side information is transmitted with the incoming signal e.g. as in blind SLM the side information may be derived in the side information decoder module from the incoming signal data itself. Moreover the derived side information may be validated using standard statistical methods in block . Once the side information decoder module derives the side information it may be provided to the symbol detection module and the PAPR decoding may proceed as described above.

If the side information decoder module determines the quality of the side information the NACK Type 1 generation logic module may signal the local mapper and decoder to send an ACK. The ACK may not necessarily be an explicit signal or packet. It may implicit in that by just sending the PAPR output to the decoder the ACK may be assumed.

If the NACK Type 1 generation logic module may maintain a counter of hoe often the side information is invalid. If this counter produces a metric which exceed a threshold a NACK Type 2 may be sent to the base station transmitter. If the metric is not exceeded a NACK Type 1 may be sent to the base station transmitter.

If no side information is transmitted with the incoming signal e.g. as in blind SLM the side information may be derived in the side information decoder module from the incoming signal data itself. Moreover the derived side information may be validated using standard statistical methods in block . Once the side information decoder module derives the side information it may be provided to the symbol detection module and the PAPR decoding may proceed as described above.

If the side information decoder module determines the quality of the side information the NACK Type 1 generation logic module may signal the local mapper and decoder to send an ACK when the number of errors within a window does not exceed a threshold e.g. the error correction metric threshold . The ACK may not necessarily be an explicit signal or packet. It may implicit in that by just sending the PAPR output to the decoder the ACK may be assumed.

If the NACK Type 1 generation logic module may maintain a counter of how often the side information is invalid. If this counter produces a metric which exceed a threshold a NACK Type 2 may be sent to the base station transmitter. If the metric is not exceeded a NACK Type 1 may be sent to the base station transmitter.

In addition to performing the above functions the base station receiver may schedule the transmission of the NACK Type 1 NACK Type 2 and ACK packet data from different mobile stations using the Scheduler module . In some cases the base station may turn off NACK Type 1 functionality to mobile devices which cannot accommodate the first level error detection.

The base station PAPR encoder may also buffer all the user data in the scheduler and then notifies the SSMLM retransmit the same according to the slot or code of the user.

The mobile device may have a platform that can exchange data and or commands over the network . The platform can include one or more mobile RF modules operably coupled to an application specific integrated circuit ASIC or other processor microprocessor logic circuit or any other data processing device. The ASIC or other processor may execute an application programming interface API layer that interfaces with any resident programs stored in the memory of the mobile device . The memory can be comprised of read only and or random access memory RAM and ROM EEPROM flash cards or any memory common to such platforms.

Various communication protocol layers used by the wireless network may also reside in the platform which may execute various commands and processes at different layers not shown in . The communication protocol layers may include for example a Radio Resource Control RRC layer a Radio Link Control RLC layer a Medium Access Control MAC layer and a Physical Layer L1 . Information received for the physical layer may be decoded and transferred between the various layers MAC RLC and RRC. Consistent with the HSDPA standard introduced in 3GPP Release 5 the higher layers may transfer traffic data packets using a High Speed Downlink Shared Channel HS DSCH . The same applies for the other HSDPA channels which include the uplink High Speed Dedicated Physical Control Channel HS DPCCH which carries ACK NACK feedback information and the downlink High Speed Shared Control Channel HS SCCH which carries control information associated with the HS DSCH.

A portion of memory may be dedicated storing both data and or instructions consistent with the methods presented herein. For example the memory used for storing soft bits of HS DSCH Transport Block Sizes also referred as packets associated with the HARQ processes. In accordance with the HS DSCH physical layer L1 the HARQ buffer may be divided into smaller buffers which may be used for incremental redundancy IR recombination processing each dedicated to one process. On each process these soft bits represent the H ARQ data stored between the two stages of HS DSCH physical layer rate matching a version of which is carried during each transmission. The individual buffers aforementioned are hereinafter referred to as HARQ buffer memory locations. Each HARQ buffer memory location may have a number of soft bits or size for each HARQ process.

Various communication protocol layers used by the wireless network may also reside in the platform which may execute various commands and processes at different layers not shown in . The communication protocol layers may include for example a Radio Resource Control RRC layer a Radio Link Control RLC layer a Medium Access Control MAC layer and a Physical Layer L1 . Information received for the physical layer may be decoded and transferred between the various layers MAC RLC and RRC.

A portion of memory may be dedicated storing both data and or instructions consistent with the methods presented herein. For example the information contained in all HARQ processes collectively is stored in a virtual IR buffer in memory .

Accordingly an embodiment of the invention can include the mobile device including the ability to perform the functions described herein. The various logic elements can be embodied in discrete elements software modules executed on a processor or any combination of software and hardware to achieve the functionality disclosed herein. For example the ASIC and the memory may all be used cooperatively to load store and execute the various functions disclosed herein and thus the logic to perform these functions may be distributed over various elements. Alternatively the functionality could be incorporated into one discrete component e.g. in embedded memory in the ASIC processor . Therefore the features of the mobile device in are to be considered merely illustrative and the invention is not limited to the illustrated features or arrangement.

One will appreciate that information and signals may be represented using any of a variety of different technologies and techniques. For example data instructions commands information signals bits symbols and chips that may be referenced throughout the above description may be represented by voltages currents electromagnetic waves magnetic fields or particles optical fields or particles or any combination thereof.

Further one will appreciate that the various illustrative logical blocks modules circuits and algorithm steps described in connection with the embodiments disclosed herein may be implemented as electronic hardware computer software or combinations of both. To clearly illustrate this interchangeability of hardware and software various illustrative components blocks modules circuits and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Individuals may implement the described functionality in varying ways for each particular application but such implementation decisions should not be interpreted as causing a departure from the scope of the present invention.

The methods sequences and or algorithms described in connection with the embodiments disclosed herein may be embodied directly in hardware in a software module executed by a processor or in a combination of the two. A software module may reside in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers hard disk a removable disk a CD ROM or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such that the processor can read information from and write information to the storage medium. In the alternative the storage medium may be integral to the processor.

Accordingly an embodiment of the invention can include a computer readable media embodying a method for reducing HARQ retransmissions using power management techniques.

Accordingly the invention is not limited to illustrated examples and any means for performing the functionality described herein are included in embodiments of the invention.

While the foregoing disclosure shows illustrative embodiments of the invention it should be noted that various changes and modifications could be made herein without departing from the scope of the invention as defined by the appended claims. The functions steps and or actions of the method claims in accordance with the embodiments of the invention described herein need not be performed in any particular order. Furthermore although elements of the invention may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

