---

title: Method and apparatus for in-flight calibration of gyroscope using magnetometer reference
abstract: The system includes a mobile vessel having a body axis and a steering mechanism. A three-axis gyroscope is mounted within the vessel. A three-axis magnetometer is mounted within the vessel. A programmable device communicates with the three-axis gyroscope, the three-axis magnetometer, and the steering mechanism. The three-axis gyroscope may include three single axis gyroscopes.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08146401&OS=08146401&RS=08146401
owner: BAE Systems Information and Electronic Systems Integration Inc.
number: 08146401
owner_city: Nashua
owner_country: US
publication_date: 20080917
---
The invention was made with United States Government support under Contract No. HR0011 05 C 0577. The United States Government has certain rights in this invention.

The present invention is generally related to guidance systems and more particularly is related to a method and apparatus for in flight calibration of gyroscope using magnetometer reference.

Munitions guidance is typically implemented with proportional navigation. Assuming that both the target and guided system are moving in straight lines with constant velocity the two systems will collide if the angle between the guided system velocity vector and the vector pointing to the target remains constant with time. Of course neither the target nor the guided system remains at a constant velocity or direction. This is why the guidance solution is a closed loop control with continuous updates to impact.

Munitions generally derive the majority of their lift from the angle of attack of the body. The canards or wings on munitions generate the force that rotates the munitions about its center of gravity CG in opposition to the restoring force of the tail in order to generate angle of attack. The wings are generally too small to generate significant lift themselves. It is the angle of attack of the body that generates the majority of the maneuver acceleration. A small munitions with little surface area must generate large angles of attack in order to maneuver.

In a strap down seeker the vector projection of the boresight is not coincident with the vector direction of travel due to the angle of attack required for maneuver. A round traveling at 150 m sec with a miss distance of 100 meters at a range of 1000 meters will have a line of sight rate on the order of 0.002 degree second given a 20 Hz sample rate on the target location. Precise sensing of the body motion is required in order to eliminate the dominant component of body motion which is perhaps three orders of magnitude greater in the sensed target line of sight rates.

Gyroscopes area key expense in precision guided weapons. Devices meeting the scale factor and bias requirements of typical guidance systems cost thousands of dollars. Less expensive devices are known in the industry but these devices have temperature sensitive scale factor and bias. In addition the bias has been shown to be unpredictable over time and testing has shown the biases to be sensitive to shock associated with the launch of precision guided weapons.

Thus a heretofore unaddressed need exists in the industry to provide a relatively inexpensive gyroscope capable of reliable performance on precision guided weapons.

Embodiments of the present invention provide a system and method for calibrating a gyroscope in motion aboard a mobile vessel. Briefly described in architecture one embodiment of the system among others can be implemented as follows. The system includes a mobile vessel having a body axis and a steering mechanism. A three axis gyroscope is mounted within the vessel. A three axis magnetometer is mounted within the vessel. A seeker is mounted within the vessel. A programmable device communicates with the three axis gyroscope the three axis magnetometer the seeker and the steering mechanism.

The present invention can also be viewed as providing methods for calibrating a gyroscope in motion. In this regard one embodiment of such a method among others can be broadly summarized by the following steps launching a mobile vessel having a body axis calibrating a three axis gyroscope mounted within the mobile vessel using a three axis magnetometer and a programmable device mounted within the vessel and altering a direction of the mobile vessel using a steering mechanism based on transformations measured by the gyroscope.

Other systems methods features and advantages of the present invention will be or become apparent to one with skill in the art upon examination of the following drawings and detailed description. It is intended that all such additional systems methods features and advantages be included within this description be within the scope of the present invention and be protected by the accompanying claims.

The mobile vessel is initially conceived to be an airborne projectile more specifically a missile. The mobile vessel may also be a torpedo or other water based projectile. These mobile vessels may suffer from significant G forces at launch that would necessitate recalibration of inexpensive gyroscopes. Other mobile vessels that could make use of this calibration system may include unmanned air land or water based vehicles although presently these types of vessels use more expensive gyroscopes that are resistant to calibration disturbances. The body axis generally runs back to front or front to back along the mobile vessel .

The steering mechanism will vary with the selection of a mobile vessel . Airborne projectiles generally utilize movable fins to provide steering capability. However the steering mechanism could be any device capable of influencing the direction of the mobile vessel .

The seeker is used to sense the target and is generally placed to provide a forward view. The seeker may consist of a simple sensor that determines direction based on a laser designation the seeker can be radar based or it can use an imaging system to detect and track the target. The programmable device uses angle measurements from the seeker in combination with precise measurements of body rates from the gyroscopes to generate commands to the steering mechanism in order to intercept the target. Seekers are known to those having ordinary skill in the art and all seekers known in the art are considered to be within the scope of the present invention.

The in flight calibration disclosed herein allows the use of inexpensive gyroscopes for guidance applications. The system calibrates the gyroscopes in flight using magnetometers as a truth reference. Magnetometer measurements by themselves cannot uniquely determine a transformation from one Cartesian system to another for direct application in the guidance solution. However the magnetometer measurements can be uniquely related to the gyroscope measurements. The magnetometer can then be used as a reference to calibrate gyroscopes which are then used to measure the transformations required for the guidance solution.

In order to describe the calibration approach two Cartesian coordinate systems are defined. One Cartesian coordinate system is assumed to be a fixed inertial referenced system substantially invariant over at least the geographic range of the munitions. This inertial referenced system is defined as fixed in inertial space with its z axis aligned to the earth s local magnetic vector . The second Cartesian coordinate system is defined in a body referenced coordinate system A with the x axis aligning with the body axis directed out the nose of the mobile vessel the y axis out the left side of the mobile vessel and the z axis out of the bottom of the mobile vessel . These reference systems are not limiting other reference systems may be applied with appropriate conversions in mathematical derivation relating the body fixed and inertial fixed reference systems. The body referenced coordinate system A varies with respect to the fixed inertial referenced system over time as the munitions maneuvers. A vector can be transformed from inertial referenced space to the body reference space using a direction cosine matrix as defined in Equation 1.

The guided munition carries a three axis gyroscope preferably mounted to measure the rotation about the body referenced x y and z axis. The gyroscope can be mounted in any orientation relative to the body reference coordinate system A. In this case the rotations p q r are referenced to a gyroscope local coordinate system. The rotation about the x axis is measured as an angular rate p the rotation about the y axis is measured as an angular rate q and the rotation about z axis is measured as an angular rate r. The three axis gyroscope may be formed by three single axis gyroscopes a p gyroscope P that measures angular rate p a q gyroscope Q that measures angular rate q and an r gyroscope R that measures angular rate r. Each single axis gyroscope P Q R of the three axis gyroscope may be mounted at any known angle relative to the body axis preferably such that the three gyroscope axes are orthogonal to each other. The body angular rates and the Euler angle rates are related as defined by Equation 2.

The gyroscope measurements can be related to the true body rates with their unknown scale and bias terms as 9 10 11 Applying Equations 9 through 11 to the first two rows of equation 2 dot over sin tan sin tan cos tan cos tan 12 dot over cos cos sin sin 13 Equations 12 and 13 form the basis for many possible implementations of estimators wherein the approach may be dictated in part by the scenario and available timeline. Rapid convergence is achieved by minimizing the unknown states in the estimator. As previously noted inexpensive gyroscopes have predictable and repeatable scale factors that vary with temperature. The gyroscopes generally include a temperature sensor to support the calibration over temperature. With the calibration of the scale factor the equations can be rewritten as 

An alternative approach to minimization of unknown states may be used when supported by timeline. For instance a ballistic projectiles seeker cannot observe the target for guidance until post apogee. In this case during the ascent prior to apogee the vehicle can be maneuvered into orientations that isolate states and perform dedicated maneuvers to support scale factor calibration. Another key advantage is that the individual estimators are less sensitive to misalignment between the gyroscopes and magnetometers allowing additional flexibility in system design.

The munition has the capability of rolling to orient the magnetic field relative to the y and z axis and therefore controlling the roll angle . Rolling the munitions to set to ninety degrees Equation 13 may become dot over 20 

In order to support scale factor calibration the munition can perform a controlled body referenced yaw maneuver in order to measure the r gyroscope R scale factor and bias. In this orientation the yaw maneuver generates a disturbance on the r gyroscope R while maintaining near zero disturbance on the q gyroscope Q. The roll orientation is maintained such that cos is near zero. The measurement of dot over is made using magnetometer measurements through Equation 6 and calculating the difference divided by the sample time. The scale factor and bias is computed using an estimator based on Equation 20 gyroscope 12 measurements and the rates derived from the magnetometer .

The system next orients to zero in order to null the measurement from the r gyroscope R. In this orientation Equation 12 can be approximated as dot over tan 21 The r gyroscope R bias and scale factor has been previously calibrated so a corrected measurement of the r body rate is available for the calibration of the p gyroscope P. The system performs a maneuver with the vessel about the roll axis in order to calibrate the p gyroscope P scale and bias using an estimator based on Equation 21.

Also in this orientation Equation 13 can be approximated as dot over 22 The vessel next executes a body referenced pitch maneuver to support the calibration of the bias and scale factor of the q gyroscope Q using an estimator based on Equation 22.

The mobile vessel may include a significant ferrous body encompassing an explosive. The ferrous material carries a system dependent magnetic field. The location of the magnetometer may be forward of the ferrous body and close to the body axis . The lines of flux at this location are primarily coincident with the x axis of the mobile vessel . The ferrous body may also be subjected to high levels of shock for example that may cause a change in the magnetic characteristics of the ferrous body. Given that the bias subsequent to launch is unknown the system may use knowledge of the local earth magnetic field or incorporate an estimator to determine the magnetic bias due to the body. Following launch the bias introduced by the body can be determined from knowledge of the total field amplitude and the measurements made by the on board magnetometer .

The gyroscope may include three single axis gyroscopes P Q R mounted independently in the mobile vessel and separated from the magnetometer . This arrangement may impede potential calibration accuracy due to tolerance build up between the magnetometers and the gyroscopes. One preferred implementation would place these devices within close proximity to each other. Performance improvements and simplification in the calibration approach may be achieved if the single axis gyroscopes P Q R and the magnetometer can be mounted in closer proximity in order to maintain orthogonal and known angular relationships relative to each other for instance mounted on a common stiff structure. In order to counter issues related to the location tolerancing the system may calibrate each axis individually as previously described.

The programmable device may be arranged to receive at least one output from the three axis gyroscope and at least one output from the three axis magnetometer and transmit at least one signal to the steering mechanism . More specifically the programmable device may receive data from the gyroscope and the magnetometer and perform the calculations discussed herein. Further the programmable device may track a position and or vector of a target and control the steering mechanism to cause the mobile vessel to adopt or maintain an intercept course. In this regard operating a steering mechanism with a programmable device based on data from a calibrated gyroscope is known to one of ordinary skill in the art and for this reason is not discussed further.

As is shown by block a mobile vessel having a body axis is launched. A three axis gyroscope mounted within the mobile vessel is calibrated using a three axis magnetometer and a programmable device mounted within the vessel block . A direction of the mobile vessel is altered using a steering mechanism based on transformations measured by the gyroscope block .

The method of calibrating the gyroscope may also include altering a direction of the mobile vessel to calibrate at least one axis of the gyroscope . Each axis of the gyroscope may be calibrated with a single maneuver such that calibrating all three axes may require three maneuvers. These maneuvers may require five seconds or more. Guided munitions fired from mortars may have an ascent of approximately five seconds and a decent of approximately five seconds. The significant G forces of this type of guided munitions are realized immediately. Thereafter the mobile vessel may perform maneuvers on ascent such that it is calibrated approximately at the time descent begins which may also be when steering is most critical. The calibration time and the flight time of this particular vessel limit the gyroscope to a single in flight calibration.

It should be emphasized that the above described embodiments of the present invention particularly any preferred embodiments are merely possible examples of implementations merely set forth for a clear understanding of the principles of the invention. Many variations and modifications may be made to the above described embodiments of the invention without departing substantially from the spirit and principles of the invention. All such modifications and variations are intended to be included herein within the scope of this disclosure and the present invention and protected by the following claims.

