---

title: System and method for managing conditional access blackout events in a video data distribution system
abstract: A computer readable medium containing instructions that when executed by a computer configure blackout event data indicating at least one event criterion data for selecting client devices subject to the blackout event for restricted content data; configure client devices into a client device group subject to the blackout event in accordance with the event criterion data; configure at least one substitution event data table for the client device group; and send restricted content and the substitution event data table embedded in the restricted content data to each client device in the client device group.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08245263&OS=08245263&RS=08245263
owner: AT&T IP I, LP
number: 08245263
owner_city: Atlanta
owner_country: US
publication_date: 20081117
---
This application is related to co pending applications U.S. Ser. No. 12 271 964 and U.S. Ser. No. 12 271 974 both of which were filed the same day as the present application Nov. 17 2008.

The disclosure relates to the field of video data distribution systems and more specifically to systems and methods for managing software based conditional access to content.

Content providers deliver content via broadcasts to a number of users and or deliver content via on demand processing based on requests received and content availability. Content providers who have not negotiated broadcast rights for specific programming in certain geographical regions are obligated to restrict access or blackout the content in particular geographical areas. Content providers commonly provide alternative or substituted content that may be shown in areas where the primary content has been blacked out. A content provider typically encrypts and multiplexes the primary and alternative content in channels for transmission to various cable head ends. These signals are de multiplexed and transmitted to integrated receiver decoders IRDs which decrypt the content.

In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of an embodiment of the present invention. It will be evident however to one skilled in the art that the present invention may be practiced without these specific details. This disclosure describes a process to link data logged to a video client set top box during a blackout retune event with data logged on the server side and data logged in a provisioning system for the purpose of verifying proper execution of the blackout event for set top boxes located in various geographic locations.

For an Internet Protocol Television IPTV system a software based blackout system is a novel approach to selectively providing alternate programming in the place of default services for certain geographies based upon content providers demands. In order to prove to the content providers that the blackout events are having the desired outcome at the client s set top box a process is provided to analyze reported retune data collected on the set top boxes and map the retune data to event data about the events themselves stored within an electronic data warehouse having mass computer readable medium storage for the data. The client device retune data in this case an STB retune data that are logged occur at the time of retune combining these data with the data stored about the event and the restriction data from the provisioning system can be used to verify that the appropriate service appeared at the time the blackout event was in force.

In an illustrative embodiment verification of retune data correlated with black out event data is provided to prove that a blackout event has occurred at a given set top box. In illustrative embodiment retune data collected at the client device in a data distribution network such as an STB. The retune data includes the service switched to and the service switched from along the time of switching. This reported STB retune data is correlated with the collection of related services available for switching during an event referred to as the substitution collection data as well as the substitution table version and time and date information with server side data about blackout events to derive an overall snapshot of an outcome of a blackout event. Using account information about the geographic location of the set top box and the data from the server about the overall blackout event such as when the blackout started and end in the geographic region the specific behaviors of a group of STBs in a region subject to a blackout during an event can be determined and matched to the configured specifics of the blackout event.

In another illustrative embodiment a computer readable medium is disclosed containing instructions that when executed by a computer configure blackout event data for a blackout event in a data distribution system the computer program including but not limited to instructions to configure at the data distribution system blackout event data indicating at least one event criterion data for selecting client devices subject to the blackout event for restricted content data instructions to configure in a Blackout Management system at the data distribution system client devices into a client device group subject to the blackout event in accordance with the event criterion data instructions to configure in a Blackout Management system at the data distribution system at least one substitution event data table for the client device group and instructions to send from the Blackout Management system the data distribution system restricted content and the substitution event data table embedded in the restricted content data to each client device in the client device group.

In another illustrative embodiment of the medium the computer program further includes instructions to display graphical display data indicating a graphical representation of a set of blackout event status data and instructions to dynamically update the graphical display data indicating data blackout event status data when a change occurs in the blackout event status data. In another embodiment of the medium the blackout event status data is selected from the group of data consisting of start time data end time data event name data and restriction criterion data. In another embodiment of the medium computer program further includes but not limited to instructions to display a graphical warning prior to the occurrence of a time selected from the group consisting of a start time and an end time. In another embodiment of the medium the computer program further includes but not limited to instructions to receive at the Blackout Management system retune activity data from at least one of the client devices in the client device group and correlating at the Blackout Management system the blackout event data with the retune activity data to verify the occurrence of the blackout event in the client devices. In another embodiment the instructions to receive retune data further include but are not limited to instructions to retune data in a batch process alter blackout events have occurred. In another embodiment of the medium correlating further includes but is not limited to comparing time of day data for the retune activity data for the client devices in the client device group to time of day for the blackout event data to verify that the retune activity data coincides with the blackout event data.

In another embodiment of the medium the restricted data is restricted based on at least one criterion selected from the group consisting of geographic restriction criterion data and demographic restriction criterion data. In another embodiment of the medium the restricted data is selected from the group consisting of video data and audio data. In another embodiment of the medium the blackout event table data indicates a retune location to which a client device retunes after initially tuning to a data feed containing the restricted data during the blackout event.

In another illustrative embodiment a client computer readable medium is disclosed containing computer program instructions data the computer program including but not limited to instructions embedded in the computer readable medium that when executed by a computer perform a method for performing a blackout event at a client device the computer program further including but not limited to instructions to receive at the client device from a Blackout Management System restricted content data and substitution event table data embedded in the restricted content data and instructions to send over the second client processor interface to the Blackout Management System client device retune activity data from the client device for correlating at the internet protocol television system blackout event data with the retune activity data to verify the occurrence of the blackout event at the client device.

In another embodiment of the client medium the computer program further includes but is not limited to instructions to retune at the client device to a retune location indicated in the substitution event table data after initially tuning at the client device to a data feed containing the restricted data during a blackout event. In another embodiment of the client medium the computer program further includes but is not limited to instructions to encode retune activity data with a code indicating that retune activity occurred as a result of the substitution event table data rather than a voluntary retune by a user at the client device.

In another embodiment a Blackout Management system for configuring blackout event data for a blackout event in a data distribution system the system including but not limited to a processor in data communication with a computer readable medium a first processor interface for receiving blackout event data a second processor interface for receiving event criterion data a third processor interface for sending substitution event table data a computer program including but not limited to instructions embedded in the computer readable medium that when executed by a computer configure blackout event data for a blackout event in a data distribution system the computer program further including but not limited to instructions to configure in the Blackout Management system blackout event data indicating at least one blackout event criterion data for selecting client devices subject to the blackout event for restricted content data instructions to configure in the Blackout Management system client devices into a client device group subject to the blackout event in accordance with the event criterion data instructions to configure in the Blackout Management system at least one substitution event data table for the client device group and instructions to send from the Blackout Management system restricted content data and the substitution event table data embedded in the restricted content data to each client device in the client device group.

In another embodiment of the system the computer program further includes but is not limited to instructions to display graphical display data indicating a graphical representation of a set of blackout event status data and instructions to dynamically update the graphical display data indicating data blackout event status data when a change occurs in the blackout event status data. In another embodiment of the system the blackout event status data is selected from the group of data consisting of start time data end time data event name data and restriction criterion data. In another embodiment of the system the computer program further includes but not limited to instructions to display a graphical warning prior to the occurrence of a time selected from the group consisting of a start time and an end time.

In another embodiment of the system the system program further includes but not limited to a fourth processor interface for receiving retune activity data from at least one of the client devices in the client device group the computer program further including but not limited to instructions to correlate at the Blackout Management system the blackout event data with the retune activity data to verify the occurrence of the blackout event in the client devices. In another embodiment of the system the computer program instructions to correlate further include but is not limited to instructions to compare time of day data for the retune activity data for the client devices in the client device group to time of day for the blackout event data to verify that the retune activity data coincides with the blackout event data. In another embodiment of the system in the computer program the restricted data is restricted based on at least one criterion selected from the group consisting of geographic restriction criterion data and demographic restriction criterion data In another embodiment of the system the restricted data is selected from the group consisting of video data and audio data. In another embodiment of the system the blackout event table data indicates a retune location to which a client device retunes after initially tuning to a data feed containing the restricted data during the blackout event.

In another embodiment a client device is disclosed for controlling access to restricted content data received at the client device for performing a blackout event at the client device in a data distribution system the client device including but not limited to a client processor in data communication with a computer readable medium a first client processor interface for receiving blackout event table data from a Blackout Management system a second client processor interface for sending retune data from the client device to the Blackout Management system and a computer program including but not limited to instructions embedded in the computer readable medium that when executed by a computer perform a method for performing a blackout event at the client device the computer program further including but not limited to instructions to receive at the client device from the Blackout Management System restricted content data and substitution event table data embedded in the restricted content data and instructions to send over the second client processor interface to the Blackout Management System client device retune activity data from the client device for correlating at the internet protocol television system blackout event data with the retune activity data to verify the occurrence of the blackout event at the client device. In another embodiment of the client device the computer program further includes but not limited to computer program further including but not limited to instructions to retune at the client device to a retune location indicated in the substitution event table data after initially tuning at the client device to a data feed containing the restricted data during a blackout event. In another embodiment of the client device the computer program further includes but is not limited to instructions to encode retune activity data with a code indicating that retune activity occurred as a result of the substitution event table data rather than a voluntary retune by a user at the client device.

As shown at a particular illustrative embodiment provides a GUI or data interface to the Blackout Management system or automated software that enables a user to configure Account Geographies data in accordance with a requested blackout by a content provider. In a particular illustrative embodiment client devices such as STBs are placed into geographic groups such as zip codes or other geographic criterion. For example a HOUSTON TEXANS Football game if not sold out would be unavailable in the Houston Texans geographic region. Thus those client devices or STBs in the Houston geographic area would be placed in a group of client devices subject to a conditional access blackout of the HOUSTON TEXANS Football game. The data indicating the group of client devices subject to a conditional access blackout of the HOUSTON TEXANS Football game are sent to the Blackout Management System which forwards the Account Geographies data to IPTV systems for distribution to subscriber STBs associated with particular subscriber accounts. Each STB in the group of the STBs subject to the blackout are sent substitution collections data and blackout event substitution table data direct these STBs to retune to an alternate video feed or JPEG as defined in the substation collection and substitution event table.

Continuing with a particular illustrative a particular illustrative embodiment provides a GUI or data interface to the Blackout Management system or automated software that enables a user to configure Blackout Retune events data. The Blackout Retune events data includes but is not limited to defining data for populating a blackout event substitution table data structure. The blackout event substitution data structure includes but is not limited to data sent to STBs instructing the STBs to retune to alternate video feeds or JPEG data during blackout of primary video data at the STBs. The Blackout Retune events data is sent to the Blackout Management System which forwards the Blackout Retune events data to IPTV systems for distribution to subscriber STBs associated with particular subscriber accounts. Continuing with a particular illustrative a particular illustrative embodiment provides a GUI or data interface to the Blackout Management system or automated software that enables a user to monitor active events.

Turning now to as shown in a graphic depiction of color coded events and are presented showing status of the selected blackout events. The events are identified by event identifiers and . A color coded bar showing the status of the event along with the time of day scale . Status includes but is not limited to start time end time and expiration warnings. For example a HOUSTON TEXANS football game event in which is subject to a blackout would be displayed initially on the graphical display showing a scheduled start time noon and end time 3 30 PM for example noon to 3 30 PM on a Sunday. The black display can begin flashing off and on five minutes before the blackout is scheduled to start in order for an operator to ensure that the blackout event data is accurate and to make last minute adjustments to the blackout event data. The game schedule could be displayed in black prior to the start of the game and displayed in green when the game starts. The green display can begin flashing five minutes before the blackout is scheduled to expire. If the end of the game is delayed for overtime an operator can extend the blackout until the game is over by making changes to the blackout event substitution table data reflected in the Monitor Active events data. The Monitor Active events data is exchanged with the Blackout Management System which forwards the changes in blackout event substitution data and associated changes in data to IPTV systems for distribution to subscriber STBs associated with particular subscriber accounts.

Continuing with a particular illustrative a particular illustrative embodiment provides a GUI or data interface to the Blackout Management system or automated software that enables a user to Report Audit Past events to verify that the blackout events occurred as requested by the content provider. The Report Audit Past events data includes but is not limited to geographic data retune data and event data as discussed below. The Report Audit Past events data is exchanged with the Blackout Management System which exchanges the Report Audit events data with IPTV systems and subscriber STBs associated with particular subscriber accounts.

Turning now to a flow chart is depicted for functions performed in an illustrative embodiment. No particular order is dictated by the arrangement of functions shown in . Some of the functions may be excluded from or executed in a different order in other embodiments. In a particular illustrative embodiment function performance initiates at terminal and proceeds to block in which an EDW receives geographic data blackout event data and STB retune data all of which are stored in a mass computer readable media at the EDW. At block an EDW processor at the EDW correlates the STB retune data with blackout event data for each geographic region. At block the EDW processor then verifies that the blackout occurred for STBs in each geographic region in accordance with the blackout event data for each geographic region. In another particular embodiment STB can be subject to black out based on another criterion such as a demographic restriction. For example all STBs associated with subscribers in a particular demographic group such as income over 100 000.00 will be shown a primary video feed on channel 1 and all STBs all STBs associated with subscribers in another particular demographic group such as income under 100 000.00 will be retuned under the black out data to a secondary video feed on channel 2 during a particular financially oriented program.

Returning to the geographic blackout example of at block the EDW processor then verifies the blackout event data issued at the SHO. The SHO event data is sent in STB retune messages sent to STBs in geographic regions where content providers have requested a blackout event. For example the DALLAS COWBOYS football game may be blacked out in Dallas Tex. when the game is not sold out within 72 hours before kickoff according to a request by a content provider i.e. the National Football League . In this case STBs associated with viewers in Dallas would receive retune instructions in the form of substitution event table data. The substitution event table data are embedded in the content from the NFL. The substitution event table defines alternate events for STBs in the Dallas geographic region during the Cowboys game and instructs the STBs in the Dallas geographic region to retune to another video data feed during the Dallas Cowboys football game. Thus when viewers in Dallas tune to the Dallas game STBs associated with the Dallas viewers are retuned to another football game such as the OAKLAND RAIDERS football game on an alternate video stream or feed on the same channel as the Cowboys game. The retuning activity during the Dallas game is logged at the STBs associated with the Dallas viewers. A special code is used indicating that the retuning occurred in accordance with the substitution event table to differentiate the retuning activity from voluntary retuning such as channel surfing by the viewer.

At block the EDW verifies blackout event data issued at the SHO for regions in which content providers have requested a blackout event. For example client STBS associated with the viewers in Dallas would receive retune message data including but not limited to the substitution event table data in video content data received when the viewers tuned their STBs during the DALLAS COWBOYS game to the IPTV channel on which the DALLAS COWBOYS game is scheduled to be presented. STBs associated with these viewers store STB retune data with a code indicating that the STB retune was associated with black out event data and occurred at a particular time. STB retune activity initiated by the viewer such as channel surfing or other voluntary changing channels are coded with a different identifier than retune data associated with a blackout event. Thus the option is presented to report all STB retune data or only STB retune data associated with a blackout event upstream to the EDW.

STBs report retune activity data also referred to herein as retune data to the EDW to indicate what retuning activity changing channels activity viewers performed when presented with retune message data during the DALLAS COWBOYS game. The EDW receives the retune activity data from the STBs. The retune activity data is correlated or compared with the blackout event data for the Dallas region to verify that STBs tuned during the COWBOYS game to the channel on which the DALLAS COWBOYS game was presented retuned to another video stream or video feed to view alternate programming on the same channel or tuner position as the DALLAS COWBOYS game. At block the EDW processor verifies the occurrence of the blackout event at the client device level for regions in which content providers have requested a blackout event. In a particular illustrative embodiment the process ends at terminal .

Turning now to an architectural overview is depicted in . In particular illustrative embodiment acquisition services comprises a content provider that provides live data from acquisition of video data at a live event such as a foot ball game. The content provider passes the live acquisition video data to a live acquisition element at a SHO in an IPTV system . The SHO passes the live video data received from the content provider to an integrated receiver decoder IRD . The IRD encodes the live video data in an MPEG 2 video data stream and sends the MPEG 2 video data stream to a down stream IPTV server encoder in an IPTV system node such as a VHO and to a blackout proxy server in video operations .

The blackout proxy server parses blackout event information from the MPEG 2 video data stream. The blackout proxy server sends the blackout event data to the SDP . Operations personnel or a processor at the SDP analyzes the event data and creates geographic restriction codes GRCs defining geographic regions for viewers GRC sets for different content providers and substitution collection data defining what services or feeds can be substituted for the event in each region. In another particular embodiment the blackout proxy server sends blackout event data specific to an event wherein the geographic information is preconfigured and not determined as a result of the receipt of the blackout event data. The preconfigured GRC data would indicate which geographies are involved but not what those geographies are. The SDP sends the blackout data including but not limited to substitution collection data GRC sets GRC data and substitution event table data to the IPTV system. The IPTV system then sends the black out data to appropriate STBs. The IPTV system encodes the blackout information into the video data stream for those STBs which are in geographic areas subject to the blackout.

In another embodiment STBs subject to the blackout are selected upon criteria different than geographic location criteria such as demographics criteria. The substitution service forms a substitution event table and embeds the substitution event table data in content sent to the STBs. The substitution table data are embedded in the video data stream and sent to the STBs. Each STB stores retune activity data in retune data logs which are collected by the IPTV system during substitution collection. The retune event data logs are sent upstream to the EDW where the EDW processor correlates the retune log data with blackout events in each region for each event subject to a blackout.

Turning now to a substitution event table data structure containing data embedded in a computer readable medium is illustrated. The substitution table data structure is generated and populated with blackout event data in a particular illustrative embodiment. The substitution event data embedded in the substitution event table data structure illustrated in are sent to each STB in content data during a blackout event. Restricted content is available for viewing at client devices meeting a certain criterion including but not limited to geography criterion data and demographic criterion data. The substitution event table data are embedded into the restricted content data sent to the STBs. In the current example as shown in an STB in a Grouping Geography GRC which is subject to a scheduled black out event is retuned to SPNc when tuning to geographically restricted content data on SPN. As shown in FIG. services provided on IPTV channels which channels need not be dedicated as channels assignments for video fees may vary are listed in rows of the data structure. In the present example services SPN SPN SPNa and SPNc etc are listed across the rows of the substitution event table. Columns in the substitution event table indicate GRC numbers such as GRC . In the present example an STB in GRC will be retuned to SPNc after initially tuning to SPN. Event description data including but not limited to substitution event table version number event start time GRC set number for a particular content provider and event signature 12346 . The GRCs define different geographic regions. Different content providers can have different GRC sets and different GRCs. For example a GRC set can be defined for a provider such as a GRC code of 1 can be assigned to Chicago Ill. and a GRC code of 2 can be assigned to San Antonio for the particular content provider. Another content provider can define a different GRC set having a 1 for Atlanta and a 2 for Los Angeles.

Referring to an example embodiment of a system for providing blackouts for geographically restricted content data is illustrated. In a particular illustrative embodiment the system includes but is not limited to a content provider a video operations unit a service delivery platform SDP and IPTV delivery systems . Content provider may be any entity that provides content that may need to be geographically restricted. Examples of such content providers include movie or television content providers sporting event content providers musical content providers and the like.

In an example embodiment the content may include media such as video content data in the form of a live sporting event a special run movie or television program and digital music content such as an MP3 file. In an example embodiment the content may include data such as a video game and or patch file. In an example embodiment the content data may include informational content data. It should be appreciated that other types of content data may be used with the system . Content providers may define and maintain Restricted Content RC such as geographic boundary data for geographically restricted content and schedule data for the RC. In some embodiments RC boundary data may be defined in terms of zip codes. For example 3 digit zip 5 digit zip or zip 4 codes may be used. In alternative embodiments other geographic location mechanisms may be used. For example the geographical boundaries may be defined in terms of a radius from a center point. The embodiments are not limited to a particular method of defining a geographical boundary.

RC schedule data comprises a list of blackout events and times for the blackout events. Video operations unit receives the RC boundary data and RC schedule data and uses the data to provide content blackout data to SDP . SDP may comprise one or more systems involved with service provisioning including services related to providing geographically restricted content. In some embodiments SDP includes a management interface that is used to input content blackout data. In some embodiments management interface is a graphical user interface. In alternative embodiments management interface may be a communications interface that receives input data directly from one or more systems.

In another particular embodiment an IPTV system may include various servers and systems involved in the delivery of IPTV services to end users having customer equipment in various geographic areas . In some embodiments IPTV system includes OSS BSS gateway acquisition services and conditional access module . In some embodiments the OSS BSS gateway includes operation systems and support OSS data as well as billing systems and support BSS data. In one embodiment the OSS BSS gateway can provide or restrict access to an OSS BSS server that stores operations and billing systems data. SDP forwards blackout event data to OSS BSS gateway of IPTV system . OSS BSS gateway may store the blackout data and or forward the blackout data to other systems within IPTV system such as conditional access module .

Acquisition services include one or more systems that receive content from content providers. Acquisition services receive the content through one or more IRDs associated with the content provider. In some embodiments an IRD main and backup is provided at the SHO for each content provider e.g. ESPN . An additional IRD main and backup for each alternate channel to support the blackout market protection requirements of the content provider may be used. It should be noted that only one set of one or more IRDs need be used to provide service on a national basis and that individual IRDs need not be deployed for individual geographic areas .

The content may be organized as channels providing services where a service is a stream of video content data. A channel may include one or more services. For example channel may include a picture in picture PIP stream and a full screen video stream. A content provider may provide multiple channels including primary content secondary content and one or more channels of substituted content. Primary content is content that may be subject to a blackout event. Secondary content may be content associated with the primary content such as advertising content related to the primary content. Substituted content is content that may be substituted for the primary content in the event that the primary content is subject to a blackout restriction.

Conditional access module uses the GRC data received by OSS BSS gateway to determine the content that may be delivered to customer equipment in geographic areas . and .. As noted above geographic areas . and . may be represented in GRC data as a list of one or more zip codes that are to be included in the geographic area. Conditional access module may be a software component of another IPTV service or it may be a standalone service within IPTV system .

As IPTV system receives requests for content from customer equipment such a client STB conditional access module determines if the requested content is subject to a blackout for the geographic area where customer equipment exists based on the GRC data received by OSS BSS gateway . If the requested content is subject to a blackout event based on the blackout schedule and GRC data conditional access module causes the IPTV system to prevent the requested primary content from being sent to the customer equipment. In this event IPTV system may be configured to provide an on screen display OSD informing the viewer that the primary content data is unavailable that is blacked out. The OSD may provide a list of one or more video streams or video feeds of substituted content data or JPEG data that may be available. Alternatively IPTV system may be configured to automatically provide substitute content data to the requesting customer equipment .

Customer equipment may be any type of equipment capable of receiving IPTV streams. For example customer equipment may be an STB or a computer capable of decoding IPTV streams. It will be appreciated from the above that a zip code level of granularity in defining a blackout area may be achieved in some embodiments. For example geographic area . may be defined as including only one zip code and geographic area . may also be defined as including only one zip code. Primary content may be blacked out in geographic area . while allowed in geographic area .. In another embodiment STB telephone area code or neighborhood granularity may be enforced during a black out event based on demographic data for viewers associated with individual STBs or STBs in a particular telephone area code or neighborhood. In some embodiments SDP may also provide blackout event data to an Electronic Program Guide EPG provider which provides for the dynamic update of EPG data as blackout events are created started and ended.

Turning now to an illustrative embodiment of an IPTV system is depicted. In an illustrative IPTV system delivers video data including but not limited to video data content and advertising data to subscriber households and associated end user devices also referred to herein as subscriber or client devices which may be inside or outside of the household. The video data further includes but is not limited to blackout event data and substitution table data.

In the IPTV system IPTV channels are first broadcast in an internet protocol IP from a server at a super hub office SHO to a regional or local IPTV video hub office VHO server to an intermediate office IO server and to a central office CO . The IPTV system includes a hierarchically arranged network of servers wherein a particular embodiment the SHO transmits video and advertising data to a video hub office VHO and the VHO transmits to an end server location close to a subscriber such as a CO server or IO . In another particular embodiment each of the SHO VHO CO and IO are interconnected with an IPTV transport . The IPTV transport may consist of high speed fiber optic cables interconnected with routers for transmission of internet protocol data. The IPTV servers also provide data communication for Internet and VoIP services to subscribers.

Actively viewed IPTV channels data are sent in an Internet protocol IP data multicast group to access nodes such as digital subscriber line access multiplexer DSLAM . A multicast for a particular IPTV channel is joined by the set top boxes STBs at IPTV subscriber homes from the DSLAM. Each SHO VHO CO TO and STB includes a server processor a memory network interface and a database . The network interface functions to send and receive data over the IPTV transport. The CO server delivers IPTV Internet and VoIP content to the subscriber via the IO and DSLAM. The television content is delivered via multicast and television advertising data via unicast or multicast depending on a target television advertising group of end user client subscriber devices to which the advertising data is directed.

In another particular embodiment client devices also referred to herein as end user devices are different stationary and mobile devices including but not limited to wire line phones portable phones lap top computers personal computers PC and STBs communicate with the communication system i.e. IPTV system through residential gateway RG and high speed communication lines such as IPTV transport . In another particular embodiment DPI devices inspect data VoIP Internet data and IPTV video commands and Meta data multicast and unicast between the subscriber devices and the IPTV system severs.

In another particular embodiment the end user devices or subscriber devices include but are not limited to a client user computer a personal computer PC a tablet PC a set top box STB a Personal Digital Assistant PDA a cellular telephone a mobile device a palmtop computer a laptop computer a desktop computer a communications device a wireless telephone a land line telephone a control system a camera a scanner a facsimile machine a printer a pager a personal trusted device a web appliance a network router switch or bridge or any machine capable of executing a set of instructions sequential or otherwise that specify actions to be taken by that machine. In another particular embodiment a deep packet inspection DPI device inspects multicast and unicast data including but not limited to VoIP data Internet data and IPTV video commands and Meta data between the subscriber devices and between subscriber devices and the IPTV system severs.

As shown in STB groups comprising a group of subscriber house holds receive multicast advertising data and advertising data keys in video data stream from IO server via CO and DSLAM at STB . In another particular embodiment each STB is configured to perform DVR functionality using memory processor and data base on board the STB. Individual households receive GRC data and substitution event table data at set top box or one of the other client devices. More than one STB see STB and STB can be located in an individual household and each individual STB can receive a separate multicast or unicast advertising stream on IPTV transport through DSLAM . In another particular illustrative embodiment separate and unique advertising data are displayed at each set top box STB tailored to target the particular subscriber watching television at that particular STB. Each STB has an associated remote control RC and video display . The subscriber via the RC selects channels for a video data viewing selection video programs games movies video on demand initiates trick play commands data to the STB DVR and places orders for products and services over the IPTV system .

Referring to a flowchart illustrating a method in accordance with an example embodiment for providing geographically restricted content data is shown. The method begins at block by provisioning geographically restricted content data for a content provider. In another embodiment the GRC data designates groups of Designated Market Areas DMAs . In another embodiment the GRC data indicates groups of subscribers designated by demographic data. In some embodiments a GRC user interface at the SDP is used to input data regarding geographically restricted content data into a service delivery platform. The data may include boundary data as defined by a content provider. Provisioning GRC data for a content provider may include initializing GRC data in a substitution event table data structure for a content provider or updating GRC data that has been previously entered.

A blackout schedule is created at block . The blackout schedule comprises a list of blackout events for a content provider. In some embodiments SDP reads a list of packages and services for each blackout channel and creates a blackout event and substitution event table data structures describing the blackout event. Further details on creating a blackout schedule are provided by the sequence diagram shown in . Blocks and represent activities that may optionally take place after a GEOGRAPHICALLY RESTRICTED CONTENT provider has been provisioned at block . The activities may include updating a previously created blackout schedule block or deleting a previously created blackout schedule block thereby removing a blackout event. Further details on blackout event updates and deletes are provided by the sequence diagrams discussed below.

Current blackout event data may optionally be verified at block . Operations personnel may use interface to query SDP for the current blackout event data. In some embodiments SDP obtains the current blackout event data from OSS BSS gateway and presents the current blackout data to the user. The user may use the data to verify that a blackout event has been correctly created updated or deleted. Further details on verifying blackout event data is provided by the sequence diagram discussed below. In some embodiments at block information regarding blackout events that are created updated or deleted may be sent to an EPG provider. The EPG provider may use the data to dynamically update an EPG that may be provided to IPTV customers.

At block SDP provides primary and alternative substitute content for a blacked out event on one or more video streams or feeds on the same channel as the blackout event in accordance with the blackout event schedule and geographic boundaries established at blocks above. In some embodiments the channels may include primary content streams and substitution content streams. In some embodiments the IPTV system ignores control channel and the embedded conditional access event information embedded within the content streams because the blackout event data received from SDP is used to determine whether content is subject to a particular blackout event. The blackout event data is used to instruct IPTV system client devices to switch the appropriate content streams according to the blackout event data maintained on the SDP.

Referring to a sequence diagram for a method for provisioning geographically restricted content for a content provider in accordance with an example embodiment is shown. In some embodiments provisioning begins at when a content provider provide list of RC boundaries. As noted above the boundary data may be based on 3 digit 5 digit zip zip 4 boundaries or other geographic location mechanisms. At for each content provider video operations unit enters the RC data into SDP either manually or in an automated process . In some embodiments this data includes may include various combinations of one or more of RC ID RC Boundaries 3 digit zip 5 digit zip zip 4 Content Provider ID Optional Team League Effective and Expiration Date Modification Date Modification By Approved By.

At in some embodiments SDP additionally creates a persistent RC data structure containing normalized values for the RC boundaries. For each content provider s RC SDP may create a corresponding subscriber group in IPTV client device STBs. A subscriber group is a representation of a geographic boundary and comprises a set of subscribers within the defined geographic area. In some embodiments a subscriber group may include one or more of the following Name of Subscriber Group Status Enabled Disabled and Type Blackout. At a status attribute for the subscriber group may be updated. This may be useful for versioned RCs. At a principals list may be updated allowing for the addition and or removal of accounts subscribers from subscriber groups. A principal is an account holder that may be responsible for one or more subscribers.

Referring to a sequence diagram for a method for defining a blackout schedule for geographically restricted content in accordance with an example embodiment is shown. In some embodiments SDP discovers blackout service collections and the associated services contained in each service collection for each blackout channel provisioned at IPTV. For example at SDP requests a list of packages from OSS BSS GW . At OSS BSS GW returns a list of packages which for each package in the list may contain various combinations of one or more of Package Name Package ID Array of Service IDs and Array of Package IDs for recursive package of packages. At SDP requests a list of services from OSS BSS GW . At OSS BSS GW returns a list of services which for each service in the list may contains various combinations of one or more of Service Name Service ID Full Screen PiP defines whether service is provided as a full screen or Picture in Picture service and Description.

At based on information received from content providers video operations unit uses interface to provision a blackout event. For each content provider video operations unit will enter into the user interface of SDP the corresponding blackout attributes. In some embodiments these blackout attributes may include various combinations of one or more of Blackout ID Affected RC s one or more geographic areas to which blackout should be applied Primary Channel Blackout Content From list of discovered service collection and services from IPTV by SDP Blackout Type standard or reverse blackout Start Date Time In some embodiments on demand blackout event execution requires a 5 minute pad time End Date Time Start Mode manual or auto End Mode manual or auto Alternate Channel and Content From list of discovered service collection and services from IPTV by SDP Alert and Alert Mechanism e.g. pager phone email instant message etc. . At SDP for each content provider SDP creates a blackout event in IPTV with the following Subscriber Group ID External Blackout ID human readable text identifying blackout event Start Date Time End Date Time Primary Main and Primary PiP ID Secondary Main and Secondary PiP ID and Standard or Reverse Blackout.

Referring to a sequence diagram for a method for updating a blackout schedule for geographically restricted content in accordance with an example embodiment is shown. The sequence begins at when video operations unit receives a request to update a blackout schedule for a content provider.

At for each content provider requesting an update video operations unit may retrieve or display previously scheduled blackout events with the following attributes to be updated Blackout ID Start Mode Start Date Time End Mode End Date Time and Alert Recipients. At SDP may persist the Blackout Event updates. For each content provider SDP may update the associated blackout event in IPTV with the following External Blackout ID Start Date Time End Date Time Primary Main and Primary PiP ID and Secondary Main and Secondary Pip ID. At OSS BSS GW responds with an indication of whether or not the update was successful. At SDP may display the results of the update.

Referring to a sequence diagram for a method for deleting a blackout schedule for geographically restricted content in accordance with an example embodiment is shown. The sequence begins at when video operations unit receives a request to delete a blackout event for a content provider . At for each content provider requesting blackout event deletion video operations unit may retrieve data for the currently schedule event and issues a request to SDP to delete the event. At SDP requests deletion of the blackout event from OSS BSS GW . The blackout event may be deleted according to the blackout ID associated with the event or according to an external ID associated with the blackout event. At OSS BSS GW responds with an indication of whether or not the deletion was successful.

Referring to a sequence diagram for a method for verifying a blackout schedule for geographically restricted content in accordance with an example embodiment is shown. In some embodiments status of executed blackout events either the execution of the start or the end can be verified through the retrieval of the associated blackout event which should have an updated start status and end status if the blackout event was executed successfully. At SDP requests a list of blackout events. At OSS BSS GW responds with the requested list.

At SDP requests a list of blackout events for a subscriber group. At OSS BSS GW responds with the requested list. At SDP requests a list of blackout events for a given date range. At OSS BSS GW responds with the requested list. At SDP requests a list of blackout events by subscriber group for a given data range. At OSS BSS GW responds with the requested list. It should be noted that any one of the requests events of or may be used to request blackout event data. At SDP provides the blackout statuses to video operations unit .

Turning now to is a diagrammatic representation of a machine in the form of a computer system within which a set of instructions when executed may cause the machine to perform any one or more of the methodologies discussed herein. In some embodiments the machine operates as a standalone device. In some embodiments the machine may be connected e.g. using a network to other machines. In a networked deployment the machine may operate in the capacity of a server or a client user machine in server client user network environment or as a peer machine in a peer to peer or distributed network environment. The machine may comprise a server computer a client user computer a personal computer PC a tablet PC a set top box STB a Personal Digital Assistant PDA a cellular telephone a mobile device a palmtop computer a laptop computer a desktop computer a personal digital assistant a communications device a wireless telephone a land line telephone a control system a camera a scanner a facsimile machine a printer a pager a personal trusted device a web appliance a network router switch or bridge or any machine capable of executing a set of instructions sequential or otherwise that specify actions to be taken by that machine. It will be understood that a device of the illustrative includes broadly any electronic device that provides voice video or data communication. Further while a single machine is illustrated the term machine shall also be taken to include any collection of machines that individually or jointly execute a set or multiple sets of instructions to perform any one or more of the methodologies discussed herein.

The computer system may include a processor e.g. a central processing unit CPU a graphics processing unit GPU or both a main memory and a static memory which communicate with each other via a bus . The computer system may further include a video display unit e.g. liquid crystals display LCD a flat panel a solid state display or a cathode ray tube CRT . The computer system may include an input device e.g. a keyboard a cursor control device e.g. a mouse a disk drive unit a signal generation device e.g. a speaker or remote control and a network interface device .

The disk drive unit may include a machine readable medium on which is stored one or more sets of instructions e.g. software embodying any one or more of the methodologies or functions described herein including those methods illustrated in herein above. The instructions may also reside completely or at least partially within the main memory the static memory and or within the processor during execution thereof by the computer system . The main memory and the processor also may constitute machine readable media. Dedicated hardware implementations including but not limited to application specific integrated circuits programmable logic arrays and other hardware devices can likewise be constructed to implement the methods described herein. Applications that may include the apparatus and systems of various embodiments broadly include a variety of electronic and computer systems. Some embodiments implement functions in two or more specific interconnected hardware modules or devices with related control and data signals communicated between and through the modules or as portions of an application specific integrated circuit. Thus the example system is applicable to software firmware and hardware implementations.

In accordance with various embodiments of the illustrative embodiment the methods described herein are intended for operation as software programs running on a computer processor. Furthermore software implementations can include but not limited to distributed processing or component object distributed processing parallel processing or virtual machine processing can also be constructed to implement the methods described herein.

The illustrative embodiment contemplates a machine readable medium containing instructions or that which receives and executes instructions from a propagated signal so that a device connected to a network environment can send or receive voice video or data and to communicate over the network using the instructions . The instructions may further be transmitted or received over a network via the network interface device .

While the machine readable medium is shown in an example embodiment to be a single medium the term machine readable medium should be taken to include a single medium or multiple media e.g. a centralized or distributed database and or associated caches and servers that store the one or more sets of instructions. The term machine readable medium shall also be taken to include any medium that is capable of storing encoding or carrying a set of instructions for execution by the machine and that cause the machine to perform any one or more of the methodologies of the illustrative embodiment. The term machine readable medium shall accordingly be taken to include but not be limited to solid state memories such as a memory card or other package that houses one or more read only non volatile memories random access memories or other re writable volatile memories magneto optical or optical medium such as a disk or tape and or a digital file attachment to e mail or other self contained information archive or set of archives is considered a distribution medium equivalent to a tangible storage medium. Accordingly the illustrative embodiment is considered to include any one or more of a machine readable medium or a distribution medium as listed herein and including art recognized equivalents and successor media in which the software implementations herein are stored.

Although the present specification describes components and functions implemented in the embodiments with reference to particular standards and protocols the illustrative embodiment is not limited to such standards and protocols. Each of the standards for Internet and other packet switched network transmission e.g. TCP IP UDP IP HTML and HTTP represent examples of the state of the art. Such standards are periodically superseded by faster or more efficient equivalents having essentially the same functions. Accordingly replacement standards and protocols having the same functions are considered equivalents.

The illustrations of embodiments described herein are intended to provide a general understanding of the structure of various embodiments and they are not intended to serve as a complete description of all the elements and features of apparatus and systems that might make use of the structures described herein. Many other embodiments will be apparent to those of skill in the art upon reviewing the above description. Other embodiments may be utilized and derived therefrom such that structural and logical substitutions and changes may be made without departing from the scope of this disclosure. Figures are merely representational and may not be drawn to scale. Certain proportions thereof may be exaggerated while others may be minimized. Accordingly the specification and drawings are to be regarded in an illustrative rather than a restrictive sense.

Such embodiments of the inventive subject matter may be referred to herein individually and or collectively by the term illustrative embodiment merely for convenience and without intending to voluntarily limit the scope of this application to any single invention or inventive concept if more than one is in fact disclosed. Thus although specific embodiments have been illustrated and described herein it should be appreciated that any arrangement calculated to achieve the same purpose may be substituted for the specific embodiments shown. This disclosure is intended to cover any and all adaptations or variations of various embodiments. Combinations of the above embodiments and other embodiments not specifically described herein will be apparent to those of skill in the art upon reviewing the above description.

The Abstract of the Disclosure is provided to comply with 37 C.F.R. 1.72 b requiring an abstract that will allow the reader to quickly ascertain the nature of the technical disclosure. It is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims. In addition in the foregoing Detailed Description it can be seen that various features are grouped together in a single embodiment for the purpose of streamlining the disclosure. This method of disclosure is not to be interpreted as reflecting an intention that the claimed embodiments require more features than are expressly recited in each claim. Rather as the following claims reflect inventive subject matter lies in less than all features of a single disclosed embodiment. Thus the following claims are hereby incorporated into the Detailed Description with each claim standing on its own as a separate embodiment.

Although the illustrative embodiment has been described with reference to several illustrative embodiments it is understood that the words that have been used are words of description and illustration rather than words of limitation. Changes may be made within the purview of the appended claims as presently stated and as amended without departing from the scope and spirit of the illustrative embodiment in its aspects. Although the illustrative embodiment has been described with reference to particular means materials and embodiments the invention is not intended to be limited to the particulars disclosed rather the invention extends to all functionally equivalent structures methods and uses such as are within the scope of the appended claims.

In accordance with various embodiments of the present illustrative embodiment the methods described herein are intended for operation as software programs running on a computer processor. Dedicated hardware implementations including but not limited to application specific integrated circuits programmable logic arrays and other hardware devices can likewise be constructed to implement the methods described herein. Furthermore alternative software implementations including but not limited to distributed processing or component object distributed processing parallel processing or virtual machine processing can also be constructed to implement the methods described herein.

