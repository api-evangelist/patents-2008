---

title: Traceability for threaded communications
abstract: Individual chunks of a message are signed with their originators' signatures, thereby providing traceability in threaded messages so that every contributor's content as well as modifications thereof can be identified.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08812853&OS=08812853&RS=08812853
owner: Avaya Inc.
number: 08812853
owner_city: Basking Ridge
owner_country: US
publication_date: 20080318
---
A threaded message is one that includes parts of one or more prior messages. A message can be any kind of electronic communication or document. Examples of threaded messages include newsgroups postings blog dialogs and response or forwarded emails.

In a threaded message that has many contributors it often becomes difficult to determine who said what. It is also possible for the sender to change a contributor s contribution either intentionally or accidentally without it being evident that something has been changed or what has been changed.

To prevent being mis quoted or to have their contribution changed in an undesired manner contributors would like to be able to protect their contributions against unwanted manipulation. While a sender of a message can protect the entire communication by signing it separately protecting different parts of the message or having different parts owned protected by different authors does not appear to be possible.

It is possible to use a source control system to track an email thread. However issues arise when forwarding messages quoting text in a reply having multiple branches in a thread or having a message which does not quote the previous work at all. Because version control has no concept of a message and assumes change tracking based on a linear progression of changes to a complete file the random changes in an email thread cross quoting and other activities inherent in messaging do not have clear analogs in version control. In addition few version control systems have any way of communicating between multiple servers and maintaining changes between them in an authenticated way.

The change logging capability of Microsoft Word can be used to show which pieces of a document were edited by whom and the document may be sent as an attachment to a blank email. Not only is this not authenticated it also suffers from similar problems as the source control system as it generally cannot cope with cut and paste quoting multiple branches or replies with no reference to the original text.

Version control systems for general software development make it possible to determine who made what changes to a given file. But these tools do not make tracking text through a threaded email simple. Furthermore detecting that a text fragment i.e. a quote was actually sourced from another email is not handled by such tools an external system of linkages is required e.g. a convention for checking comments .

XML digital signature processing rules and syntax provide a mechanism for non repudiation or encryption of arbitrary fragments of XML. However they do not easily allow for in fragment editing of a clear demarcation of a fragment s lineage. They also do not provide a renderer or an editor that could be used by a communications client.

This invention addresses these and other problems and disadvantages of the prior art. The invention provides traceability in a threaded message so that every contributor s content and modifications of any contributor s content are identifiable.

According to one aspect of the invention a first message is broken up into chunks and at least some of the chunks are signed with a signature of the originator of the message prior to delivery of the first message to a recipient. The source of each signed chunk and whether or not it has been changed can thus be verified.

According to another aspect of the invention a quotation from a signed chunk of a second message is incorporated into the first message prior to delivery of the first message to the recipient. In response to the incorporating the chunk of the second message that is the source of the quotation and its signature are made available to the recipient. Illustratively if the quotation is the whole source chunk the source chunk and its signature are incorporated into the first message but if the quotation is less than the work source chunk the source chunk and its signature are appended to the first message. The source chunk and its signature can thus be used to verify the source of the quotation and whether or not it has been changed.

According to a third aspect of the invention verification of signatures is performed for the received first message and the received first message is displayed along with an indication for each chunk of the first message of whether the chunk is not signed the chunk is signed with a verified signature or the chunk is signed but the signature cannot be verified. The recipient thus can determine the amount of trust that he or she can place in each chunk of the received message.

According to a fourth aspect of the invention in response to the recipient selecting the delimiting character of a quote in the displayed first message the source chunk of the quotation is displayed. The recipient can thus determine the context of the quotation and consequently can determine the amount of trust that he or she can place in the quotation.

While the invention has been characterized in terms of method it also encompasses apparatus that performs the method and any computer readable store containing instructions which when executed by a computer cause the computer to perform the method.

According to a first illustrative embodiment of the invention shown in at least some messaging clients each include a message signer and a signature validator . The operation of clients that is relevant to an understanding of this invention is show in .

If the message does not include an attachment client merely stores the received message at step . If the message does include an attachment client selects the first chunk of the signed attachment at step and checks if it is signed at step . If it is not signed client attaches an unassigned indication to the chunk at step . The indication may be for example an icon that is displayed alongside the chunk when the chunk is displayed by client and that indicates that the chunk is not signed.

If it finds at step that the chunk is signed client uses the included signature to identify the signer in a conventional matter at step and uses the signer s public key to verify the signature also in a conventional manner at step . If client does not already have the signer s public signature it obtains it from key server of again in a conventional manner. If it determines at step that the chunk s signature is invalid client attaches an invalid indication to the chunk at step . If it determines at step that the chunk s signature is valid client attaches a valid indication to the chunk at step . Client then selects the next chunk of the message at step and repeats steps therefor. When it is done processing the whole message as indicated at step client stores the message with the appended signature validity indications at step . When displayed the message of illustratively looks as shown in where the SV icons indicate that the corresponding message chunks are signed and the signatures are verified.

Let us return to to consider the process of generating a threaded message on a client of . Let us assume that the threaded message is a response by a user of client to the message received from client for purposes of illustration. When a user of a client writes a message client uses a mark up language to form the message in a conventional manner at step . If during the writing of the message the user performs a cut and paste operation to include pre existing material in the message a quote from the message that was received from client for example client detects the cutting or copying operation at step and in response performs the process that is shown in . At step of client checks the source material to determine if it is signed. If the source is for example the message from client it is signed and so client flags the quote at step retrieves the entire chunk or chunks from the source material that is or are the source of the quote at step and then returns at step to the process of .

When the user of client performs the paste portion of the cut and paste operation client detects the pasting at step and in response performs the process that is shown in . At step client checks if the quote is flagged see step of . If not client merely returns at step to the process of . But if the source of the quote is signed such as the message from client the quote will have been flagged and so client checks the retrieved source chunk see step of to determine if the quote is from the beginning of the source chunk at step . If the quote is not from the beginning of the source chunks client indicates that source material precedes the quote by prepending a symbol such as an ellipsis to the quote at step . Following step or if the quote is from the beginning of the source chunk client checks the retrieved source chunk to determine if the quote is from the end of the source chunk at step . If the quote is not from the end of the source chunk client indicates that source material follows the quote by appending a symbol such as an ellipsis to the quote at step . Following step or if the quote is from the end of the source chunk client attaches the entire retrieved source chunk to the message at step and uses the symbol as a pointer and a link to point to the attached source chunk at step . An example of such a message is shown in . Client then returns at step to the process of .

While shows an embodiment of a message communications system where signing and signature validation is effected on messaging clients shows an embodiment of a communications system where signing and signature validation is effected on one or more messaging servers using one or more key servers . Elements of correspond to elements of . But whereas elements and are located in messaging clients and in elements and are located in messaging sever in . In order to support trustworthy traceability the system of includes an authentication mechanism comprising an authenticatee element on each client and an authenticator element on messaging server . The authentication mechanism of is conventional and enables server to ensure identities of the users of clients .

In an alternative embodiment the messaging system may be a hybrid wherein signing and validation is effected by a messaging server at one end of communicating of a message and signing and validation is effected by messaging client at the other end of communicating of a message.

According to the invention users of browsers can create web pages that quote other web pages in the same manner as users of clients in can create messages that quote other messages. There is an equivalence between browsers and clients and between the web pages of the embodiment of and the messages of the embodiment of such that the operation of browsers is likewise represented by .

Of course various changes and modifications to the illustrative embodiment described above will be apparent to those skilled in the art. For example quotes from different authors may be displayed in different colors or the name of the quote s author may be displayed as a tooltip when a pointer is pointed to the displayed quote or read aloud for the blind. In addition the line between the functions the server and client perform can be drawn arbitrarily as can the functionality of the key server and it s interoperation between messaging servers or other key servers. For example messaging servers key servers and the client could be integrated into one server or a messaging server could span multiple servers or multiple key servers could service a single messaging server or client. Finally the various incarnations of these messaging and key servers as well as clients could interoperate or notably not interoperate . These changes and modifications can be made without departing from the spirit and the scope of the invention and without diminishing its attendant advantages. It is therefore intended that such changes and modifications be covered by the following claims except insofar as limited by the prior art.

