---

title: SMS wrapper/dewrapper and mobile devices embedded with the SMS wrapper/dewrapper
abstract: Disclosed is a method for providing a GUI for manipulation utilizing a SMS in PDU mode, comprising: receiving a SMS message which comprises encoded SM data; parsing said SM data for decoding to retrieve form display data; generating a UI element corresponding to said form display data; and displaying said UI element.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08385951&OS=08385951&RS=08385951
owner: International Business Machines Corporation
number: 08385951
owner_city: Armonk
owner_country: US
publication_date: 20080326
---
This application claims the benefit of Taiwan Patent Application No. 96111528 filed 30 Mar. 2007 which is hereby incorporated by reference.

The present invention generally relates to a technique for providing an interactive graphical user interface GUI element in a mobile device and more particularly to a technique for converting data received in a data message into an interactive GUI element.

With the advent of the mobile environment communication service providers are interested in increasing their revenue by offering for example interactive services to subscribers. Given that mobile devices have limited computing resources however such services must be provided in a way that fits within the computing constraints of a mobile device. Text messaging such as that known in the industry as Short Message Service SMS is a popular non voice means of communicating in the mobile environment however it only has text and may be considered as the mobile version of e mail. Similar to e mail SMS does not lend itself to communicating interactive content.

Moreover some simple interactive applications are facilitated by a GUI which provides easy access and easy interaction. An example of such an application may be for example an opinion poll. An opinion poll usually requires users to select their choice s and then click an OK button or equivalent to send the user s selections back to the content provider. A simple GUI for better interaction between the users and content providers would therefore be desirable in mobile devices.

A paper published in IEEE Transactions on Consumer Electronics V50 n2 May 2004 P535 542 titled Defining Services for Mobile Terminals Using Remote User Interfaces Author Verhoeven Richard Dees Walter discloses a Remote User Interface RUI protocol. With the RUI protocol the client application first receives a description of an initial user interface called a UI fragment to generate an initial interface. Subsequently when the presented UI needs to be updated or changed instead of sending a complete interface only the required changes to the existing interface are sent in the form of a partial interface description also called a UI fragment e.g. XML based user interface descriptions . These subsequently received UI fragments are then used to adjust the existing interface so as to achieve better performance and better inter operability. However the interface provision scheme disclosed in the paper requires complicated descriptions such as XML based user interface descriptions which may be overly complicated for simple interactive applications.

Today an electronic form document is often used as a technique for providing interaction services. Currently electronic form documents are typically rendered using a browser and Java Script technology. However Java Script code is too large to be used in most mobile devices. JavaME which specifies a mobile based alternative to Java Script is a popular platform on mobile devices. Therefore there is an opportunity to provide a communication service that allows simple interaction by leveraging JavaME and SMS to provide electronic form document technology on such devices and other device with limited resources.

The present invention provides a simple GUI on mobile devices to render an electronic form document utilizing SMS messaging for the users to conveniently input data thereby providing a simple interactive application service to users.

The present invention may be implemented as a method for providing a GUI for manipulation utilizing via SMS in protocol description unit PDU mode commencing by receiving a SMS message which comprises specially encoded SM short message data parsing the SM data for decoding to retrieve electronic form document display data generating a UI element corresponding to the electronic form document display data and displaying the UI element.

JavaME Java platform Micro Edition JavaME is one of three JAVA platforms JavaEE JavaSE JavaME developed by Sun Microsystems in the United States. JavaME is an application environment that specifically addresses the needs of embedded systems or handheld systems including mobile phones pagers PDAs set top boxes and other consumer appliances. JavaME is further divided into configurations profiles and option packages for hardware features of different devices. Configurations are used to classify consumer electrical products according to features such as network connectivity processor speed memory capacity and other features of such products. Configurations define a basic core set of class libraries available for a range of devices. Currently there are two JavaME configurations well defined CDC Connected Device Configuration and CLDC Connected Limited Device Configuration . JavaME uses profiles to classify features of each different device in more detail. The profiles define another set of additional class libraries over configurations.

JavaME defines MIDP Mobile Information Device Profile which defines a class suitable for mobile devices. More detailed information can be found in websites of Sun Microsystems as follows 

MIDP Mobile Information Device Profile a profile of JavaME for mobile devices such as cell phones. Regarding the detailed description of MIDP 2.0 please refer to ISR 118 http jcp.org en jsr detail id 118 .

Wireless Message API The WMA provides a common interface to enable an application based on the MIDP to send and receive short text and binary messages e.g. SMS message as well as multimedia messages e.g. MMS . Originally introduced in the JSR 120 WMA 1.1 has been enhanced and released as WMA 2.0 in JSR 205.

The following will describe the embodiment of the present invention. The disclosed embodiment is only for illustration thus it will be understood by those skilled in the art that there are many modifications and changes made therein without departing from the spirit and scope of the invention. Throughout the appended drawings similar features are identified by similar reference numerals.

Referring back to the UDL is a length indicator. The value of the UDL field is the total number of octets of the UD User Data following the UDL field. The UDHL User Data Header Length field is the first octet of the UD content of the SMS message. The value of UDHL field represents the total number of octets of IEI Information Element Identifier fields IEIDL Information Element Identifier Data Length fields and IED Information Element Data fields following the UDHL field. The value of each IEIDL field is the number of octets of the IED following the respective IEIDL field. The last field of the SMS message contains the real user data thereof that is the SM data in the form of octets.

As mentioned above in PDU mode any encoding can be used for SM data. One preferred embodiment according to the present invention utilizes the existing Liquid Crystal Display User Interface LCDUI classes provided in the JSR 118 MIDP 2.0 specification for JavaME to generate the desired UI displayable elements referred to as widgets. The LCDUI is a display class API which facilitates the construction of UI elements by specifying UI parameters which may be used to create a UI element. More information regarding JSR 118 MIDP 2.0 may be found at the URL address http jcp.org en jsr defail id 118.

Although using the present example with the 4 LCDUI classes of ChoiceGroup DateField StringItem and TextField those skilled in the art will appreciate that the present invention is not limited to the embodiment disclosed herein of those LCDUI classes defined by JavaME to generate UI elements. Any other API classes for GUI capable of generating displayable UI elements according to electronic form document display data of different items representing different widgets in encoded SM data can be adopted.

Referring now to there is shown a format of the SM data in an SMS message for rendering an interactive electronic form document in accordance with an embodiment of the invention. The SM data includes a SDL SM Data Length field NIE Number of Item Element field IEI Item Element Identifier fields and IED Item Element Data fields in order. According to one embodiment of the invention using the LCDUI classes there are 4 types of UI classes ChoiceGroup DateField StringItem and TextField. These four classes may be called respectively as follows 

Each item element identifier IEI is in the form of octets wherein bits indicate a type of item while bits define specific types for the item. An example of encoding of bits for item is as follows 

The IED format of ChoiceGroup includes a Length of IED field a Number of String Elements field a Length of Label field a Label field a Length of String Element field a String Element field a Length of String Element field and a String Element field in order. The number of string elements can be more than as disclosed here if not over the allowed range of the length of a SMS message.

An example of item ChoiceGroup in accordance with the invention is introduced here. The Exclusive type for ChoiceGroup is indicated by IEI 0000 0000. As an example if the IED data is as follows 

The octet sequence consists of 8 fields corresponding to The value of the first field 55 of the IED data represents that the length of the IED is 55 octets. The value of the second field 03 represents that there are 3 string elements. The 3 string elements following the second field are respectively one label string Connection Options and two string elements as optional items Direct Connection and HTTP Connection of which the lengths are respectively 18 17 and 15. An Exclusive type ChoiceGroup UI element will be generated via the LCDUI and displayed on the display screen on a mobile device as a widget for a user s input as shown in reference numeral . also illustrates examples of Multiple type and Popup type .

The IED format of DateField includes a Length of IED field a Length of Label field a Label field a Length of TimeZone field and a TimeZone field in order.

The IED format of StringItem includes a Length of IED field a Length of Label field a Label field a Length of Text field and a Text field in order.

The IED format of TextField includes a Length of IED field a Length of Label field a Label field a Length of Text field a Text field and a MaxSize field in order.

Next the user may operate the form widget generated from the UI element on the display screen step . As the UI elements may be ChoiceGroup StringItem e.g. Button or TextField etc. they all are convenient and easy for a user to respond to the received SMS message and thus easy to interact with a server.

At step a determination is made as to whether to respond to the server. If yes a reply message is sent to the server Step and if no the result will be displayed on the display screen of the target client device Step . At step a determination is made as to whether to wait for a next SMS message for further interacting with the server. If yes go back to the Step to wait for a next SMS message otherwise go back to the Step to display the result.

As JavaME is a very popular platform on current mobile devices it is advantageous to leverage SMS technology with the JavaME technology. Thus a discussion of the Java system environment in the context of the invention will be beneficial.

A Java system environment of a mobile device in accordance with the present invention is illustrated in . A Java program a midlet is run on the JavaME CLDC MIDP platform . According to the present invention a midlet including a SMS wrapper de wrapper which performs the steps of is embedded in the mobile device. The midlet mainly includes a parser a LCDUI and a display engine .

The parser parses the SM data within the received SMS message for decoding to retrieve electronic form document display data. The LCDUI as stated above generates displayable UI elements corresponding to the form display data. Finally the display engine displays the UI elements on the display of a target device.

In one embodiment of the invention a SMS message can be sent received preferably according to the JSR 120 WMA 1.1 or JSR 205 WMA 2.0 standard for JavaME and may be referred to as a WMA message. First the midlet of a target mobile device will perform a preliminary step of calling Wireless Message API to register with a port number to receive the WMA message from the port. A service provider will send a WMA message to the target mobile device and the midlet of the mobile device will retrieve sender information e.g. sender telephone number or web address etc. and a server mode port number of the service provider from the WMA message. When receiving any WMA messages from the registered port the midlet of the mobile device will perform the workflow of the steps illustrated in that is the SM data within the received WMA message is firstly parsed by the parser for decoding to retrieve form display data next the desired UI elements corresponding to the form display data are generated by the LCDUI and finally the UI elements are displayed by the display engine on the display screen of the target device as widgets. When a user operates in the widgets e.g. click a OK button or select a choice the midlet will send the reply result back to a sender in accordance with the sender information and the sender will receive it from the server mode port. For example if a sender wants to send out a choice question then a ChoiceGroup UI of LCDUI may be desired. At this moment receivers can just select an answer and then click OK. The answer will reply to the sender directly.

According to the embodiment of the present invention illustrated above an interactive application can be easily accomplished. Therefore it does not only reduce the user s the SMS message receiver time to key in content but also provide a better GUI to a user of a mobile device.

According to the present invention a service provider can provide a user many simple interactive applications such as the aforementioned opinion poll which will be explained in detail in the following. The service provider of the opinion poll firstly sends WMA messages to mobile devices. A SMS wrapper de wrapper midlet on the mobile devices renders the content of the messages in the form of GUI to a display screen on the mobile devices. Next the users of the mobile devices select their choice shown on the GUI screen and click OK button the midlet will respond the result to the service provider. Surely the midlet can display an e coupon information for promoting the interactive application of opinion polling.

The present invention can be applied not only to mobile devices such as a mobile phone a PDA or any pervasive device but also to any other devices or systems capable of receiving sending a SMS message.

Moreover although the embodiment of the present invention discloses 4 items and generates 4 corresponding UI elements through LCDUI other items can be added to generate different UI elements. The present invention is also not limited to API classes of LCDUI any other API classes for GUI capable of generating displayable UI elements can be applied to the present invention.

The way to send a SMS message is not limited to the WMA standard. For example a sender port and a receiver port can be defined in the header portion of the layout of a SMS message as shown in for interaction as the technical specification of GSM 03.40 mentioned above. A sender port and a receiver port can even be defined in the SM data.

The illustration of the embodiment of the present invention is given above for a better understanding of the characteristics and spirit of the present invention. It will be understood that the invention is not limited to the particular embodiment described herein but is capable of various modifications and rearrangements without departing from the scope of the invention. Therefore it is intended that the following claims accompanied by detailed descriptions given the broadest explanation not only define the scope of the present invention but also cover all such modifications and changes as fall within the true spirit and scope of the present invention.

