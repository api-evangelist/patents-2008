---

title: Distributed call pickup group for VoIP system
abstract: A distributed call pickup group system comprises a call manager having an extension module. The extension module further comprises a group pickup module, a group pickup call stack, a backup group pickup module and a monitoring group pickup module. The extension module controls and manages the functionality associated with the group pickup feature. The group pick module advantageously allows any extension regardless of its location in the system or the switch to which it is connected to be included within a pickup group. The backup group pickup module provides fault tolerance for the pickup functionality such that if a particular switch and its associated group pickup module fail, a backup group pickup module is identified and made operational. The present invention also includes a variety of methods including a method for creating a group pickup list, a method for performing through pickup and a method for backing up group picked up.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08577011&OS=08577011&RS=08577011
owner: ShoreTel, Inc.
number: 08577011
owner_city: Sunnyvale
owner_country: US
publication_date: 20080109
---
The present invention relates telephony systems such as that using Voice over Internet Protocol VoIP . In particular the present invention relates to a group pickup feature for telephony systems.

The prior art includes a variety of distributed telephony systems. Traditional switched network systems have given way to new telephony systems that use VoIP. These VoIP systems offer the same functionality as more traditional switched system such as the ability to transfer calls put calls on hold automated attendant functions hunt groups etc. These systems also offer additional functionality for example call group pickup. Call pickup group is a traditional PBX and key system feature that is used in group work environments. With call group pickup calls to a pre designated group of phones can be answered by issuing a pickup command on group pickup number. Thus the call group pickup feature allows users with the proper class of service to pickup a call on any telephone in a pickup group from any other telephone.

However existing implementations of the call pickup group feature have a number of shortcomings. First if the switch or server becomes non operational for any reason the call pickup group features not available. Second prior art systems typically include restrictions as to until which phones or endpoints can be included within a call pickup group. For example the endpoints are often limited to those endpoints directly connected to the switch or at a particular location. Third typically the prior art only allows an extension to be assigned to a single pickup group. Fourth existing systems that provide a call pickup group feature are very difficult to configure. In some cases it can only be done by a system administrator. Were it can be done by the user it is very difficult to step up and add or remove users from pickup lists and manage the lists. This severely limits the use and application of pickup groups.

The present invention overcomes the deficiencies and limitations of the prior art by providing a system and method for implementing a call pickup group feature. In one embodiment the system comprises a call manager having an extension module. The extension module further comprises a group pickup module a group pickup call stack a backup group pickup module and a monitoring group pickup module. The extension module controls and manages the functionality associated with the group pickup feature. The group pick module advantageously allows any extension regardless of its location in the system or the switch to which it is connected to be included within a pickup group. The backup group pickup module provides fault tolerance for the pickup functionality such that if a particular switch and its associated group pickup module fail a backup group pickup module is identified and made operational. The present invention is particularly advantageous over the prior art because it allows any extension anywhere in the system to be added to a pickup group allows the pickup group to be assigned associated and operational on any switch in the system provides redundancy by allowing an extension to be part of multiple pickup groups and pickup group failover. The present invention also includes a variety of methods including a method for creating a group pickup list a method for performing through pickup and a method for backing up group picked up.

A system and method for providing call group pickup capabilities for a telephony system is described. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the invention. It will be apparent however to one skilled in the art that the invention can be practiced without these specific details. In other instances structures and devices are shown in block diagram form in order to avoid obscuring the invention. For example the present invention is described in one embodiment below with reference to system operation and particular hardware. However the present invention applies to any type of computing device that can receive a data and commands and any peripheral devices providing services.

Reference in the specification to one embodiment or an embodiment means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment of the invention. The appearances of the phrase in one embodiment in various places in the specification are not necessarily all referring to the same embodiment.

Some portions of the detailed descriptions that follow are presented in terms of algorithms and symbolic representations of operations on data bits within a computer memory. These algorithmic descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. An algorithm is here and generally conceived to be a self consistent sequence of steps leading to a desired result. The steps are those requiring physical manipulations of physical quantities. Usually though not necessarily these quantities take the form of electrical or magnetic signals capable of being stored transferred combined compared and otherwise manipulated. It has proven convenient at times principally for reasons of common usage to refer to these signals as bits values elements symbols characters terms numbers or the like.

It should be borne in mind however that all of these and similar terms are to be associated with the appropriate physical quantities and are merely convenient labels applied to these quantities. Unless specifically stated otherwise as apparent from the following discussion it is appreciated that throughout the description discussions utilizing terms such as processing or computing or calculating or determining or displaying or the like refer to the action and processes of a computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within the computer system s registers and memories into other data similarly represented as physical quantities within the computer system memories or registers or other such information storage transmission or display devices.

The present invention also relates to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes or it may comprise a general purpose computer selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a computer readable storage medium such as but is not limited to any type of disk including floppy disks optical disks CD ROMs and magnetic optical disks read only memories ROMs random access memories RAMs EPROMs EEPROMs magnetic or optical cards or any type of media suitable for storing electronic instructions each coupled to a computer system bus.

Finally the algorithms and displays presented herein are not inherently related to any particular computer or other apparatus. Various general purpose systems may be used with programs in accordance with the teachings herein or it may prove convenient to construct more specialized apparatus to perform the required method steps. The required structure for a variety of these systems will appear from the description below. In addition the present invention is not described with reference to any particular programming language. It will be appreciated that a variety of programming languages may be used to implement the teachings of the invention as described herein.

Enterprises often have several offices or call centers that are located in a plurality of disparate locations. To interconnect all of these sites enterprise telephony systems have been developed. Enterprise telephony systems which comprise a distributed set of voice switches and servers offer enterprise applications enabled by the integration of computer systems with telephony services. The software that supports the computer integrated functionality is generally implemented as a client server environment in which the participants or clients distributed telephony users communicate with a server. Computer integrated features rely not only on a server s application platform but also on the availability of the network that connects the switches servers and application services.

The first site A includes a server a switch A three endpoints analog phone A IP phone and software phone and a storage device . The switch A represents a Voice over Internet Protocol VoIP device to which a number of endpoints can be coupled such as analog phones IP phones and software phones softphones . In the illustrated embodiment the switch A is coupled to the network . The switch A is also coupled to the public switched telephone network PSTN via an analog or digital trunk line e.g. a T1 or E1 interface . In the illustrated configuration the switch A provides an interface for calls originating from or terminating on the PSTN . Although only a single switch A is shown in those skilled in the art will recognize that a particular site such as site A may include a plurality of switches. The switch will be described in more detail below with reference to .

An endpoint enables a user to carry on a phone call. Although in the illustrated embodiment the first site A has three endpoints one analog phone A one IP phone and one softphone in other embodiments the first site A has different numbers and types of endpoints. An endpoint is coupled to the switch the server or both. Each of the endpoints can also include a display device not shown that is used in conjunction with the phone of the endpoint.

An endpoint has a user interface to send data to and receive data from a user. The analog phone A has for example a Telephone User Interface TUI that sends data through a speaker and receives data through a microphone and a keypad. The IP phone has for example both a TUI and a graphical user interface that sends data through a display device associated with the IP phone . In one embodiment the IP phone s graphical user interface also receives data from a touch screen display device associated with the IP phone . The softphone has for example a software application that runs on a computer and sends data through a display device and a speaker and receives data through a microphone a keyboard and a pointing device.

The server is configured to implement features or functions of the telephony system in accordance with the present invention. The server is coupled to the network and although not shown can also be coupled to one or more endpoints such as IP phone and softphone . The server implements a server architecture according to one embodiment of the present invention. Server includes a processor. The processor can be a conventional processing device such as a general purpose microprocessor. Server also includes a memory. The memory includes program instructions or functional units that in one embodiment implement features of the present invention. Specifically the memory includes a telephony management software TMS unit a telephony application programming interface unit and a directory unit. In one embodiment the memory also includes one or more application units that interact with the TMS unit and the TAPI unit to enable a specific computer integrated function. An application unit uses the TAPI unit to exchange data with the TMS unit. The TMS unit is able to communicate with and manage one or more switches . For example with reference to the TMS unit included in the server can manage the switches A B. Through the TAPI unit the TMS unit presents an application with computer telephony integration CTI view of these switches A B. This allows the application to manage the switches A B. Such switches A B operate without an associated TMS unit if CTI features are not being used.

The server includes one application unit directory unit. In general the directory unit enables a phone to access a directory and use the directory in conjunction with other phone functions. In one embodiment directory unit is implemented as a service that interacts with TMS unit. Communication or data exchange is between TMS unit and directory unit. The directory unit can be distributed among computing devices as is known to one of skill in the art. For example the functionality enabled by directory unit can be implemented in a client server fashion by having the client user s local system such as a general purpose computer or endpoint perform some functions and having the server directory unit perform others. As another example some or all of the functionality enabled by directory unit can be implemented by having a switch perform some or all functions.

The storage device contains directory information including directory entries and associations between directories and phones. In one embodiment the storage device also contains information regarding the directory context of a phone. Alternatively this information can be stored in the server . In one embodiment directory context information includes one or more of the following 1 a portion of a directory that is currently available for presentation the portion could include e.g. information from all entries versus information from entries that meet certain criteria 2 a filter if any that was used to determine the entries in 1 3 of the entries in 1 which entries are currently being presented by the phone 4 of the entries in 3 which entry is currently navigated to 5 what call function if any the directory was invoked during. Note that since the directory context specifies the information presented by the phone storing the directory context enables later determination of what information is being presented by the phone.

Also note that directory context information need not include all items 1 5 . For example if the entire directory and the filter 2 are known the directory portion available for presentation 1 can be determined. Directory context information will be further explained below. In the illustrated embodiment the storage device is directly coupled to the server . In an alternate embodiment the storage device is coupled to the server via the network .

One skilled in the art will appreciate that additional networking devices not shown can be added to the first site A for example if needed to support additional endpoints servers switches or other systems. For example the first site A can include a second switch and an edge router to couple the first site A to the network and to provide local area connectivity for the first and second switches A B. One skilled in the art will also recognize that numerous configurations of switches and communications links are contemplated. For example PSTN links can be coupled to multiple switches at several points within the topology and soft switches can also be used.

The second site B similarly includes an endpoint analog phone B and a switch B. The configuration of the second site B demonstrates that a server is not required for each site. Switch B of the second site B can be managed by server that is illustrated in the first site A. A call can involve more than one switch. For example a call that originates from the PSTN and terminates on an endpoint that is communicatively coupled to switch B of the second site B involves two switches switch A of the first site A and switch B of the second site B. In addition each switch A B can be managed by a different server .

In one embodiment of the present invention the network is a partially public or a wholly public network such as the Internet. The network can also be a private network or include one or more distinct or logical private networks e.g. virtual private networks or wide area networks . Additionally the communication links to and from the network can be wire line or wireless i.e. terrestrial or satellite based transceivers . In one embodiment of the present invention the network is an IP based wide or metropolitan area network.

Referring now to an embodiment of the switch according to one embodiment of the present invention is shown. In this embodiment switch is configured to implement features or functions of the present invention. Switch includes a processor. The processor can be a conventional processing device such as a general purpose microprocessor. Switch also includes a memory. The memory also includes software and routines not shown conventionally used to operate a switch in a VoIP telephony system. For example the switch includes software routines for performing call monitoring transferring calls placing calls on hold establishing hunt groups automated attendant functions etc. The memory also includes program instructions or functional units that implement the features of the present invention. The switch also includes a configuration storage module for storing an extension list See also and a call manager .

The configuration storage module is for storing preferences settings and other information utilized by the call manager to perform its functions. In one embodiment the configuration storage module is a portion of the memory of the switch . In order to enable the group pickup feature over the entire telephony system the configuration storage module includes an extension list . In one embodiment the extension list is a list of the extensions available in the entire telephony system . For example the extension list for the system of includes an extension entry in the extension list for all of the endpoints A and B. In another embodiment the extension list is a list of the extensions available at a site A. Those skilled in the art will recognize that in other embodiments the extension list includes hundreds of extensions where a single telephony system has several sites and in each site has tens or hundreds of extensions. Furthermore those skilled in the art will understand that the extension list can partition any number of extensions of a particular site and thereby enable a particular level of service that includes call group of pickup functionality. The inclusion of the extension list in the switch is particularly advantageous because when operable in conjunction with the extension module it allows a group of pickup list to include or be formed of extensions across the entire telephony system . More specifically a group of pickup list may be distributed in any number of ways across the entire telephony system . This means that a group of pickup list may include extensions anywhere in the system coupled to any switch A B and operational as part of any site B.

The configuration storage module is coupled by a signal line to the server . The server uses the signal line to download information to the configuration storage module . The information downloaded by the server includes the information noted above to allow the call manager to perform its conventional functions. In accordance with the present invention the server also uses signal line to maintain and keep the extension list current. In other words any time another call manager server or site adds or removes an extension that information is propagated to server and server in turn updates the extension list stored in the configuration storage module . The configuration storage module is also coupled by signal line the call manager . The configuration storage module uses this coupling to provide configuration and other information to the call manager .

A device such as the processor of the switch runs the call manager software application and is coupled to and controls one or more endpoints A. and with which it is associated. Call manager offers a user interface through which the user can perform call related functions. While shown as operational and as part of the switch in those skilled in the art will recognize that in other embodiments the call manager may be operational as a separate module in the first site or as part of server of .

Although in the illustrated embodiment the first site A has only one call manager in switch A in other embodiments the first site A has a different number of call managers . Also more than one call manager can control the same endpoint. The association between a call manager and an endpoint that it controls is accessed through the server . Furthermore although not shown the second switch B includes its own call manager .

As shown in the call manager is coupled to the PSTN and the network . The call manager comprises an extension module a trunk module a location service engine a bandwidth manager and a media manager .

The extension module functionality of the present invention including creation modification and operation of group pickup lists. The extension module will be described in more detail below with reference to .

The trunk module is coupled to and controls the interaction between the endpoints A and and the PSTN . In particular the call manager switch is often coupled to a trunk line. The trunk module of the call manager manages the usage of the trunk line by multiple endpoints A and to optimize the usage of the trunk line. The trunk module also manages trunk services such as caller identification direct inward dial etc.

The location service engine is usually coupled to the configuration storage module and resolves the dialed numbers converts raw dialed digits into routable contacts and routes the calls to the destination endpoints such as phones trunks hunt groups auto attendants pickup groups etc.

The bandwidth manager is coupled to the network and measures and allocates bandwidth necessary to support the calls handled by call manager . For example video and audio communication functions managed by the call manager typically require a significant amount of bandwidth and small interruptions in bandwidth or quality of service are noticeable to the user with such communication types. The bandwidth manager measures the bandwidth available between endpoints in the network and ensures quality of service for any calls that are active and controlled by the call manager . For example the bandwidth manager can allocate use of particular routers LANs WANs or other portions of the network to provide the bandwidth necessary to support the calls going through the switch .

The media manager is part of the call manager creates and manages media streams. The media manager also and handles call control and converting audio waveforms to and from eal time ransport rotocol RTP packets. The media manager is coupled for communication with the network and the endpoints A and . The media manager performs encoding decoding in case of analog endpoints and physical trunks and also performs codec negotiation when call is being setup between two endpoints which are capable of exchanging audio video data.

Referring now to one embodiment of the extension module is shown. The extension module comprises one or more group pickup module s a phone type module a hold stack one or more group pickup call stack s an extension list a backup group pickup module a monitoring group pickup module a hunt group module and an automated attendant . These components cooperate together to provide the functionality of the present invention. The operation of these modules and can also be better understood with reference to below in addition to the description that follows.

The group pickup module is software and routines for creating a group pickup list for handling calls associated with a group pickup list for sending notifications regarding incoming calls associated with a group list and for performing a pickup operation. It should be understood that while only a single group pickup module is shown in the extension module may comprise a plurality of group pickup modules . In one embodiment a single group pickup module handles and manages any number of group pickup lists that are associated with the extension module and thus the call manager of a particular switch. In a second embodiment an instance of the group pickup module is created and maintained for each group pickup list operational on the call manager . In one embodiment redundancy can be provided by configuring multiple group pickup lists with the same extensions.

As has been noted above the present invention is particularly advantageous because a group pickup module can be associated with any switch in the system . For example the group pickup module of is associated with the switch A of the first site A since it is operational as part of the extension module and call manager of switch A. However the group pickup module can alternatively be associated with and a part of switch B of the second site B. In yet another embodiment the first switch A has a call manager that includes a first group pickup module and the second switch B has its own call manager that includes a second and different group pickup module .

Furthermore the group pickup module is capable of operating with any extension whether the extension and the associated endpoint is directly connected to the switch or connected to a different switch. For example if group pickup module is part of the first switch A the group pick a module can have a group extension list that includes any of the endpoints A B and even though endpoint B is coupled directly to switch B and communicates with switch A by way of network and switch B. This means that the group pickup module can perform its functions with endpoint B even though not directly connected to the endpoint B. Those skilled in the art will appreciate how the present invention allows group pickup lists to include different extensions in despair locations anywhere within the system and thereby provide a group pickup function among extensions anywhere in the system .

The phone type module is software and routines for determining the device connected to a particular extension. The phone time module determines whether a particular extension is an analog phone IP phone or a softphone. Depending on the type of device associated with a particular extension the phone type module works with the call manager to send signals appropriate for the phone type including both data in its appropriate format as well as control signals according to be capabilities of the phone identified. The phone type module is a conventional type known to those skilled in the art.

The hold stack is a memory portion or storage device for storing list of extensions and corresponding calls. The hold stack is preferably a memory stack used by the call manager to identify parties to call a caller that is placed other parties on hold and a list of extensions placed on hold. The call manager pushes an entry of a call a caller extension and other extension s onto the hold stack when a caller places up others on hold. The call manager pops uses that entry to re establish to call and pops that same entry from the hold stack when the caller takes the other parties off of hold. The hold stack is a conventional type known to those skilled in the art.

The group pickup call stack is a memory portion or storage device for storing a list of extensions and corresponding calls. The group pickup call stack is analogous to the hold stack but for tracking incoming calls associated with a group pickup list that have not been answered or are pending. In one embodiment the group pickup call stack is FIFO queue. In one embodiment there is a group pickup the call stack corresponding to each group pickup list created and handled by the extension module . When an incoming call associated with a group pickup list is received the group pickup module sends an indication that there is an incoming call associated with the group pickup list. The group pickup module then adds an entry into the group pickup call stack associated with the group pickup list. The group pickup module removes entries from the group pickup call stack when a call is picked up using a group pickup functionality or answered by the endpoint that received the call. The group pickup module also determines whether a keep alive signal has been received for each entry in the group pickup call stack at predetermined times or upon time out. If a keep alive signal has not been received the call is presumed to have ended and is removed from the group pickup call stack .

The extension list is a list of the extensions available in the entire telephony system . The extension list has been described above with reference to the configuration storage module . The extension list here has a similar functionality but also includes one or more group pickup lists and an associated extension. A group pickup list is an explicit group in which telephones or extensions defined within a numbered group can be picked up from any other telephone. This allows for telephones to be in multiple groups does not require the user specify which group to pickup. Each extension list is given an extension a PG extension in the system . Calls cannot be placed from the PG extensions and when a user dials the PG extensions the system outputs a reorder tone. Those skilled in the art will recognize that the extension list can include any number of group pickup lists. Additionally a group pickup list may include any number of extensions regardless of their location. However in another embodiment the group pickup list is limited to 20 members and a switch is limited to 16 group pickup lists.

The backup group pickup module is software and routines for providing a backup mechanism for the group pickup functionality. The backup group pickup module provides the system with redundancy for the group pickup functionality. The backup group pickup module provides a failover mechanism when a group pickup module is nonoperational. The group of pickup module could be nonoperational because of the failure of the switch failure of the call manager failure of the extension module or failure of the connections to the switch . In one embodiment the backup group pickup module configures the system such that every pickup group has another pickup group as a backup destination. If the primary pickup group is unreachable for any reason the pickup request can automatically be forwarded to the backup pickup group. This forwarding function is performed by the backup group pickup module . Because of the flexible architecture noted above with regard to the assignment of extensions pickup groups and switches an administrative user need only configure the backup and the primary groups on different switches and have the same group extension lists assigned to them. In the event that the primary group is not available the pickup responsibilities are handled by the secondary group and its associated switch. The backup group pickup module also stores and identifies the group lists for which it is the secondary group.

The monitoring group pickup module is software and routines for monitoring for conditions in the system . In particular the monitoring group pickup module monitors for signals identifying new incoming calls. The monitoring group pickup module determines the destination extension for the incoming calls and compares it with the extension list to determine whether the call is associated with a pickup group handled by this extension module and this call manager . If so the monitoring group pickup module passes the call to the group pickup module for further processing. For example the monitoring group pickup module can generated and send a call indication signal for processing by the group pickup module . The call indication signal provides information necessary to redirect the call. If not the call is processed as normal by the call manager . The monitoring group pickup module also monitors for the availability of primary call groups for which it serves as a secondary call group. If the switch associated with a primary call group becomes unavailable the monitoring group pickup module signals the backup group pickup module to become active and handle the failover condition. The monitoring group pickup module is adapted for communication with the backup group pickup module the extension list and the group pickup module .

The monitoring group pickup module is particularly advantageous because it allows a user at a physically remote site to be notified of an incoming call to a pickup group list and also allows extensions at that physically remote site to be used to pick up the call. The prior art has no such capability. For example a user at the second site B could be notified on the phone B of a call to a pickup group list that the user is a member or wants to monitor even though the other members of the pickup group have extensions at the first site A. To accomplish this the monitoring group pickup module sends a signal to the second site B and in particular the phone B of an incoming call to a pickup group list. This triggers the presentation of an indication of an incoming call to the pickup group list for the user on phone B. It could be either a visual or audible indication output by the phone B.

Typically in the prior art the users are physically located at the same site as pickup group members members in the extension list associated with the pickup group so when the phone of a member of the pickup group rings they hear the ringing due to their proximity and issue a pickup command from their extension. Since remote sites were not able to hear the ringing of a phone of a member of the pickup group remote pickup was not possible for prior art systems.

However the present invention distributed architecture allows the pickup command issuer and the members in the pickup group to be located anywhere in the system which means they need not be physically located near each other. In such configurations the monitoring group pickup module allows users to monitor the pickup group and pickup calls of the members of the group from any extension using the call manager .

The hunt group module is software and routines for distributing phone calls from a single destination number or extension to a group of several phone extensions. The hunt group module is operational as part of the call manager . The hunt group module is coupled for communication with the network the PSTN and the endpoints A and . The hunt group module is a conventional type known to those skilled in the art.

The automated attendant is software and routines for automatically transferring callers to a user s extension without the intervention of a receptionist. The automated attendant also provides transfers to any extension by number a dial by name directory to find user extension and transfer to voicemail. Other features of automated attendant include transferring to another outside phone line connecting two companies via wide area networking and VoIP and unified messaging. The automated attendant is operational as part of the call manager . The automated attendant is coupled for communication with the network the PSTN and the endpoints A and . The automated attendant is a conventional type known to those skilled in the art.

Referring now to a method for performing call group pickup shown. Referring now to the method begins by receiving an incoming call or a call offering. Next the call manager determines the destination extension for the call. The call manager determines whether the destination extension is part of a group extension. The method determines whether the group extension determined in step is available. If not the method proceeds to step of as will be described in more detail below. If the method determined in step that the group extension was available the method continues by sending a message to the group extension. In one embodiment the message includes an identification of the call and is sent for processing to the group pickup module . Additionally information about the call is stored in the group pickup call stack . Next the method proceeds to determine whether a pickup signal has been received by the pickup group. The pickup command can be issued from any phone it need not belong to pickup group ext list. When the pickup command is issued on a pickup group then the first call in pickup group stack is picked up and redirected to the extension that issued the pickup command. If a pickup signal has been received the method continues to determine whether the call is present. In some circumstances there may be an amount of time that passes after the incoming call is received step and before a user inputs a call pickup signal. This may cause the caller to end the call in which case the call will longer be present. If it is determined in step that the call is no longer present then the method tries to pickup the next call in the pickup group stack. Then the method determines if there are any calls in the pickup group stack. If there are the next call in the stack is picked up and the method continues in step to redirect the call. If there are no calls in the pickup group stack then the method is complete and ends. On the other hand if it is determined in step that the call is present the method redirects the call to the extension that input the pickup signal after which the method is complete. It should be noted that once the call is redirected the group pickup call stack is updated to reflect that the call is gone. In another embodiment each of the extensions in the group extension list receives an indication that the call is gone and deletes the call from their offering call list.

If in step it was determined that the pickup signal was not received the method continues in step to determine whether the call is still present. If the call is no longer present the method is complete and ends. However if the call is present in step the method continues by sending a keep alive signal to the group pickup call stack after which the method loops to step to continue to test for a pickup signal.

As noted above the present invention is particularly advantageous because it provides fault tolerance for the call group picked up functionality. If it is determined in step that the group extension is no longer available such as because the switch corresponding to the group pickup is no longer available the method continues in step of . In step the method determines the backup group extension corresponding to the determined group extension from step . Next the method determines whether the backup group extension is available. If not both the primary and secondary group extensions are not available and despite the redundancy of the secondary group there is a failure. In an alternate embodiment the backup group pickup module maintains a list of several secondary group extensions. In such a case the method attempts to send a message to each of the secondary group extensions in sequence until the available secondary group extensions are exhausted. If the backup group extension is determined to be available in step the method continues by sending a message to the backup group extension. Once received the group into a module corresponding to the backup group extension processes the message in a manner similar to that described above with reference to steps to .

Referring now to an example of a distributed telephony system utilizing the present invention is shown. In particular shows a diagram illustrating an example in which there are four incoming calls labeled C C C and C with the number indicating the order in which the calls are received a plurality of extensions identified by the names of the users of those extensions Joe Bob Ed Charlie Mike three extension lists and three group pickup modules and three corresponding group pickup call stacks and and additional extensions used for pickup Dick and Kristen . illustrates how calls are processed by the present invention.

The calls are evaluated and the destination extension for each call is determined. For example call C is the first call received and the destination extension is Charlie. Then call C is received and the destination extension is Joe call C is received and the destination extension is Bob and finally called C is received and the destination extension is Ed. As indicated by the lines between the destination extensions names and the extension lists and each of the extensions is associated with a different group extension list. The first extension list includes Joe Bob and Ed. The second extension list includes Joe Bob and Charlie. Finally the third extension list includes Charlie and Mike.

Each of the extension lists and is or may be assigned to a group pickup module and . In this example the first extension list is assigned to the first group pickup module . The second extension list is assigned to the second group pickup module and the third group pickup module . This illustrates how the system of the present invention provides redundancy and failover especially where the second group pickup module is associated with a first switch and the third group pickup module is associated with a different second switch. After the destination extension is determined for each call C C C and C call indications or call offerings are sent to the group pickup module and associated with the extension list and . For example since Joe Bob and Ed are included in the first extension list call indications for calls C C and C are sent in that order to the first group pickup module . Similarly call indications for calls C C and C are sent in that order to the second and third group pickup modules and . The order of the calls is also reflected in the group pickup call stacks and .

Assuming that another user at another extension Dick wants to issue a command to pick up a call from a group extension then Dick can pickup calls associated with the first extension list . Dick and Kristen need not be part of any extension lists or in order to issue a pickup command or . As illustrated in Dick can use any extension and input a pickup signal Pickup to the system . The pickup signal is received and processed by the first group pickup module . The first group pickup module identifies the oldest call within its group pickup call stack and redirects the call to Dick s extension. The first group pickup module also removes call C from the group pickup call stack . Next Dick inputs another pickup signal Pickup to the system . Again the pickup signal is received and processed by the first group pickup module . The first group pickup module identifies the oldest call within its group pickup call stack now call C and redirects the call to Dick s extension. If at some later time a third call pickup signal Pickup is input by another extension Kristin this call pickup signal is sent to and processed by the second group pickup module . In response the second group pickup module redirects the oldest call call C within its group pickup the call stack . The example of illustrates the general operation of the present invention consistent with the description of the extension module of and flowchart of .

The foregoing description of the embodiments of the present invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the present invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the present invention be limited not by this detailed description but rather by the claims of this application. As will be understood by those familiar with the art the present invention may be embodied in other specific forms without departing from the spirit or essential characteristics thereof. Likewise the particular naming and division of the modules routines features attributes methodologies and other aspects are not mandatory or significant and the mechanisms that implement the present invention or its features may have different names divisions and or formats. Furthermore as will be apparent to one of ordinary skill in the relevant art the modules routines features attributes methodologies and other aspects of the present invention can be implemented as software hardware firmware or any combination of the three. Also wherever a component an example of which is a module of the present invention is implemented as software the component can be implemented as a standalone program as part of a larger program as a plurality of separate programs as a statically or dynamically linked library as a kernel loadable module as a device driver and or in every and any other way known now or in the future to those of ordinary skill in the art of computer programming. Additionally the present invention is in no way limited to implementation in any specific programming language or for any specific operating system or environment. Accordingly the disclosure of the present invention is intended to be illustrative but not limiting of the scope of the present invention which is set forth in the following claims.

