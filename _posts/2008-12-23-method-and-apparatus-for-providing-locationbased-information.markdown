---

title: Method and apparatus for providing location-based information
abstract: A method and apparatus for providing location-based information to a wireless communication device is disclosed. The wireless communication device receives its geographic position information and provides its geographic position information to a web server while accessing a web service provided by the web server. Based on the geographic position information received from the wireless communication device, the web server provides geographic coordinates of locations relevant to the web service in the form of web geo-cookies. The wireless communication device maintains a database of the received geographic coordinates. When the wireless communication accesses a geographic map of a route or region, the wireless communication device determines if the geographic coordinates in the database lie within boundaries of the accessed map. The geographic coordinates that lie within boundaries of the received map are annotated and displayed on the wireless communication device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08391895&OS=08391895&RS=08391895
owner: Motorola Mobility LLC
number: 08391895
owner_city: Libertyville
owner_country: US
publication_date: 20081223
---
The present disclosure relates in general to a wireless communication device and more specifically to a method for providing location based information to the wireless communication device.

Recently there has been a good deal of interest in Global Positioning System GPS enabled wireless communication devices that can track location give directions to a destination and provide information about nearby businesses. GPS enabled devices such as cellular phones beepers and portable GPS units have a GPS receiver for receiving satellite signals from the GPS satellite network. These signals allow determination of the GPS enabled device s position. Such a device allows for precisely locating the device in terms of latitude and longitude and sometimes altitude using the GPS receiver. Some GPS enabled devices use a database of maps and a display for showing the device s position with reference to a map. The map may include additional information linked with the device s position such as locations of nearby restaurants hospitals petrol pumps etc.

Such services however are only as good as the map database outdated maps can lead to inaccurate directions. Therefore GPS enabled devices often have to request a GPS service provider for recent maps containing updated location based information. This process is time consuming and bandwidth intensive thereby increasing network congestion. Moreover GPS capable devices usually show the location based information that has coordinates lying close to the coordinates of the device s location on the map. However the locations shown on the map might not be of interest to the user of the GPS receiver device.

Accordingly there is an opportunity to provide location based information to the GPS enabled wireless communication device in a more time efficient and bandwidth efficient manner.

Skilled artisans will appreciate that elements in the figures are illustrated for simplicity and clarity and have not necessarily been drawn to scale. For example the dimensions of some of the elements in the figures may be exaggerated relative to other elements to help to improve understanding of embodiments of the present invention.

The apparatus and method components have been represented where appropriate by conventional symbols in the drawings showing only those specific details that are pertinent to understanding the embodiments of the present invention so as not to obscure the disclosure with details that will be readily apparent to those of ordinary skill in the art having the benefit of the description herein.

Various embodiments of the invention disclose a method for providing location based information to a wireless communication device. By mapping information that a user has already indicated as being of interest location based information can be provided to a user of a GPS enabled wireless device in a more time efficient and bandwidth efficient manner. The user s interest can be indicated by simply accessing a web service relevant to the user s interest. For example if the user has indicated an interest in a particular chain of restaurants the web service can provide files with the locations of the chain of restaurants and nearby restaurants of that chain can be highlighted on a displayed map on a GPS enabled wireless device.

The wireless communication device receives its current position information from a location server. The wireless communication device accesses a web service and provides its position information to a web server providing the web service. The web server provides geographic coordinates of locations that are relevant to the web service to the wireless communication device based on the position information given by the wireless communication device. The wireless communication device requests the location server for a geographic map of a region or a route. The location server provides the requested map to the wireless communication device. The wireless communication device maps the received geographic coordinates onto the map and highlights the locations that lie within the coordinates of the map.

Before describing in detail the method for providing location based information to a wireless communication device it should be observed that the present invention resides primarily in combinations of method steps and apparatus components related to providing location based information to a wireless communication device. Accordingly the method steps have been represented where appropriate by conventional symbols in the drawings showing only those specific details that are pertinent to understanding the present invention so as not to obscure the disclosure with details that will be readily apparent to those of ordinary skill in the art having the benefit of the description herein.

The wireless communication device includes a radio communication transceiver for example a wideband code division multiple access W CDMA transceiver a Universal Mobile Telecommunication Services UMTS transceiver a Global System for Mobile communications GSM Generalized Packet Radio Services GPRS transceiver or some other cellular communications transceiver for communication with the web server and the location server over a wireless communication network. In some embodiments the wireless communication device includes a non cellular communication transceiver for example a Bluetooth transceiver or a WiFi transceiver either alone or in combination with a cellular transceiver for communication with the web server and the location server .

The wireless communication device includes a Satellite Positioning System SPS receiver for receiving satellite signals from a constellation of earth orbiting satellites e.g. a GPS receiver for receiving signal from the GPS satellite system . The GPS satellite system mentioned herein is a navigation satellite system that enables a wireless communication device to determine its location speed direction and time using microwave signals transmitted from GPS satellites.

In an autonomous location determination embodiment the position of the wireless communication device may be computed autonomously at the wireless communication device based on timing signals received from GPS satellite system . The timing signal used herein contains the time shown by an atomic clock of a GPS satellite. The wireless communication device uses the arrival time of the timing signals to compute its distance to each of at least three GPS satellites from which it determines its current location.

In an assisted location determination embodiment the wireless communication device computes its current position using assistance information received from the location server and at least three GPS satellites. The assistance information includes precise GPS satellite orbit and clock information initial position and time estimate and for assisted GPS only receivers satellite selection range and range rate information. With assistance from the location server the GPS receiver can operate more quickly and efficiently than it would autonomously because a set of tasks that it would normally handle is shared with the location server . In such assisted GPS systems the wireless communication device uses the signals from the orbiting GPS satellites in conjunction with the assistance information received from the location server to compute a location of the wireless communication device . Assisted GPS devices can often get a fix on the device s location faster than an autonomous GPS receiver. Some assisted GPS systems can work inside buildings under dense foliage and in city areas where autonomous GPS receivers cannot receive signals.

In a network based location determination embodiment the location server is able to compute the current position of the wireless communication device . The location server has the ability to access the wireless communication device s signal information from nearby base stations towers in the wireless communications network and also has computing power far beyond that of the GPS receiver in the wireless communication device . Network based location computation schemes include time difference of arrival TOA enhanced observed time of arrival E OTD angle of arrival ATA schemes among others none of which are intended to limit the types of location determinations that may be made.

After the current position of the wireless communication device is determined using autonomous assisted or network based methods the position information is sent to the web server . The web server sometimes called application server is a computer that runs a program which is responsible for accepting requests from the wireless communication device and for serving responses along with data content to the wireless communication device . The web server is capable of hosting a web service. The web service used herein is a web based application programming interface that can be accessed over a network and executed on a remote system hosting the requested service. In an example the web service can be one of or a combination of a website an email service and voice over IP VoIP service.

The web server provides geographic coordinates of locations which are relevant to the web service as predetermined by the web service based on the current position of the wireless communication device . For example if the wireless communication device accesses a web server of a particular restaurant chain then the web server might provide geographic co ordinates relating to restaurant locations. The web server provides geographic coordinates in the form of web geo cookies which are cookie files containing longitude and latitude values. In order to overcome network bandwidth and memory limitations the number of geo cookies provided can be limited based on factors such as speed of network connection available memory on the wireless communication device etc. Such information is collected by the web server through a device capability query performed on the wireless communication device by the server at the time of session establishment. The capabilities queried may include size of display codec support device type e.g. 2G 3G memory available and threshold flash or disk storage etc. The web server determines the number of geo cookies that can be provided to the wireless communication device using these above criteria as input. The geo cookies can be prioritized based on the closest to farthest location entries from the wireless communication device s present location. In another example the geo cookies can be prioritized based on the location entries that lie on a closest route from the wireless communication device s present location. Alternately the wireless communication device can be configured to remove those cookies which are farthest from its location or are separated from its location by more than a certain distance.

In another embodiment the web server determines the number of geo cookies that can be provided to the wireless communication device based on link quality parameters such as signal strength error rate signal to noise ratio etc. of the communication channel. For example the web server receives the link quality information from the wireless communication device at the time of session establishment. If the link quality indicates good signal strength the web server can provide geo cookies having location entries that are within a short distance say 5 miles from the present location of the wireless communication device . Since the signal strength of the channel is good the wireless communication device can receive the geo cookies at several intermittent times instead of one time thereby saving network bandwidth. Instead if the link quality indicates weak signal strength the web server can provide geo cookies having location entries that are within a long distance say 10 miles from the present location of the wireless communication device . Since the signal strength of the channel is weak the wireless communication device might get disconnected from the communication network. In case of a disconnection the geo cookies received for the 10 miles can be used to derive map information until the network connection is re established with the next available node in the network.

A web geo cookie is a file containing at least a name of a location and a coordinate value of the location e.g. store 101 13 19 43 N 23 27 30 E . Although only one location is provided in this geo cookie example other embodiments can concatenate multiple locations into one geo cookie file. The web geo cookie may also include other fields such as a time stamp based on the system time on the wireless communication device when the geo cookie was downloaded and a number of times the geo cookie file was accessed by the wireless communication device . In an embodiment when the wireless communication device receives geo cookies having geographic coordinates from the web server a web browser on the wireless communication device allows configuring a favorites list to include location specific favorites. A favorite list is an internet bookmarking mechanism having stored URLs that can be retrieved by the browser. The favorites list is generally in the form of a folder metaphor. The web browser allows adding a URL of the web service to the favorites list and tagging it as a location favorite. The favorites tagged as location favorites can be distinguished by e.g. showing a globe or map icon next to the location favorite.

When the wireless communication device accesses a web service from the location favorites list the web browser s request to the web server indicates that the request embedded is for the location information of services hosted by the web service. The web server then acknowledges the request with recent location specific information.

For example if a wireless communication device accesses a web server of a particular restaurant chain then the web server might provide geographic coordinates relating to restaurant locations. The URL of the web service is added to the favorites list by the user and tagged as a location favorite. The browser extracts information relating to location coordinates of the restaurants from geo cookies received from the web server and saves such information in memory. In an embodiment when a location favorite is accessed from the favorites list the web browser requests the web server for location specific information. The web server provides up to date location specific information having geographic coordinates of locations.

In an embodiment the wireless communication device maintains a database of the geographic coordinates received each time any such web service is accessed. The database of the received geographic coordinates is stored in a persistent memory of the wireless communication device . In another embodiment the database of the received geographic coordinates is stored in a persistent memory of the location server .

The wireless communication device requests a geographic map of interest from the location server . The map of interest might be a geographic map of a route or region. The location server then retrieves the requested map from a web server and sends the requested map to the wireless communication device . In another embodiment the map might be supplied through removable storage mediums such as plug in map cartridges compact discs etc. and stored on a memory of the wireless communication device . Upon receiving the map of interest from the location server or upon accessing a pre stored map the wireless communication device accesses the database and determines if the geographic coordinates lie within boundaries of the received map. If it is determined that certain geographic coordinates fall within the boundaries of the map of interest the wireless communication device annotates e.g. marks highlights and or adds text or graphics the locations that correspond to those geographic coordinates. In an example the locations are annotated by using special effects pointers color effects icons etc. The map with the annotated locations is then displayed on the wireless communication device . When the wireless communication device annotates a location based on a geo cookie the wireless communication device increments the number of times the geo cookie file was accessed which is a field in the geo cookie file.

When the wireless communication device accesses the same web service at a subsequent time the web server determines whether the wireless communication device has accessed the web service at an earlier time by searching for relevant web geo cookies that might be stored on the wireless communication device . If web geo cookies of the web service are found in the wireless communication device the web server updates the geographic information contained in the web geo cookies as needed. The web server determines which geo cookie needs to be updated based on the system time recorded in the geo cookies as they were downloaded. In another embodiment the wireless communication device provides its updated position information during the subsequent access . Using the updated position information of the wireless communication device the web server determines whether new geo cookies need to be provided or existing geo cookies be updated. The geo cookies are updated by deleting replacing or adding to geographic information previously contained in the geo cookie. For example the updated geographic information includes geographic coordinates of relocated stores and or newly opened stores and deletes geographic information of closed stores.

In an example a user accesses a website e.g. a Motorola website using the wireless communication device . The last computed position information of the wireless communication device is provided to the web server during access . The web server of the Motorola website provides geographic coordinates of Motorola retail stores and Motorola authorized stores to the wireless communication device in the form of one or more web geo cookies. The user of the wireless communication device visits Chicago Ill. USA and the device requests a map of Chicago from a location server and receives the map from the location server . The wireless communication device maps the geographic coordinates provided by the Motorola web server onto the coordinates of the received map. The wireless communication device then marks the locations of all Motorola stores in Chicago whose geographic coordinates fall within the map of Chicago and displays the map for the user. When the user accesses the Motorola website at a subsequent time the web server searches stored web geo cookies in the wireless communication device to determine whether the stored web geo cookies already have the most accurate geographic coordinates of Motorola stores. If the web server detects that the stored web geo cookies have geographic information of Motorola stores that are now obsolete then the web server provides updated geographic coordinates of the Motorola stores in Chicago if there has been a change in the location information for some of the Motorola stores.

In another example as shown in a wireless communication device is moving from say Schaumburg Ill. to Chicago Ill. The wireless communication device requests a location server for the wireless communication device s current location and receives the current location information. The location server computes the current location using for example a network based location determination. Alternately in an autonomous location determination the wireless communication device computes its current position based on signals received from GPS satellite system . Otherwise in an assisted location determination the wireless communication device computes its current position using signals from the GPS satellite system and assistance information received from the location server . When the wireless communication device accesses a website e.g. Motorola website the web server of the Motorola website provides the geographic coordinates of at least one Motorola store in the form of a web geo cookie downloaded to the wireless communication device based on the last computed location of the wireless communication device. The wireless communication device then requests a geographic route map of a route from the location in Schaumburg to a destination in Chicago from the location server and receives the map from the location server . The geographic route map may include turn by turn directions not shown . The wireless communication device then maps the geographic coordinates provided by the web server onto the received route map and highlights locations of those Motorola stores and which lie within the boundaries of the received route map .

In an embodiment the wireless communication device can be configured to update its geographic coordinates database specifically when the wireless communication device is moving. For example the wireless communication device can be configured to auto update the database after determining that the current location of the wireless communication device exceeds a certain distance from the position information provided to a web service. If the current location of the wireless communication device exceeds a radius of say 20 miles from the position information provided to the web service then the wireless communication device automatically initiates a network connection with the web service and synchronizes the geo cookies. Auto update of geo cookies can be limited to only certain web services such as only those web services saved in a favorites list in the wireless communication device . Alternately or additionally the wireless communication device can ask the web server for geo cookies based on time elapsed rather than distance traveled. Additionally the wireless communication device can be configured to manually update the geographic coordinates database. The user of the wireless communication device can explicitly request an update or addition of new relevant geographic coordinates. This may happen if the user notices that geo cookies were deleted based on the distance configuration if the wireless communication device has moved to a new location or if the user notices a geo cookie might need updating e.g. by passing a store opening soon sign .

For example a wireless communication device in Schaumburg receives geographic coordinates tailored to its current location in Schaumburg from the web server . The wireless communication device then moves to Chicago and asks the location server for a map of Chicago. The wireless communication device would then determine whether the wireless communication device s new current location in Chicago is beyond a pre determined distance from the position information last used to obtain geo cookies in the database for a particular web service. If the wireless communication device s new current location is beyond the pre determined distance from the position information provided when accessing that particular web service then the wireless communication device accesses the web service and updates the database as discussed above.

The processor includes one or more microprocessors microcontrollers DSPs digital signal processors state machines logic circuitry or any other device or devices that process information based on operational or programming instructions. The processor includes a web browser which is a software application that enables a user to access information available from a web server . The web browser enables the user of the wireless communication device to access a web service through a web server on the network. The processor is operationally connected to a memory . The memory can be any form of non volatile memory such as a hard disk or a portable storage unit and or a volatile memory such as random access memory. The memory includes a database of geographic coordinates and a storage space for maps of interest. The database of geographic coordinates is used for storing geographic coordinates received from the web server .

The transceiver can be implemented as a transmitting and receiving component of the wireless communication device in accordance with known techniques. The transceiver is connected to the processor and provides geographic coordinates of a location to the processor. In an embodiment some of the functions of the transceiver can be implemented in the processor . The transceiver unit is used for accessing the web service wirelessly and for receiving geographic coordinates relevant to the web service from the web server . The geographic coordinates are received in the form of geo cookies. The geographic coordinates received from the web server include at least latitude and longitude values. In the case of an assisted GPS system the transceiver receives GPS assistance information from the location server .

The GPS receiver connected to the processor is used for receiving timing signals from the GPS satellite system for calculating the current position of the wireless communication device in the case of an autonomous or assisted GPS system. The GPS receiver can also receive a map of a region or a route requested by the wireless communication device from the location server through a data channel over a radio network. Antenna and GPS antenna include any known or developed structure for radiating and receiving electromagnetic energy in the frequency range containing the wireless carrier frequencies.

The processor receives the map of a route or region through the GPS receiver and stores the received map in storage space in memory . The processor also receives maps of interest to a user through removable storage mediums and stores them in storage space . When the processor receives a map from the location server through the GPS receiver or retrieves a map from storage space in response to a request the processor accesses the database and determines whether the geographic coordinates in the database lie within the coordinates of the received retrieved map. The processor then highlights the locations corresponding to the geographic coordinates that lie within the boundaries of the map and displays the annotated map on the display unit .

The wireless communication device requests a map of interest from the location server . In an embodiment however the wireless communication device invokes a map of interest that is pre stored in the memory of the wireless communication device . At step the wireless communication device receives the map of interest either from the location server or from the memory. At step the wireless communication device determines if the stored coordinates in the database lie within the boundaries of the received map. If any geographic coordinates stored in the database lie within coordinates of the map at step the wireless communication device annotates the locations that lie within the boundaries of the map at step . Otherwise if it is determined that none of the stored geographic coordinates lie within the boundaries of the map at step the process terminates at .

The wireless communication device receives geographic coordinates which are relevant to the web service from the web server based on the current position information of the wireless communication device . For example the wireless communication device receives geographic coordinates of geographic locations associated with the web service and which lie in and around the geographic location of the wireless communication device . The wireless communication device then maintains a database of received geographic coordinates in its memory. In an embodiment the wireless communication device transmits the received geographic coordinates to the location server in the form of web geo cookies and the location server maintains a database of the received geographic coordinates. The location server stores the database in e.g. a persistent memory. In an alternate embodiment the wireless communication device sends the database of geographic coordinates that it maintains to the location server . In an example the wireless communication device may periodically send its database of geographic coordinates to the location server . In another example the wireless communication device may upload the database to the location server each time the database at the wireless communication device is modified. In other cases the database may be uploaded each time the wireless communication device requests a map from the location server .

The wireless communication device requests a geographic map of a route or a region from the location server . On receiving the request the location server invokes the requested map and determines if the stored geographic coordinates in the database for that wireless communication device lie within the coordinates of the requested map. The location server then annotates the locations corresponding to the geographic coordinates that lie within the boundaries of the requested map. The location server provides lnposelstartlnplnposelendoselstartlnplnposelendoselstartlnplnposelendoselstart645lnposel end the annotated map to the wireless communication device for display. The annotated map provides the current location information of the wireless communication device along with information of locations of interest to the user of the wireless communication device as expressed by previous accesses of particular web services.

In the foregoing specification specific embodiments have been described. However one of ordinary skill in the art appreciates that various modifications and changes can be made without departing from the scope of the invention as set forth in the claims below. Although GPS has been used as the main example for SPS other SPS systems such as LORAN can be substituted in different implementations. Accordingly the specification and figures are to be regarded in an illustrative rather than a restrictive sense and all such modifications are intended to be included within the scope of present teachings.

The benefits advantages solutions to problems and any element s that may cause any benefit advantage or solution to occur or become more pronounced are not to be construed as a critical required or essential features or elements of any or all the claims. The invention is defined solely by the appended claims including any amendments made during the pendency of this application and all equivalents of those claims as issued.

Moreover in this document relational terms such as first and second top and bottom and the like may be used solely to distinguish one entity or action from another entity or action without necessarily requiring or implying any actual such relationship or order between such entities or actions. The terms comprises comprising has having includes including contains containing or any other variation thereof are intended to cover a non exclusive inclusion such that a process method article or apparatus that comprises has includes contains a list of elements does not include only those elements but may include other elements not expressly listed or inherent to such process method article or apparatus. An element proceeded by comprises . . . a has . . . a includes . . . a contains . . . a does not without more constraints preclude the existence of additional identical elements in the process method article or apparatus that comprises has includes contains the element. The terms a and an are defined as one or more unless explicitly stated otherwise herein. The terms substantially essentially approximately about or any other version thereof are defined as being close to as understood by one of ordinary skill in the art and in one non limiting embodiment the term is defined to be within 10 in another embodiment within 5 in another embodiment within 1 and in another embodiment within 0.5 . The term coupled as used herein is defined as connected although not necessarily directly and not necessarily mechanically. A device or structure that is configured in a certain way is configured in at least that way but may also be configured in ways that are not listed.

It will be appreciated that some embodiments may be comprised of one or more generic or specialized processors or processing devices such as microprocessors digital signal processors customized processors and field programmable gate arrays FPGAs and unique stored program instructions including both software and firmware that control the one or more processors to implement in conjunction with certain non processor circuits some most or all of the functions of the method and or apparatus described herein. Alternatively some or all functions could be implemented by a state machine that has no stored program instructions or in one or more application specific integrated circuits ASICs in which each function or some combinations of certain of the functions are implemented as custom logic. Of course a combination of the two approaches could be used.

Moreover an embodiment can be implemented as a computer readable storage medium having computer readable code stored thereon for programming a computer e.g. comprising a processor to perform a method as described and claimed herein. Examples of such computer readable storage mediums include but are not limited to a hard disk a CD ROM an optical storage device a magnetic storage device a ROM Read Only Memory a PROM Programmable Read Only Memory an EPROM Erasable Programmable Read Only Memory an EEPROM Electrically Erasable Programmable Read Only Memory and a Flash memory. Further it is expected that one of ordinary skill notwithstanding possibly significant effort and many design choices motivated by for example available time current technology and economic considerations when guided by the concepts and principles disclosed herein will be readily capable of generating such software instructions and programs and ICs with minimal experimentation.

The Abstract of the Disclosure is provided to allow the reader to quickly ascertain the nature of the technical disclosure. It is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims. In addition in the foregoing Detailed Description it can be seen that various features are grouped together in various embodiments for the purpose of streamlining the disclosure. This method of disclosure is not to be interpreted as reflecting an intention that the claimed embodiments require more features than are expressly recited in each claim. Rather as the following claims reflect inventive subject matter lies in less than all features of a single disclosed embodiment. Thus the following claims are hereby incorporated into the Detailed Description with each claim standing on its own as a separately claimed subject matter.

