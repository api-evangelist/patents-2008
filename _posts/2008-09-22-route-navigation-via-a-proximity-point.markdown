---

title: Route navigation via a proximity point
abstract: A system and method is provided that uses one or more points, e.g., “smart via” input points, e.g., a center of a city such as a large city, to determine one or more points, e.g., smart via output points. A smart via output point determined from a smart via input point can be used, together with origination and destination points, to identify an optimal navigational route between the origination and destination points. A navigational route generated using the smart via output point, an origination point and a destination point travels in proximity to the smart via input point.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08219317&OS=08219317&RS=08219317
owner: Mitac International Corporation
number: 08219317
owner_city: Kuei San Hsiang, Taoyuan
owner_country: TW
publication_date: 20080922
---
The present disclosure pertains to calculating a route that passes by an identified location e.g. a large city and more particularly to a system and method by which a navigational route from one point to another is determined the determined routing passing by the identified location.

An application navigation or other route generation application can generate a route with directions from one location to another. The route is typically generated based on an origination point and a destination point. To generate a route the application requires at least one origination point and a destination point. The application uses the origination and destination point input to generate a route that identifies the roads to be taken to travel from the origination to the destination point. In a case that the user specifies multiple destinations the application generates a route from the origin to the first destination and then from the first destination to another destination and so on until the final destination. Thus existing applications determine a route from one point an origination point to another point a destination point.

It would be beneficial to be able to use one or more additional points to further define the route between origination and destination points. The present disclosure addresses this and further seeks to address failings in the art. In accordance with embodiments disclosed a system and method is provided that uses one or more points e.g. smart via input points to determine one or more points e.g. smart via output points that can be used together with at least one origination point and destination point to identify a navigational route between the origination and destination points. In accordance with one or more embodiments the navigational route is determined to be an optimal or best route. In accordance with one or more embodiments a navigational route is generated using the smart via output point as a destination along the route which travels in proximity to the smart via input point. In accordance with one or more embodiments a smart via output point is located in proximity to and is different from the smart via input point. In addition and in accordance with one or more such embodiments a smart via input point is used to determine a route between origination and destination points such that the smart via input point is used to identify a smart via output point which is used as a point along the determined route from the origination point to the destination point.

By virtue of one or more embodiments of the invention a smart via input point can be used in route generation as a further refinement of the route e.g. a smart via output identified using a smart via input point acts as another point in addition to the origination and destination points for use in generating a route. For example a user may wish to travel from Nantes to Marseille via a route that passes by but does not go through Paris. In this example Paris can be used as a smart via input point along with the origin and destination points of Nantes and Marseille to generate a smart via output point which comprises a point corresponding to a segment of a roadway outside of Paris. In accordance with one or more embodiments the smart via output point is calculated so that it is positioned on an optimal level of road for the size of the city the user wishes to pass by e.g. a smart via output point that is positioned on a freeway or motorway for a large city such as Paris or New York that is positioned on a highway for a mid sized city and that is positioned on a secondary road for small city. In accordance with one or more embodiments the size of the city is determined based on a road density calculated for the city. The smart via output point can then be input together with the origin and destination points to generate a route from Nantes to Marseille via the smart via output point e.g. the point located outside of Paris calculated using the smart via input point.

By way of yet another non limiting example embodiments of the present disclosure can be used to preselect the route in a case that there are multiple routes between the origination and destination points. For example there are at least two routes between Los Angeles Calif. the origination point and New York N.Y. the destination point. A southern route takes highway 40 through Arizona New Mexico etc. A northern route uses highways 15 and 70 through Utah Colorado etc. Using Denver Colo. as the smart via input point a smart via output point can be generated and can then used with the origination point Los Angeles Calif. and the destination point New York N.Y. to identify the northern route via highways 15 and 70 between Los Angeles and New York City. Selecting Albuquerque N.Mex. as the smart via input point can result in a smart via output point being selected such that the southern route via Highway 40 is used between Los Angeles and New York City.

A navigational route is generated using an origination point corresponding to a starting point for the navigational route a destination point corresponding to a destination point for the route a smart via output point that is identified to be an optimal point and that is in proximity to and is different from a smart via input point the smart via output point being determined from the origination destination and smart via input points. In accordance with one or more embodiments a system is provided that comprises one or more processors configured to provide the functionality. In accordance with another embodiment functionality is embodied in steps of a method performed by at least one computing device or processors. In accordance one or more embodiments program code to implement the functionality is embodied on a computer readable medium.

In general the present disclosure includes a route navigation via a proximity point and a system method and architecture thereof.

Certain embodiments of the present disclosure will now be discussed with reference to the aforementioned figures wherein like reference numerals refer to like components.

User interface can supply input that identifies a smart via input point e.g. input provided by a user using a pointing mechanism to select a point on a map displayed by a computing device for the user. The input can also include a request to generate a route from origination and destination points which can also be specified by the user. Application outputs a smart via request to smart via module to generate a smart via output point using the smart via input point together with the origination and destination points. Smart via module can be integral to application or an external module. Application can communicate with smart via module using an application programming interface API for example. Smart via module generates a smart via output point using the input provided by application via smart via request . In addition smart via module can use data from data store e.g. requesting data via request and receiving data via response . As is described in more detail below data store can comprise data for roads and or segments of roads. In accordance with one or more embodiments of the disclosure application data store and data store can be a combined data store. In accordance with one or more such embodiments information extracted by smart via module comprises information used to identify a smart via output point and information extracted by application comprises information used to determine a navigation route.

In response to smart via request smart via module determines a smart via output point which is then forwarded to application via smart via results . Application can then use smart via output point together with the origination and destination points to determine a route that includes the smart via output point and runs close by the smart via input point. In accordance with one or more embodiments the distance between the smart via input point and smart via output point can vary based on segments of roads that are located in a zone that encompasses the smart via input point.

In accordance with one or more embodiments of the present disclosure a computer readable medium can store program code embodying the functionality of smart via module . Alternatively in accordance with one or more embodiments of the present disclosure one or more computing devices and or processors can be configured using the program code to provide the functionality of smart via module . Smart via methods and systems are provided in accordance with one or more embodiments of the present disclosure.

In the example shown in the smart via input point corresponds to a city center. It should be apparent however that the smart via input point can be any geographic point. In one or more embodiments the smart via input point origination point destination point and smart via output point are expressed using geographic location information e.g. latitude and longitude values.

Referring to step of the size of the city identified by the smart via input point is estimated and a zone that encompasses the smart via input point is to find based on the estimated size. which comprises provides an example of a size estimation process flow in accordance with one or more embodiments of the present disclosure. Generally the size of the city is estimated based on segment densities e.g. the number of segments of road determined for each of one or more road levels or ranks corresponding to a geographic area associated with the city. In accordance with one or more embodiments the geographic area is defined by a geometric shape such as a square which encompasses the smart via input point e.g. the center of the city. The estimated size of the city and or a determined layer is used to determine a zone that surrounds the smart via input point. In accordance with one or more embodiments the size of the square used to determine the size of the city remains constant for each road level or rank examined and segment density determined for each level of road examined. In accordance with one or more embodiments a road is comprised of one or more segments each of which has the same level or ranking as the road. Unless otherwise indicated the terms level and rank are used interchangeably herein.

Referring to at step a first level of road e.g. the highest level of road is selected. By way of a non limiting example a level of road can be used to categorize roads such that roads that have similar characteristics fall within the same category. Examples of characteristics include but are not limited to a speed limit divided highway type of surface ingress egress stop signs lights number of lanes etc. By way of a further non limiting example a motorway freeway expressway turnpike etc. fall within a category identified as the highest level of road because these roads typically have the fastest speed limit are divided roads have limited if any stoplights signs limited if any cross traffic efficient ingress egress e.g. merging traffic the greatest number of lanes etc. An example of a lesser level of road category might be an urban street that has a lower speed limit may or may not be divided typically has some stoplights signs etc.

In a case that the highest level of road corresponds to motorways freeways etc. the segments in the first level of road selected at step of are segments of a motorway freeway etc. At step a segment density is determined for the selected level of road. In accordance with one or more embodiments the segment is determined for a given geographical area such as a geometric square that surrounds the smart via input point. In accordance with one or more embodiments the size of the square used to determine a city size and a level of road is constant regardless of the level of road being examined. The segment density identifies the number of segments that occur for the square e.g. a segment that has at least a portion within the square or alternatively is completely within the square. In a case that intersections are used to define segments of a road it is likely that there are fewer segments per square for the higher levels of road then some of the lesser levels of road since the higher levels of road e.g. a freeway typically do not have intersections. In accordance with one or more embodiments the highest level of road that has a corresponding segment density that satisfies a segment density threshold corresponding to the level of road is selected.

At step the segment density determined at step is compared to at least one density threshold for the level to determine whether the segment density for the selected level of road satisfies the density threshold for the level of road. If not processing continues at step to select the next level of road e.g. the next highest level of road. If the determined segment density satisfies the density threshold processing continues at step to select the current level of road to determine a zone size. As is discussed in more detail below the selected level of road can be used to identify a corresponding rank threshold which rank threshold is used together with the rank information associated with the road segments to determine whether or not a segment can be selected for a segment tree.

In accordance with one or more embodiments the size of the zone is determined using segment densities determined for squares located along each spoke of an 8 spoke star. The size of the square used to determine the zone can be determined based on the selected level of road. The selected level of road can also be used to determine the distance between two squares along the spoke of the star. provides an example of an eight spoke star that can be used in determining a zone size in accordance with one or more embodiments of the present disclosure. Each spoke of the example star shown in is labeled with a number i.e. 1 to 8. It should be apparent that while the spokes can be processed in an order indicated by the numbers the spokes of the star can be processed in any order. In addition it should be apparent that any number of spokes or any other technique can be used to determine the location of the squares used to determine the size of a zone. Square represents the square used at step to determine the segment density for the selected level of road. Squares A represent two squares along spoke of the star. The size of square A and or the distance between two squares A can be determined based on the selected level of road.

Referring again to at step first or next spoke of the star is selected e.g. spoke of . At step of a first or next square is selected along the selected spoke. Assuming for the sake of example that the leftmost square A along spoke is selected square a density of segments for the squares A is determined at step . In accordance with one or more embodiments the segment density is determined based on the number of segments of a road that correspond to the level of road selected at step of . At step a determination is made whether or not the density determined at step satisfies a density threshold e.g. a density threshold corresponding to the selected level of road. In accordance with one or more embodiments the density threshold used in step can be the same as the density threshold used for that level of road at step of . If the determined density satisfies the level s density threshold processing continues at step to process another square along the current spoke.

In accordance with one or more embodiments the process continues until a square s determined density fails to satisfy the density threshold for the selected level of road. If it is determined at step that the determined density does not satisfy the density threshold processing continues at step to mark the current square as the last square along the current spoke. At step a determination is made whether or not any spokes of the star remain to be processed. If so processing continues at step of . If all of the spokes of the star have been processed processing continues at step to determine the zone based on the last square marked for each spoke. By way of a non limiting example a zone is determined that uses the outermost edge of each square marked for each spoke.

Referring again to at step a list of the road segments for the determined zone is obtained. In accordance with one or more embodiments the segment list can include each road segment for which all or a portion of the segment lies within the identified zone and which satisfies a layer corresponding to the level of road selected at step . By way of a non limiting example if the level of road selected at step is level the layer is set to 2 and segments that have a ranking of 2 or higher e.g. segment rankings 2 to 4 can be used to build the list of segments at step . By way of a further non limiting example a selected level of is used to define a layer equal to 0 and segments that have a ranking of 0 or higher segment ranking from 0 to 4 can be used to build the segment list at step .

At step a distance is determined for each segment. The distance being a distance between the segment and the destination point. Each segment has a start point P and an end point P. An example of a segment segment is shown in . In accordance with at least one embodiment the distance for a segment is determined by calculating the distance between the segment s end point P and the destination point which destination point was received as input by smart via module . For the sake of an example and with reference to the distance for segment would be the distance between Pof segment and destination point .

At step of a segment is selected for the root of the first or subsequent tree using the determined distances such that the segment selected is determined to be the closest segment based on its determined distance to the destination point which has not yet been selected as a root of a segment tree. Referring again to if segment of segment tree is determined to be the segment in zone that is the closet to destination point and segment is not a root of another segment tree segment is selected as a root of a segment tree e.g. segment tree . Zone is determined for smart via input point in a manner discussed herein e.g. in connection with .

Referring again to at step a segment tree is constructed with the selected segment e.g. segment as the root. Referring again to tree is constructed at step . In accordance with one or more embodiments of the present disclosure a segment tree is built by iteratively identifying segment s connected to a segment of the tree in the direction of the destination point e.g. destination point . In accordance with one or more such embodiments construction of the segment tree can be terminated after a number of iterations e.g. five iterations with the depth of the tree corresponding to the number of iterations. In accordance with one or more embodiments a threshold number of iterations can be used to determine a point to terminate construction of the tree. Alternatively tree construction can be terminated once the depth of the tree satisfies a depth threshold e.g. the depth of the tree can correspond to the number of segments in the longest traversal of the tree. As yet another non limiting example tree construction can be terminated once a threshold distance to the destination point is reached. In accordance with one or more embodiments the threshold that is used can vary based on the selected level of road.

In addition and at step a value is assigned for each segment of the tree. In accordance with one or more embodiments a segment s value is determined using speed and angle coefficients determined for the segment. In addition to the coefficient value determined for a leaf node of a branch of the tree at step an aggregate coefficient value is assigned to the leaf node which aggregate coefficient value is the aggregate of the coefficient values of each of the segments traversed from the root to reach the leaf node.

At step an optimal leaf node of the segment tree is selected based on the aggregate values associated with the leaf nodes of the segment tree. By way of a non limiting example the aggregate values of one or more leaf nodes are compared with an optimal one of the leaf nodes being the leaf node that has the least aggregate value of the aggregate values compared. It should be apparent that any of a number of other techniques can be used to identify an optimal leaf node. At step a value is assigned to the segment tree using the aggregate value of the leaf node selected as an optimal one of the leaf nodes of the segment tree.

At step of a determination is made whether or not to build another segment tree. The determination can be based on processing considerations etc. By way of a non limiting example the determination can be made based on a determination that the distance to the destination point calculated for the remaining segments available to be used as the root of a new segment tree is greater than a predetermined threshold. By way of a further non limiting example the determination can be made based on the degree to which segments are being repeated in the segments previously processed.

In accordance with one or more embodiments processing performed on subsequent trees can be optimized. For example and in a case that a segment is repeated in a subsequent tree the angle and speed coefficients calculated for the segment in connection with a previous tree can be used for the segment in the subsequent processed segment tree. In accordance with one or more embodiments a segment is selected as a root of a segment tree based on its distance e.g. closeness to the destination point e.g. one segment is selected over another segment if it is determined to be closer to the destination point than the other segment. Using this approach there is some likelihood that a subsequently processed segment tree will have at least one segment in common with a previously processed segment tree. Since the angle and speed coefficients would be the same for a segment regardless of the tree in which it is used the common segment s previously calculated values can be used in the subsequently processed segment tree.

If it is determined at step that another segment tree is to be built processing continues at step to process another segment tree. If a determination is made at step not to build another tree processing continues at step to select one of the segment trees based on the aggregate values assigned to the segment trees. By way of a non limiting example the aggregate values of one or more segment trees are compared with an optimal segment tree being the segment tree that has the least aggregate value of the aggregate values compared. It should be apparent that any of a number of other techniques can be used to identify an optimal segment tree. At step the root node of the segment tree identified as an optimal one of the segment trees is identified and the starting node P of the road segment corresponding to the identified root node is used at step as the smart via output point e.g. starting node of the segment . The starting node of the road segment is identified to be an optimal point and is output as the smart via output point at step of by smart via module e.g. output to application in smart via results in response to the smart via request . Application can then use the smart via output point as an intermediate destination point along a route further defined by the origination and destination points provided by the route requests .

In accordance with one or more embodiments the A algorithm can be used to facilitate construction of a segment tree. The A algorithm can be used to select an optimal one segment at any level of the segment tree a root segment and or a segment that is attached to a segment of the tree. By way of a non limiting example and in a case that segments B C and D are attached to segment A the A algorithm can be used to choose an optimal segment e.g. D from the identified segments e.g. B C and D . The A algorithm can be used to select an optimal one of the identified segments and therefore the identified segment need only be processed e.g. there is no need to process the other ones of the segments that are attached to segment A . Criteria for acceptance and or rejection of a segment can be identified to use the A algorithm e.g. the criteria can be identified based on segment rank coefficient value etc.

As discussed above in connection with step of each segment of a segment tree is assigned a value. In accordance with one or more embodiments a segment s value comprises the sum of angle and speed coefficients determined for the segment. A segment s angle coefficient is determined in accordance with how the segment comes from the origination point and how the segment is going to the destination point. A segment s speed coefficient provides a load criteria e.g. a speed limit associated with the segment. In accordance with one or more embodiments a goal is to have the smart via output point on a freeway so that the user traveling the route generated using the smart via output point need not leave the freeway and or can stay on a high level road .

Referring to and in accordance with one or more embodiments a coefficient value e.g. a sum of angle and speed coefficient values is determined for each of the segments of tree . In addition to the coefficient value determined for segment an aggregate coefficient value is determined for each leaf node segment e.g. segment . In accordance with one or more embodiments the aggregate coefficient value comprises an aggregate of the angle and speed coefficient values of segments and . In accordance with one or more such embodiments a weighting is used in determining the aggregate value. An aggregate coefficient value can also be determined for segment as a leaf node with the aggregate coefficient value being the aggregate of the coefficient values determined for segments and .

In accordance with one or more embodiments the angle coefficient is determined using equation of . By way of a non limiting example and in accordance with equation the angle coefficient determined for a segment e.g. segment is based on angles e.g. Angle Angle and Angle. By way of a non limiting example Angle Angle and Angle correspond to angles and respectively. Angle e.g. angle SOD is the angle formed by points and . Angle can also be expressed as the sum of angles and . Angle e.g. SOP is formed by points and e.g. point P. Angle e.g. POD is formed from points e.g. point P and .

In addition to equation a segment s angle coefficient is determined using headings coefficients and and weighted heading . Headings are determined for vectors SP PD and PP. By way of a non limiting example each vector s heading is determined based on the vector s orientation. By way of some further non limiting examples if vector SPis oriented toward the east Headis assigned a value of 90 degrees and if SPis oriented toward the west the value of Headis 270 degrees. As yet further non limiting examples a direction due north has a heading of 0 degrees and a direction due south has a heading of 180 degrees. A normalized coefficient is determined using a ratio of Angle to Angle and a normalized coefficient is determined using a ratio of Angle to Angle. Angle coefficient is determined using heading and heading .

In accordance with one or more embodiments speed coefficient is determined using equation . By way of a non limiting example the speed coefficient takes into account a segment s speed category rank e.g. an importance identified from zero to four and a layer e.g. a value from zero to four at which the segment is treated. In accordance with one or more such embodiments the layer corresponds to the level of road selected at step of . In addition each segment has a corresponding speed category. Table of provides examples of speed categories and associated speed limit ranges corresponding to each speed category. For example and in a case that a speed limit associated with segment is identified to be 50 kilometers per hour its speed category would be 6. Speed category corresponds to pedestrian segments e.g. a speed value for a pedestrian segment is 3.4 kilometers per hour or 2 miles per hour.

As discussed above a segment has a rank which can be said to identify the importance of the segment. For example a segment of a high level road e.g. a motorway has a rank of 4. As discussed above an appropriate layer can be identified corresponding to the level of road selected at step of . An identified layer is used to determine what segment ranks and segments are to be considered in constructing and processing segment trees. For example at layer zero all levels of segments e.g. all segments that have a rank zero or higher are to be considered. At layer segments having a rank or level of 1 to 4 are considered at layer segments having a rank or level of 2 to 4 are considered etc. In other words a layer can be used to identify the lowest level of road segment that is to be considered.

In accordance with one or more embodiments in estimating the size of a city typically corresponds to the level of road and layer determined at step . By way of some non limiting examples layer is typically considered to correspond to a large sized city and layer typically corresponds to a medium sized city.

In the example and equation shown in the rank of the segment for which the speed coefficient is being calculated and the layer for the city are used together with a speed category for the current segment to determine the segment s speed coefficient. In equation a maximum of a subtraction result and the value 2 is used as a denominator the subtraction result being determined by subtracting the identified layer from the value 4. The numerator for the fraction is determined by subtracting the determined rank from the value 4. The other fraction uses a speed category for the segment which is based on unknown speed limit for the segment.

Referring to a final coefficient can be determined for the leaf node segment using the equations shown. As discussed above each segment in the segment tree has a speed coefficient e.g. a speed coefficient calculated using equation and an angle quotation e.g. an angle coefficient calculated using equations to . In traversing the segment tree speed and angle coefficients for each segment in the traversal to generate an aggregate speed coefficient and an aggregate angle coefficient for the leaf node segment. The aggregated speed and angle coefficients are some to yield a final coefficient for the leaf node segment. In the example shown in length weightings are used to determine the speed angle and final coefficients. A propagated length weighting L comprises an accumulated length of the segments in a traversal from the root node segment to the segment just prior to the leaf node segment e.g. the accumulated lengths of root node segment and segment . The Lweighting is the length of the leaf node segment e.g. segment . The speed coefficient for the leaf node segment is the sum of the speed coefficients of the segments traversed to reach the leaf node segment which sum is weighted using the propagated length weighting L and the product of the leaf node segment s speed coefficient and the leaf node segment s length weighting L. The angle coefficient for the leaf node segment is the sum of the angle coefficients of the segments traversed to reach the leaf node segment which sum is weighted using the propagated weighting L and the product of the leaf node segment s angle coefficient and a weighting L.

In accordance with one or more embodiments thresholds can be assigned for each layer e.g. layers to . In accordance with one or more such embodiments different thresholds can be used for different geographic regions e.g. one set of layer thresholds can be used in North America and another set of layer thresholds different from those used in North America can be used in Europe. provide examples of sets of layer thresholds for use in accordance with one or more embodiments of the present disclosure.

By way of a non limiting example the layer thresholds shown in could be used in North America while the layer thresholds shown in might be used in Europe. By way of a further non limiting example thresholds that can be used for a given layer can include a typical radius that extends from a city center which threshold can be used to compare with the zone determined for the city minimum and maximum densities which can be used as density thresholds at step of minimum and maximum square densities which can be used as square density thresholds at step of and search depth and distance to destination thresholds which can be used at step of to determine whether or not to build additional segment trees.

Embodiments of the present disclosure can be implemented within a general purpose microprocessor or other processing device. If implemented in software the techniques may be embodied as instructions or program code on a computer readable medium such as random access memory RAM read only memory ROM non volatile random access memory NVRAM electrically erasable programmable read only memory EEPROM FLASH memory or the like. The instructions cause one or more processors to perform and or to be configured to perform functionality described in this disclosure.

By way of further non limiting examples one or more disclosed embodiments might be implemented in part or in whole as a hard wired circuit as a circuit configuration fabricated into an application specific integrated circuit or as a firmware program loaded into non volatile storage or a software program loaded from or into a data storage medium as machine readable code such code being instructions executable by an array of logic elements such as a microprocessor or other digital signal processing unit. The data storage medium may be an array of storage elements such as semiconductor memory which may include without limitation dynamic or static RAM ROM and or flash RAM or ferroelectric ovonic polymeric or phase change memory or a disk medium such as a magnetic or optical disk.

Those skilled in the art will recognize that the methods and systems of the present disclosure may be implemented in many manners and as such are not to be limited by the foregoing exemplary embodiments and examples. In other words functional elements being performed by a single or multiple components in various combinations of hardware and software or firmware and individual functions can be distributed among software applications at either the client or server level or both. In this regard any number of the features of the different embodiments described herein may be combined into single or multiple embodiments and alternate embodiments having fewer than or more than all of the features herein described are possible. Functionality may also be in whole or in part distributed among multiple components in manners now known or to become known. Thus myriad software hardware firmware combinations are possible in achieving the functions features interfaces and preferences described herein. Moreover the scope of the present disclosure covers conventionally known manners for carrying out the described features and functions and interfaces and those variations and modifications that may be made to the hardware or software or firmware components described herein as would be understood by those skilled in the art now and hereafter. The disclosure is intended to cover various modifications and similar arrangements included within the spirit and scope of the claims the scope of which should be accorded the broadest interpretation so as to encompass all such modifications and similar structures. The present disclosure includes any and all embodiments of the following claims.

