---

title: System and method for allocating online storage to computer users
abstract: A system and method of allocating storage space in a computer system is disclosed. In the disclosed system, computer resources are allocated using a quota system that employs quota identifiers. An allocation system creates quota identifiers and each quota identifier is assigned a specific quota value. Computer resources are then assigned to users by assigning quota identifiers to the users. Additional amounts may be allocated to specific users by created extension quota identifiers and associating those quota identifiers with specific users.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08838796&OS=08838796&RS=08838796
owner: Adobe Systems Incorporated
number: 08838796
owner_city: San Jose
owner_country: US
publication_date: 20081219
---
The present invention relates to the field of computer networking systems. In particular but not by way of limitation the present invention discloses techniques for allocating computer resources to computer users.

The global internet has become a mass commercial marketplace. The internet offers a wide variety of media such news websites downloadable music and video. The internet also offers commercial services such as investment services real estate services banking and computer services. The internet even provides a convenient means of obtaining physical products through the use of online merchants and auction sites that will deliver purchased products to your door.

Over the past twenty years many very large commercial businesses have been founded grown and prospered on the internet. These internet centric businesses can provide various goods and services to consumers in a very efficient manner since automated systems are used to perform much of the interaction with the consumers. By reducing interactions with humans internet based businesses can save extremely large amounts of money on labor costs.

One type of internet based service is providing online presence to users. For example web site hosting services will provide all the software hardware internet services and development tools to allow a company to create and host an internet site. Such services allow a business to focus on its core competency instead of having to deal with the technology involved with hosting and maintaining an internet web site.

The following detailed description includes references to the accompanying drawings which form a part of the detailed description. The drawings show illustrations in accordance with example embodiments. These embodiments which are also referred to herein as examples are described in enough detail to enable those skilled in the art to practice the invention. It will be apparent to one skilled in the art that specific details in the example embodiments are not required in order to practice the present invention. For example although the example embodiments are mainly disclosed with reference to online applications that require storage space the teachings of the invention can be used with other types of computer resources. The example embodiments may be combined other embodiments may be utilized or structural logical and electrical changes may be made without departing from the scope what is claimed. The following detailed description is therefore not to be taken in a limiting sense and the scope is defined by the appended claims and their equivalents.

In the following detailed description numerous specific details are set forth to provide a thorough understanding of claimed subject matter. However it will be understood by those skilled in the art that claimed subject matter may be practiced without these specific details. In other instances methods apparatuses or systems that would be known by one of ordinary skill have not been described in detail so as not to obscure claimed subject matter.

Some portions of the detailed description which follow are presented in terms of algorithms or symbolic representations of operations on binary digital signals stored within a memory of a specific apparatus or special purpose computing device or platform. In the context of this particular specification the term specific apparatus or the like includes a general purpose computer once it is programmed to perform particular functions pursuant to instructions from program software. Algorithmic descriptions or symbolic representations are examples of techniques used by those of ordinary skill in the signal processing or related arts to convey the substance of their work to others skilled in the art. An algorithm is here and generally is considered to be a self consistent sequence of operations or similar signal processing leading to a desired result. In this context operations or processing involve physical manipulation of physical quantities. Typically although not necessarily such quantities may take the form of electrical or magnetic signals capable of being stored transferred combined compared or otherwise manipulated. It has proven convenient at times principally for reasons of common usage to refer to such signals as bits data values elements symbols characters terms numbers numerals or the like. It should be understood however that all of these or similar terms are to be associated with appropriate physical quantities and are merely convenient labels. Unless specifically stated otherwise as apparent from the following discussion it is appreciated that throughout this specification discussions utilizing terms such as processing computing calculating determining or the like refer to actions or processes of a specific apparatus such as a special purpose computer or a similar special purpose electronic computing device. In the context of this specification therefore a special purpose computer or a similar special purpose electronic computing device is capable of manipulating or transforming signals typically represented as physical electronic or magnetic quantities within memories registers or other information storage devices transmission devices or display devices of the special purpose computer or similar special purpose electronic computing device.

The example computer system illustrated in includes a processor e.g. a central processing unit CPU a graphics processing unit GPU or both a main memory and a static memory that may communicate with each other via a bus . The computer system may further include a video display adapter that drives a video display system such as a Liquid Crystal Display LCD or a Cathode Ray Tube CRT . The example computer system also includes an alphanumeric input device e.g. a keyboard a cursor control device e.g. a mouse or trackball a disk drive unit a signal generation device e.g. such as a sound system for driving a speaker and a network interface device . Note that various embodiments of a computer system will not always include all of these peripheral devices.

The disk drive unit includes a machine readable medium on which is stored one or more sets of computer instructions and data structures e.g. instructions also known as software embodying or utilized by any one or more of the methodologies or functions described in this document. The computer instructions may also reside completely or at least partially within the main memory the static memory and or within the processor during execution thereof by the computer system . Thus the main memory static memory and the processor also constituting machine readable media.

The computer instructions for operating computer system may be transmitted or received over a computer network via the network interface device utilizing any one of a number of well known transfer protocols such as the File Transfer Protocol FTP .

While the machine readable medium is shown in an example embodiment to be a single medium the term machine readable medium should be taken to include a single medium or multiple media e.g. a centralized or distributed database and or associated caches and servers that store the one or more sets of instructions. The term machine readable medium shall also be taken to include any medium that is capable of storing encoding or carrying a set of instructions for execution by the machine and that cause the machine to perform any one or more of the methodologies described herein or that is capable of storing encoding or carrying data structures utilized by or associated with such a set of instructions. The term machine readable medium shall accordingly be taken to include but not be limited to solid state memories optical media flash memory and magnetic media.

For the purposes of this specification the term module includes an identifiable portion of computer code computational or executable instructions data or computational object to achieve a particular function operation processing or procedure. A module need not be implemented in software a module may be implemented in software hardware circuitry or a combination of software and hardware.

Computer systems that are coupled to a computer network listen for service requests from other computer system and then provide services when requested are known as server computer systems. Typical services provided by server computer systems include storing and retrieving computer information performing specific processing tasks responding to search requests sending information to another entity and resolving network addresses. The computer systems that request services from server computer systems are known as client computer systems.

On the global internet two very well known server based applications are email and the World Wide Web commonly known just using the term web . With email a personal computer user typically runs a local email client program on the user s personal computer system. When the user wishes to send a newly composed email message or check if the user has received any new email messages the local email client program will contact a designated email server system and request that the email server system route the new composed email or check for new email respectively. With the World Wide Web a personal computer user typically runs a web browser program on the computer user s local personal computer system. When the user wishes to view an internet web site on the World Wide Web the user enters a network address of the desired web site into the web browser program such that the web browser program contacts the web server at the specified network address requests the files needed to display the web page from the web server at that network address receives the files from the web server and then displays the web page on the display of the local personal computer system.

Most internet based commercial businesses operate by placing server computer systems on the internet such that consumers may access their server computer systems using personal computers cellular telephones and any other type of consumer owned computer system that is coupled to the Internet. Virtually all internet based commercial businesses provide a web site that acts at least as an initial contact point for internet based consumers. Continued contact with the consumers may be through that web site or through other means such as telephone email or a custom application downloaded by the consumer onto the consumer s computer system.

Many internet based businesses require providing storage space to clients that use an internet service. For example a web hosting service that hosts web sites for businesses that desire an easy way of creating a web presence must provide storage space for storing all of the web pages and images associated with the web site. Similarly a social networking site that allows people to create easily their own personalized internet presence must allocate storage for each person that creates a web presence. Thus storage or other resource allocation to customers is a fundamental aspect of many internet based businesses.

Most existing storage allocation systems operate by assigning individual user accounts to the various customers and then assigning storage limits to those individual user accounts. If a user attempts to use more storage than assigned to the user s account then the system will inform the user that the allocated storage has been exceeded.

A simple storage allocation system such as set forth in the previous paragraph operates effectively if the requirements of the system are limited. However a very large and or complex internet business that offers many different services each which may have different service levels requires a more sophisticated storage allocation system.

One difficult problem that may occur is when a particular service used by existing user account is removed and the common shared storage space allocated to that removed service and another remaining service is borrowing storage space over and above what that remaining service should be limited to. For example a user may sign up for an introductory user account and receive an initial allocation of 3 GB of storage space. Later when that same user signs up for an additional online service offering that user may be allocated an additional 3 GB of storage such that the user now has been allocated 6 GB of storage space. This allocated storage space may be noted in a database record associated with that user s account. Thus the user s account record will denote a total storage allocation or quota of 6 GB for that user. The user may then later decide to cancel the subscription to the second online service offering. But since the user s account now has 6 GB of combined storage the user s storage usage now exceeds the initial 3 GB limit given to the first service.

To remedy the problems presented within existing storage allocation systems an alternative system for handling storage allocation is disclosed herein. The alternative storage allocation system is modelled on universal product codes UPC bar codes placed on consumer products. Specifically a storage quota identifier QUID is a unique service quota allocation code associated with each service offering that requires storage space. This storage quota identifier QUID acts in a similar manner to a Universal Product Code UPC associated with a consumer product.

Universal Product Codes UPCs on consumer products allow a fixed unique identifier on a consumer product to be associated with other information about the consumer product that may vary. Specifically the Universal Product Code for a product will remain constant but the information associated with that particular product may vary within the retail store s computer system that links information with the UPC. For example if the price of a particular consumer product is reduced only the price value in the computer system needs to be changed instead of changing the price on every instance of the product. In the disclosed storage allocation system the consumer storage space is associated with one or more QUIDs that are linked to storage allocation amounts. Thus if the storage allocation of a particular online service offering is changed then that storage allocation amount associated with the QUID only needs to be changed in one location and not within every individual user account that subscribes to that particular online service offering.

In one particular embodiment the proposed storage quota system is broken down into two parts The creation of a storage quota identifier known as a QUID in this document by combining Quota and Identifier and application of the storage quota identifier QUID . The creation of a storage quota identifier QUID is an administration task that may take place when a new type service offering is created or as necessary for needed storage expansion. The application of a storage quota identifier QUID refers to usage of the QUID with respect to a specific user s account.

A quota identifier QUID may comprise two different parts an identifier hereinafter referred to as an ID that does not vary and an associated storage quota value which may vary if storage allocations are changed. Following the Universal Product Code UPC analogy the ID portion is similar to the unique non changing UPC code of a product and the storage quota value is similar to the changeable price of the product having that UPC code In one specific embodiment the ID is a combination of an user account identifier and a unique word that is defined by the QUID creator. This QUID is stored internally in the storage system in a single location. The storage quota value sets a maximum size on allocated storage space sometimes referred to as a bucket in this document since the storage space is analogized to a bucket for storing items that can not be exceeded. However storage quota values may be combined as will be set forth later.

Once a particular quota identifier QUID and its associated storage quota value have been created by an administrator that quota identifier QUID can be applied to one or more buckets. In one embodiment only the creator of a QUID an administrator can apply that QUID to a bucket for security reasons. Each bucket can have only one direct reference to a quota identifier QUID . The one QUID that a bucket directly references is known as the base QUID for that bucket. Any additional QUIDs associated with that bucket are known as extension QUIDs and are connected to the base QUID that has been associated with the bucket.

There are several different manners to modify the storage space allocated to a bucket as specified by a quota identifier QUID system. One method to modify the storage space is to directly change the storage quota value of the QUID within the storage system. This changes the storage quota value for all of the buckets associated with the same QUID. Another method is to apply a QUID extension to alter an existing base QUID for a particular user of the system. A QUID extension is a new QUID that is applied to a user account s reference to the base QUID.

These two exemplary methods of modifying a storage quota for a bucket are generally used in different situations. A change to the storage quota value associated with a base QUID will effect all the other buckets that are associated to that same base QUID. Thus a change to the storage quota value associated with a base QUID is used when the storage allocation for a particular service level is globally changed since every bucket associated with that base QUID will have its storage allocation changed. The application of a QUID extension is a locally scoped change that only directly effects the users specified for that QUID extension. Specifically only the user or users which reference the extension QUID will have their storage allocations changed In this manner the disclosed storage allocation system provides methods for easily changing storage allocation quotas on both a global basis by changing a single storage quota value associated with a base QUID that is associated with many buckets or on a local user basis by adding a QUID extension for that user .

In one particular embodiment there are two at least two different types of quotas. One quota is a global quota and the other is a bucket quota. If a bucket quota is not specified for a particular bucket then the default global quota will be respected for that bucket. If a base QUID is specified for a bucket then the associated storage quota value for that QUID will be respected for that bucket.

In the case of a bucket with at least one associated QUID a base QUID will be associated with the bucket. The same base QUID may be associated with additional buckets as well such that many buckets may be affected by changing the storage quota associated with that QUID. In one specific embodiment each bucket will be associated with only a single base QUID. However multiple QUID extensions may be added as set forth above that will allow for the storage quota set by the base QUID to be expanded.

Referring to buckets and share QUID as their base QUID having an associated storage quota value of 3 GB and two instances of extension QUID having an associated storage quota value of 20 GB are coupled to the base QUID as QUID extensions. When an extension is applied to a base QUID a file is created that is linked to the user that has the base QUID and list of extensions for that user. That way the extension QUIDs only effect certain users associated with the extension QUIDs. Assuming that both bucket and are owned by users associated with the two extension QUIDs the total amount of storage allowed for Buckets and combined is 43 GB 3 GB base QUID plus two instances of an extension QUID of 20 GB .

Bucket in is only associated with base QUID having an associated storage quota value of 2 GB so it only allows for 2 GB of storage in that bucket. And Bucket is not associated with any specific QUID and therefore is using the default global storage quota set at 3 GB.

If a particular QUID has it s associated storage quota value changed at some later date then all the buckets associated with that QUID will update their storage quota appropriately. Similarly if an extension QUID is added for a particular customer the bucket associated with that customer will receive the benefit of the added storage space. For example if QUID has it s value changed to 30 GB then buckets and will automatically see an increase of 20 GB 63 GB total . Similarly QUID associated with bucket may receive an extension QUID that provides an additional 10 GB of storage space. The final result is illustrated in wherein QUID now includes extension QUID such that the total allocated space for bucket is now 12 GB. Note that when a QUID extension is created a remote account value is specified and that remote account value identifies the storage system user account ID that the new QUID extension will apply to.

When a new type of service offering is created that will have its own specific quota amount of some resource associated with is created an administrator will submit a request to create a new QUID such that the system proceeds to step . As set forth in the Create QUID section below the administrator may specify a client identifier and a code that will be used to identify the new QUID and a resource quota value for the new QUID. The system then creates the new QUID at stage and assigns the specified resource quota amount at stage . Note that both base QUIDs and extension QUIDs may be created with stages and . At this point the newly created QUID is ready to be used and the system proceeds back to stage to wait for additional requests.

When a new user has signed up for a particular service an administrator will need to assign resources to that new user. In the present example storage space must be assigned to a new user s bucket. Thus the system will receive a request to assign a base QUID to the new user s bucket. As set forth in the later Add QUID section the administrator may specify a client identifier and a code identifying an existing QUID and an identifier for the user s bucket. The system will then select the specified base QUID at stage and then assign that base QUID to the specified bucket. The user will then be able to use the resource up to the quota amount associated with the specified base QUID and the system proceeds back to stage to wait for additional requests.

When a user has qualified for additional resources an administrator will need to assign those additional resources to that user. In the present example additional storage space must be assigned to the user s storage bucket. Thus the system will receive a request to add an extension QUID for that user. As set forth in the later Add QUID Extension section the administrator may specify a client identifier and a code identifying the base QUID already assigned to the user an extension code to add to the client identifier to identify an extension QUID to add and an identifier for the user s account. The system will then select the specified extension QUID and associate it with the specified base QUID at stage . Then the system will then assign that extension QUID to the specified user account. The user will then be able to use the resource up to the quota amount of the specified base QUID plus the newly added extension QUID plus any other extension QUIDs assigned to that base QUID and user . The system proceeds back to stage to wait for additional requests.

In addition to creating QUIDs and allocating new resources other maintenance operations may be performed by an administrator. For example if the resource allocation for a particular service offering is changed the quota amount of the base QUID can be changed with the Update QUID operation set forth below. This will change the resource allocation for all users of the service offering associated with that base QUID. If a particular QUID is no longer being used that QUID can be deleted with the Delete QUID operation. If a particular user cancels a service offering the user s bucket can be disassociated from the base QUID of that service offering with a Remove QUID operation. Similarly if an added extension QUID has been applied for a user that extension QUID may be removed from that user with the Remove QUID Extension operation.

In one embodiment the updates to an associated storage quota value or an added QUID may not be reflected immediately due to a caching of the storage quota in a client application. For example in one embodiment the client programs only check the storage quota values once an hour in order to reduce server load.

In one embodiment a set of application programming interfaces APIs was used to implement the proposed storage allocation system. A first set of application programming interfaces APIs may be used by an administrator to create and administrate the buckets and their associated quota identifiers. The first interface is needed to allow administrators to set the quotas for the buckets created by the administrator. Once a particular quota has been set an administrator may need to be able to reset the storage used if needed. During client application operation the storage allocation system must be able to obtain the total quota for a client program set of buckets and get the total storage space used.

Administrators of the storage allocation system may make use of the following application programming interfaces to create QUIDs adjust QUIDs use QUIDs and delete QUIDs 

An administrator may have needs for critical situations or testing. The following two APIs are for certain critical situations or testing.

Client application programs generally are not given the authority to make any changes to the storage allocation system. Thus client application programs can generally only access read the storage allocation values and the amount of storage used but cannot change those values. The following set of Application Programming Interfaces APIs may be used by client application programs in order to read the storage quota values.

The preceding description is intended to be illustrative and not restrictive. For example the above described embodiments or one or more aspects thereof may be used in combination with each other. Other embodiments will be apparent to those of skill in the art upon reviewing the above description. The scope of the claims should therefore be determined with reference to the appended claims along with the full scope of equivalents to which such claims are entitled. In the appended claims the terms including and in which are used as the plain English equivalents of the respective terms comprising and wherein. Also in the following claims the terms including and comprising are open ended that is a system device article or process that includes elements in addition to those listed after such a term in a claim are still deemed to fall within the scope of that claim. Moreover in the following claims the terms first second and third etc. are used merely as labels and are not intended to impose numerical requirements on their objects.

The Abstract is provided to comply with 37 C.F.R. 1.72 b which requires that it allow the reader to quickly ascertain the nature of the technical disclosure. It is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims. Also in the above Detailed Description various features may be grouped together to streamline the disclosure. This should not be interpreted as intending that an unclaimed disclosed feature is essential to any claim. Rather inventive subject matter may lie in less than all features of a particular disclosed embodiment. Thus the following claims are hereby incorporated into the Detailed Description with each claim standing on its own as a separate embodiment.

