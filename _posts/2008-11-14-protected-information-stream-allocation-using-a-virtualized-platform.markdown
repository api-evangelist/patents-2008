---

title: Protected information stream allocation using a virtualized platform
abstract: A protected stream manager includes one or more subsystems to receive a content stream in a virtual environment, obfuscate the content stream, and prioritize use of a processor to process the content stream.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09405931&OS=09405931&RS=09405931
owner: Dell Products L.P.
number: 09405931
owner_city: Round Rock
owner_country: US
publication_date: 20081114
---
The present disclosure relates generally to information handling systems and more particularly to a protected information stream allocation using a virtualized platform using an information handling system.

As the value and use of information continues to increase individuals and businesses seek additional ways to process and store information. One option is an information handling system IHS . An IHS generally processes compiles stores and or communicates information or data for business personal or other purposes. Because technology and information handling needs and requirements may vary between different applications IHSs may also vary regarding what information is handled how the information is handled how much information is processed stored or communicated and how quickly and efficiently the information may be processed stored or communicated. The variations in IHSs allow for IHSs to be general or configured for a specific user or specific use such as financial transaction processing airline reservations enterprise data storage or global communications. In addition IHSs may include a variety of hardware and software components that may be configured to process store and communicate information and may include one or more computer systems data storage systems and networking systems.

IHS architecture platforms have traditionally followed a well defined development evolution based on the Win Tel x86 architecture. illustrates a prior art embodiment of an IHS architecture including applications an operating system and graphics hardware. However virtualization is a software technology that is rapidly transforming the information technology IT landscape and fundamentally changing the way that people handle information using IHSs. Broadly virtualization is an ability to allow software applications operating systems to operate on IHS hardware remotely but as if it were local. This evolution has unique challenges when applying a virtualization architecture to small mobile compact embedded CE devices.

Using virtualization systems in a CE device allows the ability for users to add features applications or other capabilities to their IHS by adding virtual modules. In this way the virtual modules enable the user to completely change the personality or functionality of the IHS. These virtual functionality modules generally share hardware resources. Security of data and content which flows into and out of these functional modules and guaranteed allocation of resources for resource heavy applications are unique challenges to CE devices.

For example challenges in offering a virtualization enabled CE device e.g. one with Blu ray or other video capabilities include an issue of how to obfuscate the content stream coming from the video device. Another issue in offering a virtualization enabled CE device includes how to support multiple protected streams. In other words if a user connects additional virtual machines that output a protected stream to the host e.g. gaming virtual machine then there needs to be a way to protect the streams of content coming from the gaming virtual machine as well as the video device. Yet another issue in offering a virtualization enabled CE device includes how to allocate the appropriate graphics processor unit GPU resources to the video and the premium content virtual machines so they do not fight for resources of the IHS. A further issue in offering a virtualization enabled CE device includes how to message to the customer if resource re prioritization is required. These issues illustrate problems with offering a virtualization enabled CE device.

Accordingly it would be desirable to provide an improved protected information stream allocation using a virtualized platform absent the disadvantages discussed above.

According to one embodiment a protected stream manager includes one or more subsystems to receive a content stream in a virtual environment obfuscate the content stream and prioritize use of a processor to process the content stream.

For purposes of this disclosure an IHS includes any instrumentality or aggregate of instrumentalities operable to compute classify process transmit receive retrieve originate switch store display manifest detect record reproduce handle or utilize any form of information intelligence or data for business scientific control or other purposes. For example an IHS may be a personal computer a network storage device or any other suitable device and may vary in size shape performance functionality and price. The IHS may include random access memory RAM one or more processing resources such as a central processing unit CPU or hardware or software control logic read only memory ROM and or other types of nonvolatile memory. Additional components of the IHS may include one or more disk drives one or more network ports for communicating with external devices as well as various input and output I O devices such as a keyboard a mouse and a video display. The IHS may also include one or more buses operable to transmit communications between the various hardware components.

Other resources can also be coupled to the system through the memory I O hub using a data bus including an optical drive or other removable media drive one or more hard disk drives one or more network interfaces one or more Universal Serial Bus USB ports and a super I O controller to provide access to user input devices etc. The IHS may also include a solid state drive SSDs in place of or in addition to main memory the optical drive and or a hard disk drive . It is understood that any or all of the drive devices and may be located locally with the IHS located remotely from the IHS and or they may be virtual with respect to the IHS .

Not all IHSs include each of the components shown in and other components not shown may exist. Furthermore some components shown as separate may exist in an integrated package or be integrated in a common integrated circuit with other components for example the processor and the memory I O hub can be combined together. As can be appreciated many systems are expandable and include or can include a variety of components including redundant or parallel resources.

The IHS shown in includes IHS hardware e.g. one or more of the devices shown in a processor a GPU and a hypervisor virtual machine manager . The GPU includes multiple GPU partitions A B and C. The GPU partitions A B and C may be software partitions of a single GPU they may be separate and additional hardware GPUs they may be separate GPU cores in a single GPU and or they may be any variety of configurations hardware and or software that may be allocated for use by the hypervisor and or the GPU and may be viewed as a single GPU . The hypervisor includes a protected stream manager PSM for controlling information to and from the GPUs A B and C via the hardware and the GPU . As shown in the hypervisor PSM and the hardware may be a small mobile compact embedded CE device running a virtual machine manager. The PSM may be built into the hypervisor which may be embedded into firmware of the IHS .

Coupled with the IHS are three virtual machine devices and . Any number of virtual machine devices may couple with the IHS . The virtual machines and are designed to enable a black box device such as the IHS to change functions including operating systems hardware and a variety of other features when different virtual machines and are coupled with the IHS . In an embodiment the virtual machine provides television signals such as cable television broadcast television satellite television or any other type of television to the IHS via a secure content stream . In an embodiment the virtual machine provides Blu ray or other high definition video signals to the IHS via a secure content stream . In an embodiment the virtual machine provides gaming signals to the IHS via a secure content stream . Each virtual machine and may be an independent isolated unit that may include its own version of an operating system running on the respective virtual machine and .

In an embodiment the hypervisor and the PSM make resources available to the virtual machines and . Accordingly the hypervisor and the PSM may prioritize the resources and time multiplex the resources so that each virtual machine and thinks that it owns the GPU or other processor. In other words the PSM allows each virtual machine and to provide its content to the GPU A B and C respectively via the respective content stream and so that each virtual machine and appears to have ownership of the GPU .

In an embodiment the PSM is responsible for handling obfuscation of the content stream supporting multiple protected streams GPU prioritization messaging to the hypervisor and processor prioritization.

Obfuscation is generally referred to as blocking an access path to information. Obfuscation may be performed by scrambling or encrypting the information but does not have to be. Thus any system or method may be used to obfuscate or block access paths to information in the secure content streams and . The PSM handles obfuscation of the content stream coming from the Blu ray virtual machine as well as potentially multiple protected content stream sources e.g. virtual machine and virtual machine using an allocation of secure resources by allocating secure memory e.g. a portion of memory such that only designated functions have access to such memory and sequestering data paths and making them accessible only to authenticated subsystems defining the specific secure content path. Similarly premium content via virtual machine may be obfuscated by means of allocation and isolation.

The PSM supports multiple protected streams e.g. and wherein if a user of the IHS connects additional virtual machines that output a protected stream to the host for example the gaming virtual machine then the PSM will prevent what is known as man in middle attacks by preventing the streams and from getting exposed through secure allocation of resources as described above and sequestering each stream from access by those outside of the authenticated secure path. As such this will also prevent the functions from getting access to each other s data content.

The PSM provides GPU prioritization by having the ability to allocate the appropriate GPU resources e.g. A B and C respectively to each function e.g. virtual machine virtual machine and virtual machine so they do not compete for resources such as the GPU or other processor such as the processor . Therefore each virtual machine and each have appropriate resources e.g. the GPU to render the content stream and in play. In an embodiment the PSM allows multiple applications to time multiplex the GPU . That is each application has full access to all of the GPU resources for a unit of time e.g. a time slice .

To provide GPU prioritization as described above the PSM may manage the graphics content between the times slices such as by saving the state of the GPU for the time slice that just completed and restoring the state of the GPU for the slice that is about to run. In an embodiment graphics state information may include rendering state and surface data such as texture data or render targets.

In addition to provide GPU prioritization as described above the PSM may manage the allocation of video memory. To accomplish this the PSM may determine which resources need to be resident on the GPU local memory and page out unused resources.

To provide GPU prioritization as described above the PSM may also ensure that the application s state is isolated from the state of the other applications. There may be special resources that are not capable of time multiplexing for example television turners or some video decoders. In this case the PSM will be responsible for prioritizing the assigning of these resources to the applications such as by a first in first out prioritization algorithm. Also where time multiplexing is not performed the PSM may be responsible for exception handling in the situation where an application requests one of these special resources but all resources are allocated to other tasks. This may trigger a message to the customer that resources are low and may also be accompanied by guidance on how to reprioritize the resource allocation.

In an embodiment the PSM providing appropriate messaging to the hypervisor and to the user of the IHS if the GPU runs low on capacity and needs guidance on prioritization of the virtual machines and . The messaging may be provided to the user by pop up notifications on the display device . Other types of messaging may be used for the present disclosure.

The PSM may provide processor prioritization by including an ability to allocate the appropriate processor resources to each function e.g. a Blu ray virtual machine and or other premium content virtual machines and or so they do not compete for resources and each virtual machine and or has appropriate resources to render the stream in play.

It should be readily understood by a person having ordinary skill in the art that embodiments of the present disclosure provide an application programming interface API for an application to access a resource manager in a firmware enabled hypervisor e.g. hypervisor . Embodiments of the present disclosure also provide a system for securing protected content streams e.g. protected content streams and in a firmware enabled hypervisor e.g. hypervisor by isolating the compute e.g. processor memory e.g. main memory and GPU e.g. GPU resources used by a particular function. Embodiments of the present disclosure further provide an ability to offer Blu ray and other premium content services in the form of virtual machines e.g. virtual machines and insuring proper resources are available for execution of their content stream e.g. and . Other embodiments of the present disclosure provide systems obfuscating the protected content streams e.g. protected content streams and by isolating the compute environment. Still other embodiments of the present disclosure provide a secure system for allocating appropriate GPU resources e.g. GPU A B and C to protected streams e.g. protected content streams and without impacting the performance. Moreover other embodiments of the present disclosure provide secure systems of allocating appropriate processor resources to protected steams e.g. protected content streams and without impacting the performance.

Although illustrative embodiments have been shown and described a wide range of modification change and substitution is contemplated in the foregoing disclosure and in some instances some features of the embodiments may be employed without a corresponding use of other features. Accordingly it is appropriate that the appended claims be construed broadly and in a manner consistent with the scope of the embodiments disclosed herein.

