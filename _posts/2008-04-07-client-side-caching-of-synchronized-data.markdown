---

title: Client side caching of synchronized data
abstract: A method for synchronizing a database with data stored at a client includes providing a data feed to receive data by the client from the database and provide received data, caching the received data in a client side cache to provide client side cached data, detecting a database change to data within the database corresponding to the client side cached data according to a polling operation to provide a change event, pushing the change event to the client side cached data to update the client side cached data in accordance with the database change and the polling operation, requesting further data from the database, determining whether the further data includes data of the client side cached data to determine remaining data exclusive of the client side cached data and pushing the remaining data to the client side cached data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08725679&OS=08725679&RS=08725679
owner: International Business Machines Corporation
number: 08725679
owner_city: Armonk
owner_country: US
publication_date: 20080407
---
This invention relates to the field of the synchronization of documents and more particularly the synchronization of a document displaying data stored in a database.

It is useful for multiple users usually at geographically distributed locations to work on the same document at the same time. In order to permit collaboration of this type changes made to the document by one user should be displayed to all of the other users on their individual views of the document. Thus the view of the users collaborating on the document at the same time can be constantly synchronized.

The data used to populate the document can be stored anywhere. Preferably it can be stored in a database such as an IBM DB2 database. Alternately data can be keyed or pasted into the document or entered into the document in any manner available. If the data is stored in a database the user initiating a collaboration session can load the data from the database populate the document invite additional users to join the session and begin working collaboratively with the invited users. Additional users can be invited to access and or request access during the collaboration session and be admitted while the session is in progress typically by the initiating user.

It is known in the art to provide systems permitting such collaboration and synchronization of documents. For example GOOGLE provides GOOGLE Docs to permit groups of users to synchronize document collaboration in this manner using the internet and their web browsers. The data represented in the synchronized document can be stored in a database prior to a collaboration session. A user can read the data from the database to populate the document at the time the collaboration session begins.

A method for synchronizing a database with data stored at a client includes providing a data feed to receive data by the client from the database and provide received data caching the received data in a client side cache to provide client side cached data detecting a database change to data within the database corresponding to the client side cached data according to a polling operation to provide a change event pushing the change event to the client side cached data to update the client side cached data in accordance with the database change and the polling operation requesting further data from the database determining whether the further data includes data of the client side cached data to determine remaining data exclusive of the client side cached data and pushing the remaining data to the client side cached data. The polling operation can be a long polling operation or a short polling operation.

The method also includes determining whether the further data includes data of the client side cached data determining by a cache handler servlet and determining whether the further data includes of the client side cached data according to key value pairs of the client side cached data. The received data can include summary data and detail data. Pushing the change event to the client side cached data by a synchronizer server polling the synchronizer server by a polling servlet of the synchronizer server and updating the client side cached data by way of a data structure are also included. The data structure is a queue. The method also includes providing displayed document data according to the client side cached data changing the displayed document data by a plurality of collaboration users to provide a plurality of collaboration changes and collaboration synchronizing the displayed document data by the client to provide a synchronized collaboration document wherein the synchronized collaboration document displays the collaboration changes of the plurality of collaboration changes.

A GOOGLE application program can synchronize the displayed document data. A JSOC can perform the caching of the received data. A JSON string can represent the data in the JSOC. The GOOGLE application program can be a spreadsheet application program. The method also includes pushing data of the synchronized collaboration document to the database displaying the displayed document data in a browser providing an HTTP save message by a collaboration user of the plurality of collaboration users and pushing the data of the synchronized collaboration document in response to the HTTP save message. The change event is created in accordance with a feedname of the displayed document data.

Referring now to there is shown an embodiment of document collaboration and synchronization solution . The document collaboration and synchronization solution can access data stored in an external database and display the accessed data as a collaboration document in a document collaboration system . The document data comprising all or a portion of the collaboration document can be transmitted from the external database to the document collaboration system by way of a database collaboration synchronizer having a client event queue .

The document collaboration system can supervise the editing and synchronizing of the collaboration document while the collaborating users within a collaboration group view and modify it. Thus all of the collaborating users of the collaboration group can view a synchronized version of the collaboration document during a collaboration session within the document collaboration and synchronization solution . The collaborating users can also save information they have changed during the collaboration session into the external database by way of the database collaboration synchronizer during and or after the collaboration session.

During a collaboration session an external application can alter the data that is stored in the external database while the document collaboration system simultaneously displays the data as the collaboration document . The data of the collaboration document can be displayed in a browser or in any other type of data display. Furthermore the database collaboration synchronizer can detect the changes made by the external application to the external database . Additionally the database collaboration synchronizer can push the detected change events to the document collaboration system during the collaboration session in order to update the collaboration document . The change events in the external database can be propagated to the collaboration document according to the URL of the collaboration document the table names and the feednames of the data in the collaboration document as described in more detail below.

In order to detect changes made to the external database during a collaboration session the database collaboration synchronizer can include a log reader daemon . The log reader daemon can read a database log within the external database . The database log can keep track of all transactions involving changes to the data stored in the external database including the data represented by the collaboration document .

Accordingly the database collaboration synchronizer within the solution can use the database log and the log reader daemon to detect changes to data stored in the external database while the data is displayed in the collaboration document within the document collaboration system . Furthermore the database collaboration synchronizer can use the log reader daemon to push the deleted change events to the collaboration document during the collaboration session.

Thus the collaborating users can view and operate upon a collaboration document that displays the changes made to the external database during a collaboration session by the external application on an on going basis. Accordingly the external application can operate substantially like a virtual collaborating user within the document collaboration and synchronization solution .

For example the external database can store the inventory information of a manufacturing company. The collaboration document in the document collaboration system can represent the inventory information as the inventory information is stored in the external database . The collaborating users of the collaboration group can be various groups within the manufacturing company that may need to use the inventory information. For example the collaborating users can be departments of the manufacturing company such as the accounting marketing or sales departments. The external application can be an application for updating the company inventory information stored in the external database as the company manufactures new items and puts them into inventory or as officials of the company remove items from the inventory.

Therefore each of the collaborating users in the various departments of the company can perform their operations upon a collaboration document while viewing the most recent inventory information as stored in the external database and displayed in the collaboration document . Additionally other external entities not shown similar to the external application can view the most recent changes that are made by the departments of the company using the collaboration document . Such other entities can view the changes to the document because the database collaboration synchronizer pushes the changes to the external database .

A collaborating user of the collaboration group can direct the database collaboration synchronizer to perform a save operation into the external database by way of the document collaboration system . In a preferred embodiment of the invention the ability to perform the save operation can be limited to the initiating user . The collaborating user performing the save operation can initiate it by depressing a save button . The save button can be provided in the displays of the collaborating users . In alternate embodiments the save to the external database can be performed by other functionalities including an event driven save or an automatic save functionality.

The database collaboration synchronizer can determine that the collaboration group has requested a save operation by monitoring the document collaboration system using the document status daemon . When the document status daemon detects a request to save the collaboration document the document status daemon can receive the change from the collaboration group and push it to the external database .

Thus the data in the external database is synchronized with the changes made to the collaboration document by the collaborating users of the requesting collaboration group . When the changes made by the collaboration group are stored in the external database in this manner they are recorded in the database log . Therefore the changes made to the collaboration document by the collaboration group can be viewed by the external application or any other applications that may be coupled to the external database .

Accordingly in the foregoing manner the document synchronization and collaboration solution can maintain synchronization of the collaboration document as viewed by the collaborating users and the corresponding data in the external database . The database collaboration synchronizer can receive changes made to the collaboration document by the collaboration group and push them to the external database . Additionally the database collaboration synchronizer can push changes made by the external application to the document collaboration system . The document collaboration system propagates the changes to the collaboration document received from the database collaboration synchronizer to the collaborating users of the collaboration group .

Referring now to there is shown a more detailed representation of an embodiment of the database collaboration synchronizer within the document collaboration and synchronization solution . The database collaboration synchronizer includes the client event queue as previously described. The client event queue can include a header and an event list

The header within the client event queue can include information provided by the initiating user such as the feedname the client IP address of the document collaboration system and a document URL. The header can also include any security token received during the initiation process or the timestamp of the last time the document collaboration system requested change event information from the database collaboration synchronizer . In a preferred embodiment of the invention the header can indicate whether the client event queue is a spreadsheet queue or a queue for some other type of collaboration document . Furthermore the header can include any other information useful in facilitating the propagation of information between the external database and the document collaboration system .

The event list within the client event queue can include an ordered list of the change events occurring within the external database for the data displayed as the collaboration document within the document collaboration system . Furthermore the event list can be empty if no change events are waiting to be pushed to the collaboration document .

The database collaboration synchronizer can create the client event queue at the time an initiating user registers for a collaboration session. In one embodiment of the invention the initiating user can provide the feedname corresponding to required document data when initiating a collaboration session in order to obtain access to the document data when the user is authenticated using the authentication block . The database collaboration synchronizer determines whether the feedname provided in this manner already exists within the client event queue . If the feedname does not exist in the client event queue the synchronizer can create a header in the client event queue . The table name s corresponding to the feedname is previously defined in configuration data. The synchronizer can then place the table name and feedname information into the client event queue . Thus the manner in which the client event queue stores these relationships permits the routing of changes through the database collaboration synchronizer .

For example the log reader daemon can detect a change made to a table within the external database that stores data displayed in the collaboration document . The database collaboration synchronizer can locate the table name of the changed table in the client event queue . The synchronizer can thus use the corresponding feedname within the client event queue to route the change made to the table in the external database through to the collaboration document within the document collaboration system . When the database collaboration synchronizer pushes the change event to the document collaboration system it can delete the event from the client event queue .

In the preferred embodiment of the document collaboration and synchronization solution the log reader daemon can identify changes to the external database by parsing the entries in the database log . The log entry information used by the log reader daemon to extract the metadata from the database log can include the table name and the type of update performed on the data. The table name can be translated into zero one or more feednames based on the feeds provided by the initiating user at the time of registration. The types of updates can include whether the change event is an insert an update or a delete.

The metadata information extracted from the database log by the log reader daemon can include the primary key of the changed table the number of columns in the changed table and the type of data contained in the columns. Each time the log reader daemon parses the information within the database log it can set a cursor to the point of the last entry in the database log that is parsed. Thus in a subsequent reading of the database log the log reader daemon can parse only the new log entries. When the log reader daemon uses the cursor to find a new log entry indicating a new change to the external database it can translate the change event into a queue event and enter the queue event into the event list of the client event queue as previously described.

A queue event in the event list can be represented as a data structure containing the key value of the changed row in the database table within the external database that stores the corresponding data displayed in the collaboration document . The queue event data structure can also indicate whether the change is an insert an update or a delete. Additionally the queue event data structure can include only summary field values. Alternate embodiments of the client event queue can include detail columns or any other information useful for propagating information between the external database and the collaboration document .

In a preferred embodiment of the solution the log reader daemon places into the client event queue only changes made to data that is being displayed in the collaboration document . Thus the log reader daemon can act as a filter for filtering changes made to the external database by the external application . The determination whether change data is to be displayed in the collaboration document can be made according to the table name or feedname provided by the initiating user at the beginning of the collaboration session.

When the log reader daemon places a queue event into the client event queue the document status daemon can determine that the collaboration group is waiting for the change. If the document status daemon determines that the collaboration group is waiting for the change the database collaboration synchronizer can push the change from the client event queue to the collaboration document within the document collaboration system immediately. If a collaboration group is not waiting the change can remain on the client event queue until the document the polling servlet issues a polling request. When the polling servlet issues the polling request the database collaboration synchronizer can push the change to the collaboration document . In either case the document collaboration system can then propagate the change to the collaborating users within the collaboration group . Thus in this manner the external application can operate substantially as a virtual collaborating user by the document collaboration and synchronization solution .

Similarly the database collaboration synchronizer can use the relationships specified in the client event queue to push changes made to the collaboration document from the document collaboration system to the external database . When a collaborating user presses the save button the document collaboration system can initiate an HTTP message. The HTTP message from the collaborating user informs the document status daemon of the save request. In one embodiment the database collaboration synchronizer can include the save servlet .

The document status daemon locates the feedname corresponding to the changed collaboration document in the client event queue . The database collaboration synchronizer can then determine the corresponding table name within the external database using the relationships stored in the header of the client event queue . The database collaboration synchronizer can then propagate the change from the collaboration document to the external database according to the corresponding table name indexed to the feedname by the client event queue . Accordingly the document collaboration and synchronization solution can extend an RSS feed with real time change data polling and notification to the external database . Additionally the solution can provide the ability to change the external database according to an RSS client while the RSS client receives changes from the external database .

In a preferred embodiment a collaboration user can make an HTTP request to the polling servlet to await changes from the external database . The HTTP request can be a long polling request wherein the request remains open until the log reader daemon identifies a relevant change to the data in the external database or the HTTP request times out. A collaborating user or an administrator of the database collaboration synchronizer can configure a timeout length for the polling request. If the log reader daemon identifies a change prior to the timeout and places a corresponding queue event in the event list of the client event queue the polling servlet can respond to the HTTP request with the change data. Additionally the polling servlet can return to the client a list of keys for records that have changed an indication of the type of change insert update delete and the new values for any summary fields. The document collaboration system can update the document data of the collaboration document according to the polling results.

In an alternate embodiment of the invention the polling process may use a standard polling request in which a collaboration user periodically generates an HTTP request and the generated HTTP request does not remain open. This type of polling can be referred to as short polling. In the short polling embodiment the polling servlet maintains the address of the collaboration user sending the HTTP request and initiates an HTTP response to that user when the client event queue contains changes to the external database . If a short polling request arrives when the client event queue has no changes for the collaboration group the database collaboration synchronizer can send a negative response to the collaboration group .

Referring now to there is shown a more detailed block diagram representation of the document collaboration system for permitting the collaborating users to collaborate on a collaboration document . The collaboration document can be a text document a spreadsheet document a form based html page document or any other type of document. In a preferred embodiment of the document synchronization and collaboration solution the document collaboration system can be any system for synchronizing the changes made to any type of collaboration document by the collaboration users . For example the document collaboration system can be a system such as one of the application programs made available within the GOOGLE Docs suite of applications. Accordingly the document collaboration system can be the web based spreadsheet GOOGLE Spreadsheets. GOOGLE Spreadsheets is similar in functionality to other known stand alone spreadsheet applications such as Microsoft Excel. The GOOGLE Docs suite of applications is comparable to Microsoft Office.

The document collaboration system can include the data application programming interfaces APIs for use by programmers who create web based applications such as an application implementing the document collaboration and synchronization solution . Accordingly the data APIs are a software toolkit that can be used by the solution to assist in the exchange of information between the database collaboration synchronizer and the document collaboration system . Within GOOGLE Docs the data APIs can be referred to as the GData APIs. Documentation for the GData APIs can be found at http code.GOOGLE.com apis gdata . Documentation for GOOGLE Spreadsheet data API can be found at http code.GOOGLE.com apis spreadsheets developers guide protocol.html AuthSubHTTP

The data APIs within the document collaboration system can include for example an authentication method for use with the authentication block in the synchronizer when initiating a collaboration session. The authentication process can include providing the initiating user with a security token for storage in the header of the client event queue when the initiating user registers. As part of the registration process the initiating user can also provide the URL and the feed for storage in the header . The feed can include a feedname a table name or a key range. Furthermore a table may be defined to be part of zero one or more feeds. The key range can be a low key a high key or a list of keys. The feed can also include summary fields which can include one or more columns from the table.

The data APIs can also include a data import method . The document status daemon and the document collaboration system can use the data import method for example in populating the collaboration document with data from the external database . Additionally the XML handler method can format and transmit XML messages between the synchronizer and the document collaboration system . For example the document change method can issue an HTTP message when a collaborating user presses the save button to signal a save servlet within the synchronizer that the user has requested a save operation for saving a version of the collaboration document . The document status daemon can receive the change from the document collaboration system and push the changes made to the collaboration document onto the client event queue for propagation to the external database in response to the HTTP messages issued by the document change message .

Furthermore those skilled in the art will understand that any number of additional methods having any useful functionalities may be provided within the data APIs of the document collaboration system . Additionally those skilled in the art can revise a web server program implementing the document collaboration and synchronization solution to make use of any additional APIs provided in the document collaboration system whenever they are available.

In one preferred embodiment of the invention the data APIs can use standards such as the Atom 1.0 the RSS 2.0 syndication formats and the Atom Publishing Protocol as understood by those skilled in the art. The feeds of the data APIs can conform to and be extended in conformity to these standards. This permits application programmers to use standardized commands within a web based program implementing the solution to push information to or pull information as required thereby facilitating their work. Because the GData framework of GOOGLE Docs can use standard HTTP and web syndication protocols it is possible to transmit data requests and responses using traditional syndication aggregators feed readers JavaScript AJAX based clients in a web browser stand alone applications and various other systems. A programmer can use any programming language that allows sending of HTTP requests and handling of XML based responses for synchronization of collaboration document and the external database data to implement the solution .

The RSS feed names in the document collaboration and synchronization solution are defined in configuration data that includes for example the table name or view name the primary key columns used to uniquely identify a row of data and the columns that are defined to be summary fields. Other columns can be considered to be detail data an optional key range or a filter predicate that restricts the feed definition to certain rows of the table or view.

The document collaboration system can also provide a chat feature for the collaboration users . In order to allow the collaborating users to access the chat feature their displays can have a chat button for opening a chat window on their displays. Using the chat windows on their displays the collaborating users can see who else is collaborating on a collaboration document during a collaboration session. Additionally the collaborating users can chat with the each other using the chat windows.

Referring now to there is shown an embodiment of the document collaboration and synchronization solution . The document collaboration and synchronization solution is an alternate embodiment of the document collaboration and synchronization solution . Within the solution multiple collaboration groups can collaborate on their respective collaboration documents during their respective collaboration sessions. The document collaboration system within the solution can individually supervise each of the collaboration groups as previously described. In a preferred embodiment of the document collaboration and synchronization solution the document collaboration synchronizer can synchronize multiple external databases storing the data displayed in the collaboration documents 

The document collaboration system can supervise the editing and synchronizing of the collaboration document as the collaborating users not shown within the collaboration group view and modify it as previously described. Thus all of the collaborating users within the collaboration group can simultaneously view a synchronized version of the collaboration document showing all of the changes made by the users during the collaboration session. Each of the collaboration groups can have its own chat feature for communication with the collaborating users therein.

Each collaboration document in the solution can have its own URL entered by the initiating user at the time of registration. The initiating user of each collaboration group can start its document status daemon within the document collaboration synchronizer for detecting changes in its collaboration document at the time of registration. In an alternate embodiment not shown a single document status daemon can detect the changes made to multiple collaboration documents or to all of the collaboration documents 

Each collaboration group can also have its own client event queue . Each client event queue can have its own header and its own event list. The client event queues in the document collaboration synchronizer can form a queue set . The client event queues within the queue set can propagate changes made to each of the collaboration documents respectively through to the external databases . Additionally the client event queues can route changes made to the external databases through to the corresponding collaboration documents . The structure of the queue set thus permits rapid lookups by the log daemon and the polling servlet to facilitate propagation in both directions through the document collaboration synchronizer . When the document collaboration and synchronization solution begins operation the queue set can be empty. The first client event queue can be created when an initiating user within the first collaboration group registers. Thus the size of the queue set can increase or decrease as collaboration groups log on log off or time out.

Each client event queue can begin in an empty state at the time of registration by its initiating user. The client event queue maintains its header information regardless of the presence of events. The key can index the queue set . Nestedjava hash maps can implement the . In a preferred embodiment of the invention the outer hash map can be a hash map of key feedname value an inner hash map of key client address value queue header . In an alternate embodiment of the invention not shown the document collaboration and synchronization solution can include a single events client queue for synchronizing the external databases and the collaboration documents 

The data APIs within the document collaboration system can detect a change made to a collaboration document and generate an HTTP message containing the feednames to the changed collaboration document accordingly. The corresponding document status daemons can receive the HTTP message and place the change into the client event queue of the changed collaboration document . Using the information stored in the client event queue including the relationships between the table names and the feednames the document collaboration synchronizer can determine the corresponding table or tables and transmit the change to the correct external database or external databases 

The log reader daemon of the database collaboration synchronizer can read the records within the database logs of any number of external databases within the solution . Based on the names of the tables having changed data as indicated by the log records in the database logs the log reader daemon can determine whether there are any feednames corresponding to the table in the queue set . Therefore the log reader daemon can determine whether any collaboration group is waiting for the changed data. If any collaboration group is waiting the log reader daemon creates a client event and pushes it onto the event list of the correct client event queue 

Thus when the log reader daemon detects changes to the data in the external databases it can push the changes to the collaboration documents displaying the changed data according to the relationships stored in the client event queues . In a preferred embodiment of the invention a change which is pushed onto multiple client event queues for multiple collaboration groups can be saved as a single instance within the queue set . References to the single instance of the change can be provided for each client event queue where the change is to be pushed. When the change is pushed to all of the collaboration groups waiting for it the synchronizer can delete the instance.

Each external database can have its own external application for making changes to data stored within itself. Additionally in a preferred embodiment of the invention each external application can view the data and make changes in any of the remaining external databases . Furthermore it will be understood by those skilled in the art that the external applications can perform their operations upon the external databases at any time regardless of whether the collaboration groups are actively collaborating upon any collaboration documents 

Referring now to there is shown a block diagram representation of an embodiment of the client side caching synchronization system . A user of the document collaboration and synchronization solution can use the client side caching synchronization system in connection with the document collaboration and synchronization solution for improving the efficiency of the document collaboration and synchronization solution . In an alternate embodiment of the client side caching synchronization system a user of any other web server application can use the client side caching synchronization system to improve the efficiency of the web server application.

Within the client side caching synchronization system a client can display data on a data display . The data displayed in the data display can be stored in a client side cache within the client . The data display can include data stored in a database and transmitted to the client from the database by way of a synchronizer server for display on the data display . An application coupled to the database can alter the transmitted and cached data after transmission to the client and while the data display displays it. When the application changes data in the database which has been transmitted to the client for display the synchronizer server can push the database changes to the client . Thus the data display within the client can display the most recent version of the data stored in the database . While the display data can be displayed in a human perceivable form it will be understood that the display data can include any data suitable for display in such a form whether it is actually displayed or not.

The synchronizer server can include a log reader daemon for reading a database log within the database in order to detect the changes to the data in the database . The synchronizer server can enter a change event into a client event queue when the log reader daemon detects a change to data that has been transmitted to the client . In a preferred embodiment the server can detect such changes to the transmitted data according to the key value pairs of the transmitted data. The key value pairs of the transmitted data can be known to the server according to feedname information originally provided by the client in order to obtain the data from the database for display on the data display . The synchronizer server can include a cache handler servlet that can manage the determination whether requested data already exists in the client side cache . The server can push a change event stored in the client event queue to the client in response to long polling of the client event queue . A polling servlet within the server can manage the polling operations of the server .

The database can include summary information and detail information in a manner well known to those skilled in the art. When the client originally requests data from the database the synchronizer server can transmit only the summary information in one embodiment of the invention. For example in a stock listing for each stock symbol the summary information can be the current stock price and fifty two week high and low prices. Detailed information can be the annual report for the company or other news about the company. Accordingly the client side cache may store only summary information when the display of data by the data display begins. If the client later requests detail information corresponding to the cached summary information the synchronizer server can obtain the detail information from the database and transmit it to the client . However if the server retransmits any previously transmitted summary information along with the new detail information the efficiency of the servicing of the requested information can be compromised.

Therefore in response to a request for transmission of detail information from the database the synchronizer server can determine whether any summary information requested along with the new information is already present in the client side cache . When the synchronizer server determines that data requested by the client includes data that is already stored in the client side cache it can transmit only the data which is not already stored. The cache handler servlet can manage the selective transmission of data to the client to prevent retransmission of the data already present in the supply side cache .

Furthermore the cache handler servlet can determine whether the data requested by the client is already present in the client side cache and selectively transmit new data to the client regardless of any reasons why the new data was not previously transmitted to the client . Accordingly the operations of the synchronizer server for increasing the efficiency of the client side caching synchronization system are not limited to cases where the new data is not detail data associated with previously transmitted summary data.

In a preferred embodiment of the invention the client can have a list of key values along with summary information for each key value in the client side cache . If there is a need to access summary information the data is already in the cache and no request is generated to the synchronization server . If detailed data is needed then a request is generated for detailed data. Depending on the size of detailed data the client may also cache the detailed data in case it is required again. The client can poll the server for changes. When data changes in the database the key and summary data are sent to the client. If a data value changes multiple times between poll requests only the most recent value is sent to the client . This can reduce data transmission volume for frequently changing data. Changes in detailed data are not sent on a poll request to reduce the size of the transmission. An indication that detailed data has changed can be sent and this can result in any cached detailed data being invalidated or discarded in the client side cache . If the client needs to access the detailed data then the detailed data is retrieved from the server only if required.

In a preferred embodiment of the client side caching synchronization system the client side cache can be based on a Javascript Object Cache JSOC framework. Therefore the client side cache can store data as javascript object references for fast retrieval. Additionally the client can be a conventional client browser . The client browser can store the javascript object references within the client side cache using Javascript Object Notation JSON strings. The JSON strings within the client side cache can represent the key value pairs for the transmitted data.

For some data within the client side cache the JSON strings can represent both the key and the value of the data stored. For other data in the client side cache the JSON strings can contain only the key. When the client browser requests additional data from the database the client browser can check the client side cache to determine whether the value associated with the key of the additional data is present. If the cache contains both a key and a value the web browser use the value corresponding to the requested key. If the corresponding value is not stored in the client side cache the client can make a request to the cache handler servlet . The cache handler servlet can then retrieve the data from the database . The log reader daemon can then return the most current data value associated with the named key to the client browser .

Referring now to there is shown a block diagram representation of an embodiment of the document collaboration and synchronization solution . Within the document collaboration and synchronization solution a user of the document collaboration and synchronization solution can use the client side caching synchronization system in connection with the document collaboration and synchronization solution for improving the efficiency of the document collaboration and synchronization solution . In an alternate embodiment of the client side caching synchronization system a user of any other web server application can use the client side caching synchronization system to improve the efficiency of the web server application.

In the document collaboration and synchronization solution multiple collaboration users can collaborate on the data cached in the client side cache and displayed in the data display . The collaboration client can synchronize changes made to the data display by the collaboration users in order to display the changes to all of the collaboration users . The document status daemon can detect changes made to the display data by the collaboration users using HTTP messages from the data APIs and push the changes to the database . The synchronizer server can push changes made to the data in the database to the data display by way of the client event queue .

While the invention has been described in detail and with reference to specific examples thereof it will be apparent to one skilled in the art that various changes and modifications can be made therein without departing from the spirit and scope thereof.

