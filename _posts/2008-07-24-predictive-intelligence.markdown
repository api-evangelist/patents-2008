---

title: Predictive intelligence
abstract: The present invention provides a method for facilitating roaming tests for a host network. The method includes creating a fake profile via a gateway associated with the host network for a roaming subscriber at a Mobile Switching Center (MSC)/Visiting Location Register (VLR). The MSC/VLR is associated with at least one of the host network and a roaming partner network of the host network. The roaming subscriber is associated with both the host network and the roaming partner network. The method further includes simulating via the gateway, transactions with a first network element associated with at least one of the host network and the roaming partner network to test at least one of the first network element's response for the simulated transactions, and network routing on the roaming subscriber to a second network element associated with at least one of the host network and the roaming partner network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08238905&OS=08238905&RS=08238905
owner: Roamware, Inc.
number: 08238905
owner_city: San Jose
owner_country: US
publication_date: 20080724
---
This application claims the benefit of U.S. Provisional Application No. 60 935 053 titled A Single Operator and Network Side Solution for Inbound and Outbound Roaming Tests and Discoveries of Roaming Partner Services and Frauds Without Involving Remote Probes or Real Roamer Traffic filed on Jul. 24 2007. This application also claims the benefit of U.S. Provisional Application No. 60 935 223 titled Roaming Intelligence from Passive Monitoring and Active Signaling from Single Operator Perspective on Real Inbound and Outbound Roaming Traffic filed on Aug. 1 2007. This application is also a continuation in part of application Ser. No. 10 635 804 filed Aug. 5 2003 now U.S. Pat. No. 7 072 651 titled Method And System For Cellular Network Traffic Redirection. It is also a continuation in part of U.S. patent application Ser. No. 11 374 437 titled Anti Traffic Redirection System filed on Mar. 14 2006 now U.S. Pat. No. 7 684 793. It is also a continuation in part of U.S. patent application Ser. No. 11 374 427 titled Method system and computer program product for countering anti traffic redirection filed on Mar. 14 2006 now U.S. Pat. No. 7 590 417. It is also a continuation in part of U.S. patent application Ser. No. 11 402 128 titled Inbound traffic redirection system filed on Apr. 12 2006 now U.S. Pat. No. 7 929 953. It is also a continuation in part of U.S. patent application Ser. No. 11 375 577 titled Method and apparatus by which a home network can detect and counteract visited network inbound network traffic redirection filed on Mar. 15 2006 now abandoned. It is also a continuation in part of U.S. patent application Ser. No. 11 366 021 titled Inbound roamer call control system filed on Mar. 2 2006 now U.S. Pat. No. 7 660 580 claiming priority to U.S. Provisional Application No. 60 658 258 filed oil Mar. 2 2005. It is also a continuation in part of U.S. patent application Ser. No. 11 366 017 titled Dynamic Generation of Camel Subscription Information For Outbound Roamers filed on Mar. 2 2006 now U.S. Pat. No. 7 742 763 claiming priority to a U.S. Provisional Application No. 60 657 798 filed on Mar. 2 2005. This application is also a continuation in part of U.S. patent application Ser. No. 12 153 453 titled Method and System for Exchanging NRTRD Files Between a Visited Network and a Home Network in Real Time filed May 19 2008 claiming priority to U.S. Provisional Application No. 60 924 525 titled Real Time Roaming Data Exchange Service filed on May 18 2007. Each of these related applications is incorporated herein by this reference in its entirety.

The present invention generally relates to mobile communication. More specifically the invention relates to proactive roaming tests discoveries of roaming partner services and discoveries of frauds in roaming.

Roaming traffic contributes a significant percentage of an operator s revenue and even a better percentage of the operator s margin. With increasing competition and regulatory control operators are being more pressured to increase their roaming revenue and reduce roaming margin losses. They need keep a check on roaming quality and fraud control at both own networks to serve inbound roamers and roaming partner networks to serve outbound roamers that can directly impact an operator s roaming revenue and margin.

Establishing roaming relationships is essential for operators to achieve roaming revenue in the first place. Such process involves both inbound and outbound roaming tests. These tests are usually only performed prior to the launch of these roaming relationships. However roaming partners may constantly change network configuration upgrade new software add new number ranges introduce new inter connection routing or add new network elements. These changes or incomplete or incorrect execution of changes could affect roaming services. Constantly maintaining roaming quality of the services thus will help increase roaming revenue. Also while roaming represents a substantial revenue source for the operators it is also subjected to frauds like Subscriber Identity Module SIM box and interconnection frauds.

Further many operators may employ aggressive and innovative services for increasing roaming revenue. However these services may have detrimental effects on roaming partners. Thus early detection of these services can help roaming partners to play defenses and retain roaming revenue. Some of the exemplary roaming services are outbound traffic redirection i.e. steering of traffic SoR that allows a home operator to direct its outbound roaming traffic towards preferred operators with better Inter Operator Tariff IOT discounts or group alliance relationship. Another innovative service is detecting home operator s traffic redirection Anti SoR solution that arms a visited operator against such attack and allows retaining its inbound roamers within its own network. Yet another innovative service will arm a home operator against the Anti SoR by a visited network and hence protect its outbound roaming revenue. Also another service provides inbound SoR capability to a visited operator to retain the inbound roamers within its network.

A co related service to anti traffic steering is the use of Gateway Location Register GLR by a Visited Public Mobile Network VPMN . Still another innovative way to increase roaming revenue is network extension which allows a client operator to piggyback a host operator s roaming relationships. Yet another innovative way to increase roaming revenue is home routing which allows a Home Public Mobile Network HPMN outbound roamer s non HPMN international calls to be routed via the HPMN to gain mobile termination or international termination revenue due to arbitrage. Still another innovative way to increase roaming revenue or margin or reduce roaming cost is optimal routing to voicemail or late call forwarding which allows an unanswered call to the HPMN outbound roamer to be optimally routed to the HPMN voicemail without tromboning.

One of the existing solutions that addresses some of these above mentioned issues is to deploy remote probes real or virtual mobile stations around the world. When a remote probe behaves like a virtual mobile station a virtual SIM is dynamically slotted in from a central multiplexer of real SIMs to test different types of subscribers for different types of services under some kinds of schedules. When a remote probe is a real mobile station then real or virtual SIMs can be inserted for testing purpose. However there are several issues with the remote probes approach. First is coverage as despite of increasing coverage in multiple countries and major cities this approach does not assure covering of home operator s roamer s services in the part that are not covered by these remote probes. The coverage problem also applies to a visiting operator for inbound roamers when the country s expanse is huge such as China India etc. Moreover the operator often cannot afford to continuously test its inbound roaming service availability to accommodate constant changes of network infrastructures including network elements e.g. VLR VMSCs and routing. Another drawback is cost as remote probe vendors need ways to recuperate the cost e.g. remote probe hardware cost data center collocation cost including bandwidth and maintenance etc. for the vast amount of investment for extended coverage. Also without enough coverage some SIM box frauds might not be detected. Further even testing any kind of subscriber e.g. prepaid postpaid Virtual Private Network VPN machine to machine etc. is done by providing the corresponding SIM card to the test vendor. It is unlikely that they will multiply the number of test scenarios by the number of profiles because of the costs of these tests thus making it is hard for the operator to control the quality of service offered to any of the subscribers. Also due to its lack of network signaling remote probe approach is also not quite effective in detecting various revenue affecting services like mentioned above. Further in terms of providing revenue assurance owing to the constant changes in IOT tariffs and constant upgrades of billing systems constant regression tests can help reduce these revenue leaks. However since remote probes are bottlenecked by their coverage area unfortunately many countries that are out of the coverage cannot gain benefit of these tests. Further remote probe approach cannot test for operator network initiated services such as on demand Operator Determined Barring ODB Cancel Location InSertSusbcriberData ISD Immediate Service Termination IST and on demand profile changes. Furthermore lack of network side signaling and monitoring also make it less diagnostic on the failure causes and less ideal in operational management of subscriber profiles.

Another alternative solution is to monitor just the roaming links at the home host operator. The solution is completely network based without involvement of mobile stations local or remote . In this way many types of inbound roaming and outbound roaming Transaction Capabilities Application Part TCAP signaling messages can be probed at the operator network. However this approach is unable to find out whether outbound roamers can perform Mobile originated MO or forwarded calls for non Customized Applications for Mobile Network Enhanced Logic CAMEL agreement networks. Further it is unable to perform revenue assurance tests without real roamer usage. Also this approach is unable to know if any potential problems exist at the visiting network elements. This approach is also unable to test or discover failures on Supplementary Services SS and home operator network initiated services. Further this approach cannot detect frauds like SIM box proactively.

Another alternative is to just test Signaling Connection Control Part SCCP routing from home operator to the roaming. Because no profile is assumed or created such an approach is rather limited because it cannot test behaviors on roaming calls SS General Packet Radio Service GPRS CAMEL and SS profiles. Also such an approach cannot detect roaming and interworking services quality network capabilities and international frauds.

In accordance with the foregoing there is a need in the art of a system a method and a computer product for creating a single operator and pure network based solution that gives the operator intelligence to deal with above mentioned problems.

The present invention is directed towards a method for facilitating roaming tests for a host network. The method includes creating a fake profile by a gateway associated with the host network for a roaming subscriber at a Mobile Switching Center MSC Visiting Location Register VLR . The MSC VLR is associated with at least one of the host network and a roaming partner network of the host network. The host network and the roaming partner network correspond to a Home Public Mobile Network HPMN and a Visited PMN. The roaming subscriber is associated with both the host network and the roaming partner network. The method further includes simulating by the gateway transactions with a first network element associated with at least one of the host network and the roaming partner network to test at least one of the first network element s response for the simulated transactions and network routing on the roaming subscriber to a second network element associated with at least one of the host network and the roaming partner network.

Another aspect of the invention presents a system for facilitating roaming tests for a host network. The system includes a gateway associated with the host network for creating a fake profile of a roaming subscriber at a MSC VLR associated with at least one of the host network and a roaming partner network of the host network. The host network and the roaming partner network correspond to an HPMN and a VPMN. Further the roaming subscriber is associated with both the host network and the roaming partner network. Further the gateway simulates transactions with a first network element associated with at least one of the host network and the roaming partner network to test at least one of the first network element s response for the simulated transactions and network routing on the roaming subscriber to a second network element associated with at least one of the host network and the roaming partner network.

Yet another aspect of the present invention provides a computer program product including a computer usable program code for facilitating roaming tests for a host network. The computer program product includes a gateway associated with the host network for creating a fake profile of a roaming subscriber at a MSC VLR associated with at least one of the host network and a roaming partner network of the host network. The host network and the roaming partner network correspond to an HPMN and a VPMN. The roaming subscriber is associated with both the host network and the roaming partner network. The gateway further simulates the transactions with a first network element associated with at least one of the host network and the roaming partner network to test at least one of the first network element s response for the simulated transactions and network routing on the roaming subscriber to a second network element associated with at least one of the host network and the roaming partner network.

In the following description for purposes of explanation specific numbers materials and configurations are set forth in order to provide a thorough understanding of the present invention. It will be apparent however to one having ordinary skill in the art that the present invention may be practiced without these specific details. In some instances well known features may be omitted or simplified so as not to obscure the present invention. Furthermore reference in the specification to one embodiment or an embodiment means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. The appearance of the phrase in an embodiment in various places in the specification does not necessarily refer to the same embodiment.

The present invention provides a system a method and a computer program product where a host network operator detects one or more roaming partner networks services and frauds in addition to testing roaming services of its inbound and outbound roamers visiting and coming from these roaming partner networks. The present invention allows the host network operator to detect roaming frauds new roaming services offered by the roaming partner networks issues in the host network s roaming services quality of the host network s roaming services and services of the roaming partner networks that may affect roaming revenue of the host network operator. The present invention also helps in preventing revenue losses and also to control frauds before any real roamers or real services usage or real fraud occurrence or real quality issues pop up. The present invention further helps a hosting operator to increase revenue reduce loss prevent fraud and improve customer experience and quality. A roaming partner network corresponds to a network that has at least one roaming agreement such as but not limited to Global System for Mobile communication GSM General Packet Radio Services GPRS Customized Application for Mobile Enhanced Logic CAMEL and Third Generation of mobile 3G agreement with the host network. It will be apparent to a person skilled in the art that roaming services include standard call and non call related activities such as but not limited to Mobile Originated MO call Mobile Terminated MT call Short Message Service SMS Packet Data Network PDN and other Value Added Services VASs such as call forwarding call barring etc.

The host network operator performs the proactive roaming tests by deploying a gateway either at a centralized location or in the host network. illustrates a system that tests roaming services for inbound and outbound roamers of the host network in accordance with an embodiment of the present invention. System includes a Predictive Intelligence PI module i.e. the gateway in a host Public Mobile Network PMN i.e. the host network . PI module has ability to detect roaming services and determine issues related to these roaming services. Host PMN operator uses PI module to test roaming services of its outbound roamers that may roam in any of the roaming partner networks and its inbound roamers that may be coming from any of these roaming partner networks. Thus host PMN acts as a Home PMN HPMN of the outbound roamers whereas roaming partner networks in which these outbound roamers may roam act as Visited PMNs VPMNs . Accordingly host PMN acts as a VPMN for the inbound roamers whereas roaming partner networks to which these inbound roamers belong act as HPMNs. Host PMN further includes a Mobile Switching Center MSC Visiting Location Register VLR a Serving GPRS Support Node SGSN a Gateway GPRS Support Node GGSN a Gateway MSC GMSC a roaming Signal Transfer Point STP a Home Location Register HLR and a Short Message Service Center SMSC . Since network elements MSC VLR SGSN GGSN GMSC STP HLR and SMSC reside in Host PMN they are hereinafter referred to as MSC H VLR H SGSN H GGSN H GMSC H STP H HLR H and SMSC H respectively. These network elements communicate with each other over a Signaling System 7 SS7 link represented by dashed lines in except that SGSN H communicates with GGSN H via an Internet Protocol IP link represented by solid lines in .

System further includes a roaming partner PMN i.e. the roaming partner network that is associated with host PMN . It will be apparent to a person skilled in the art that system may include various other roaming partner networks. However for the sake of convenience this embodiment considers only one roaming partner network i.e. roaming partner PMN . Roaming partner PMN includes a MSC VLR a SGSN a GGSN a GMSC an STP an HLR and an SMSC . Since network elements MSC VLR SGSN GGSN GMSC STP HLR and SMSC reside in roaming partner PMN they are hereinafter referred to as MSC R VLR R SGSN R GGSN R GMSC R STP R HLR R and SMSC R respectively. All these network elements of roaming partner PMN communicate with each other over the SS7 link except that SGSN R communicates with GGSN R via the IP link. Further as shown in the network elements of roaming partner PMN also communicate with the network elements of host PMN . For example GMSC R communicates with GMSC H over an ISDN User Part Protocol ISUP link whereas SGSN R and GGSN R communicate with GGSN H and SGSN H respectively via the IP link. Other network elements of roaming partner PMN e.g. MSC R VLR R communicate with various other network elements of host PMN e.g. HLR H via the SS7 link. It will also be apparent to a person skilled in the art that host PMN and roaming partner PMN may also include various other network components not shown in depending on the architecture under consideration. In an embodiment of the present invention various network elements of host PMN and roaming partner PMN are located in an IR.21 database not shown in such as RAEX IR.21. In an embodiment of the present invention the IR.21 database is coupled to PI module .

By testing roaming services for the inbound and outbound roamers PI module detects issues in the roaming services ensures proper functioning of these roaming services and the service quality offered to the inbound and outbound roamers as mentioned above. PI module includes a monitoring module and an active signaling module . The PI module serves as a complete system that provides host network with ability to proactively perform roaming tests and detect roaming services and frauds. Monitoring module taps SS7 and IP roaming links between network elements of host PMN and roaming partner PMN in order to monitor roaming signaling traffic and packet data traffic at host PMN . The roaming signaling traffic includes both Signaling Connection Control Part SCCP and ISUP traffic. In an embodiment of the present invention the SCCP and ISUP traffic is transported over an IP interface such as but not limited to Signaling Transport SIGTRAN protocol Voice over IP VoIP and Real Time Transport Protocol RTP . The SCCP traffic includes Mobile Application Part MAP traffic CAMEL Application Part CAP traffic and Transaction Capabilities Application Part TCAP traffic. For packet data traffic monitoring module monitors the IP link in a Gp interface between SGSN H and GGSN R and between GGSN H and SGSN R in accordance with an embodiment of the present invention. Monitoring module further taps the SS7 link between STP H and STP R and the ISUP link between GMSC H and GMSC R in accordance with another embodiment of the present invention. In one embodiment of the present invention monitoring module passively taps signaling path between the network elements of host PMN and roaming partner PMN . In another embodiment of the present invention monitoring module intercepts the signaling path with an address such as a Global Title GT a point code or an IP address.

Furthermore in an embodiment of the present invention active signaling module performs roaming signaling traffic and packet data traffic exchange between host PMN and roaming partner PMN for host PMN s outbound and inbound roamers. Additionally in another embodiment of the present invention active signaling module communicates with the network elements of host PMN internally e.g. communicates with GMSC H via the ISUP link and communicates with MSC H VLR H via the SS7 link .

In an embodiment of the present invention in order to test roaming services for outbound roamers host PMN operator selects a test International Mobile Subscriber Identity IMSI of host PMN hereinafter referred to as an IMSI H. Similarly in order to test roaming services for inbound roamers host PMN operator selects a test IMSI of roaming partner PMN as a part of International Roaming Expert Group IREG Transferred Account Data Interchange Group TADIG testing with host PMN . The IMSI of roaming partner PMN is hereinafter referred to as an IMSI R. Since the IMSI H and IMSI R are test IMSIs they are not associated with any mobile station or any real roamer traffic. Therefore a subscriber using the IMSI H and a subscriber using the IMSI R are hereinafter referred to as simulated outbound roamer and simulated inbound roamer both interchangeably referred to as roaming subscribers respectively.

In an embodiment of the present invention PI module may be deployed at a central location i.e. PI module is hosted at a third party PMN or at a central location for a group of operators.

Now in order to predict roaming environment for host PMN operator PI module needs to create test profile at a MSC VLR location of the roaming subscriber and then check various roaming services and fraud by host PMN and its roaming partner PMNs. represents a flowchart for testing roaming services for the simulated inbound and outbound roamers in accordance with an embodiment of the present invention. At step PI module creates a fake profile of the roaming subscriber at a MSC VLR location of the roaming subscriber. In one embodiment of the present invention in case of outbound roaming active signaling module creates fake profile for the simulated outbound roamer at MSC R VLR R . In another embodiment of the present invention in case of inbound roaming active signaling module creates fake profile for the simulated inbound roamer at MSC H VLR H . Details of the profile creation for simulated inbound and outbound roamers are explained later in various embodiments of the present invention.

Thereafter at step PI module simulates transactions with a first network element in order to test either the first network element s response for the simulated transactions or network routing from the first network element on the roaming subscriber to a second network element. Simulated transactions include but not limited to TCAP traffic packet data traffic and ISUP traffic. The first network element can be any network element in host PMN or roaming partner PMN depending upon the type of testing or detection performed by PI module . In an embodiment of the present invention in order to test MT call for outbound roamers active signaling module issues a fake MT call on a Mobile Station International Subscriber Directory Number MSISDN corresponding to the IMSI H to GMSC H . Since the MSISDN is associated with the simulated outbound roamer s IMSI H it is hereinafter referred to as MSISDN H. In other words active signaling module simulates transactions with GMSC H as the first network element to test MT call for outbound roamers. Similarly the second network element can be any network element different from the first network element in host PMN or roaming partner PMN .

Various embodiments of the present invention where PI module tests the first network element s response on a service type e.g. SMS calls SS dual IMSI inbound roaming outbound roaming network extension etc. are described later. In another embodiment of the present invention active signaling module issues a fake MT call such as an ISUP IAM to GMSC R to test MO call routing for the simulated inbound roamer. In this case GMSC R routes the MT call to MSC H VLR H location of the simulated inbound roamer. MSC H VLR H can then route the MT call on a Forward To Number FTN set at MSC H VLR H . In an embodiment of the present invention the FTN corresponds to active signaling module s number or MSISDN assigned by host PMN operator. Detection of the MT call on the FTN facilitates PI module to successfully test network routing service on the inbound roamers. In this case GMSC R and MSC H VLR H correspond to the first network element and the second network element respectively. Details of testing network routing on inbound and outbound roamers are explained later in various embodiments of the present invention.

In order to perform various roaming services tests PI module first needs to create fake profiles for the simulated subscribers. The different types of profiles that could be created are without limitation Supplementary Services SS profile Operator Determined Barring ODB profile CAP profile and GPRS profile. PI module creates profiles for simulated outbound roamers by sending signaling messages such as a MAP Provide Roaming Number PRN a MAP Insert Subscriber Data ISD and a MAP RESTORE DATA RSD ACK on their respective test IMSIs to any MSC VLR of roaming partner PMN e.g. MSC R VLR R . Therefore PI module can test various roaming services against the profiles created at the MSC VLR. In an embodiment of the present invention PI module selects a MSC VLR or any other network element of roaming partner PMN from the IR.21 database.

Alternatively in another embodiment of the present invention PI module creates profile for the simulated outbound roamer at MSC R VLR R with HLR H involvement. In this case active signaling module initiates a fake Location Update LUP procedure on the IMSI H towards HLR H to fake that the simulated outbound roamer is at MSC R VLR R . In this case LUP ISD ISD ACK and LUP ACK messages are exchanged between active signaling module and HLR H as per the standard signal flow of LUP procedure. Thus HLR H creates profile information for the IMSI H at active signaling module . Active signaling module then issues a PRN on the IMSI H to MSC R VLR R in order to retrieve an MSRN corresponding to the IMSI H in a PRN ACK message from MSC R VLR R and cause MSC R VLR R to exchange profile of the simulated outbound roamer via Restore Data procedure with HLR H . It will be apparent to a person skilled in the art that in the Restore Data procedure a MSC VLR of a roamer and an HLR exchange RSD ISD ISD ACK and RSD ACK messages with each other. In an embodiment of the present invention upon detecting successful exchanges of these messages i.e. using monitoring module in the Restore Data procedure active signaling module then issues a standalone MAP ISD to MSC R VLR R in order to add or modify any profile e.g. CAMEL SS etc. for the simulated outbound roamer. In case the RSD message uses an E.164 address of the PRN message as that of active signaling module then active signaling module directly inserts or modifies profile at MSC R VLR R either after relaying the RSD message to HLR H using an MGT of the IMSI H or without relaying it to HLR H . In the latter case active signaling module performs a fake LUP.

Alternatively in yet another embodiment of the present invention PI module creates profile for the simulated outbound roamer at MSC H VLR H with HLR H involvement. The signal flow for this case is similar to signal flow for the creation of profile at MSC R VLR R with HLR H involvement explain in the above mentioned embodiment of the present invention except that in case of the creation of profile at MSC H VLR H PRN and PRN ACK messages are exchanged between active signaling module and MSC H VLR H and RSD procedure is performed between MSC H VLR H and HLR H . Moreover in case of profile creation at MSC H VLR H active signaling module exchanges the standalone ISD and its acknowledgement with MSC H VLR H .

Furthermore PI module can also create profile for the simulated inbound roamer of host PMN . In a first embodiment of the present invention PI module creates profile for the simulated inbound roamer at MSC H VLR H with HLR R involvement. Signal flow for this case is same as signal flow for profile creation of the simulated outbound roamer at MSC R VLR R with HLR H involvement as explained above. However in case of profile creation of the simulated inbound roamer MSC R VLR R HLR H and IMSI H are replaced with MSC H VLR H HLR R and IMSI R respectively. The process for authentication in case of the inbound roaming is same as the authentication process explained earlier for outbound roaming except that MSC R VLR R IMSI H and HLR H are replaced with MSC H VLR H IMSI R and HLR R respectively. Similarly in a second embodiment of the present invention PI module creates profile for the simulated inbound roamer at MSC H VLR H without HLR R involvement. Signal flow for this case is same as signal flow for profile creation of the simulated outbound roamer at MSC R VLR R without HLR H involvement as explained above except that in case of simulated inbound roamer MSC R VLR R and IMSI H are replaced with MSC H VLR H and IMSI R respectively. Likewise in a third embodiment of the present invention PI module creates profile for the simulated inbound roamer at MSC R VLR R with HLR R involvement. Signal flow for this case is same as signal flow for profile creation of the simulated outbound roamer at MSC H VLR H with HLR H involvement as explained above. However in case of profile creation of the simulated inbound roamer MSC H VLR H HLR H and IMSI H are replaced with MSC R VLR R HLR R and IMSI R respectively.

As mentioned above PI module can define specific profiles such as SS CAMEL GPRS and ODB at a MSC VLR of the simulated roaming subscriber. Active signaling module can create such profile during the profile creation process as explained above. Alternatively in another embodiment of the present invention active signaling module defines or modifies the profile after the profile creation process. In this case active signaling module issues a standalone ISD message or Delete Subscriber Data DSD message to the MSC VLR to modify define the profile at the MSC VLR location. This allows host PMN operator to test SS CAMEL GPRS and ODB profile support at any MSC VLR of roaming partner PMN for outbound roaming and at any MSC VLR of host PMN for inbound roaming.

Some network operators only allow prepaid CAMEL outbound roamers to register at roaming partner networks that have CAMEL agreement with them. In order to ensure no revenue loss some of these network operators may send Roaming Not Allowed RNA to its prepaid roamer s registration attempt at a roaming partner without CAMEL agreement. However this may result in revenue loss for such non CAMEL agreement network operators e.g. in case there is no network that has a CAMEL agreement at the prepaid roamer s location. Therefore in order to avoid loss of such roaming revenue some network operators may enforce ODB barring for its outbound roamers. In an embodiment of the present invention host PMN operator uses PI module to enforce ODB for its simulated outbound roamers. This allows host PMN operator to check whether it can apply ODB on its real outbound roamers. However in case a network e.g. roaming partner PMN does not pass ODB test host PMN operator applies Steering of Roaming SoR techniques to dynamically move its outbound roamers to another network that supports ODB in accordance with an embodiment of the present invention.

Similarly in a second embodiment of the present invention PI module sets SS ODB and CAMEL profile for the simulated inbound roamer at MSC H VLR H . The signal flow for the inbound roaming case is same as the signal flow for the outbound roaming case as explained above in conjunction with except that in case of inbound roaming MSC R VLR R is replaced with MSC H VLR H .

Generally the location procedure is triggered by a mobile station at the radio interface. Any fault at the radio interface affects all roaming and non roaming mobile subscribers under the coverage of such faulty radio interface. On the other hand the roaming related LUP faults are mostly linked to configuration and routing issues at the core network level. Such faults may affect some specific core network elements and routes and hence may not easily be discovered.

In an embodiment of the present invention host PMN operator uses PI module to detect various LUP procedure faults. The mechanism is similar to the profile creation procedure described above in the context of the present invention. Moreover using the RestoreData procedure host PMN operator can evaluate the correct handling of the LUP procedure i.e. correct E.212 to E.214 translation or IMSI analysis subsequent routing procedure CAMEL support and correct MAP version configuration. As a result PI module estimates location management success rate and its corresponding duration. Since a VLR indicates its CAMEL capabilities during the LUP procedure PI module validates such VLR capabilities against the expected configuration. Also in an embodiment of the present invention PI module dynamically decides whether a CAMEL profile e.g. O CSI VT CSI etc. has to be sent e.g. in a standalone ISD message to the VLR.

PI module can perform location management for inbound roaming using the test IMSIs provided by roaming partner PMN . In a first embodiment of the present invention active signaling module issues a LUP message on the IMSI R to HLR R with a CgPA as its own address or GT in order to test LUP routing between HLR R and any VLR in host PMN e.g. MSC HJVLR H . In this case active signaling module directly receives profile for the IMSI R in an ISD message from HLR R . Thereafter active signaling module exchanges ISD ACK and LUP ACK messages directly with HLR R . In a second embodiment of the present invention active signaling module issues a LUP message on the IMSI R to HLR R with a CgPA as MSC H VLR H in order to test LUP routing between HLR R and MSC H VLR H . In this case MSC H VLR H i.e. instead of active signaling module receives profile for the IMSI R in the ISD message from HLR R . Detection of profile exchange at active signaling module i.e. in the first embodiment or monitoring module i.e. in the second embodiment confirms successful testing of location management for inbound roamers. It will be apparent to a person skilled in the art that in case of GPRS the VLR location LUP message and LUP ACK message are replaced with an SGSN location a GPRS LUP message and a GPRS LUP ACK message respectively.

Once profile is created for the simulated outbound roamer s IMSI H at MSC R VLR R PI module can initiate a fake MT call on the MSISDN H. represents a flow diagram for testing an MT call on the simulated outbound roamer s MSISDN H in accordance with a first embodiment of the present invention. In one embodiment of the present invention PI module obtains MSISDN H via monitoring of the signaling messages associated with the simulated outbound roamer e.g. during the simulated outbound roamer s LUP process . In another embodiment of the present invention PI module obtains MSISDN H via direct profile exchange. Also active signaling module issues a PRN request to MSC R VLR R in order to obtain an MSRN corresponding to the MSISDN H in a PRN ACK message from MSC R VLR R . Moreover active signaling module issues a standalone ISD message on the IMSI H to MSC R VLR R in order to obtain MSISDN H in an ISD ACK message from MSC R VLR R . This process of initiating direct profile exchange and retrieving MSRN by active signaling module is hereinafter interchangeably referred to as Outbound Test Profile Initiation OTPI . In yet another embodiment of the present invention PI module already stores the MSISDN H with its corresponding IMSI H.

In order to test the MT call handling behavior of MSC R VLR R active signaling module initiates MT call on the obtained MSISDN H or the MSRN. Hence at step active signaling module issues an ISUP Initial Address Message IAM message on the MSISDN H to GMSC H . Thereafter at steps to standard flow for an MT call follows with the exchange of SRI MSISDN H PRN IMSI H PRN ACK MSRN SRI ACK MSRN and ISUP IAM MSRN messages. In an embodiment of the present invention monitoring module optionally monitors signaling messages such as PRN IMSI H PRN ACK MSRN IAM MSRN and REL.

Furthermore standard Q850 defines various release causes for call control messages. For example this standard specifies that the Subscriber Absent cause value is used when a mobile station has logged off and radio contact is not obtained with a mobile station or if a subscriber is temporarily not addressable at any user network interface. Since the subscriber in this case is a simulated outbound roamer the simulated outbound roamer does not exist at the radio side. Thus upon receiving ISUP IAM MSRN message from GMSC H when MSC R VLR R performs a SearchMS operation no mobile will respond to this operation. Therefore at step MSC R VLR R issues a release REL message with an absent subscriber indication to GMSC H . Finally at step active signaling module receives the REL message from GMSC H . The absent subscriber indication in the received REL message allows PI module to conclude that the MT call testing is successful. It will be apparent to a person skilled in the art that the release cause may be received a few seconds after the call initiation. This delay generally lasts approximately eight seconds and is usually steady for all networks. This delay is introduced by the SearchMS procedure at the radio interface. Hence PI module may use this delay to distinguish between such test calls and the calls released due to SearchMS abort from international connectivity issues.

Further host PMN operator may also want to test Third Generation of mobile 3G MT calls for its simulated outbound roamers. Since 3G roaming video calls provides higher roaming revenue ensuring successful testing of roaming video calls helps host PMN operator to increase it 3G roaming revenue. This case assumes that roaming partner PMN supports 3G roaming. In order to test 3G MT calls for simulated outbound roamer simulated 3G roaming profiles need to be created for the outbound roamer at roaming partner PMN . 3G MT call testing is similar to the MT call testing explained above in conjunction with except that 3G parameters are also exchanged during the OTPI process and at steps and . 3G parameters indicate HLC LLC and Bearer GSM ISDN as defined in GSM 23.018 standard. Other tests can be on pre paging support at MSC R VLR R . Further in this case of 3G MT call testing the release cause in the REL message received at active signaling module indicates whether roaming partner PMN supports 3G for host PMN s outbound roamers. Similarly host PMN operator may also test 3G MT call testing for the simulated outbound roamer directly on the MSRN. The process for testing 3G MT call directly on the MSRN is same as the process described above for the normal MT call testing on the MSRN except that active signaling module also sends 3G parameters during the OTPI process and in the ISUP IAM message to MSC R VLR R .

Furthermore host PMN operator may also want to test an MT call for its simulated inbound roamers. Once profile is created for the simulated inbound roamer s IMSI R at MSC H VLR H PI module can initiate a fake MT call on an MSISDN of the simulated inbound roamer. Since the MSISDN is associated with the inbound roamer s IMSI R it is hereinafter referred to as MSISDN R. represents a flow diagram for testing the MT call to the simulated inbound roamer s MSISDN R in accordance with a second embodiment of the present invention. PI module obtains MSISDN R using any one of the techniques explained above for obtaining MSISDN H. In order to test the MT call handling behavior of MSC H VLR H active signaling module initiates MT call on the obtained MSISDN R or the MSRN. Hence at step active signaling module issues an ISUP IAM message on the MSISDN R to GMSC R where A represents a calling party. Steps to are same as corresponding steps in which describes the exchange of SRI not shown in PRN PRN ACK SRI ACK not shown in and ISUP IAM messages. However in this case of the simulated inbound roamer IMSI H is replaced with IMSI R MSISDN H with MSISDN R MSC R VLR R with MSC H VLR H GMSC H with GMSC R and HLR H with HLR R . Even the absent subscriber indication in the REL message allows PI module to detect that the MT call test is successful as explained in case of simulated outbound roamers.

Further host PMN operator may also test 3G MT call for its simulated inbound roamer similar to the 3G MT call test for the simulated outbound roamer explained above. However IMSI H MSISDN H MSC R VLR R GMSC H and HLR H are replaced with IMSI R MSISDN R MSC H VLR H GMSC R and HLR R respectively.

Host PMN operator may provide Calling Line Identity CLI services to its outbound and inbound roamers in order to increase the possibility of call completion in addition to offering better roamer experience. However due to international and national interconnection problems CLI issues may arise. PI module allows host PMN operator to test CLI delivery on the simulated roaming subscribers. The signal flow of MT call CLI testing between host PMN and roaming partner PMN for the simulated inbound roamer is same as normal MT call testing for the simulated inbound roamer as explained above except that at step ISUP IAM MSRN from GMSC R to MSC H VLR H is replaced with ISUP IAM A MSRN where A is the calling party. In an embodiment of the present invention PI module obtains the caller ID using monitoring module that monitors various signaling messages exchanged during the MT call testing for the simulated inbound roamer.

Alternatively in another embodiment of the present invention active signaling module performs testing of the MT call to the simulated inbound roamer directly on the simulated inbound roamer s MSRN. In this case active signaling module issues a PRN request to MSC H VLR H in order to obtain an MSRN corresponding to the MSISDN R in a PRN ACK message from MSC H VLR H . Moreover active signaling module obtains MSISDN R via direct profile exchange by issuing a standalone ISD message on the IMSI R to MSC H VLR H . In this case MSC H VLR H then returns MSISDN R in an ISD ACK message to active signaling module . This process of initiating direct profile exchange and retrieving MSRN by active signaling module is hereinafter interchangeably referred to as Inbound Test Profile Initiation ITPI . In this case after retrieving MSRN during the ITPI process active signaling module issues an ISUP IAM signaling message on the MSRN to MSC H VLR H . Thereafter upon detecting no response for the SearchMS operation MSC H VLR H returns the REL message to active signaling module with the absent subscriber indication. PI module therefore infers successful completion of MT call testing for the simulated inbound roamer in host PMN . Similarly host PMN operator may also test 3G MT call testing for the simulated inbound roamer directly on the MSRN. The process for testing 3G MT call directly on the MSRN is same as the process described above for the normal MT call testing on the MSRN except that active signaling module also sends 3G parameters during the ITPI process and in the ISUP IAM message to MSC H VLR H .

PI module can also initiate test MO call on an MSISDN of the simulated outbound roamer. Since the simulated roaming subscriber has no real mobile station associated with him in order to test MO call PI module uses Call Forwarding CF technique in accordance with an embodiment of the present invention. Although some MSC vendors split their configuration tables for MO and forwarded calls however such distinction is mainly used for local subscribers and is not applicable for roaming subscribers.

In various embodiments of testing MO call since the mobile station is always not reachable PI module sets the FTN at an MSC VLR location of the simulated roaming subscriber. The process of setting FTN is same as the OTPI ITPI process described earlier for setting SS ODB or CSI except that in case of setting FTN at the MSC VLR location active signaling module sends FTN along with the IMSI i.e. IMSI H in case of outbound and IMSI R in case of inbound of the roaming subscriber to the MSC VLR. In an embodiment of the present invention host PMN operator configures GMSC H to direct signaling messages such as ISUP IAM and REL on the FTN to active signaling module .

In an embodiment of the present invention active signaling module sends simulated roamer profile containing a CAMEL O CSI parameter or VT CSI parameter to MSC R VLR R where a Service Control Point SCP GT of the CSI is set to active signaling module . Thus host PMN distinguishes the failure of MO test using incoming call i.e. from roaming partner PMN to host PMN rather than outgoing call i.e. from host PMN to roaming partner PMN . In case of CAMEL enabled simulated roaming subscriber simulated roaming subscriber s MSC VLR sends a CAMEL IDP message to active signaling module before the call is forwarded. Detection of the CAMEL IDP message at active signaling module confirms either successful completion of MT call or initiation of CF procedure. By doing so PI module is able to detect any issues in the MO leg of the call. Moreover in case of a successful MO call attempt PI module evaluates call setup duration by calculating the time difference between the reception of the ISUP IAM and the CAMEL IDP at active signaling module .

In order to test 3G MO calls for simulated outbound roamer simulated 3G roaming profiles need to be created for the outbound roamer at 3G supported roaming partner PMN . 3G MO call testing is similar to the MO call testing explained above in conjunction with except that 3G parameters are also exchanged during the OTPI process and at steps and . Furthermore PI module allows host PMN operator to test CLI delivery on the simulated outbound roamer. Some host PMNs provide an HLR based CLI solution to its roaming partner PMNs. Under this solution a host PMN HLR and a roaming partner PMN VLR supports PRN additional signal information where the caller party A will be present in an SRI request to the host network HLR. The signal flow of MO call CLI testing between host PMN and roaming partner PMN for the simulated outbound roamer is same as normal MO call testing for the simulated outbound roamer explained above in conjunction with except that at step ISUP IAM MSRN is replaced with ISUP IAM unknown MSRN and at step ISUP IAM FTN is replaced with ISUP IAM A FTN where A in this case is the calling party i.e. simulated outbound roamer . In this case of MO call CLI testing active signaling module also sends the calling party A to MSC R VLR R during the OTPI process. Since a PRN message exchanged between MSC R VLR R and HLR H already contains simulated outbound roamer s CLI active signaling module does not issue caller ID in the ISUP IAM call to MSC R VLR R . By doing so PI module tests PRN additional signal information support and CLI support from roaming partner PMN to host PMN .

Alternatively in another embodiment of the present invention PI module tests MO call on a non HLR based CLI for the simulated outbound roamer. The signal flow of MO call non HLR CLI testing between host PMN and roaming partner PMN is same as HLR based CLI testing explained above except that active signaling module sends ISUP IAM A MSRN instead of ISUP IAM unknown MSRN and the calling part A is not exchanged during the OTPI process. In an embodiment of the present invention in case the non HLR CLI is guaranteed in both directions i.e. host PMN and roaming partner PMN directions then active signaling module receives the caller ID from MSC R VLR R .

Furthermore host PMN operator may also want to test MO calls for its simulated inbound roamers. represents a flow diagram for testing MO call by the simulated inbound roamer in accordance with a second embodiment of the present invention. PI module obtains MSISDN R using any one of the techniques explained earlier for obtaining MSISDN H except that MSC R VLR R is replaced with MSC H VLR H while exchanging messages. In case the technique used is ITPI active signaling module also adds an FTN for the simulated inbound roamer at MSC H VLR H . In an embodiment of the present invention host PMN operator configures active signaling module to set the FTN as a local number a host PMN number or a non host PMN number at MSC HJVLR H . In order to test the MO call handling behavior of MSC H VLR H active signaling module initiates MT call on the obtained MSISDN R or the MSRN. Hence at step active signaling module issues an ISUP IAM message on the MSISDN R to GMSC R with calling party as A. Thereafter at steps to the exchange of PRN IMSI H PRN ACK MSRN and ISUP IAM MSRN messages follows standard flow for MT call. Finally at step active signaling module receives a forwarded call such as ISUP IAM message on the FTN from MSC H VLR H . Detection of the forwarded call at active signaling module indicates successful completion of the MO call testing for the simulated inbound roamer. In an embodiment of the present invention in order to avoid generation of CDR for the fake MO call active signaling module returns an ISUP REL message to MSC H VLR H .

Further host PMN operator may also test 3G MO call for its simulated inbound roamer coming from 3G supported roaming partner PMN . The call flow for testing 3G MO call is similar to the 2G MO call test for the simulated inbound roamer as explained above in conjunction with . However active signaling module also sends 3G parameters during the ITPI process in the ISUP IAM message to GMSC R the PRN and ISUP IAM messages from HLR R to MSC H VLR H and the ISUP IAM message on the FTN from MSC H VLR H to active signaling module .

Alternatively in another embodiment of the present invention host PMN applies an optimal routing technique to test MO call via call forwarding to the simulated inbound roamer. The process for testing MO call using optimal routing technique is same as normal testing of MO call as described above in conjunction with except that the optimal routing technique allows host PMN to perform the MO call testing within its own network. Therefore signaling messages ISD PRN PRN ACK IAM MSRN and IAM FTN are exchanged between active signaling module and MSC H VLR H . As explained earlier detection of the forwarded call i.e. ISUP IAM FTN at active signaling module confirms successful testing of the MO call. In an embodiment of the present invention PI module compares MO call test results generated from the testing done in and optimal routing technique. Using these results host PMN operator can identify issues related to its international connectivity to roaming partner PMN .

Host PMN operator can use the MO call test to ensure revenue assurance on MO calls and MT calls at any switch of roaming partner PMN for outbound roaming and at any switch of host PMN operator for inbound roaming. This is beneficial for host PMN operator as it can test new tariff changes e.g. due to regulation or new tariff on a network operator s its own network or roaming partner networks mediation and billing process after an initial TADIG testing at the establishment of roaming agreements. In this case CDR needs to be generated at the involved switch. PI module needs to have active ISUP signaling support in accordance with an embodiment of the present invention. This active ISUP signaling support is achieved by direct ISUP signaling between GMSC H and active signaling module . In this case PI module also has circuit trunk support in accordance with an embodiment of the present invention. Alternatively in another embodiment of the present invention circuit trunk support is achieved by ISUP loopback from GMSC H to active signaling module which need not have circuit trunk support. The creation of actual CDR also facilitates host PMN operator to identify which roaming partner network is compliant with Transferred Account Procedure TAP format.

Since MO call testing is essentially MT call testing with late call forwarding there are two legs of roaming charges for the simulated roaming subscriber. The first leg is an MT leg and the second leg is an MO leg which allows revenue assurance test for both MO and MT calls in one test. In an embodiment of the present invention PI module applies revenue assurance for only the MO leg when the optimal routing technique is applied for the inbound roaming tests. In this case host PMN operator may restrict its test to MO call only.

For outbound roaming tests calls are tested for FTNs that are known to host PMN operator. However for inbound roaming tests calls can be tested on any FTN as long as host PMN operator is able to route the call to PI module .

Alternatively in another embodiment of the present invention PI module tests MO call by the simulated outbound roamer using an FTN of a network other than host PMN . Such an FTN and network are hereinafter interchangeably referred to as non host FTN and non host PMN respectively. Even this embodiment assumes that an MT call on such an FTN is destined for active signaling module . Host PMN operator uses this case for revenue assurance as described earlier. The signal flow for testing MO call using non host FTN is similar to the MO call testing explained above in conjunction with except that the forwarded call is received at the non host PMN. Moreover active signaling module receives an ACM message and an ANM message from MSC R VLR R . Detection of the ACM and ANM messages at active signaling module confirms the successful testing of MO call. Active signaling module then returns a REL message to MSC R VLR R at some time instant i.e. configurable by host PMN operator in accordance with one embodiment of the present invention. Alternatively in another embodiment of the present invention active signaling module receives the REL message from MSC R VLR R .

Host PMN operator can also use the MO call test to provide revenue assurance for the simulated inbound roamer. represents a flow diagram for testing MO call by the simulated inbound roamer using a local number or a number of host PMN or a non host PMN number as the FTN destined for active signaling module in accordance with a second embodiment of the present invention. ITPI process and steps to of this embodiment is similar to the ITPI process and corresponding steps respectively explained earlier in conjunction with . Further active signaling module answers the forwarded call IAM FTN for a configurable time so as to get MT and MO roaming CDRs generated for outbound roaming and inbound roaming. Thus at step active signaling module issues an ISUP ACM message and an ISUP ANM message to MSC H VLR H . Additionally active signaling module issues an ISUP REL message to release the fake call on the FTN. The revenue assurance of 3G MO call is similar to the MO call testing explained above in conjunction with except that 3G parameters are also exchanged during the OTPI process and at steps and .

For roaming partner PMNs that have CAMEL support and CAMEL agreements with host PMN PI module can also perform CAMEL MO call and MT call testing. In an embodiment of the present invention PI module tests O CSI for CAMEL phase 1 and 2 and VT CSI for CAMEL phase 3 via MO call and MT call respectively. Depending on the CAMEL phase I or above PI module can also test CAMEL phase specific messages such as but not limited to Event Reports BCSM ERB Call Information Reports and online charging. For the sake of simplicity various embodiments of the present invention refer CAMEL support and CAMEL agreement as CAMEL agreement only.

In order to test CAMEL MO and MT calls PI module needs to first create fake profile for the simulated roaming subscriber at his MSC VLR location. Therefore in various embodiments of CAMEL MO and MT calls described below PI module performs the OTPI and IPTI processes for simulated outbound roamer and simulated inbound roamer respectively. Additionally in the OTPI and ITPI processes PI module also creates O CSI and VT CSI profile for MO and MT calls respectively with SCP or gsm SCF GT set to active signaling module . Thereafter PI module tests O CSI with MO call testing via call forwarding i.e. to the FTN of the MT call and tests VT CSI with MT call testing.

Furthermore CAMEL implementations or versions in some vendors VLRs have errors as discovered in the field. Although CAMEL profiles is created properly in such VLRs but CAMEL features are not supported as desired by these VLRs network operators. Hence CAMEL testing is essential to discover these problems. In an embodiment of the present invention for network operators that do not pass CAMEL tests host PMN operator applies Steering of Routing SoR techniques to dynamically move its outbound roamers to a network that supports CAMEL roaming.

Upon receiving the ISUP IAM MSRN message at MSC R VLR R MSC R VLR R initiates SearchMS procedure as described earlier. Moreover in case the simulated outbound roamer is a CAMEL enabled subscriber MSC R VLR R returns a CAP IDP message on the FTN to active signaling module prior to initiating the call forwarding via ISUP signaling at step . In an embodiment of the present invention the CAP IDP message reception informs PI module that the MT call is successful or call forwarding procedure is initiated. By doing so PI module detects whether the MO leg is troublesome. Further at step active signaling module issues a Continue message to MSC R VLR R in order to test successful MO call attempt on the simulated outbound roamer. At step MSC R VLR R returns a forwarded call ISUP IAM FTN to active signaling module . Finally at step in order to avoid generation of CDR for the simulated outbound roamer at MSC R VLR R active signaling module issues a REL message to MSC R VLR R . In an embodiment of the present invention for a successful MO call test PI module evaluates call setup duration by calculating the time difference between the issue of the ISUP IAM MSRN message and reception of the CAMEL IDP message.

Similarly host PMN operator can also test O CSI for CLI delivery from host PMN to roaming partner PMN . This case assumes that roaming partner PMN supports CAMEL roaming. The signal flow for testing O CSI for CLI delivery is similar to testing O CSI without CLI delivery explained above in conjunction with except that ISUP IAM MSRN IDP IMSI H FTN and ISUP IAM FTN messages are replaced with ISUP IAM A MSRN IDP A IMSI H B FTN and ISUP IAM A B FTN messages respectively where A is a calling party and B is an original called party. Since the CLI is guaranteed from host PMN to roaming partner PMN the CAP IDP message contains the information for calling party A.

Alternatively in another embodiment of the present invention host PMN operator tests O CSI using HLR based CLI solution. The signal flow for testing O CSI for HLR based CLI delivery is similar to testing O CSI for non HLR based CLI delivery explained earlier in the context of the present invention except that active signaling module sends the caller ID during the OTPI process instead of sending it in the ISUP IAM call to MSC R VLR R . In this case of HLR based CLI delivery a PRN message exchanged during the MO call testing contains the CLI. Moreover since the CAP IDP message or the forwarded call ISUP IAM contains the calling party A PI module tests PRN additional signal information support. In one embodiment of the present invention in case of CAMEL support and CAMEL agreement between host PMN and roaming partner PMN PRN additional signal information support is tested without relying on CLI delivery from roaming partner PMN to host PMN . In another embodiment of the present invention in case of absence of either CAMEL support at host PMN or roaming partner PMN or CAMEL agreement between host PMN and roaming partner PMN PRN additional signal information support is tested by relying on CLI delivery from roaming partner PMN to host PMN .

Further in case of absence of CAMEL support if the MT leg of the forwarded call in MO call test indicates correct redirection cause even though caller ID is absent host PMN operator infers that the MO leg from its network to roaming partner PMN has Quality of Service QoS issues on CLI delivery. In an embodiment of the present invention in case the MT leg is known to have CLI guarantee then the MO call testing results with no CLI in the MT leg indicates that the MO leg has CLI QoS issues whereas MT leg has no such issues. However in another embodiment of the present invention in case the MO leg is known to have CLI guarantee then the MO call testing results with no CLI in the MT leg indicates that the MT leg has CLI QoS issues. In this case PI module needs CAMEL support or PRN additional signal information support to test whether the MO leg has CLI QoS issues. Alternatively in case of lack of such support host PMN operator gathers information for different routes to determine which route has QoS and CLI issues using PI module . In an embodiment of the present invention active signaling module initiates plurality of calls on shared routes to different destinations including MSCs of the same country same networks etc. . In this way host PMN operator statistically gathers information for the route that is really losing CLI or introducing QoS issues. For example if destinations A and B share the same outgoing route from host PMN perspective then if call legs from destination A towards host PMN often delivers CLI and meets desired QoS whereas call legs from destination B does not deliver CLI and meets desired QoS then host PMN operator concludes that the B s route to host PMN is to be corrected.

In another embodiment of the present invention host PMN operator tests O CSI on the simulated outbound roamer using Connect operation. Even in this case PI module ensures that CDR is not generated for the simulated outbound roamer at any MSC VLR of a roaming partner network with which the O CSI test is performed. The signal flow for testing O CSI for CLI delivery using Connect operation is similar to testing O CSI using Continue operation explained above in conjunction with except that Continue and ISUP IAM FTN messages are replaced with a Connect message on a new number and an ISUP IAM message on the new number respectively. The new number can be any number including international numbers to host PMN or third countries i.e. other than host PMN and roaming partner PMN countries which can be used to test call barring SS or ODB as mentioned earlier. For example host PMN operator can test call barring to disallow calls to international numbers except host PMN by having CAP Connect to set the new number to a non host international number.

Furthermore host PMN operator can also perform O CSI testing for the simulated inbound roamer. represents a flow diagram for testing of O CSI on the simulated inbound roamer using Continue operation in accordance with a second embodiment of the present invention. Similar to testing of O CSI on the simulated inbound roamer PI module ensures that CDR is not generated for the simulated inbound roamer at any MSC VLR of a roaming partner network with which the O CSI test is performed. The process of setting FTN at MSC H VLR H is same as the ITPI process described earlier in the context of the present invention. Further the signal flow in steps to is same as signal flow explained earlier in steps to where active signaling module issues the fake call to GMSC R and thereafter standard signal flow for MT call follows. Since profile information for the simulated inbound roamer at MSC H VLR H is earlier updated with O CSI MSC H VLR H issues a CAP IDP message on the IMSI R to active signaling module at step . Finally at steps and active signaling module issues a Continue message to MSC H VLR H and MSC H VLR H returns an ISUP IAM on the FTN to active signaling module .

Alternatively in another embodiment of the present invention PI module tests O CSI on the simulated inbound roamer on Connect operation. The signal flow for this case is similar to signal flow explained above in conjunction with except that signaling messages Continue and ISUP IAM FTN are replaced with signaling messages Connect new number and ISUP IAM new number respectively.

In another embodiment of the present invention PI module tests VT CSI on the simulated outbound roamer using Connect operation. Even in this case PI module ensures that CDR is not generated for the simulated outbound roamer at any MSC VLR of a roaming partner network with which the VT CSI test is performed. The OTPI process in this case is same as the OTPI process explained above in conjunction with . Moreover the signal flow for testing VT CSI using Connect operation is similar to signal flow for testing VT CSI using Continue operation except that the Continue message is replaced with a Connect message on the new number. Additionally in the signal flow for the Connect operation MSC R VLR R issues an ISUP IAM on the new number to active signaling module and active signaling module then returns a REL message to MSC R VLR R .

Alternatively in another embodiment of the present invention PI module tests CAMEL MT call on the simulated inbound roamer using a Connect operation. Signal flow for the CAMEL MT call testing using Connect operation is similar to the signal flow for CAMEL MT call using Continue message as described above in the context of the present invention. However in case of testing using Connect operation upon receiving the IDP message from MSC H VLR H active signaling module issues a Connect message on the new number to MSC H VLR H and MSC H VLR H then returns an ISUP IAM message on the new number to active signaling module .

CAMEL protocol has a default handling mechanism that includes Continue call or Release call in CSI. The CSI e.g. O CSI profile on the simulated inbound roamer or simulated outbound roamer to a MSC VLR location of such roamer may contain default handling continue call or release call . In an embodiment of the present invention PI module uses the FTN of the roamer to perform CAMEL testing where the FTN is set as a number on which all calls are routed to active signaling module . represents a flow diagram for testing CAMEL release instruction on the simulated outbound roamer in accordance with an embodiment of the present invention. In this case signal flow for the OTPI process in steps to is same as the signal flow for the OTPI process explained earlier in conjunction with . Further when the CAP IDP message reaches active signaling module active signaling module can either returns a TCAP abort message or a time out message to MSC R VLR R in order to check whether the call is still received at active signaling module . In an embodiment of the present invention in case the call is received at active signaling module when the default handling is Continue call then the default handling on the Continue call is determined to be correct. In another embodiment of the present invention in case the call is not received at active signaling module when the default handling is Release call then the default handling on Release call is determined to be correct.

PI module can also verify the way MSC R VLR R responds to a Release instruction. Some network operators who enable Optimal Routing for Late Call Forwarding ORLCF use the CAMEL Release instruction to avoid call forwarding while capturing the forwarding condition and forwarded number from the CAMEL IDP message. In such a case GMSC R does not require a release cause which may not be transmitted over international carriers from MSC R VLR R and instead informs the OR LCF service control which in turn connects to the requested forwarded call that was captured from the CAMEL IDP message earlier. The objective of the CAMEL test performed is to identify whether the MSC R VLR R reacts quickly to the Release instruction. PI module can also modify the release cause provided in the CAMEL IDP message to evaluate its influence on the Release operation and the release cause transparency between host PMN and roaming partner PMN . At step active signaling module issues a CAP release message i.e. a first release message such as Release call with a release cause to MSC R VLR R . Finally at step MSC R VLR R returns an ISUP REL message i.e. a second release message to active signaling module with the release cause indicating successful testing of CAMEL default handling on Release call. In an embodiment of the present invention PI module determines the time duration between occurrences of steps and .

Furthermore host PMN operator can also test SS and ODB service such as call forwarding call barring and ODB for simulated inbound and outbound roamers. As described earlier PI module sets SS and or ODB at a MSC VLR location of the simulated roaming subscriber. Call forwarding test is already described earlier in various embodiments of MO call testing via call forwarding. represents a flow diagram of MO CB and ODB testing on any type of the simulated outbound roamer s FTN e.g. FTN may be a local number that belongs roaming partner PMN s country in accordance with a first embodiment of the present invention. In this case PI module tests whether CB and ODB for the FTN is successful. The OTPI process for testing MO CB and ODB is similar to the OTPI process for testing MO call explained earlier in conjunction with except that in case of MO CB and ODB active signaling module also sends CB and ODB parameters to MSC R VLR R . At step active signaling module issues an ISUP IAM message on the MSRN to MSC R VLR R . Although MSC R VLR R is updated with the FTN of the simulated outbound roamer however since MO CB and ODB is also set at MSC R VLR R MSC R VLR R issues a REL message to active signaling module at step . Detection of the REL message at PI module indicates a successful testing of MO CB and ODB irrespective of the type of FTN.

Similarly in another embodiment of the present invention PI module tests for MO CB and ODB on International Except Home ExHome . In other words this embodiment allows host PMN operator to test on non host international calls. The signal flow for testing MO Barring of Outgoing International Calls BOIC ExHome is similar to signal flow for testing MO CB and ODB as explained above in conjunction with except that the FTN in case of MO CB BOIC ExHome is a number that belongs to a country different from host PMN country. Moreover in case of MO CB BOIC ExHome active signaling module sends CB ODB BOIC ExHome instead of CB ODB to MSC R VLR R . Detection of the REL message at active signaling module indicates successful testing of MO CB BOIC ExHome. In yet another embodiment of the present invention PI module tests MO CB and ODB on host international calls. The signal flow for testing host international calls is similar to signal flow for testing non host international calls explained above in the context of the present invention except that in case of testing host international calls the FTN is of host PMN country. Moreover in case of testing on host international calls active signaling module receives an ISUP IAM FTN message instead of the REL message. In other words a successful testing for MO CB and ODB is detected at PI module when active signaling module receives ISUP IAM X FTN in response to ISUP IAM A MSRN where A is the calling party and X is also a calling party different from the calling party A.

Further in an embodiment of the present invention PI module tests whether MO CB and ODB on BOIC is successful. In this case PI module tests MO CB and ODB on a host FTN or an international FTN. When active signaling module issues ISUP IAM MSRN to MSC R VLR R MSC R VLR R returns REL message to active signaling module due to international barring of call forwarding to any international FTN. Detection of the REL message at active signaling module indicates a successful testing of MO CB and ODB on BOIC. Similarly in another embodiment of the present invention PI module tests MO CB and ODB on a local FTN that is known to host PMN operator. In this case when active signaling module initiates call ISUP IAM MSRN to MSC R VLR R then MSC R VLR R forwards the call to a switch of the local FTN. The switch then returns ISUP ACM and ANM messages to active signaling module via MSC R VLR R . Detection of the ACM and ANM messages at active signaling module indicates successful testing of the MO CB and ODB. In order to avoid charging for the fake call active signaling module issues a REL message to MSC R VLR R .

Furthermore PI module can also test MO CB and ODB on simulated inbound roamers from roaming partner PMN at any MSC VLR location of host PMN . represents a flow diagram of MO CB and ODB testing on any type of the simulated inbound roamer s FTN in accordance with a second embodiment of the present invention. In an embodiment of the present invention PI module tests whether CB and ODB to the FTN is successful. The ITPI process for testing MO CB and ODB is similar to the ITPI process for testing MO call explained earlier in conjunction with except that in case of MO CB and ODB active signaling module also sends CB and ODB parameters to MSC H VLR H . Moreover signal flow in steps to is same as signal flow in corresponding steps explained earlier in conjunction with where active signaling module initiates fake call to GMSC R and exchange of PRN PRN ACK and ISUP IAM MSRN occurs. MSC H VLR H then performs SearchMS operation to locate mobile station of the simulated inbound roamer as explained earlier in the context of the present invention. Finally at steps and active signaling module determines successful testing of MO CB and ODB upon receiving an ISUP REL message from MSC H VLR H via GMSC R .

Similarly in another embodiment of the present invention PI module tests for MO CB and ODB on call International Except Home ExHome for the simulated inbound roamer. In other words this embodiment allows host PMN operator to test on non host international calls. The signal flow for testing MO CB IC ExHome is similar to signal flow for testing MO CB and ODB explained above in conjunction with except that the FTN in case of MO CB IC ExHome is a number that belongs to a country different from host PMN country. Moreover in case of MO CB IC ExHome active signaling module sends CB ODB IC ExHome instead of CB ODB to MSC H VLR H . Detection of the REL message at active signaling module indicates successful testing of MO CB IC ExHome.

Furthermore in an embodiment of the present invention PI module tests MO CB and ODB on host international calls for the simulated inbound roamer. The signal flow for testing host international calls is similar to signal flow for testing non host international calls explained above in the context of the present invention except that in case of testing home international calls the FTN is of host PMN s country. Moreover in case of testing on host international calls active signaling module receives an ISUP IAM FTN message instead of the REL message. In other words successful testing of CB and ODB is detected at PI module when active signaling module receives ISUP IAM FTN directly from MSC H VLR H in response to ISUP IAM MSRN . In an embodiment of the present invention host PMN operator needs to set up specific routing rules e.g. based on number prefixes or ranges for the home international numbers in order to route the test calls i.e. IAM FTN in this case to active signaling module . Finally in order to avoid charging for the fake call active signaling module issues an ISUP REL message to MSC H VLR H .

Alternatively in another embodiment of the present invention host PMN operator tests MO CB and ODB on host international calls for the simulated inbound roamer using monitoring module i.e. when the host international FTN is not routed to active signaling module . The signal flow for testing MO CB and ODB using monitoring module is same as the signal flow for testing MO CB and ODB using active monitoring technique explained above in the context of the present invention except that ISUP IAM FTN and REL messages are exchanged between MSC H VLR H and GMSC R and also monitored by monitoring module . PI module detects successful testing of MO CB and ODB when monitoring module passively detects exchange of ISUP IAM FTN and REL messages.

Further host PMN operator may also test BOIC for the simulated inbound roamer. The signal flow for testing BOIC is similar to signal flow for testing MO CB and ODB explained above in conjunction with except that in case of BOIC the FTN is a host international number and CB ODB is replaced with CB ODB BOIC . Detection of an ISUP REL message at active signaling module in response to an ISUP IAM MSISDN R message indicates successful testing of BOIC. In another embodiment of the present invention PI module tests BOIC on a local FTN of the simulated inbound roamer. The signal flow for testing BOIC on the local FTN is similar to signal flow for testing MO IC ExH CB and ODB on the host international number using active signaling module as explained above in the context of the present invention. However in case of BOIC the FTN is a local number and CB ODB IC ExH is replaced with CB ODB BOIC . Detection of ISUP IAM FTN at active signaling module indicates successful testing of BOIC on the local FTN.

As described earlier host PMN operator can use the MO call testing to test various mechanisms of MT calls at any switch of roaming partner PMN for outbound roaming and at any switch of host PMN operator for inbound roaming. This is beneficial for host PMN operator as it can immediately stop an ongoing call of the simulated roaming subscriber when PI module identifies some reason to do so. The reasons include but are limited to prepaid fraud exceeding the threshold for long duration calls SIM box fraud and international revenue share fraud.

In order to test the mechanism supported at the MSC VLR active signaling module generates a fake MO call to the MSC VLR of the simulated roaming subscriber in accordance with an embodiment of the present invention. PI module then applies a technique to check whether the fake MO call is terminated by the mechanism at the MSC VLR.

As described above host PMN operator can apply a call termination mechanism for outbound roaming. represents a flow diagram of MO call testing on host FTN to test call termination for the simulated outbound roamer in accordance with a first embodiment of the present invention. The signal flow for OTPI process and for steps to is same as signal flow for OTPI process and corresponding steps respectively as explained earlier in conjunction with . Thereafter at step active signaling module issues a call termination message to MSC R VLR R so as to determine successful testing of MO call termination. The call termination message includes messages such as but not limited to Cancel Location IMSI H ISD IMSI H ODB CB DSD IMSI H BS and IST IMSI H where BS corresponds to Bearer Services. Detection of an acknowledgement message such as a Cancel Location ACK an ISD ACK a DSD ACK message and an IST ACK message from MSC R VLR R at active signaling module indicates successful termination of ongoing MO call for outbound roamer. In an embodiment of the present invention in order to reduce the cost of the fake call PI module maintains a time out clock that is used to terminate the call via ISUP REL operation after pre defined time duration i.e. configurable by host PMN operator . In this case active signaling module issues the ISUP REL message to MSC R VLR R upon detecting the time out period.

Similarly as described above host PMN operator can also apply a call termination mechanism for inbound roaming. represents a flow diagram of MO call testing on the host FTN so as to test call termination for the simulated inbound roamer in accordance with a second embodiment of the present invention. The signal flow for ITPI process and for steps to is same as signal flow for ITPI process and corresponding steps respectively explained earlier in conjunction with . Finally at step active signaling module issues the call termination message IMSI H is replaced with IMSI R to MSC H VLR H . Detection of the acknowledgement message in response to the call termination message indicates successful testing of ongoing MO call termination for inbound roamer.

PI module performs MT SMS testing by sending SMS to the simulated roaming subscriber at his MSC VLR location. Due to absence of mobile station and the concept of SMS forwarding such a test will only involve routing and expected behavior testing as described below in various MT SMS embodiments of the present invention.

As described earlier the usage of CAMEL protocol facilitates PI module to analyze the location of the issue when the MT SMS tests described above fails i.e. when active signaling module does not receive absent subscriber indication from the MSC VLR location of the simulated roaming subscriber. represents a flow diagram of CAMEL MT SMS testing to the simulated outbound roamer in accordance with an embodiment of the present invention. Similar to testing of CAMEL call related procedures explained above in various embodiments of the present invention PI module performs testing of CAMEL MT SMS. It will be apparent to a person skilled in the art that in case of MT SMS if a MSC VLR is CAMEL phase 4 compliant then such MSC VLR requires MT SMS CSI profile to enable CAMEL MT SMS procedure. The signal flow for OTPI process in this case is similar to signal flow for the OTPI process explained earlier in conjunction with except that active signaling module also sends MT SMS CSI profile of the simulated outbound roamer to MSC R VLR R .

At step active signaling module issues a MAP FwdSMS on the IMSI H to MSC R VLR R . Thereafter at step MSC R VLR R issues a CAP IDP message on the IMSI H to active signaling module before the mobile station of the simulated outbound roamer is paged. In an embodiment of the present invention PI module calculates the roaming subscriber s experience by evaluating the time elapsed between the issue of the MAP FwdSMS by active signaling module and receipt of the CAP IDP message at active signaling module . This roaming subscriber experience assessment is also applicable for the SMS interworking case described later in conjunction with . Moreover such experience assessment may also be useful when an SMS hub is used for enabling SMS exchange between network operators. Further at step active signaling module issues a Continue SMS operation to MSC R VLR R . This causes MSC R VLR R to start locating for the mobile station of the simulated outbound roamer using SearchMS operation as described earlier in the context of the present invention. Upon failing to locate the mobile station MSC R VLR R returns absent subscriber in an acknowledgement message for the MT SMS such as a MAP FwdSMS ACK message to active signaling module at step . Detection of the absent subscriber indication in the MAP FwdSMS ACK message at active signaling module confirms successful completion of the CAMEL MT SMS testing for outbound roamer.

Similar to testing of MT SMS PI module can also perform MO SMS testing by sending SMS on the simulated outbound roamer at his MSC VLR location. However in one embodiment of MO SMS testing PI module fakes the MSC VLR that the SMS is from a real SMSC of the simulated outbound roamer. Due to absence of mobile station and the concept of SMS forwarding such a test will only involve routing and expected behavior testing as described below in various MO SMS embodiments of the present invention.

In another embodiment of the present invention PI module tests MO SMS on the simulated outbound roamer at any MSC VLR location of roaming partner PMN where the simulated outbound roamer is selected from any IMSI of host PMN e.g. for Very Important Person VIP testing . Signal flow for the VIP MO SMS testing is same as the signal flow of normal MO SMS testing explained above in conjunction with except that in case of VIP MO SMS testing the error message detected at monitoring module could be but not limited to absent subscriber or unknown subscriber.

Furthermore in yet another embodiment of the present invention in order to avoid monitoring of roaming links for the outbound roaming MO SMS test active signaling module acts as a SMSC itself. In order to do so active signaling module sends MAP FwdSMS to MSC R VLR R with the SCCP CgPA as active signaling module GT. In this case detection of absent subscriber or unknown subscriber at active signaling module indicates successful testing of the MO SMS for outbound roamer.

Host PMN operator can also test MO SMS for simulated inbound roamers. represents a flow diagram of MO SMS testing on the simulated inbound roamer in accordance with a second embodiment of the present invention. The signal flow for ITPI process in this case is same as signal flow for the ITPI process explained earlier in conjunction with . At step active signaling module issues a MAP FwdSMS on the MSISDN R to SMSC R with the SCCP CgPA as active signaling module GT. In this case active signaling module pretends to be a MSC VLR location of the simulated inbound roamer. Thereafter at step SMSC R returns a success message such as a MO FwdSMS ACK message for the delivery of the MO SMS to active signaling module . Detection of the MO FwdSMS ACK message at active signaling module confirms successful testing of the MO SMS for inbound roamer.

Similarly in another embodiment of the present invention PI module tests routing of the MO SMS to real MSC H VLR H location of the simulated inbound roamer. The signal flow for ITPI process in the case is same as signal flow for the ITPI process explained earlier in conjunction with . Further active signaling module issues a MAP FwdSMS on the MSISDN R to SMSC R with the SCCP CgPA as real MSC H VLR H in order to test routing from MSC H VLR H to SMSC R for the simulated inbound roamer s MSISDN R. Detection of the FwdSMS ACK message at monitoring module confirms successful testing of the MO SMS for inbound roamer.

PI module performs SMS interworking testing by sending SMS to simulated subscribers located in their respective home locations. Host PMN operator is able to test SMS interworking using roaming partner networks test SIMs IMSIs that are exchanged with host PMN operator. In one embodiment of the present invention PI module sends an SMS to SMSC R by pretending to be from a subscriber of roaming partner PMN with a recipient number from host PMN so as to create an effect of SMS interworking from the subscriber of roaming partner PMN to host PMN s subscriber located in host PMN . In another embodiment of the present invention PI module sends an SMS to the simulated roaming subscriber in its host PMN country with a recipient number from roaming partner PMN so to create an effect of SMS interworking from a subscriber of host PMN to roaming partner PMN s subscriber.

Unlike MSC VLR where PI module can create and modify simulated profile an SGSN does not support such simulated profile creation and modification. In order to predict proper working of the SGSN PI module perform tests on the simulated roaming subscriber s SMS and GPRS routing in accordance with various embodiments described below in the context of the present invention. GPRS service includes testing of an MT SMS over GPRS an MO SMS over GPRS GPRS based SCCP routing and IP routing.

Similarly in another embodiment of the present invention PI module tests GPRS MO SMS from the simulated outbound roamer at SGSN R location. In this case active signaling module issues MO SMS over GPRS such as a MAP FwdSMS on any IMSI H to SGSN R with the SCCP CgPA as SMSC H GT. Thereafter SGSN R returns unknown subscriber indication in a MAP FwdSMS ACK message to SMSC H . Detection of such unknown subscriber indication at monitoring module i.e. by tapping roaming links confirms successful completion of the GPRS MO SMS testing for outbound roamer.

Although MO SMS mobility and GPRS CSIs can be tested at a VPMN side due to absence of the mobile station however host PMN operator may want to test an HPMN SCP side. In order to handle these cases PI module pretends to be a VPMN network element e.g. MSC VLR or SGSN with the CSI support. Particularly PI module uses both its active signaling module and monitoring module to test all these types of CSIs.

Similarly in another embodiment of the present invention PI module tests GPRS MO SMS from the simulated inbound roamer at SGSN H location. The signal flow for GPRS MO SMS testing at SGSN H location is same as signal flow explained above in conjunction with except that IMSI H and SGSN R are replaced with MSISDN R and SMSC R respectively and successful completion of GPRS MO SMS testing for inbound roamer is detected when an MT SMS confirmation message such as FwdSMS ACK message is received at active signaling module .

In yet another embodiment of the present invention PI module tests GPRS MO SMS from the simulated inbound roamer at any SGSN location of host PMN . In this case active signaling module issues a MAP FwdSMS on the MSISDN R to SMSC R with the SCCP CgPA as any SGSN H address and the SCCP CdPA as SMSC R . Detection of the successful FwdSMS ACK message exchange from SMSC R to the SGSN H address at monitoring module confirms successful testing of the GPRS MO SMS for inbound roamer.

Furthermore host PMN operator can test SCCP routing between its PMN and its roaming partner networks SGSNs. represents a flow diagram of SCCP route testing on the simulated outbound roamer between host PMN and SGSN R in accordance with an embodiment of the present invention. At step active signaling module issues a MAP Cancel Location IMSI H cancellation type message to SGSN R where cancellation type is set to subscription cancellation or update procedure i.e. to cancel the location at HLR H so as to force a new LUP later i.e. next time the mobile is in contact with SGSN R . Alternatively at step active signaling module issues a MAP ISD message or a MAP DSD message on the IMSI H to SGSN R . Thereafter at step active signaling module receives a Cancel Location ACK message or an unknown subscriber error indication in an ISD ACK DSD ACK message from SGSN R . Detection of the unknown subscriber indication or Cancel Location ACK message at active signaling module confirms successful testing of SCCP route between host PMN and SGSN R .

Similarly in another embodiment of the present invention PI module performs SCCP route testing on the simulated outbound roamer between HLR H and SGSN R . Signal flow in this case is same as signal flow explained above in conjunction with where Cancel Location ISD DSD and Cancel Location ACK ISD ACK DSD ACK messages are exchanged however in this embodiment of testing between HLR H and SGSN R active signaling module issues Cancel Location ISD DSD message to SGSN R with the SCCP CgPA set as HLR H of the IMSI H and thus Cancel Location ACK ISD ACK DSD ACK message is received at HLR H from SGSN R . Detection of Cancel Location ACK ISD ACK DSD ACK message with unknown subscriber indication at monitoring module confirms successful testing of SCCP route between HLR H and SGSN R .

Furthermore host PMN operator can test SCCP routing between its PMN and its roaming partner networks GGSNs. represents a flow diagram of SCCP route testing between host PMN and GGSN R in accordance with an embodiment of the present invention. At step active signaling module issues a mobile presence message such as a MAP Note MS Present GPRS message on the IMSI R to GGSN R by faking itself as an SGSN of host PMN and pretending itself as an HLR of roaming partner PMN when notifying GGSN R for the presence of IMSI R. Thereafter at step active signaling module receives an unknown subscriber error indication in a MAP Note MS Present GPRS ACK message from GGSN R . Detection of the unknown subscriber indication at active signaling module confirms successful testing of GPRS based SCCP route between host PMN and GGSN R .

Similarly in another embodiment of the present invention PI module performs SCCP route testing between SGSN H and SGSN R . Signal flow in this case is same as signal flow explained above in conjunction with where MAP Note MS Present GPRS and MAP Note MS Present GPRS ACK messages are exchanged. However in this embodiment of testing between SGSN H and SGSN R active signaling module issues MAP Note MS Present GPRS message on the IMSI R to GGSN R by faking the sender s IP address as SGSN H and pretending itself as an HLR of roaming partner PMN in order to notify GGSN R for IMSI R presence. Thus MAP Note MS Present GPRS ACK message is received at SGSN H from GGSN R . Detection of MAP Note MS Present GPRS ACK message with unknown subscriber indication at monitoring module confirms successful testing of SCCP route between SGSN H and SGSN R .

Further host PMN operator may test SCCP routing between its PMN and HLR R . represents a flow diagram of a GPRS LUP process for testing SCCP route between host PMN and HLR R of the IMSI R in accordance with an embodiment of the present invention. At step active signaling module issues a GPRS LUP message on the IMSI R to HLR R by faking HLR R that active signaling module is an SGSN of host PMN . Signal flow in steps to follows standard flow of GPRS LUP process where ISD ISD ACK and GPRS LUP ACK messages are exchanged. However in this embodiment these messages are exchanged between active signaling module instead of an SGSN and HLR R . Detection of GPRS profile exchange in the ISD message at active signaling module indicates successful testing of GPRS based SCCP routing between host PMN and HLR R .

Similarly in another embodiment of the present invention PI module initiates a GPRS LUP process to test SCCP routing between host PMN and HLR R of the IMSI R. The signal flow in this case is similar to signal flow explained above in conjunction with except that in this embodiment of testing between host PMN and HLR R active signaling module issues GPRS LUP message to HLR R with the SCCP CgPA as SGSN H . Therefore in this embodiment signaling messages ISD ISD ACK and GPRS LUP ACK are exchanged between active signaling module and HLR R . Detection of profile information in the ISD message at monitoring module i.e. by tapping roaming links indicates successful testing of SCCP routing between host PMN and HLR R .

Furthermore PI module can also test IP routing between host PMN and SGSN R . represents a flow diagram for testing IP route to SGSN R for the simulated outbound roamer in accordance with a first embodiment of the present invention. At step active signaling module issues a Protocol Data Unit PDU Notification request message on the IMSI H to SGSN R . Thereafter at step detection of unknown subscriber indication in a PDU notification acknowledgment message such as a PDU Notification response at active signaling module from SGSN R indicates successful testing of IP route to SGSN R .

Similarly in another embodiment of the present invention PI module tests IP routing for the simulated outbound roamer between GGSN H and SGSN R . Signal flow in this case is similar to signal flow explained above in conjunction with FIG. except that active signaling module sends PDU Notification request to SGSN R by faking a sender IP address as that of an GGSN of host PMN so that an acknowledgement such as a PDU Notification response with unknown subscriber indication from SGSN R is returned to GGSN H instead of active signaling module . Detection of unknown subscriber indication in the PDU Notification response at monitoring module indicates successful testing of IP route between GGSN H and SGSN R .

Furthermore PI module can also test IP routing for simulated inbound roamers. represents a flow diagram for testing IP route to GGSN R for the simulated inbound roamer in accordance with a second embodiment of the present invention. Signal flow in steps and is similar to signal flow for corresponding steps explained above in conjunction with except that in this embodiment a PDU Notification reject request and a PDU Notification reject response are exchanged between active signaling module and GGSN R instead of SGSN R . Detection of unknown subscriber indication in the PDU Notification reject response at active signaling module from GGSN R indicates successful testing of IP routing to GGSN R .

Similarly in another embodiment of the present invention PI module tests IP routing for the simulated inbound roamer from active signaling module to GGSN R . Signal flow in this case is similar to signal flow explained above in conjunction with except that active signaling module sends PDU Notification reject request to GGSN R by faking a sender IP address as an SGSN of host PMN so that a response such as PDU Notification reject response with unknown subscriber indication from GGSN R is returned to SGSN H instead of active signaling module . Detection of unknown subscriber indication in the PDU Notification reject response at monitoring module indicates successful testing of IP routing to GGSN R .

Since USSD services may be affected by a MAP version host PMN operator can test USSD bearer support availability at roaming partner PMN side in addition to testing of the MAP version associated with USSD services. Like SMS testing testing of USSD support involves routing and expected behavior testing due to lack of mobile station and the concept of USSD forwarding.

Further host PMN operator can also test USSD support on the simulated inbound roamer. In this case host PMN operator tests USSD service e.g. prepay account check of any known roaming partner PMN. The signal flow of the ITPI process in this case is same as the ITPI process as explained above in conjunction with . In one embodiment of the present invention PI module checks MAP version 1 MAPv1 for the USSD service by exchanging MAP Begin Subscriber Activity and MAP Begin Subscriber Activity ACK messages between active signaling module and HLR R . Detection of USSD data in the MAP Begin Subscriber Activity ACK message at active signaling module indicates successful testing of USSD service for the simulated inbound roamer. Similarly in another embodiment of the present invention PI module checks MAP version 2 MAPv2 for the USSD service by exchanging MAP Process USSD Request and MAP Process USSD Request ACK messages between active signaling module and HLR R . Detection of USSD string in the MAP Process USSD Request ACK message at active signaling module indicates successful testing of USSD service for the simulated inbound roamer.

Camel phase 3 and above versions allows a MSC VLR to respond to a home network s PSI request by paging the roamer for his current cell location. Therefore PI module can test the paging support on the simulated outbound roamer at any CAMEL phase 3 or above roaming partner PMN that has a CAMEL phase 3 agreement with host PMN . Various embodiments for testing PSI paging support assumes CAMEL phase 3 agreement between host PMN and roaming partner PMN operators.

Similar to PSI PI module can also test the location accuracy of the simulated outbound roamer. Signal flow in this case is similar to signal flow explained above in conjunction with except that PSI and PSI ACK messages are replaced with PSL and PSL ACK messages respectively.

Furthermore host PMN operator can perform route testing for voice quality CLI guarantee which is explained earlier latency e.g. how long the call takes to setup post dial delay testing i.e. from the time when ISUP IAM is issued or received to the time when ISUP ACM is received etc. In order to test the quality of a trunk route PI module initiates a call on an outgoing route for host PMN . In one embodiment of the present invention PI module uses a carrier selection e.g. ATT long distance or Begalcom long distance in an ISUP IAM message. In another embodiment of the present invention PI module uses a special prefix. Host PMN operator may configure GMSC H to do appropriate route selection based on these indicators.

In order to test voice quality active signaling module initiates a voice circuit completed on MO call first i.e. active signaling module issues ISUP ANM when the forwarded call of the MT call is received at active signaling module and then it plays via IVR a voice sample on one leg e.g. outgoing MT call leg of the test call and receives another voice sample on another leg e.g. incoming forwarded call leg . Thereafter PI module compares the original sample with samples of the MT call received on another port in order to test the voice quality.

Usually roaming subscriber experience is mainly dependent on Quality of Service QoS provided by international carriers. In various embodiments of the present invention PI module identifies the following parameters to assess and control the quality delivered by its international carriers call setup duration CLI transparency Originally Called Number OCN Redirecting Number RDN transparency identification of an international carrier for incoming calls Dual Tone Multi Frequency DTMF transparency and perceived Voice QoS.

Host PMN operator may want to estimate call setup durations to reach distant roaming partner networks from its own network. Similarly host PMN operator may want to estimate call setup duration from distant roaming partner networks to its own network. In an embodiment of the present invention these estimates are based on an MSRN or an MSISDN routing depending on the nature of an end destination i.e. a roamer or a local subscriber .

Since OCN RDN fields are optional in an ISUP protocol they may be lost when establishing international path between distant networks. Since such fields may be used to determine voice mail of a subscriber the absence of these fields in a call forwarding scenario may impact network operator s revenue. As shown in the OCN RDN test is successful when the ISUP IAM call on the FTN received at active signaling module contains OCN RDN fields. Similarly PI module can also test OCN RDN fields for inbound roamers.

In order to determine whether the OCN RDN is correctly transferred from host PMN to roaming partner PMN active signaling module initiates an MT call to the simulated outbound roamer including OCN RDN parameters. MSC R VLR R that is defined with CAP profile for the simulated outbound roamer indicates the OCN field in case of O CSI and OCN RDN in case of VT CSI.

Similarly in another embodiment of the present invention PI module tests OCN RDN transparency from host PMN to roaming partner PMN using VT CSI profile. Signal flow in this case is similar to signal flow for OCN RDN transparency using O CSI explained above in conjunction with except that during the OTPI process O CSI profile is replaced with VT CSI profile. Moreover active signaling module receives MSISDN A as the OCN and RDN parameters from MSC R VLR R .

Furthermore host PMN operator can determine a last leg of international carrier used to terminate MT calls from its distant roaming partner networks. In an embodiment of the present invention PI module determines an international carrier A as the last leg to terminate an MT call for the simulated roaming subscriber. Detection of OPC and CIC at active signaling module allows host PMN operator to determine the last leg of the international carrier as international carrier A. This information is relevant for host PMN operator s mobile to mobile interconnection agreement with a roaming partner PMN e.g. roaming partner PMN where both parties agree to use a single high quality international carrier to exchange their traffic.

Once PI module has initiated a call i.e. MT or MO using real ISUP circuit PI module can check for DTMF transparency. In this case PI module emits and listens to DTMF tone. Similarly PI module can also play voice samples on leg of the test call and evaluate the presence of echo delay etc. in these voice samples and compares the received voice sample from another leg of the call as mentioned earlier. Thereby PI module evaluates Mean Opinion Score MOS for these voice samples. Since PI module is based on a single operator testing approach i.e. host PMN operator in this case DTMF transparency and Voice QoS assessment is applied for both international legs.

Some international carriers provide false or early answer i.e. return ACM and ANM messages to learn connection revenue. Hence capturing such fraud cases will be beneficial to network operators. In an embodiment of the present invention PI module facilitates host PMN operator to detect such fraud.

Similarly in another embodiment of the present invention PI module detects fake answer fraud for the simulated inbound roamer. The signal flow of the OTPI process in this case is similar to the OTPI process explained above in conjunction with except that the OTPI process is performed between active signaling module and MSC R VLR R and active signaling module also sends FTN corresponding to IMSI R of the simulated inbound roamer to MSC R VLR R . Rest of the signal flow for fake answer fraud detection for simulated inbound roamer is similar to fake answer fraud detection for simulated outbound roamer as explained above in conjunction with except that active signaling module initiates an international call such as ISUP IAM call on the MSISDN R i.e. instead of the MSRN towards international carrier .

As mentioned above PI module detects SIM box frauds. SIM box fraud is used by rouge international transit carriers to bypass mobile termination revenue to a terminating mobile carrier. PI module detects SIM box frauds by detecting modifications in caller IDs associated with host PMN by the SIM box. represents a flow diagram for detecting SIM box frauds for international MO calls from roaming partner PMN on the simulated outbound roamer in accordance with an embodiment of the present invention. The signal flow of the OTPI process is same as the OTPI process explained above in conjunction with except that active signaling module also sends FTN profile to MSC R VLR R . In an embodiment of the present invention the FTN corresponds to active signaling module s number or MSISDN assigned by host PMN operator. At step active signaling module initiates a MT call by issuing an ISUP IAM call on the obtained MSRN to MSC R VLR R with the caller ID as A . In an embodiment of the present invention when MSC R VLR R receives this MT call request it initiates searchMS operation to search mobile station of the simulated outbound roamer. The operation fails to establish radio contact as there is no real mobile station associated with the simulated outbound roamer i.e. absent subscriber . However since call forwarding is set at MSC R VLR R MSC R VLR R directs this MT call to the FTN at step . Thereafter at step active signaling module receives forwarded MT call IAM FTN . In an embodiment of the present invention in case there is no SIM box then active signaling module receives the IAM FTN message with the caller ID A . In an another embodiment of the present invention if there is international SIM box then active signaling module receives the IAM FTN message with caller ID B different from the caller id A that was issued by active signaling module . Thereafter at step active signaling module issues REL message and PI module confirms detection of the SIM box since the caller ID got changed from A to B at step . Generally a majority of SIM boxes can be captured from mobile to mobile calls. Therefore this solution is expected to capture SIM boxes along the route of fixed line international calls from various countries.

In an embodiment of the present invention an additional indicator is used by PI module to improve the detection process of the SIM box. PI module uses a timing method to confirm the presence of the SIM box. The detection of SIM box by PI module on the basis of the change in the caller IDs is confirmed by a delay in receipt of the IAM message at PI module . This delay occurs due to two radio processes occurring because of the SIM box. The first process includes paging the SIM box and the other process includes establishing the call from the SIM box.

As detection of SIM box frauds depends on international carrier routing there may be situations when MSRN routing may fail and therefore the calls on the MSRN would not be monitored on the international ISUP roaming links. In an embodiment of the present invention the SIM box fraud is detected by having call forwarding via the MO call testing for the simulated outbound roamers and MT call testing for the simulated inbound roamers also include a range of MSRNs of host PMN to capture SIM box frauds which are activated only on a range of MSRN.

The SIM box fraud can be identified with the help of the detection method explained in conjunction with . In an embodiment of the present invention when PI module monitors PRN ACK MSRN exchanged at step by monitoring at roaming SCCP links via monitoring module and still monitors an absence of the IAM message at the ISUP roaming links PI module subsequently initiates a profile at roaming partner PMN for a VLR H GT close to HLR R s GT to prepare an international call back to PI module via call forwarding in order to identify the SIM box.

After the SIM box has been detected there are several ways to handle the SIM box. In one embodiment of the present invention the IMSI of the SIM box is de provisioned from HLR H . In another embodiment of the present invention upon detecting the SIM box the outgoing calls are barred by sending MAP ISD message to VLR H . This is done to reduce the legal disputes among the operators. In an embodiment of the present invention VLR H is identified from the mapping to the VMSC associated with the host network returned from a SRI SM message an HLR of the MSISDN of the SIM box. This mapping is easy to define as it belongs to host PMN . In an embodiment of the present invention the mapping is an identity mapping which does not require any database or storage to store the mapping. In another embodiment of the present invention VLR H and the VMSC associated with the host network have an interface to direct traffic based on the Subsystem Number SSN . Thus the MAP ISD message for call barring is sent to the VMSC with SSN set to indicate VLR H type e.g. 7 instead of 8 i.e. the VMSC type .

In another embodiment of the present invention active signaling module sends a Cancel Location message to terminate the calls. In yet another embodiment of the present invention active signaling module sends a DSD message to terminate the calls. In yet another embodiment of the present invention active signaling module initiates an IST message to terminate the calls.

In an embodiment of the present invention as mobile international calls share carriers with calls from fixed line phones PI module normally captures SIM box frauds on the calls originated from the fixed line phones via MSC routing. There may be situations when fixed line calls will never overlap with any MO international calls. In such a situation PI module initiates SIM box detection on the international calls access lines and completes the call so that DTMF can be sent to route the call back to host PMN . In an embodiment of the present invention for CAMEL outbound roamers PI module uses connect message to indicate carrier selection to force a particular route.

In an embodiment of the present invention PI module helps host PMN operator to detect SIM boxes at roaming partner PMN for MT calls to their outbound roamers and international calls at roaming partner PMN . This helps roaming partner PMN operator to increase the MT call revenue which in effect increases revenue for host PMN operator. PI module is able to detect SIM boxes on MT calls to outbound roamers and international calls when the CLI from roaming partner PMN is delivered back to host PMN or there is a CAMEL agreement between host PMN and roaming partner PMN .

In an embodiment of the present invention to detect the SIM box for MT calls to the outbound roamers PI module performs a MO call testing for the simulated outbound roamer at MSC R VLR R as described earlier in conjunction with . Since the testing is essentially an MT call via call forwarding back to PI module PI module receives a CLI and checks whether the received CLI belongs to roaming partner PMN . When the CLI belongs to roaming partner PMN a SIM box is discovered. In an embodiment of the present invention the CLI checking is done at the reception of the forwarded call back to PI module . In another embodiment of the present invention and as explained in the CLI testing is performed by obtaining CLI with the help of the CAMEL IDP trigger from GMSC R due to the call forwarding by the O CSI profile created at MSC H VLR H by PI module .

In an embodiment of the present invention to detect SIM box for international calls PI module creates a fake profile for IMSI R at MSC R VLR R . PI module further sets the call forwarding on IMSI R to PI module . Thereafter active signaling module initiates an international call to the IMSI R s MSISDN R. In response to the international call a forwarded MT call comes back to PI module . PI module obtains a CLI from the forwarded MT call and checks whether the received CLI belongs to roaming partner PMN . When the CLI belongs to roaming partner PMN a SIM box is discovered. In an embodiment of the present invention the CLI checking is done at the reception of the forwarded call back to PI module . In another embodiment of the present invention and as explained in the CLI testing is performed by obtaining CLI with the help of the CAMEL IDP trigger from GMSC R due to the call forwarding by the O CSI profile created at MSC R VLR R by PI module .

Many a times it is difficult to detect SIM boxes due to existence of intelligent SIM box defenders. The intelligent SIM box defenders recognize the special routed numbers used for detecting the SIM boxes. Upon recognizing these numbers the intelligent SIM box defenders bypass calls on these numbers and apply SIM box on other numbers and thus making detection of SIM boxes difficult. In an embodiment of the present invention to handle such intelligent SIM box defenders PI module uses an arbitrary or a predefined host PMN number for routing calls to host PMN . represents a signal flow diagram to handle intelligent SIM box defender in accordance with an embodiment of present invention. The signal flow of the OTPI process is same as the OTPI process explained above in conjunction with except that active signaling module also sends FTN profile to MSC R VLR R . In an embodiment of the present invention the FTN corresponds to a number associated with host PMN operator. At step active signaling module issues a MAP RegisterSS to HLR H in order to set a second FTN maybe predefined number for the first FTN. The predefined number is a number from the host network that has been configured to be route to active signaling module . Thereafter at step active signaling module issues an ISUP IAM call on the MSRN obtained during the OTPI process with a caller id A i.e. a first CLI to MSC R VLR R . In an embodiment of the present invention when MSC R VLR R receives the IAM message it initiates searchMS operation to search mobile station of the simulated outbound roamer. The operation fails to establish radio contact as there is no real mobile station associated with the simulated outbound roamer i.e. absent subscriber . However since call forwarding is set at MSC R VLR R MSC R VLR R sends the MT call on the FTN at step . Thereafter at step GMSC H sends MAP SRI to HLR H . HLR H further sends the second FTN for the first FTN as active signaling module s number with SRI ACK to GMSC H at step . Thereafter at step GMSC H forwards the IAM message to active signaling module with caller ID. In an embodiment of the present invention active signaling module receives A as the first CLI. In another embodiment of the present invention active signaling module receives B as a second CLI. PI module then correlates the received CLI with the issued CLI. When the received caller ID i.e. B is different from the issued CLI an intelligent SIM box is detected.

In an embodiment of the present invention PI module detects an On Net termination bypass or an On net SIM box and an Off Net Termination Incoming Bypass or an Off net SIM box . PI module correlates the caller ID of the incoming call with the original caller ID initiated by the PI module . In an embodiment of the present invention when the caller ID of the incoming call does not match with the original caller ID and the caller ID is associated with host PMN the On Net termination bypass is detected. In another embodiment of the present invention when the caller ID of the incoming call does not match with the original caller ID and the caller ID is associated with roaming partner PMN the Off Net Termination Incoming Bypass is detected. In this case roaming partner PMN and host PMN are in the same country.

In an embodiment of the present invention PI module detects an Off Net Termination Outgoing Bypass or an Off net outward SIM box for host PMN . represents a signal flow diagram to detect Off Net Termination Outgoing Bypass for host PMN in accordance with an embodiment of the present invention. shows a roaming partner PMN B different from roaming partner PMN . Host PMN uses Mobile Number Portability MNP and assigns an IMSI H with an MSISDN B. The signal flow of the OTPI process is same as the OTPI process explained above in conjunction with except that active signaling module also sends FTN profile to MSC R VLR R . In an embodiment of the present invention the FTN corresponds to a ported in MSISDN B from roaming partner PMN B assigned by host PMN operator. At step active signaling module ISUP IAM call on the MSRN obtained during the OTPI process with a caller id A to MSC R VLR R . In an embodiment of the present invention when MSC R VLR R receives the IAM message it initiates searchMS operation to search mobile station of the simulated outbound roamer. The operation fails to establish radio contact as there is no real mobile station associated with the simulated outbound roamer i.e. absent subscriber . However since call forwarding is set at MSC R VLR R MSC R VLR R sends the MT call on the FTN at step to a GMSC B associated with the roaming partner PMN B. Thereafter at step and GMSC B obtains PI module s number from HLR B by exchanging MAP SRI and MAP SRI ACK. Then at step GMSC B sends the IAM message to active signaling module . PI module correlates the caller ID of the incoming call with the original caller ID i.e. A initiated by the PI module . In an embodiment of the present invention when the caller ID of the incoming call does matches with the original caller ID the Off Net Termination Outgoing Bypass for host PMN is detected.

In another embodiment of the present invention PI module uses the FTN as a number of the roaming partner PMN B i.e. roaming partner PMN B s SIM to detect Off Net Termination Outgoing Bypass for host PMN . It will be apparent to a person of ordinary skill in the art that the call flow for this embodiment is similar to that explained in .

In yet another embodiment of the present invention PI module uses IMSI R to detect Off Net Termination Outgoing Bypass for host PMN . In an embodiment of the present invention the IMSI R is registered on the roaming partner PMN B s network and the FTN is set to active signaling module s number. In another embodiment of the present invention when there is an SS7 link between host PMN and roaming partner PMN B a profile is created at an MSC VLR associated with roaming partner PMN B and either the FTN is set to active signaling module s number or a CAMEL profile is created to obtain the caller ID to detect Off Net Termination Outgoing Bypass for host PMN .

Although known services of roaming partner networks can be tested based on Roaming Agreement EXchange RAEX AA.14 of these roaming partner networks however some of these roaming partner networks may offer some services that are not mentioned in AA.14. Moreover some of these unknown hidden services for their outbound or inbound roamers may affect host PMN operator s revenue and customer care. In one exemplary case if a roaming partner network operator provides a roaming home short code service it will help complete calls for roamers using their home short codes e.g. 411 directory service . In another exemplary case in case the roaming partner network operator provides a roaming misdialed number call correction service it might produce customer care issue for home operator as the returning subscriber might dispute the corrected call as different from his originally intended call. Therefore discovering or detecting such unknown hidden services facilitates host PMN operator to better explain prepare predict counter negative effects of these services and also control steering of its roamers to roaming partner networks based on these services. Various sections described below uses PI module to detect services implemented by roaming partner PMNs e.g. roaming partner PMN .

In an earlier approach as taught by the inventor in U.S. patent application Ser. No. 11 979 538 titled Method and system for providing roaming services to outbound roamers using home network Gateway Location Register filed on Nov. 5 2007 a method and system for using real roamer traffic to detect presence of a GLR at a roaming partner network i.e. for outbound roaming and a competitor VPMN is provided. This application which is incorporated herein in its entirety is hereinafter referred to as previous GLR filing. Various embodiments of the present invention mentioned in this section describe various techniques for using PI module to detect GLR presence at a roaming partner network for simulated roaming subscribers.

In another embodiment of the present invention PI module suspects the presence of the GLR R in roaming partner PMN when it detects that a CgPA of RSD message received at active signaling module is different from the CgPA of PRN ACK message received at active signaling module . In this case the PRN ACK message is received from VLR R 1 whereas RSD message is received from the GLR R. In yet another embodiment of the present invention in case PI module fails to detect a receipt of RSD message at active signaling module after sending PRN request on the IMSI H to VLR R 1 host PMN operator suspects the GLR R presence in roaming partner PMN . In this case PI module waits for the receipt of the RSD message for a pre defined time interval before suspecting presence of GLR R in roaming partner PMN . Also in an embodiment of the present invention monitoring module detects the receipt of this RSD message at some other network element i.e. GLR R in roaming partner PMN .

Similarly PI module can perform detection of GLR R presence for simulated outbound roamer with CAMEL support at VLR R 1 . represents a flow diagram for detecting a GLR R in roaming partner PMN with CAMEL support at VLR R 1 in accordance with a second embodiment of the present invention. The signal flow for steps to is similar to signal flow of corresponding steps explained above for detecting GLR R presence when CgPA of RSD message is different from CgPA of PRN ACK message. Alternatively the signal flow for detecting GLR R presence for simulated outbound roamer with CAMEL support is similar to signal flow when PI module fails to detect RSD message at active signaling module . However in the former case of CAMEL support active signaling module sends O CSI profile and FTN as additional profile information for the simulated outbound roamer in the ISD message to VLR R 1 via GLR R . In the latter case of CAMEL support GLR R issues only O CSI profile as additional profile information to VLR R 1 . Additionally in both these cases successful completion of RSD procedure confirms CAMEL support for host PMN s outbound roamers at VLR R 1 .

As described earlier failure to detect the receipt of RSD message at active signaling module after sending PRN request on the IMSI H to VLR R 1 only allows host PMN operator to suspect and not confirm the GLR R presence in roaming partner PMN . In order to avoid providing incorrect information to host PMN operator active signaling module waits to receive the RSD message for a pre defined time interval i.e. configurable by host PMN operator . Upon reaching the timeout period active signaling module issues a MAP RESET message towards roaming partner PMN so as to restart the profile creation procedure for the IMSI H. Detection of a new RSD message on the IMSI H with a CgPA different from CgPA of a new PRN ACK message at active signaling module confirms the presence of the GLR R in roaming partner PMN . Alternatively in case the CgPA of the RSD message is same as the CgPA of the new PRN ACK message absence of the GLR R is confirmed.

In one of the earlier approaches a method for inbound traffic steering for a VPMN is provided. The method is based on retaining the VPMN s departing roamer coming from an HPMN who has received a Cancel location message from his HPMN. represents a flow diagram for detecting inbound roaming SoR applied by roaming partner PMN on the simulated outbound roamers of host PMN in accordance with an embodiment of the present invention. Host PMN operator uses PI module to actively detect the usage of such mechanism. The signal flow of the OTPI process in this case is same as the OTPI process explained earlier in conjunction with . At step active signaling module issues a fake Cancel Location message on the IMSI H to MSC R VLR R in order to cancel the simulated outbound roamer s registration with roaming partner PMN . MSC R VLR R returns a Cancel Location ACK message to active signaling module at step . Thereafter at step active signaling module detects a LUP message on the IMSI H from an inbound TS module associated with roaming partner PMN . Since the simulated outbound roamer has no mobile associated with him receipt of the LUP message on the IMSI H from a network entity i.e. inbound TS module in this case other than PI module indicates the presence of SoR mechanism in roaming partner PMN . In an embodiment of the present invention active signaling module rejects the LUP attempt from inbound TS module so as to restrict the simulated outbound roamer to register with roaming partner PMN . Hence at step active signaling module returns an error message such as RNA or Roaming Restricted Due to Unsupported Feature RR in a LUP ACK message to inbound TS module . In another embodiment of the present invention active signaling module issues a LUP ACK message without error message to successfully complete the LUP process of the simulated outbound roamer at roaming partner PMN .

In some other existing techniques a VPMN operator is able to detect SoR by an HPMN operator on real inbound roamer traffic of the VPMN operator. Moreover using such techniques the VPMN operator is also able to detect the type of mechanism HPMN operator applies to steer the inbound roamers coming from the HPMN away from the VPMN. Various embodiments of the present invention allows host PMN i.e. VPMN in this case operator to detect SoR by roaming partner PMN i.e. HPMN in this case that steers host PMN s inbound roamers away from host PMN using the simulated inbound roamer profile. In this case active signaling module initiates fake LUPs on various class of roamer IMSIs e.g. IMSI R or a VIP IMSI towards HLR R or a SoR module in roaming partner PMN . In this case active signaling module acts as a VLR of host PMN . By sending fake LUPs towards roaming partner PMN PI module identifies the following based on the responses received at active signaling module from a network element in roaming partner PMN e.g. the SoR module 

In an embodiment of the present invention detection of roaming partner PMN s SoR also includes Mobile Country Code MCC Mobile Network Code MNC to CC NDC mapping which is a static file in GSMA s IR.21 format sent by roaming partner PMN to host network .

Optimal routing is a service that roamer partner PMN may use to connect its inbound roamers without letting the voice call trombone through host PMN . Although it improves the use of resources such a mechanism may impact host PMN operator s revenue and MT services it may otherwise offer to its outbound roamers e.g. prepay ring back tone free of charge voice mail deposit etc. . Thereby host PMN operator needs to check if its roaming partner PMN operator applies optimal routing on host PMN s outbound roamers in roaming partner PMN without host PMN operator s consent.

Thereafter active signaling module receives an MSRN R1 corresponding to the MSISDN H1 in an ISD ACK message from VLR R 1 . Similarly at step active signaling module issues a PRN request to retrieve an MSRN R2 corresponding to the MSISDN H2 to a VLR R 2 in roaming partner PMN . Additionally during the OTPI process at step active signaling module issues an ISD message to VLR R 2 where the ISD message includes the MSISDN H2 an IMSI H2 corresponding to the MSISDN H2 an FTN of the MSISDN H2 set to an MSISDN H3 i.e. a second FTN and VLR R 2 location of the second simulated roaming subscriber. MSISDN H3 is a special number that corresponds to active signaling module s number in accordance with an embodiment of the present invention. Further at step active signaling module initiates a first MT call such as an ISUP IAM on an MSRN R1 corresponding to the MSISDN H1 to VLR R 1 . Since VLR R 1 fails to locate the first simulated roaming subscriber it issues an SRI request on the MSISDN H2 since it is the FTN of the MSISDN H1 to an Optimal Routing OR module and then retrieves an MSRN R2 corresponding to the MSISDN H2 in an SRI ACK message from OR module at steps to . Signal flow for the retrieval of MSRN R2 follows standard MSRN retrieval process where OR module and VLR R 2 exchange PRN and PRN ACK messages. Thereafter at step VLR R 1 initiates an ISUP IAM call on the MSRN R2 to VLR R 2 . VLR R 2 then fails to locate mobile station for the second simulated roaming subscriber and thus it initiates a second MT call such as an ISUP IAM call on the MSISDN H3 to active signaling module at step . It will be apparent to a person skilled in the art that in case of successful call forwarding monitoring module detects an ISUP IAM call coming back to a GMSC of host PMN e.g. GMSC H . However in case of successful optimal routing the ISUP call on the second MSISDN does not transit through host PMN . Therefore detection of the ISUP IAM call on the MSISDN H3 without tromboning at active signaling module confirms the presence of OR service in roaming partner PMN .

Voicemail deposit or any other FTN as a result of a late call forwarding for an outbound roamer not answering calls out of coverage area paging no response busy etc. results in tromboning of two international legs for the outbound roamer. For this reason various network operators have deployed a solution for ORLCF.

In an embodiment of the present invention monitoring module monitors PRN PRN ACK and ISUP IAM A MSRN messages exchanged due to triggering of the MT call at GMSC H . When MSC R VLR R fails to locate mobile station for the simulated outbound roamer MSC R VLR R issues an ISUP IAM call on an FTN or releases the call if the ORLCF service has removed FTN or turned off call forwarding. In the first case where the forwarding on the FTN which may be PI module s number or a new FTN number is performed monitoring module observes an ISUP release message at the roaming links before receiving an ISUP IAM X PI at active signaling module . This detection allows host PMN operator to conclude successful testing of the ORLCF service.

In the above mentioned case of ORLCF testing monitoring module needs to detect exchange of PRN PRN ACK and ISUP IAM A MSRN and possibly ISUP IAM X FTN and ISUP REL messages at roaming signaling links. In an embodiment of the present invention host PMN operator configures GMSC H to route any call on the FTN i.e. PI module s number to active signaling module via ISUP signaling in order to avoid such probing of roaming signaling links. In this case active signaling module directly receives the ISUP IAM A FTN from GMSC H which indicates successful testing of ORLCF for the outbound roamers of host PMN .

In order to provide roaming services like GSM CAMEL GPRS 3G etc. a VPMN operator needs to have roaming agreements i.e. with a home network that support these services for inbound roamers from the home network. Such roaming agreements include standard GSM CAMEL GPRS 3G etc. However some home network operators do not check such an agreement when providing service profile i.e. in an ISD message to their outbound roamer s MSC VLR location in the VPMN that does not possess the roaming agreement on the type of service with the HPMN. This may result in various consequences for such HPMN and VPMN. In one exemplary consequence the VPMN may allow the outbound roamer of the HPMN to register and perform mobile activities e.g. MO MT call and SMS in the VPMN even when these two networks do not possess GSM agreement with each other. In this case the HPMN operator may not pay to the VPMN operator for the usage of the outbound roamer at the VPMN due to a lack of billing process for such a roamer. Even though the HPMN operator may have billed the outbound roamer by deducting balance from his prepaid account the HPMN operator may not be able to pay the VPMN operator since there is no corresponding retail process for the outbound roamer s usage. In another exemplary consequence the VPMN operator obtains some information for a service from the HPMN despite lack of an agreement on the required service. In one exemplary scenario the VPMN operator can perform the authentication on the outbound roamer of the HPMN despite lack of a GSM roaming agreement with the HPMN. In another exemplary scenario the VPMN operator determines CAMEL version support by the HPMN operator.

PI module can facilitate host PMN operator i.e. the VPMN operator in this case to identify the behavior of roaming partner PMN i.e. HPMN in this case on such a lack of service agreement. represents a flow diagram for detecting return of CAMEL profile for the simulated inbound roamer from roaming partner PMN even though host PMN lacks CAMEL roaming agreement with roaming partner PMN in accordance with an embodiment of the present invention. In this case active signaling module issues a fake LUP message on the simulated inbound roamer s IMSI R to HLR R along with any MSC VLR address of roaming partner PMN and fake CAMEL support indication at step . Thereafter at step active signaling module detects a receipt of CAMEL profile in an ISD message from HLR R . Detection of CAMEL profile information at active signaling module even though roaming partner PMN does not have CAMEL roaming agreement with host PMN confirms the testing of CAMEL profile return. Thereafter at steps and active signaling module exchanges ISD ACK and LUP ACK messages with HLR R . Similarly PI module can also detect return of other roaming profiles e.g. GSM profile GPRS profile 3G profile etc. for roaming agreements such as GSM GPRS 3G etc. Moreover PI module can also check if host PMN can obtain authentication information exchange from roaming partner PMN that does not have GSM agreement or GPRS agreement by performing fake authentication with HLR R .

Network extension is a service used by a roaming partner network operator sometimes called a sponsor network operator to extend its network virtually to include a client network operator sometimes called a sponsored network operator in the same or different country. This service allows the client network operator to piggyback on the roaming partner network s roaming relationships so that inbound roamers from an HPMN operator at the client operator appear to the HPMN operator as if they are at the roaming partner network. Network extension can affect the HPMN operator s SoR service as the HPMN operator is mislead that the outbound roamer is in the sponsor network i.e. roaming partner network although he actually is present in the client network. Moreover it can also introduce customer care issues for the HPMN operator as its outbound roamers can argue on their bill details which will suggest that calls originated or terminated at the sponsor network operator country where they did not visit.

In an embodiment of the present invention host PMN operator i.e. the HPMN operator in this case uses PI module to detect network extension of the client network operator to roaming partner PMN . The OTPI process for this case is same as the OTPI process explained earlier in conjunction with where active signaling module obtains MSRN and MSISDN H from MSC R VLR R . In this case if a CC NDC of the obtained MSRN corresponds to a first CC NDC is different from a CC NDC of MSC R VLR R corresponds to a second CC NDC roaming partner PMN identified by CC NDC of MSC R VLR R is considered to perform network extension for the client network operator identified by the CC NDC of the MSRN. In an embodiment of the present invention PI module detects network extension service of the client network that is located in a country different from roaming partner PMN s country. In this case PI module compares only CC of the MSRN with CC of MSC R VLR R instead of NDC. In an embodiment of the present invention PI module adds MSC R NLR R GT to a restricted list of network elements for network extension. By proactively initiating profiles for its roaming partner networks host PMN operator builds such a restricted list of network elements. PI module then uses this list to restrict any future registration attempt from any network element of the list.

Dual IMSI service is a service that the sponsor or roaming partner network operator uses to extend its roaming relationships to the client network operator so that outbound roamers of the client network operator in the HPMN operator appears to the HPMN operator as if the outbound roamers are from the sponsor roaming partner network. Dual IMSI service affects the HPMN operator s inbound roaming revenue as the client network s roamers is charged with the IOT of the sponsor roaming partner network.

In an embodiment of the present invention host PMN operator i.e. the HPMN operator in this case uses PI module to detect the dual IMSI service used by roaming partner PMN operator i.e. the sponsor network operator . For each IMSI provided by roaming partner PMN for testing PI module performs profile initiation on the simulated inbound roamer at a MSC VLR of host PMN . The ITPI process for this case is same as the ITPI process explained earlier in conjunction with where active signaling module obtains MSISDN R from MSC HIVLR H . In this case if a CC NDC of the obtained MSISDN R corresponds to a third CC NDC is different from a MCC MNC of the IMSI R corresponds to a fourth CC NDC PI module suspects presence of dual IMSI service in roaming partner PMN . In order to handle the dual IMSI service case where sponsor and client network operators belong to different countries PI module compares only CC of the MSISDN R with the CC of the IMSI R. Similar to network extension service detection PI module can add IMSI R prefixes to a restricted list of IMSIs for dual IMSI services. By proactively initiating profiles on the IMSIs of its roaming partner networks e.g. roaming partner PMN host PMN operator creates such a restricted list of IMSIs. PI module then uses this list to restrict any future registration attempts from any of these restricted IMSIs.

Furthermore some roaming partner networks add new network elements without host PMN operator s awareness. In an embodiment of the present invention active signaling module issues an SCCP UDT message to various network element in roaming partner PMN where SSN is either unknown or not used and return option as return on error. This can be used to check the presence of some new network elements correspond to third network elements that are not routable. PI module scans roaming partners network ranges to determine availability of a new network element. In order to detect unknown network elements PI module uses a UDT ping to see if there is an error response other than unroutable. Likewise to detect known network elements that got removed like MSC VLR PI module uses the UDT ping to se if there is an UDT response that indicates routable.

Some roaming partner networks also exchange IR.21 documents with ranges for various types of network elements e.g. 123456XY where X is 1 9 and Y is 0 8 without specifying the address that is actually being used by a network element. The ping service can be similarly used to periodically check the existence of such a network element against each address of the range. In case the address is discovered from ping as not used PI module excludes it from subsequent testing procedure for certain configurable duration i.e. defined by host PMN operator . In an embodiment of the present invention host PMN operator combines ping service with monitoring of roaming signaling links and TAP data to determine a MSC VLR or network element that actually exists.

SC and wrongly dialed digits correction SCA are roaming services that can improve call completion and hence roaming revenue. Detecting which roaming partner offer such a service can help host PMN operator to steer traffic towards such partner to increase roaming revenue. PI module detects whether roaming partner PMN operator provides SC SCA service. PI module can further detect whether an existing SC SCA service has a correct or an incorrect functioning.

In an embodiment of the present invention PI module detects absence of SC SCA at MSC R VLR R by setting up an FTN profile by active signaling module at MSC R VLR R with a known SC or wrongly dialed number. When an ISUP IAM call is made to the MSRN by active signaling module obtained by the OTPI process it results in receiving a REL message at active signaling module . This receipt of REL message at the active signaling module confirms the absence of SC SCA service at roaming partner PMN .

As said earlier PI module can further detect whether an existing SC SCA service has a correct or an incorrect functioning. represents flow diagram to detect functionality of SC SCA service for the simulated outbound roamer in accordance with an embodiment of the present invention. The signal flow of the OTPI process is same as the OTPI process explained above in conjunction with except that active signaling module also sends FTN profile to MSC R VLR R . In an embodiment of the present invention the FTN corresponds to a number Y for SC or wrongly dialed numbers. At step active signaling module issues an ISUP IAM call on the obtained MSRN to MSC R VLR R . In an embodiment of the present invention when MSC RNLR R receives the IAM message it initiates searchMS operation to search mobile station of the simulated outbound roamer. The operation fails to establish radio contact as there is no real mobile station associated with the simulated outbound roamer i.e. absent subscriber . However since call forwarding is set at MSC R VLR R MSC R VLR R sends the MT call on a new number Z at step . PI module upon receiving the IAM message correlates the received new number Z with the number Y set by PI module for the SC or wrong dialed numbers. If Y matches with Z then roaming partner PMN operator is suspected to provide a correct SC SCA service. In another embodiment of the present invention when Y does not match with Z . then roaming partner PMN operator is suspected to provide an incorrect SC SCA service. In yet another embodiment of the present invention when PI module does not receive the IAM message but receives the ACM ANM message then roaming partner PMN operator is suspected to provide an incorrect SC SCA service. Thereafter at step active signaling module issues REL message to MSC R VLR R in order to avoid generation of usage CDR.

IRS fraud FF. 17 is a well known subscription fraud in the telecommunication industry. A fraudster uses SIMs that are illegally procured to make calls to third country international premium numbers i.e. hereinafter referred to as IRS numbers that appears as ordinary telephone numbers to network operators. International Direct Dial IDD transit carriers provide short chained calls to some premium audio text services e.g. adult lines in order to share termination revenue between these transit carriers and premium audio text service providers. Although GSMA industry has proposed the implementation of Near Real Time Roaming Data Exchange NRTRDE i.e. in FF.18 by October 2008 however it is still not real time and it does not deal with fraud prevention.

Some roaming partner network operators provide a restricted dialing service on IRS numbers. Detecting roaming partner network operators that offer such a service can help host PMN operator to steer traffic towards such roaming partner networks so as to reduce roaming revenue loss. In an embodiment of the present invention host PMN operator uses PI module to detect absence or presence of an IRS control service in roaming partner PMN . represents a flow diagram for detecting absence of the IRS control service in roaming partner PMN in accordance with an embodiment of the present invention. The OTPI process for this case is similar to the OTPI process described earlier in conjunction with except that active signaling module also sends an IRS number as an FTN of the MSISDN H to MSC R VLR R . The IRS number is any existing IRS MSISDN known to host PMN operator in accordance with an embodiment of the present invention. Upon obtaining MSRN from MSC R VLR R active signaling module issues a fake ISUP IAM call on the MSRN to MSC R VLR R at step . Upon detecting a failure to locate mobile station associated with the simulated outbound roamer via SearchMS operation at step MSC R VLR R initiates an ISUP IAM call on the IRS number towards a network element other than active signaling module . Thereafter at step MSC R VLR R also issues ACM and ANM messages to active signaling module so as to answer the ongoing call on the IRS number. Detection of ACM and ANM messages at active signaling module indicates absence of the IRS service in roaming partner PMN . In order to avoid charging active signaling module issues ISUP REL and ISUP RLC messages to MSC R VLR R at step .

Similarly PI module can also detect presence of the IRS control service in roaming partner PMN . The signal flow for this case is similar to the signal flow for detecting the absence of the IRS control service explained above in conjunction with except that MSC R VLR R returns an ISUP REL message instead of ISUP IAM on the IRS number and ACM ANM messages to active signaling module . Detection of the ISUP REL message at active signaling module confirms the presence of the IRS service in roaming partner PMN .

Home routing is a service that a roaming partner network uses to route calls to non HPMN destination numbers via its own network first. The purpose of the service is often to gain the arbitrage between the call charge routed via the roaming partner network and the call charge routed directly to the destination number although sometimes this can also improve the QoS e.g. caller ID delivery and network monitoring and control . Another benefit for the roaming partner network operator i.e. HPMN or home operator in this case is to collect MT fees at the interconnect level for call that was originally not terminating within its network. For example although the destination is a fixed number that belongs to the HPMN country the HPMN operator may force the call to transit through its network. In this case the HPMN operator collects the MT fees although it is also charged with a fixed termination fee by the end point network. The home routing may occur for any local destination number for which the HPMN operator may realize an arbitrage on the local termination rates.

However home routing service can affect host PMN operator s inbound roaming revenue as roaming partner network s e.g. roaming partner PMN s roamers will be charged with the IOT of the call to the roaming partner network rather than to the actual destination number. The home routing pattern may also influence the charges incurred to the international carriers. It will be apparent to a person skilled in the art that international carrier service operators usually charge differently for mobile and fixed destinations.

Host PMN operator can use PI module to also facilitate the support of VIP services for host PMN s selected outbound roamers. represents a flow diagram for supporting a VIP service for the selected outbound roamers in any roaming partner network in accordance with an embodiment of the present invention. In this case those outbound roamers who are VIP subscribers of host PMN are the selected outbound roamers and they are hereinafter interchangeably referred to as VIP roamers. Rather than waiting for a VIP roamer s service problems to occur and report them at a MSC VLR location or an SGSN location of a roaming partner network host PMN operator uses PI module to proactively ensure proper functioning of the VIP roamer s services in all roaming partner networks of the VIP roamer s visited country even before they are used at these networks. This is achieved by firstly determining the VIP roamer s country and network location by monitoring the roaming links of the VIP roamer. Thus at step monitoring module detects the exchange of a GSM LUP message or a GPRS LUP message on an IMSI of the VIP roamer hereinafter referred to as IMSI VIP between MSC R VLR R and HLR H or SGSN R and HLR H respectively. PI module obtains MSC R VLR R or SGSN R as the VIP roamer s network location and roaming partner PMN s country i.e. from an MCC of the IMSI VIP as the VIP roamer s country from the monitored LUP message. It will be apparent to a person skilled in the art that network location and IMSI are usually exchanged during the LUP transaction.

Thereafter PI module uses the simulated outbound roamers to test various roaming services e.g. SS CAMEL call data SMS etc. in roaming partner PMN first and then all other networks in the same country. Hence at steps to active signaling module performs testing of these roaming services on a first simulated outbound roamer with various network elements shown in in roaming partner PMN . PI module allots an IMSI of the first simulated outbound roamer hereinafter referred to as IMSI H1 to perform testing of roaming services by exchanging signaling such as but not limited to SCCP MAP ISUP TN CAP and IP with the network elements in roaming partner PMN . Similarly at steps to active signaling module performs testing of these roaming services on a second simulated outbound roamer who is allotted an IMSI H2 by host PMN operator with various network elements such as an MSC VNVLR V an SGSN V an SMSC V a GGSN V and an HLR V in a visited network . Visited network can be any competitor network of roaming partner PMN located in roaming partner PMN s country. Similar tests can be performed with other visited networks that are located in roaming partner PMN s country.

Finally at step active signaling module aggregates the roaming services testing results and feeds this information into a SoR module of host PMN . In an embodiment of the present invention host PMN operator uses SoR module to perform steering of roaming traffic. For example SoR module can be used to retain inbound roamers of host PMN in its own network or to reject outbound roamers of host PMN to register with any competitor network of host PMN . In an embodiment of the present invention host PMN operator uses SoR module to reject registration attempt of the VIP roamer at a MSC VLR or an SGSN location of a network X when one or more network elements such as but not limited to the MSC VLR the SGSN an SMSC and an HLR in the network X or the network X itself is determined with some fault e.g. detection of absence of CAMEL roaming agreement between host PMN and this network X . Thereafter SoR module redirects the roaming traffic of such VIP roamer to an alternative network. For example in case the VIP roamer attempted to register at visited network which is determined to lack CAMEL agreement with host PMN i.e. using testing procedure explained above in conjunction with SoR module may direct the VIP roamer s traffic to a problem free network i.e. one that has CAMEL agreement with host PMN in this case like roaming partner PMN .

It will be apparent to a person skilled in the art that the present invention can also be applied to Code Division Multiple Access CDMA American National Standards Institute 41D ANSI 41D and various other technologies such as but not limited to VoIP WiFi 3GSM and inter standard roaming. In one exemplary case a CDMA outbound roamer travels with an HPMN CDMA handset. In another exemplary case the CDMA outbound roamer travels with an HPMN GSM SIM and a GSM handset. In yet another exemplary case GSM outbound roamer travels with an HPMN CDMA RUIM and a CDMA handset. To support these variations gateway and client will have a separate SS7 and network interfaces corresponding to both the HPMN and FPMN networks. It will also be apparent to a person skilled in the art that these two interfaces in different directions may not have to be the same technologies. Moreover there could be multiple types of interface in both directions.

An exemplary list of the mapping between GSM MAP and ANSI 41D is described in the table below as a reference.

The present invention provides a predictive intelligence solution for a host network that allows the host network to predict quality of services in roaming frauds in roaming roaming services and network capabilities of the host network and the roaming partner networks. Through such intelligence the hosting operator can more accurately places roamers e.g. via steering of roaming SoR at the right network location and apply the right service profiles at the right network location. For example for VIP high end roamers the present invention will help steering them in the functioning networks so revenue usage can be generated. Also ODB prepaid roamers can be registered with those networks where there are no camel agreements so to ensure there is no revenue loss due to ODB malfunctioning and yet at least generate the prepaid roaming MT revenue. The present invention helps the hosting operator to increase revenue reduce loss prevent fraud and improve customer experience and quality.

The present invention can take the form of an entirely hardware embodiment an entirely software embodiment or an embodiment containing both hardware and software elements. In accordance with an embodiment of the present invention software including but not limited to firmware resident software and microcode implements the invention.

Furthermore the invention can take the form of a computer program product accessible from a computer usable or computer readable medium providing program code for use by or in connection with a computer or any instruction execution system. For the purposes of this description a computer usable or computer readable medium can be any apparatus that can contain store communicate propagate or transport the program for use by or in connection with the instruction execution system apparatus or device.

The medium can be an electronic magnetic optical electromagnetic infrared or semiconductor system or apparatus or device or a propagation medium. Examples of a computer readable medium include a semiconductor or solid state memory magnetic tape a removable computer diskette a random access memory RAM a read only memory ROM a rigid magnetic disk and an optical disk. Current examples of optical disks include compact disk read only memory CDROM compact disk read write CD R W and Digital Versatile Disk DVD .

A computer usable medium provided herein includes a computer usable program code which when executed enables support of IN services for the outbound roamer of an HPMN by enabling a client that is coupled to the outbound roamer s mobile device based on observation of exchange of one or more parameters with a gateway. The client is enabled upon detecting a successful location update of the outbound roamer in a VPMN and by exchanging encapsulated IN messages with the gateway over one or more bearers. The gateway is deployed in the HPMN. Moreover the HPMN and the VPMN are unable to support either exchange of IN messages or an IN agreement. The computer program product further includes a computer usable program code for facilitating communication between the client and an HPMN service node or the client and an HPMN SCP via the gateway. The gateway facilitates communication by translating the encapsulated IN messages exchanged with the client in a protocol that is compatible with either the service node or the SCP. The computer program product further includes a computer usable program code for managing the outbound roamer s IN services using the gateway and one of the HPMN service node and the HPMN SCP by updating the outbound roamer s one or more traffic control conditions at the client based on recognition of the exchanged encapsulated IN messages.

The components of present system described above include any combination of computing components and devices operating together. The components of the present system can also be components or subsystems within a larger computer system or network. The present system components can also be coupled with any number of other components not shown such as other buses controllers memory devices and data input output devices in any number of combinations. In addition any number or combination of other processor based components may be carrying out the functions of the present system.

It should be noted that the various components disclosed herein may be described using computer aided design tools and or expressed or represented as data and or instructions embodied in various computer readable media in terms of their behavioral register transfer logic component transistor layout geometries and or other characteristics. Computer readable media in which such formatted data and or instructions may be embodied include but are not limited to non volatile storage media in various forms e.g. optical magnetic or semiconductor storage media and carrier waves that may be used to transfer such formatted data and or instructions through wireless optical or wired signaling media or any combination thereof.

Unless the context clearly requires otherwise throughout the description and the claims the words comprise comprising and the like are to be construed in an inclusive sense as opposed to an exclusive or exhaustive sense that is to say in a sense of including but may not be limited to. Words using the singular or plural number also include the plural or singular number respectively. Additionally the words herein hereunder above below and words of similar import refer to this application as a whole and not to any particular portions of this application. When the word or is used in reference to a list of two or more items it covers all of the following interpretations any of the items in the list all of the items in the list and any combination of the items in the list.

The above description of illustrated embodiments of the present system is not intended to be exhaustive or to limit the present system to the precise form disclosed. While specific embodiments of and examples for the present system are described herein for illustrative purposes various equivalent modifications are possible within the scope of the present system as those skilled in the art will recognize. The teachings of the present system provided herein can be applied to other processing systems and methods. They may not be limited to the systems and methods described above.

The elements and acts of the various embodiments described above can be combined to provide further embodiments. These and other changes can be made in light of the above detailed description.

Provided above for the edification of those of ordinary skill in the art and not as a limitation on the scope of the invention are detailed illustrations of a scheme for proactive roaming tests discoveries of roaming partner services and discoveries of frauds in roaming using simulated roaming traffic. Numerous variations and modifications within the spirit of the present invention will of course occur to those of ordinary skill in the art in view of the embodiments that have been disclosed. For example the present invention is implemented primarily from the point of view of GSM mobile networks as described in the embodiments. However the present invention may also be effectively implemented on GPRS 3G CDMA WCDMA WiMax etc. or any other network of common carrier telecommunications in which end users are normally configured to operate within a home network to which they normally subscribe but have the capability of also operating on other neighboring networks which may even be across international borders.

The examples under the system of present invention detailed in the illustrative examples contained herein are described using terms and constructs drawn largely from GSM mobile telephony infrastructure. However use of these examples should not be interpreted as limiting the invention to those media. The system and method can be of use and provided through any type of telecommunications medium including without limitation i any mobile telephony network including without limitation GSM 3GSM 3G CDMA WCDMA or GPRS satellite phones or other mobile telephone networks or systems ii any so called WiFi apparatus normally used in a home or subscribed network but also configured for use on a visited or non home or non accustomed network including apparatus not dedicated to telecommunications such as personal computers Palm type or Windows Mobile devices iii an entertainment console platform such as Sony Playstation PSP or other apparatus that are capable of sending and receiving telecommunications over home or non home networks or even iv fixed line devices made for receiving communications but capable of deployment in numerous locations while preserving a persistent subscriber id such as the eye2eye devices from Dlink or telecommunications equipment meant for voice over IP communications such as those provided by Vonage or Packet8.

In describing certain embodiments of the system under the present invention this specification follows the path of a telecommunications call from a calling party to a called party. For the avoidance of doubt such a call can be a normal voice call in which the subscriber telecommunications equipment is also capable of visual audiovisual or motion picture display. Alternatively those devices or calls can be for text video pictures or other communicated data.

In the foregoing specification specific embodiments of the present invention have been described. However one of ordinary skill in the art will appreciate that various modifications and changes can be made without departing from the scope of the present invention as set forth in the claims below. Accordingly the specification and the figures are to be regarded in an illustrative rather than a restrictive sense and all such modifications are intended to be included within the scope of present invention. The benefits advantages solutions to problems and any element s that may cause any benefit advantage or solution to occur or to become more pronounced are not to be construed as a critical required or essential feature or element of any or all of the claims.

