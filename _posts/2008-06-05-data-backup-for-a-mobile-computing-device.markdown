---

title: Data backup for a mobile computing device
abstract: A system and method of backing up a data file from a mobile computing device is disclosed. The method can include receiving a data file from the mobile computing device at a server computer and storing the data file on a storage device. The method can include receiving data indicative of changes made to the data file on the mobile computing device. The method can further include changing the data file stored on the storage device based on the data indicative of changes made to the data file on the mobile computing device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08812614&OS=08812614&RS=08812614
owner: QUALCOMM Incorporated
number: 08812614
owner_city: San Diego
owner_country: US
publication_date: 20080605
---
Users of mobile computing devices such as mobile phones smartphones and personal digital assistants store various types of data on the devices. Contact information calendar appointments and web browser favorites may all be stored on mobile computing devices. This data is also updated from time to time by a user or other data sources with new data.

Data backup systems allow data from one computing device to be backed up to a secondary memory device such as a portable hard drive server computer digital versatile disc or other memory device. The backed up data can then be restored to the same device in the event of data loss or to a new computing device in the case of the user acquiring a replacement or upgraded device.

Described herein are various exemplary embodiments of systems and methods for backing up data from a mobile computing device. Some embodiments may reduce the amount of data and or the number of backup data files being stored at a server which makes the embodiments more scalable for backing up large numbers of devices and reduces the use of network bandwidth to backup the data. Some embodiments may reduce the amount of data being transmitted from the mobile computing device to the server. Some embodiments may reduce the number of restore cycles needed to restore a backed up data file to a mobile computing device which may also reduce power consumption on the mobile computing device. Some embodiment minimize interference or blocking of the user s use of the mobile computing device by scheduling backup transmissions during predetermined times of the day and by minimizing the quantity of data being backed up.

The teachings herein extend to those embodiments that fall within the scope of the appended claims regardless of whether they accomplish one or more of the above mentioned exemplary advantages.

Referring to a mobile computing device is shown from various angles according to an exemplary embodiment. is a front view of device is a rear view of device are side views of device and are top and bottom views of device . The device may be any type of communications or computing device e.g. a cellular phone other mobile device digital media player e.g. audio or audio video personal digital assistant etc. .

Device may be a smart phone which is a combination mobile telephone and handheld computer having personal digital assistant PDA functionality. The teachings herein can be applied to other mobile computing devices e.g. a laptop computer or other electronic devices e.g. a desktop personal computer etc. . PDA functionality can comprise one or more of personal information management database functions word processing spreadsheets voice memo recording location based services device backup and lock media playing internet browsing etc. and is configured to synchronize personal information or user data e.g. contacts e mail calendar notes to do list web browser favorites etc. from one or more applications with a computer e.g. desktop laptop server etc. . Device is further configured to receive and operate additional applications provided to device after manufacture e.g. via wired or wireless download Secure Digital card etc.

Device may be a handheld computer e.g. a computer small enough to be carried in a typical front pocket found in a pair of pants or other similar pocket comprising such devices as typical mobile telephones and PDAs but the term handheld and the phrase configured to be held in a hand during use excluding typical laptop computers and tablet personal computers PCs for purposes of this disclosure. In alternative embodiments the teachings herein may extend to laptop computers tablet PCs desktop PCS and other electronic devices. The various input devices and other parts of device as described below may be positioned anywhere on device e.g. the front side of the rear side of the sides of etc. .

Device includes various user input devices therein. For example the user input devices may include a send button usable to select options appearing on display and or send messages a 5 way navigator usable to navigate through options appearing on display a power end button usable to select options appearing on display and to turn on display a phone button usable to access a phone application screen a calendar button usable to access a calendar application screen a messaging button usable to access a messaging application screen e.g. e mail text Multimedia Messaging Service MMS etc. an applications button usable to access a screen showing available applications a thumb keyboard which includes a phone dial pad usable to dial during a phone application a volume button usable to adjust the volume of audio output of device a customizable button which a user may customize to perform various functions a ringer switch usable to switch the device from one mode to another mode such as switching from a normal ringer mode to a meeting ringer mode and a touch screen display usable to select control options displayed on display .

Device also includes various audio circuits. The audio circuits may include phone speaker usable to listen to information in a normal phone mode external speaker louder than the phone speaker e.g. for listening to music for a speakerphone mode etc. headset jack to which a user can attach an external headset which may include a speaker and or a microphone and a microphone that can be used to pick up audio information such as the user s end of a conversation during a phone call.

Device may also include a status indicator that can be used to indicate the status of device such as messages pending charging low battery etc. a stylus slot for receiving a stylus usable to input data on touch screen display a digital camera usable to capture images a mirror positioned proximate camera such that a user may view themselves in mirror when taking a picture of themselves using camera a removable battery and a connector which can be used to connect device to either or both an external power supply such as a wall outlet or battery charger or an external device such as a personal computer a global positioning system GPS unit a display unit or some other external device.

Device may also include an expansion slot that may be used to receive a memory card and or a device which communicates data through slot and a Subscriber Identity Module SIM card slot located behind battery configured to receive a SIM card or other card that allows the user to access a cellular network.

In various embodiments device may include a housing . Housing may be configured to retain or secure a screen in a fixed relationship above a plurality of user input devices in a substantially parallel or same plane. A fixed relationship may exclude a hinged or movable relationship between the screen and plurality of keys in the fixed embodiment though hinged or movable relationships may be used in other embodiments.

Housing could be any size shape and dimension. In some embodiments housing has a width shorter dimension of no more than about 200 mm or no more than about 100 mm. According to some of these embodiments housing has a width of no more than about 85 mm or no more than about 65 mm. According to some embodiments housing has a width of at least about 30 mm or at least about 50 mm. According to some of these embodiments housing has a width of at least about 55 mm.

In some embodiments housing has a length longer dimension of no more than about 200 mm or no more than about 150 mm. According to some of these embodiments housing has a length of no more than about 135 mm or no more than about 125 mm. According to some embodiments housing has a length of at least about 70 mm or at least about 100 mm. According to some of these embodiments housing has a length of at least about 110 mm.

In some embodiments housing has a thickness smallest dimension of no more than about 150 mm or no more than about 50 mm. According to some of these embodiments housing has a thickness of no more than about 30 mm or no more than about 25 mm. According to some embodiments housing has a thickness of at least about 10 mm or at least about 15 mm. According to some of these embodiments housing has a thickness of at least about 50 mm. According to some embodiments housing has a thickness of 11 mm or less.

In some embodiments housing has a volume of up to about 2500 cubic centimeters and or up to about 1500 cubic centimeters. In some of these embodiments housing has a volume of up to about 1000 cubic centimeters and or up to about 600 cubic centimeters.

Device may include an antenna system for transmitting and or receiving radio frequency signals. Each transceiver of device may include individual antennas or may include a common antenna . The antenna system may include or be implemented as one or more internal antennas and or external antennas.

While described with regards to a handheld device many embodiments are usable with portable devices which are not handheld and or with non portable devices systems.

Device may provide voice communications functionality in accordance with different types of cellular radiotelephone systems. Examples of cellular radiotelephone systems may include Code Division Multiple Access CDMA cellular radiotelephone communication systems Global System for Mobile Communications GSM cellular radiotelephone systems etc.

In addition to voice communications functionality device may be configured to provide data communications functionality in accordance with different types of cellular radiotelephone systems. Examples of cellular radiotelephone systems offering data communications services may include GSM with General Packet Radio Service GPRS systems GSM GPRS CDMA 1xRTT 1 times Radio Transmission Technology systems Enhanced Data Rates for Global Evolution EDGE systems Evolution Data Only or Evolution Data Optimized EV DO systems etc.

Device may be configured to provide voice and or data communications functionality through wireless access points WAPs in accordance with different types of wireless network systems. A wireless access point may comprise any one or more components of a wireless site used by device to create a wireless network system that connects to a wired infrastructure such as a wireless transceiver cell tower base station router cables servers or other components depending on the system architecture. Examples of wireless network systems may further include a wireless local area network WLAN system wireless metropolitan area network WMAN system wireless wide area network WWAN system e.g. a cellular network and so forth. Examples of suitable wireless network systems offering data communication services may include the Institute of Electrical and Electronics Engineers IEEE 802.xx series of protocols such as the IEEE 802.11a b g n series of standard protocols and variants also referred to as WiFi the IEEE 802.16 series of standard protocols and variants also referred to as WiMAX the IEEE 802.20 series of standard protocols and variants a wireless personal area network PAN system such as a Bluetooth system operating in accordance with the Bluetooth Special Interest Group SIG series of protocols.

As shown in the embodiment of device comprises a processing circuit which may comprise a dual processor architecture including a host processor and a radio processor e.g. a base band processor or modem . Host processor and radio processor may be configured to communicate with each other using an interface such as one or more universal serial bus USB interfaces micro USB interfaces universal asynchronous receiver transmitter UART interfaces general purpose input output GPIO interfaces control status lines control data lines shared memory and so forth.

Host processor may be configured to execute various computer programs e.g. software firmware or other code such as application programs and system programs to provide computing and processing operations for device . Radio processor may be responsible for performing various voice and data communications operations for device such as transmitting and receiving voice and data information over one or more wireless communications channels. Although embodiments of the dual processor architecture may be described as comprising host processor and radio processor for purposes of illustration the dual processor architecture of device may comprise one processor more than two processors may be implemented as a dual or multi core chip with both host processor and radio processor on a single chip etc. Alternatively a single processor or multiple processors may perform the functions of host processor and radio processor such as a single unified processor that handles host and radio functions or other multiprocessor topologies which do not rely on the concept of a host. Alternatively processing circuit may comprise any digital and or analog circuit elements comprising discrete and or solid state components suitable for use with the embodiments disclosed herein.

In various embodiments host processor may be implemented as a host central processing unit CPU using any suitable processor or logic device such as a general purpose processor. Host processor may comprise or be implemented as a chip multiprocessor CMP dedicated processor embedded processor media processor input output I O processor co processor field programmable gate array FPGA programmable logic device PLD or other processing device in alternative embodiments.

Host processor may be configured to provide processing or computing resources to device . For example host processor may be responsible for executing various computer programs such as application programs and system programs to provide computing and processing operations for device . Examples of application programs may include for example a telephone application voicemail application e mail application instant message IM application short message service SMS application multimedia message service MMS application web browser application personal information manager PIM application e.g. contact management application calendar application scheduling application task management application web site favorites or bookmarks notes application etc. word processing application spreadsheet application database application video player application audio player application multimedia player application digital camera application video camera application media management application a gaming application and so forth. The application software may provide a graphical user interface GUI to communicate information between device and a user. The computer programs may be stored as firmware on a memory associated with processor may be loaded by a manufacturer during a process of manufacturing device and may be updated from time to time via wired or wireless communication.

System programs assist in the running of a computer system. System programs may be directly responsible for controlling integrating and managing the individual hardware components of the computer system. Examples of system programs may include for example an operating system OS a kernel device drivers programming tools utility programs software libraries an application programming interface API a GUI and so forth. Device may utilize any suitable OS in accordance with the described embodiments such as a Palm OS Palm OS Cobalt Microsoft Windows OS Microsoft Windows CE Microsoft Pocket PC Microsoft Mobile Symbian OS Embedix OS any Linux distribution Binary Run time Environment for Wireless BREW OS JavaOS a Wireless Application Protocol WAP OS and so forth.

Device may comprise a memory coupled to host processor . In various embodiments memory may be configured to store one or more computer programs to be executed by host processor . Memory may be implemented using any machine readable or computer readable media capable of storing data such as volatile memory or non volatile memory removable or non removable memory erasable or non erasable memory writeable or re writeable memory and so forth. Examples of machine readable storage media may include without limitation random access memory RAM dynamic RAM DRAM Double Data Rate DRAM DDRAM synchronous DRAM SDRAM static RAM SRAM read only memory ROM programmable ROM PROM erasable programmable ROM EPROM electrically erasable programmable ROM EEPROM flash memory e.g. NOR or NAND flash memory or any other type of media suitable for storing information.

Although memory is shown as being separate from host processor for purposes of illustration in various embodiments some portion or the entire memory may be included on the same integrated circuit as host processor . Alternatively some portion or the entire memory may be disposed on an integrated circuit or other medium e.g. hard disk drive external to the integrated circuit of host processor . In various embodiments device may comprise a memory port or expansion slot shown in to support a multimedia and or memory card for example. Processing circuit may use memory port or expansion slot to read and or write to a removable memory card having memory for example to determine whether a memory card is present in port or slot to determine an amount of available memory on the memory card to store subscribed content or other data or files on the memory card etc.

Device may comprise a user input device coupled to the host processor . User input device may comprise for example a alphanumeric numeric or QWERTY key layout and an integrated number dial pad. Device also may comprise various keys buttons and switches such as for example input keys preset and programmable hot keys left and right action buttons a navigation button such as a multidirectional navigation button phone send and power end buttons preset and programmable shortcut buttons a volume rocker switch a ringer on off switch having a vibrate mode a keypad and so forth. Examples of such objects are shown in as 5 way navigator power end button phone button calendar button messaging button applications button thumb keyboard volume button customizable button and ringer switch .

The host processor may be coupled to display . Display may comprise any suitable visual interface for displaying content to a user of device . For example display may be implemented by a liquid crystal display LCD such as a touch sensitive color e.g. 16 bit color thin film transistor TFT LCD screen. In some embodiments the touch sensitive LCD may be used with a stylus and or a handwriting recognizer program.

Device may comprise an I O interface coupled to the host processor . I O interface may comprise one or more I O devices such as a serial connection port an infrared port integrated Bluetooth wireless capability and or integrated 802.11x WiFi wireless capability to enable wired e.g. USB cable and or wireless connection to a local computer system such as a PC or a remote computer system such as a computer server. In various implementations device may be configured to transfer and or synchronize information with the local computer system such as personal information management data stored in one or more databases in memory .

Host processor may be coupled to various audio video A V devices that support A V capability of device . Examples of A V devices may include for example a microphone one or more speakers an audio port to connect an audio headset an audio coder decoder codec an audio player a digital camera a video camera a video codec a video player and so forth.

Host processor may be coupled to a power supply configured to supply and manage power to the elements of device . In various exemplary embodiments power supply may be implemented by a rechargeable battery such as a removable and rechargeable lithium ion battery to provide direct current DC power and or an alternating current AC adapter to draw power from a standard AC main power supply.

As mentioned above radio processor may perform voice and or data communication operations for device . For example radio processor may be configured to communicate voice information and or data information over one or more assigned frequency bands of a wireless communication channel. Radio processor may be implemented as a communications processor using any suitable processor or logic device such as a modem processor or baseband processor. Radio processor may comprise or be implemented as a digital signal processor DSP a media access control MAC processor or any other type of communications processor in accordance with the described embodiments. Radio processor may be any of a plurality of modems manufactured by Qualcomm Inc. or other manufacturers.

Device may comprise a transceiver coupled to radio processor . Transceiver may comprise one or more transceivers configured to communicate using different types of protocols communication ranges operating power requirements RF sub bands information types e.g. voice or data use scenarios applications and so forth. For example transceiver may comprise a Wi Fi transceiver and a cellular or WAN transceiver configured to operate simultaneously.

Transceiver may be implemented using one or more chips as desired for a given implementation. Although transceiver is shown as being separate from and external to radio processor for purposes of illustration in various embodiments some portion or the entire transceiver may be included on the same integrated circuit as radio processor .

Device may comprise an antenna or antenna system for transmitting and or receiving electrical signals. As shown antenna system may be coupled to radio processor through transceiver . Radio tower and server are shown as examples of potential objects configured to receive a signal from antenna system .

Device may comprise a memory coupled to radio processor . Memory may be implemented using any type of memory described with reference to memory . Although memory is shown as being separate from and external to radio processor for purposes of illustration in various embodiments some portion or the entire memory may be included on the same integrated circuit as radio processor . Further host processor and radio processor may share a single memory.

Device may comprise a SIM coupled to radio processor . SIM may comprise for example a removable or non removable smart card configured to encrypt voice and data transmissions and to store user specific data for allowing a voice or data communications network to identify and authenticate the user. SIM also may store data such as personal settings specific to the user.

Device may comprise an I O interface coupled to the radio processor . I O interface may comprise one or more I O devices to enable wired e.g. serial cable etc. and or wireless e.g. WiFi short range etc. communication between device and one or more external computer systems.

In various embodiments device may comprise location or position determination capabilities. Device may employ one or more position determination techniques including for example GPS techniques Cell Global Identity CGI techniques CGI including timing advance TA techniques Enhanced Forward Link Trilateration EFLT techniques Time Difference of Arrival TDOA techniques Angle of Arrival AOA techniques Advanced Forward Link Trilateration AFTL techniques Observed Time Difference of Arrival OTDOA Enhanced Observed Time Difference EOTD techniques Assisted GPS AGPS techniques hybrid techniques e.g. GPS CGI AGPS CGI GPS AFTL or AGPS AFTL for CDMA networks GPS EOTD or AGPS EOTD for GSM GPRS networks GPS OTDOA or AGPS OTDOA for UMTS networks etc.

In various embodiments device may comprise dedicated hardware circuits or structures or a combination of dedicated hardware and associated software to support position determination. For example transceiver and antenna system may comprise GPS receiver or transceiver hardware and one or more associated antennas coupled to radio processor to support position determination.

Host processor may comprise and or implement at least one location based service LBS application. In general the LBS application may comprise any type of client application executed by host processor such as a GPS application configured to communicate position requests e.g. requests for position fixes and position responses. Examples of LBS applications include without limitation wireless emergency services roadside assistance asset tracking fleet management friends and family locator services dating services and navigation services which may provide the user with maps directions routing traffic updates mass transit schedules information regarding local points of interest POI such as restaurants hotels landmarks and entertainment venues and other types of LBS services in accordance with the described embodiments.

Radio processor may be configured to generate a position fix by configuring a position engine and requesting a position fix. For example a position engine interface on radio processor may set configuration parameters that control the position determination process. Examples of configuration parameters may include without limitation location determination mode e.g. standalone Mobile Station assisted Mobile Station based actual or estimated number of position fixes e.g. single position fix series of position fixes request position assist data without a position fix time interval between position fixes Quality of Service QoS values optimization parameters e.g. optimized for speed accuracy or payload Position Determination Entity address e.g. IP address and port number of LPS or MPC etc. In one embodiment the position engine may be implemented as a QUALCOMM gpsOne engine.

Referring now to an exemplary system and method for backing up data from a mobile computing device will be described. The steps of may be operable by one or more modules of a mobile computing device having one or more data files to be backed up. The data file may be any block of data or resource for storing data. In a simple form the data file may be a sequence of binary digits. The data file may comprise one or more data records or lines which may be individually different but share a common characteristic. The data file may be a text file an image file an executable file a database file or other file type.

According to one exemplary embodiment the data file has a database file type and comprises a database of user data stored on mobile computing device . The user data may comprise one or more of contacts stored by a contacts application e.g. whether local to device or operable from a website such as an account on www.gmail.com . calendar appointments stored by a calendar application internet resource locators or web favorites stored by a web browser application data from other personal information management PIM applications such as a notes application or memo application downloaded user data such as stock quotes and weather data data from a social networking web site or application e.g. www.facebook.com www.linkedin.com etc. data stored from an application downloaded after manufacture to device e.g. a game an image editing program etc. or other user data. Other data files may also be backed up either as part of the database of user data or as separate files such as word processing files spreadsheet files portable document format .pdf files etc. The database may comprise any data that can be stored in a database format such as a relational database such as a relational database that can be queried using a structured query language SQL and or created using a software library which implements a SQL database engine such as SQLite. The database filename may comprise a database extension such as .db3. Any data which is not backed up using one or more of the methods described herein may be backed up using other backup methods in some embodiments.

Device may be configured to store the data file in memory and or for example as firmware. Device may further be configured to operate a data backup application configured to perform functions relating to backup of the data file to a backup storage device e.g. server which would include any memory or storage used by server a digital versatile disc a portable external hard drive etc. . For example the data backup application may be configured to receive user inputs indicative of backup preferences such as which backup method to implement on which data files. Backup methods may comprise any of a number of backup methods such as a full plus incremental backup in which device is configured to first transmit a full backup of substantially all of the data file or files to the backup storage device after which subsequent backup operations transmit update data files e.g. comprising one or more entire records of a data file a data block of a data file or other data indicative of changes in the data file since the immediately prior backup transmission whether full or incremental. For a restore operation this method requires downloading the full backup file along with all of the incremental backup files to restore the data file.

The backup method may be a full plus differential backup in which after a full backup of the data file subsequent backup operations transmit update data files indicative of changes in the data file since the last full data backup. For a restore operation this method requires downloading the full backup file along with the last downloaded differential backup file to restore the data file.

Other backup methods may be a simple file copy or backing up or logging every change to the data file so that the user can return in a time machine fashion to an earlier point in operation of the device.

Other user inputs to the backup application may be indicative of which of certain data files or folders of files to backup or to not backup the time of day and other information regarding the period frequency or predetermined time of backups the desired backup storage device username and or password data and or other user inputs. For example the backup application may be configured to backup data once per day less than three times per day etc.

As shown at step device may be configured to transmit a data file to server . The data file may comprise substantially all of the data in the data file as stored on device which may be compressed or uncompressed encrypted or unencrypted or otherwise processed prior to transmission. Server operations will be described in greater detail with reference to below. Device may then be configured to receive and store changes or updates to the data file step such as data additions data deletions data edits etc. made to data blocks records or other portions of the data file. The changes or updates may be received from a user typing in the update from an application making a change based on certain predetermined conditions by synchronization operations with other computers via wired or wireless communications or by other methods of receiving updated or changed data. Device is configured to change or update the data file to create a changed or updated data file. Device may further be configured to store an indication that a change or update has occurred to the data file.

At a predetermined time for example as set by a user manufacturer or wireless carrier associated with device device is configured to determine whether a change or update has occurred since a previous backup transmission or operation e.g. whether a full backup transmission update data transmission etc. and if so to transmit data indicative of the changes made to the data file to server . The data indicative of the changes may comprise indications of one or more of data added data deleted new data records etc. since a previous backup of the data file to server . The data indicative of the changes may be the data changes in any format data files comprising the changes compressed and or encrypted data indicative of the changes data converted to another format based on the changes or other data indicative of the changes. The predetermined time may be periodic and may be set and or stored by a scheduler module which may be part of a backup application operable on device . For example the predetermined time may be midnight after 10 PM before 6 AM etc. Device may be configured to determine whether a change or update has occurred by checking a change indication bit or byte stored in memory e.g. non volatile memory by checking a version number of a data file or by another process. If a change has occurred device is configured to extract the changes or update data e.g. substantially all of the changes made a portion of the changes made etc. from the data file compress the update data to form a compressed file of update data and transmit the update data in the form of a compressed file to server step using the wireless transceiver. Compression may be done using a ZIP compression or other compression algorithm. In one example each record of the update data is exported in a JSON parsed format and serialized into an XML which is then passed through a GZIP stream for compression. JSON is a JavaScript Object Notation which is a text based human readable format for representing data structures and associative arrays. GZIP is an application for compressing a file short for GNU zip. The compressed data is then sent to server .

The transmitted data is indicative of changes made to the data file on device and may be in any of a plurality of forms such as the updated data blocks or records themselves e.g. only data blocks or records within the data file which have been updated or changed since a previous backup transmission a compressed form of the updated data blocks or records encrypted converted to a database file format or otherwise processed. The update data transmission may comprise an incremental data file a differential data file a delta data file etc. to indicate changes made to the data file on device . The preceding steps may be repeated serially or in parallel for different data files to be backed up e.g. one or more databases of user data data files for other applications etc. .

Referring now to a more detailed flowchart for extracting data changes from a data file or database will be described according to an exemplary embodiment. Processing circuit may be configured to perform one or more of the steps described in by way of an algorithm program or other code operable on processing circuit . At step a backup process or job is invoked or initiated by the scheduler module. At step a current modification number which may be similar to a version number of a file of the device s database of user data is compared to a modification number stored during a previous backup or synchronization operation and if the same no modifications have been made so the process proceeds to step . The modification number may be stored within the database as a persistent column. The modification number may be incremented upon a first change to the data or schema of the database file since a previous backup operation. At step the last modification number is stored and the next backup job is scheduled.

If the device modification number has changed at step at step the process determines whether there are any schema changes to the database file e.g. new tables reorganization of tables new or changed file system etc. . To identify any changes to the schema a listener or observer object which may be operated within a media application may be configured to monitor edits to the database and identify any file changes. Alternatively a metadata snapshot of the file system of the database may be stored and compared to snapshots of the metadata associated with subsequent modification numbers. If there are schema changes the schema changes are extracted and serialized for backup. At step if there are no more schema changes to be extracted the process determines whether there are any changes to data within the database. If so at step the process extracts and serializes changes for every table within the database having changes. At step any schema changes and or data changes are backed up to the server. The process then proceeds to step to store the modification number associated with the version of the data which has now been backed up. The next backup job is scheduled and the process then returns to other processing.

Referring now to an exemplary system and method for backing up data from a mobile computing device will be described. The steps of may be operable by one or more modules of server which may be operated by one or more entities. For example one or more modules may be operated by a wireless service carrier associated with device while other modules may operated by a manufacturer of device while other modules may be operated by other third parties. Server may be configured to receive a data file from device step . A receiving module on server may be configured to authenticate the transmission identify an account associated with the transmission based on data within the transmission e.g. username password etc. decrypt data within the transmission and or apply other processing steps. Server may be configured to lookup a desired backup storage device or location based on a user preference stored along with a user account on server . Server may be configured to store the data file in the backup storage device step . The data file may be a full copy or of the data file or whole data file.

Server is configured to receive data indicative of changes made to the data file on the mobile computing device step as described hereinabove. Server may be configured to inflate or uncompress the data if it has been compressed by device decrypt the data if it has been encrypted and or provide other processing steps on the data as shown in greater detail in below.

Server is configured to change the data file stored in step by server which as described may be stored in any of a number of different storage devices associated with or part of server based on the data indicative of changes made to the data file on device step . Server stores the changed updated data file based on the data file stored in step as changed by the update data received in the transmission or message in step . Server may then be configured to delete some or all of the update data received in step to conserve storage space on the storage device.

Server may be configured to change the data file stored by server in any of a number of ways. For example server may be configured to change the data file such that the data file stored by server is substantially identical or compatible at a binary level to the data file stored on the mobile computing device from which the data file and data indicative of changes was determined. After the change to the data file is stored by server the data files on device and server may be the same substantially the same substantially the same at a binary or bit level have the same file type or extension such as a database file format comprise substantially the same content and or otherwise both represent or incorporate the data indicative of changes made to the data file on device . Server may be configured to apply the update data to the data file stored on server to create an updated or changed data file stored by server . The data files stored on device and server may comprise compressed data including or indicative of changes made to user data using a plurality of different applications e.g. calendar contacts e mails etc. 

Referring now to a method of backing up data from device will be described according to an exemplary embodiment. Server may be configured to perform one or more of the steps described in by way of an algorithm program or other code operable on a processing circuit associated therewith. At step data indicative of changes to the data file on device is received from device by server . At step if the data file has not previously been backed up from this mobile computing device at step a new data file or database is created. If the data file has previously been backed up from this device at step the previously backed up database file is retrieved from memory and decrypted. At step for each data file received from device any schema changes are applied to the database stored by server step and any data changes are applied step for example using a DML Data Manipulation Language such as SQL to retrieve insert delete and update data in the database. At step the updated data files or databases are compressed encrypted and stored in a storage location which may be on server or part of another device.

According to one embodiment server is configured to maintain an updated copy of the data file based on the update data received from device such that a duplicate copy of the data file on device is created and stored on the storage device associated with server . Advantageously during a subsequent restore operation of the data file to device or a different mobile computing device server is configured to download the updated data file without the need to also download incremental or differential data files because the updated data file already represents any data updates from backup transmissions.

According to one exemplary scenario a user wishes to add user data from a web based account to a mobile computing device. The user synchronizes the device with the web based account through a wireless network to a server operating the account. The synchronization step downloads 100 contacts 100 calendar entries and 100 memos and stores them in a user data database on the device for use by contacts calendar and memo applications respectively on the device. The device backs up the database at a predetermined time or in response to a user request to a backup server by transmitting the database to the server which stores the database in a storage device. The next day the user adds five contacts deletes three calendar entries and modifies five memos. At midnight that night the device establishes communication with the backup server takes the fifteen records which have been edited and sends them to the server. The server applies the changes to its copy of the database. The server now has a copy of the same database file that the device has. If the user has also installed a new application the application files may also be backed up to the server before during or after the backup of the database of user data. If the application stores data in the database those changes may be backed up as with the contacts calendar entries and memos described above. If a user changes data associated with the application e.g. metadata user interface preferences etc. these changes may be extracted in a similar manner to the contacts calendar entries and memos and backed up to a copy of the application files stored by the server.

Referring now to a block diagram of a backup and restore system will be described. Portions of the block diagram of may be implemented using one or more of the methods and devices described above. The system comprises a device and a server comprising an account services server a backup server and a storage device . Servers and and storage device may be separate computing devices or modules of a single computing device or each may comprise multiple computing devices in various embodiments. Device is configured to store data files comprising a database of user data and other data files . Device is configured to extract changes made to the data files and to provide data indicative of the changes to a communication module . Storage device may comprise a local memory on server a separate storage device over a network connection from server a third party online storage service such as Amazon S3 Simple Storage Service provided by Amazon Web Services of Amazon.com Inc. Seattle Wash. etc. and may be remote from the device e.g. at a server location separated from device by a wireless connection etc. . Storage device may be operated by a manufacturer of device or by another party.

Communication module may be configured to communicate with a communication module on server and or a communication module on server using any of the communication methods described herein e.g. cellular IEEE 802.11x etc. . Modules and may be synchronization modules configured to facilitate synchronization of data between device and server . More specifically modules and may be configured to communicate using a markup language such as a SyncML Synchronization Markup Language standard. Modules and may be configured to synchronize data from applications e.g. contacts calendar e mail tex messages push e mail etc. and may further be used for backup and or restore operations such as those described herein. Advantageously modules and may be configured in response to an interruption in a synchronization of a file to cease synchronization and or resume synchronization without starting at the beginning of the file being synchronized. For example synchronization after an interruption may resume substantially at the point in the file where the interruption occurred. The interruption may be caused by a loss of a communication signal another process e.g. a phone call using the communication signal used for synchronization etc.

Module may be configured to communicate with servers and using an OMA DM Open Mobile Alliance for Device Management or OMA DS Open Mobil Alliance for Device Synchronization communication or synchronization protocol. OMA DM and OMA DS protocols may use a markup language such as XML Extensible Markup Language or a SyncML markup language. These protocols may use any data transport layer such as a wired layer e.g. USB RS 232 etc. or wireless layer GSM CDMA IrDA Bluetooth etc. and may be implemented over any of a wireless application protocol WAP HTTP Object Exchange OBEX or other transports. These protocols may use a request response message exchange method in which a requester sends a request message to a replier system which receives and replies to the request with a response message. These protocols may use authentication and or security on server side and or device side e.g. which may be a mutual authentication to identify the senders of each message. These protocols may initiate a communication session from a server which may occur asynchronously and may use WAP push SMS or other messaging systems. These protocols may initiate a communication with a notification or alert message from server to device or vice versa to notify the other of a desire to establish a communication session. These protocols may be configured to enable communications among more than two devices. While this exemplary embodiment is described with reference to OMA DM and OMA DS protocols other protocols e.g. using a Transmission Control Protocol TCP or other protocol having one or more of the characteristics described above or other characteristics may be used.

According to one exemplary embodiment device may configured as a master to one or more devices on the server side such as backup server . Module and module may be configured in a manner that module wins e.g. a client win configuration any discrepancy in synchronized data between device and server . According to another exemplary embodiment communications described herein may transfer binary data using an extension of an OMA protocol that generically supports any data type rather than an extension configured to handle a certain specific data type.

In response to a request message from device to server server is configured to authenticate the request message and identify a user account associated with device before changing the data file stored on storage device . Server may be configured to establish an account receive a user request for a backup service process payment etc. Server may further be configured to communicate with backup server .

Referring to a flowchart of a method of authentication is described according to an exemplary embodiment. Device account services server and or backup server may be configured to perform one or more of the steps described in by way of an algorithm program or other code operable on processing circuits associated therewith. Authentication may be carried out using an OMA DS authentication process. At step device sends a request for authentication to backup server . At step if device is known to backup server the process proceeds to step at which step information from the backed up database is retrieved and compared to credentials of device . If the credentials match authentication is a success step . If the credentials do not match authentication is a failure step and backup does not proceed.

At step if the user or device are not known to backup server this is a first time backup for user and or device and the process proceeds to step at which backup server authenticates using an account services server . Device must have previously registered an identity or account with account services server for server to be able to verify credentials in step which may come from backup server after server determines this is a first time backup . After step if backup server succeeds in verifying the credentials of device with account services server at step an authentication success is determined and processing proceeds to step .

At step if authentication is a success server stores the user data and last access time in a database for subsequent compare steps i.e. subsequent steps and or and proceeds with backup operations as described herein.

During a backup operation module is configured at the predetermined period e.g. once per day etc. to query database and or files to determine whether any changes have been made to the data stored therein. If data has been changed module is configured to establish a communication session with module as described above. Module is then configured to extract the changes from database and or files compress the complete file if a first or full backup or data indicative of changes if a subsequent update backup operation and transmit the data files and or data indicative of changes to the data files to module .

Module under control of a processor or data processor is configured to receive the backup data from module and identify any full data files corresponding to received data indicative of updates. Any corresponding full data file is retrieved from storage device and decrypted and decompressed at a storage services module so that it may be edited. Data processor is then configured to receive the data indicative of changes from module decompress the data and apply the data indicative of changes to the full data file. The updated or changed data file is then compressed and encrypted by module and returned to storage device .

After updating module is configured to send a message to module indicating that updating has been completed. In response to this or based on other circumstances device is configured to mark or identify a point in time indicating when or which data has been backed up and or applied to the data file stored on the server side e.g. in storage device . At the next predetermined backup time device is configured to read the mark or identification and determine which changes to process for the next backup operation based on the mark or identification.

As mentioned during a subsequent restore operation of the data file to the device or a different mobile computing device server may be configured to download the updated data file without the need to also download incremental or differential data files because the updated data file already represents any data updates from backup transmissions. Any of a plurality of restore operations may be used. For example server may be configured to receive a request to download data to device or to a second mobile computing device for example if a user replaces their device with a new device if a user uses two or more devices etc. . In response to the request server may be configured to transmit the changed data file to device or the second mobile computing device. According to one embodiment the transmission is of the changed data file e.g. the substantially full or complete updated or changed data file without sending individual incremental data files. A restore operation described in U.S. patent application Ser. No. 12 134 156 entitled Restoring of Data to Mobile Computing Device filed concurrently herewith which is herein incorporated by reference in its entirety may be used to restore data backed up using one or more of the embodiments described herein.

The backup embodiments disclosed herein may be combined with other backup operations for other data on device . For example a database of user data may be backed up using the systems and methods described herein while other data e.g. ringtones downloaded applications stored data associated with applications downloaded from parties other than the manufacturer of device state of operation of one or more applications etc. may be backed up using other backup methods. In this manner a device may be restored to full or near full functionality as compared to the device s functionality prior to the last backup operation.

The embodiments disclosed herein have been described with reference to block diagrams and flow diagrams. Each block may represent one or more computer programs e.g. software firmware etc. and or the hardware or processing circuitry on which the computer programs operate e.g. microprocessors microcontrollers applications specific integrated circuits programmable logic programmable gate array etc. . Use of the term module herein may refer to either computer program and or circuit components operating the computer program to carry out the functions described herein. Modules may interface with other modules at a hardware and or computer program level and may operate at and or interface with other modules at any applicable computer program level specified in the Open Systems Interconnection OSI model such as application layer presentation layer session layer transport layer network layer data link physical layer etc. Modules may be represented by a block multiple blocks or portions of blocks in the various figures herein.

While the exemplary embodiments illustrated in the Figures and described above are presently exemplary it should be understood that these embodiments are offered by way of example only. Accordingly the present invention is not limited to a particular embodiment but extends to various modifications that nevertheless fall within the scope of the appended claims.

