---

title: Method and system for identifying defects in radiographic image data corresponding to a scanned object
abstract: A method for identifying defects in radiographic image data corresponding to a scanned object is provided. The method includes acquiring radiographic image data corresponding to a scanned object. In one embodiment, the radiographic image data includes an inspection test image and a reference image corresponding to the scanned object. The method includes identifying one or more regions of interest in the reference image and aligning the inspection test image with the regions of interest identified in the reference image, to obtain a residual image. The method further includes identifying one or more defects in the inspection test image based upon the residual image and one or more defect probability values computed for one or more pixels in the residual image.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08238635&OS=08238635&RS=08238635
owner: General Electric Company
number: 08238635
owner_city: Niskayuna
owner_country: US
publication_date: 20080321
---
The invention relates generally to radiography and more particularly to a method and system for automatically identifying defects in radiographic image data corresponding to a scanned object.

Radiography is a technique of producing an image of any opaque object by the penetration of radiation such as gamma rays X rays neutrons or charged particles. When a beam of radiation is transmitted through any object the radiation is differentially absorbed depending upon variations in object thickness density and chemical composition. The energy emergent from the object forms a radiographic image which may then be realized on an image detection medium such as a radiation sensitive detector. The detector comprises an array of elements that records the number of incident photons at each element position and maps the recording onto a two dimensional 2D image. The 2D image is then fed to a computer workstation and interpreted by trained personnel.

Radiography finds wide application in various medical and industrial applications as a non destructive technique for examining the internal structure of an object. Non destructive evaluation NDE of industrial parts is essential for manufacturing productivity and quality control. For example in aerospace and automotive industries radiographic images of aluminum castings are typically inspected by an operator who identifies defects pertaining to porosities inclusions shrinkages cracks etc. in the castings. However and as will be appreciated by those skilled in the art owing to the structural complexity and large production volumes of these castings the manual inspection procedure is often prone to operator fatigue and hence suffers from low inspection reliability.

A number of radiographic inspection techniques such as feature based classification artificial neural networks and adaptive filtering have been developed to perform automatic radiographic inspections of scanned objects. These techniques are typically based on using assisted defect recognition ADR techniques to automatically screen images call out defects and prioritize the ones needing visual inspection. As will be appreciated by those skilled in the art ADR techniques typically achieve more accurate defect detectability than human operators and have a much higher efficiency and consistency thereby enhancing quality control in a wide variety of applications such as for example automotive parts and engine components of aircraft ships and power generators. Techniques using ADR may typically be used to perform automatic defect detection on 2D images and or 3D images based on analyzing the geometry e.g. shape size feature e.g. intensity texture color and other local image statistics in the radiographic image data to locate abnormalities. For example ADR techniques based on image features use a set of features to identify potential flaws in scanned object parts based on flaw morphology and gray level statistics. These techniques assign each pixel in the image into one of several classes based on minimizing a distance metric wherein the parameters characterizing the distance metric are evaluated using a supervised learning scheme. However the performance of these techniques is affected by variations caused by object structure or flaw morphology and these techniques generally require large training sets with labeled flaws to perform defect identification.

It would therefore be desirable to develop an efficient radiographic inspection technique for automatically detecting defects in radiographic image data corresponding to a scanned object. In addition it would be desirable to develop an efficient radiographic inspection technique that detects anomalies in industrial parts produces accurate defect detectability rates increases the screening efficiency and consistency of inspection systems and efficiently utilizes system operation setup time and system training time.

In one embodiment a method for identifying defects in radiographic image data corresponding to a scanned object is provided. The method includes acquiring radiographic image data corresponding to a scanned object. In one embodiment the radiographic image data includes an inspection test image and a reference image corresponding to the scanned object. The method includes identifying one or more regions of interest in the reference image and aligning the inspection test image with the regions of interest identified in the reference image to obtain a residual image. The method further includes identifying one or more defects in the inspection test image based upon the residual image and one or more defect probability values computed for one or more pixels in the residual image.

In another embodiment a radiographic inspection system is provided. The system includes an imaging system configured to acquire radiographic image data corresponding to a scanned object. The system further includes a computer system configured to be in signal communication with the imaging system. The computer system includes a memory configured to store the radiographic image data corresponding to the scanned object. In one embodiment the radiographic image data includes an inspection test image and a reference image corresponding to the scanned object. The computer system further includes a processor configured to process the radiographic image data corresponding to the scanned object. In one embodiment the processor is configured to identify one or more regions of interest in the reference image align the inspection test image with the regions of interest identified in the reference image to obtain a residual image and identify one or more defects in the inspection test image based upon the residual image and one or more defect probability values computed for one or more pixels in the residual image. The computer system further includes a display device configured to display the defects in the radiographic image data corresponding to the scanned object.

The computer system includes a memory configured to store the radiographic image data corresponding to the scanned object. In one embodiment and as will be described in greater detail below the radiographic image data includes an inspection test image and a reference image corresponding to the scanned object. Further the memory may include but is not limited to any type and number of memory chip magnetic storage disks optical storage disks mass storage devices or any other storage device suitable for retaining information. The computer system also includes one or more processors configured to process the radiographic image data corresponding to the scanned object. In one embodiment and as will be described in greater detail below the processor is further configured to identify one or more regions of interest in the reference image align the inspection test image with the regions of interest identified in the reference image to obtain a residual image and identify one or more defects in the inspection test image based upon the residual image and one or more defect probability values computed for one or more pixels in the residual image.

For the illustrated example shown in the computer system also includes a detector interface card an input device and a display device . The input device may include but is not limited to a keyboard a mouse a pointing device a touch sensitive screen device a tablet a read write drive for a magnetic disk a read write drive for an optical disk a read write drive for any other input medium an input port for a communication link electrical or optical a wireless receiver. The display device may be a CRT cathode ray tube screen or any other suitable display device for displaying text graphics and a graphical user interface for example. In one embodiment the display device is configured to display one or more defects in the radiographic image corresponding to the scanned object. The input device and the display device operate in combination to provide a graphical user interface which enables a user or operator to configure and operate the radiographic inspection system . The detector interface card provides low level control over the image detector buffers data read out from the image detector and optionally reorders image pixels to convert from read out order to display order. The real time image controller includes a set of image control buttons a set of image control dials a display and an embedded application programming interface that maps the functions of the control buttons and dials to the computer system .

Referring to now in step radiographic image data corresponding to a scanned object is initially acquired using for example a radiographic inspection system such as as described in . In one embodiment the radiographic image data includes an inspection test image and a reference image corresponding to the scanned object. In a particular embodiment the reference image includes one or more defect free images of the industrial part acquired at a number of intermediate steps in a manufacturing process corresponding to the industrial part being scanned. For example in one embodiment the reference image may correspond to defect free images of an aircraft engine part obtained before the cooling holes are drilled wherein a typical step in the manufacturing process related to an aircraft engine part includes drilling cooling holes into the part. In other embodiments reference images can be obtained prior to machining. Another illustrative example of a manufacturing step includes the machining of a part after casting. The defect free images may then be averaged to obtain a noise free reference image corresponding to the industrial part in one embodiment.

In step one or more regions of interest are identified in the reference image. In one embodiment the regions of interest include but are not limited to a boundary region a drilling region a cavity region and a region with high attenuation in the reference image. In a particular embodiment the regions of interest in the reference image are identified manually. The manual identification of the regions of interest in accordance with embodiments of the present invention enables the detection of defects in the radiographic image data corresponding to a scanned object based upon a user s prior knowledge of possible locations where defects may occur in the part being inspected.

In another embodiment of the present invention the acquired reference image may further be processed to define one or more iso contours on the reference image. As will be appreciated by those skilled in the art iso contours refer to interpolated pixel locations in an image that correspond to a fixed intensity value. In one embodiment the iso contours on the reference image are estimated using a technique based upon a fast marching squares algorithm with linear interpolation. As will be appreciated by those skilled in the art this technique is based on a two dimensional version of the marching cubes algorithm. This is an effective and efficient technique for the estimation of iso contours since all operations are local and based on a set of previously determined local contour templates which undergo local adjustments based on the intensity values on their vicinity. In a particular embodiment local iso contours passing through each pixel in the reference image as a center of the local neighborhood are computed. Specifically for each pixel x y on the reference image the set of iso contours in a circular neighborhood W with an iso contour value of I x y may be defined as follows and 1 

wherein C x y denotes the subset of iso contours that pass through the center pixel. As will be discussed in greater detail below the iso contours correspond to constant material thickness on the inspection part along an x ray projection path. In one embodiment iso contours may be estimated on an un drilled defect free reference image and may be used to detect defects in the radiographic image data corresponding to the scanned object based upon an estimation of the amount of material loss gain in the inspection part. In another embodiment the acquired reference image may also be processed to compute one or more local linear patches on the reference image. Liner patches in the reference image may be computed for example by model based segmentation in which an approximated pre segmented part is matched against the reference image linear patches in the pre segmented part are mapped to the reference part through a mapping function. Examples of possible matching functions include affine or projective transformations.

In step the inspection test image is aligned with the regions of interest identified in the reference image to obtain a residual image. In one embodiment the step of aligning the inspection test image with the reference image includes a step of registering the inspection test image with the reference image. In a particular embodiment the image registration may be performed using one or more registration metrics known in the art such as for example disjoint information mutual information mean squared error normalized correlation and gradient difference. As will be appreciated by those skilled in the art image registration typically includes finding the optimal geometric transform between two or more images that brings a moving image into spatial alignment with a fixed image. The geometric transform may be represented by different models such as for example translation rotation scaling shear rigid similarity affine perspective piecewise affine and deformable models.

In a particular embodiment the step of aligning the inspection test image with the reference image to obtain the residual image further includes a step of mapping the regions of interest identified in the reference image onto the inspection test image. Specifically an image registration of each of the mapped regions of interest in the inspection test image is performed by superimposing all the contour information and the region of interest information onto the inspection test image and fine tuning the registration for each of the regions of interest. In step a residual image is computed. In one embodiment the residual image represents a material loss and or a material gain in the reference image and the registered test image and may be used to identify and classify defects in the inspection test image as will be discussed in greater detail below. In one embodiment the step of computing a residual image includes generating a normalized transformed inspection test image obtained by normalizing one or more pixel intensity values in the inspection test image with respect to one or more pixel intensity values in the reference image. The normalized transformed inspection test image is then subtracted from the reference image to obtain the residual image. Accordingly in one embodiment the residual image may be computed by normalizing the intensity values of the reference image and fine tuning the registration of each of the regions of interest in the reference image and then subtracting the registered inspection test image from the reference image to compute the residual image.

In another embodiment the residual image may also be computed using mapped contour information as discussed above by performing morphological closing operations formed on the contours to estimate iso contour intensity values in the reference image. As will be appreciated by those skilled in the art iso contours on an image correspond to constant material thickness on an inspection part along an x ray projection path. In one embodiment the inspection test image is registered and mapped to the reference coordinate system and all the iso contours defined in the reference image are superimposed onto the inspection test image. Accordingly constant thickness profiles may be determined even in the presence of defects shot peens or drills. In a particular embodiment the mapped iso contours may be used to estimate the defect free drill free material thickness profile and a residual image may be computed by subtracting the width profile value from the inspection test image observations. In another embodiment the residual image may also be computed by modeling the reference image using local linear patches. The local patches may be superimposed onto the mapped inspection image and patch parameters may be computed and updated by robust fitting techniques and the difference between the updated patch values and the mapped inspection test image may be used to compute the residual image.

In step one or more defects in the inspection test image are identified based upon the residual image. In one embodiment the step of identifying one or more defects in the inspection test image includes computing one or more defect probability values for one or more pixels in the residual image. In a particular embodiment the step of identifying one or more defects in the inspection test image further includes computing one or more defect probability values for one or more pixels in the reference image. Specifically in one embodiment one or more cumulative distribution function CDF values are computed for one or more pixels in the reference image and the residual image. In a particular example the CDF values are computed based upon computing a probability density function PDF for each pixel at a particular pixel location in the reference image and the residual image. In a particular embodiment the PDF for each pixel may be computed as a function of a defect probability of a pixel at a particular pixel location and a defect prior term. For example the PDF for a pixel may be computed as shown in equation 2 below p y x p x y p y 2 

wherein p y x represents the PDF computed for each pixel p x y is a likelihood term that represents the defect probability of a pixel at a particular pixel location and p y represents the prior term for a given a set of image features x and an image state y. In one embodiment and as shown in equation 2 the PDF p y x computed for each pixel is proportional to the product of the likelihood term p x y and the prior term p y . In one embodiment the image features may include for example image intensity texture and or color and the image state y may include for example whether a pixel or region is normal or potentially abnormal that is possibly a defect. More particularly the image state y may include for example historical data on the probability of the occurrence of a defect at a given pixel location or physical models for the effect of a defect on the probability distribution of the features x. Further in one embodiment the prior term p y is used to detect anomalies in the industrial part based upon domain and or prior knowledge of the industrial part.

Referring again to step in a defect probability type for each pixel in the residual image is computed based upon the CDF values computed for the pixels in the reference image. In one embodiment the defect probability type corresponds to at least one of a material loss defect or a material gain defect in the residual image. Specifically the defect probability type for each pixel in the residual image is determined by comparing the CDF values derived for each pixel in the residual image to the CDF values derived for the pixels in the reference image.

One or more defective pixels in the inspection test image are then identified based upon the CDF values derived for each pixel in the residual image. In one embodiment the CDF values derived for each pixel in the residual image are compared to a defect probability threshold a defect size and one or more prior domain constraints wherein pixels having defect probability threshold values above the defect probability threshold and pixels present within a region of interest of a particular size in the inspection test image are classified as defective pixels. Referring again to the graph illustrated in if the CDF for a pixel i.e. P y x is greater than or below the defect probability threshold then the pixel is identified as a defective pixel. As illustrated in the graph shown in in a particular example pixels with a CDF of over 0.68 defined as potential excess material defects and pixels with a CDF below 0.68 are defined as potential negative material defects.

In accordance with another embodiment of the present invention a region analysis procedure may further be performed to alleviate incidental detection due to noisy image data image misalignment and image appearance change. For example in one embodiment a region analysis procedure may be performed to identify the potential defective pixels in the inspection test image wherein pixels that are present within regions that are larger than a particular size are confirmed as defective pixels.

In a particular embodiment a connected component analysis may be performed to identify the potential defective pixels. As will be appreciated by those skilled in the art a connected component analysis includes scanning the pixels of an image and associating to adjacent pixels that satisfy one or more conditions a given label associated with the satisfied condition. More particularly a connected component analysis includes comparing the similarity between neighboring pixels where in different 2D embodiments neighboring pixels can be 4 or 8 connected and in 3D embodiments neighboring pixels can be 6 or 27 connected or other neighborhood structures and then grouping similar neighboring pixels.

Embodiments of the present invention disclose a technique for identifying defects in radiographic image data corresponding to a scanned object by identifying regions of interest in the radiographic image data based upon an expert s prior knowledge of defective locations in an inspection part and further identifying defects in the radiographic image data based upon computing a residual image and one or more defect probability values wherein the residual image and the defect probability values further enable the identification of defects caused due to excess material from the defects caused due to missing material in the radiographic image data corresponding to the scanned object. The disclosed technique is efficient produces accurate defect detectability rates and efficiently utilizes system operation time and system training time. Further the disclosed technique increases screening efficiency and consistency of inspection systems by filtering out the defect free images and prioritizing the images needing visual inspection thereby increasing throughput and efficiency.

In addition the disclosed technique for detecting defects may be applied to multiple observations corresponding to multiple images of the scanned object acquired at one or more view angles. Furthermore the disclosed technique can be applied to defect free three dimensional 3D volumes to evaluate an inspection test volume for potential defect indications. Further the disclosed statistical modeling approach can be combined with a Computer Aided Design CAD model to enable the detection of defects in the radiographic image data corresponding to the scanned object with greater accuracy.

Although only certain features of the invention have been illustrated and described herein many modifications and changes will occur to those skilled in the art. It is therefore to be understood that the appended claims are intended to cover all such modifications and changes as fall within the true spirit of the invention.

