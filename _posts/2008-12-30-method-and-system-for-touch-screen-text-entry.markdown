---

title: Method and system for touch screen text entry
abstract: A method and system are disclosed for implementing touch screen text entry on a screen in a first orientation. A web page is used for presenting a touch screen display, which allows text selection via a virtual keyboard. Selected alphanumeric characters are displayed on the screen in an orientation matching the first orientation of the screen.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09170735&OS=09170735&RS=09170735
owner: Thomson Licensings
number: 09170735
owner_city: Boulogne-Billancourt
owner_country: FR
publication_date: 20081230
---
This application claims the benefit under 35 U.S.C. 365 of International Application PCT US2008 014103 and filed Dec. 30 2008 which was published in accordance with PCT Article 21 2 on Jul. 8 2010 in English.

Some digital signage venues need to be interactive to be effective e.g. kiosk applications. User interactions may include text entries on a virtual keyboard e.g. email addresses or keywords for searching various items among others. In certain situations it is desirable to have the video display in portrait mode. However there are technical issues associated with mounting digital signage screens in a portrait orientation.

For example if the screen is mounted in a portrait orientation digital content cannot be presented using web technology because it is not possible for hypertext markup language HTML to write sideways i.e. text display can only be presented in an upright orientation in landscape mode . Although some video cards are capable of rotating the entire video output to match a portrait screen orientation the relatively high costs and poor full motion video support make them unsuitable for use in advertising venues.

Embodiments of the present invention provide a method and system for implementing touch screen text entry on a screen provided in an orientation that is different from its primary orientation. Graphic images of alphanumeric characters are displayed in an orientation that matches the orientation of the screen.

One embodiment provides a method which includes providing a screen in a first orientation that is different from a primary orientation of the screen. The method further includes rendering a web page on the screen the web page having a virtual keyboard receiving touch data from the virtual keyboard for at least one alphanumeric character and displaying the at least one alphanumeric character on the screen in a second orientation that matches the first orientation of the screen.

Another embodiment provides a method which includes providing a screen operable in at least one orientation the at least one orientation including portrait orientation. The method further includes rendering a web page on the screen the web page having a virtual keyboard receiving touch data from the virtual keyboard for at least one alphanumeric character and displaying the at least one alphanumeric character on the screen in an orientation that matches the at least one orientation of the screen.

Yet another embodiment provides a system which includes a screen operable in at least a first orientation that is different from a primary orientation of the screen the screen configured for displaying a web page having a virtual keyboard for entering touch data corresponding to at least one alphanumeric character and means for displaying the at least one alphanumeric character in a second orientation matching the at least one orientation of the display screen.

To facilitate understanding identical reference numerals have been used where possible to designate identical elements that are common to the figures.

To better understand embodiments of the present invention a brief discussion of a display screen is presented with reference to 

Embodiments of this invention provide a means for text entry that allows a rendered image corresponding to the entered text to be displayed so that it appears normal to a viewer e.g. in an upright position to a viewer regardless of the screen s orientation. This is achieved for example by displaying the image in an orientation that matches the orientation of the rotated screen.

This is illustrated in showing the image ABC in a proper orientation for the viewer and it is aligned with the horizontal axis X X the longitudinal axis of text box ABC being parallel to X X . This can be achieved by rotating the image ABC to a proper orientation similar to rotating the ABC in in a counterclockwise direction by angle . As discussed below one aspect of the present invention provides for such an image rotation and subsequent rendering of the image on the screen.

Although for most applications it is desirable to provide image rotation to match a viewer s frame of reference or to match the screen s orientation the present invention can generally provide for any degree of rotation for the graphics and video to achieve a desired orientation.

Embodiments of the present invention provide a screen display for text entry so that the resulting text will have an orientation that is consistent with or matches the screen s orientation even though it is different from its primary orientation. For example for a screen mounted in portrait mode the text will appear upright.

In one embodiment the text entry display is presented using web technology e.g. as a part of a web page. In this example a user s email address is to be entered in a text entry area which appears blank prior to any text entry as shown in . The text entry display also shows graphics of a virtual keyboard along with various function keys such as an acknowledgement OK key and a cancel key . Other function or instruction keys not shown can also be provided.

Images of alphanumeric characters e.g. alphabets numbers punctuation marks and other symbols are displayed on the virtual keyboard for selection by a user. Individual graphic images for example PNG JPEG GIF or others of each character on the keyboard are loaded into the web page upon page load for later use e.g. insertion to the text entry area upon receiving touch data from the keyboard . These graphic images though loaded into the page are not displayed and thus are invisible on the screen . In one embodiment of this invention these images are stored as files on a local hard drive. In another embodiment they are stored on a local RAM disk in the set top box. Prior to being rendered in the web browser these graphic images are rotated in the correct orientation e.g. consistent with or matching the screen s orientation so that when displayed on screen they will appear normal i.e. in an upright orientation as opposed to being sideways.

A user interacting with the text entry system can select a character by touching the appropriate region on the display screen e.g. a specific alphanumeric character in keyboard in . Each touch selection generates a corresponding location data e.g. x and y coordinates representing the touched location. In this example the touch screen is mounted in a portrait orientation i.e. different from the conventional landscape orientation the long edge of the screen or vertical edge is interpreted by the touch screen controller not shown as the x axis and the short edge or horizontal edge is interpreted as the y axis.

The x and y coordinate data from the touch screen are sent as RS 232 or USB serial data to the serial network interface SNI . In one embodiment the SNI transforms the x y coordinate touch data by interchanging the x and y coordinates. That is the x coordinate data is transposed with the y coordinate data so that the y axis data now lies in the vertical direction long edge and the x axis data now lies in the horizontal direction short edge . This transformation also allows programming of the media and interactivity to be done using a coordinate system that is consistent with common practice. The transposed x and y coordinate data is then sent over a network e.g. Ethernet to the touch adapter module .

The transposed x y coordinate data from the touch screen is further translated by the touch adapter into the coordinate system of the video display screen including for example mapping the touch screen resolutions to those of the video display screen. As an example if the touch screen has a resolution of 1000 1000 units x and y coordinates and the video resolution is 1920 1200 pixels the touch adapter would translate the area defined by the touch coordinate data into corresponding video coordinates on the screen.

In another embodiment the transformation or transposing of the x y coordinate data is done by the touch adapter and not by the SNI . Thus x y coordinate touch data is sent by the SNI to the touch adapter which then transposes the x and y coordinate data as described above for SNI and translates the data into the video coordinate of the display screen.

Data that has been processed by the touch adapter module is then sent to the touch tracker module which may cache the data in a buffer for access by the STB control module . In one embodiment the asynchronous data originating from the touch screen is cached until software running in a web browser in the STB polls to see if touch data is available. The web page rendered into the browser executes JavaScript to poll the touch tracker for touch data. The STB control module also controls how media is rendered on the video display screen.

In the example of during poll events and there is no data at touch tracker so no action is taken by the STB control module after polling.

In the poll event touch data received at touch screen has been processed by intermediate components such as the serial network interface and the touch adapter shown as data and in ASCII format American Standard Code for Information Interchange e.g. one byte of ASCII per touch and transmitted to the touch tracker . In response to polling by the STB control module the touch tracker forwards the available data for further processing.

In one implementation of the STB control module a JavaScript is running in a browser on the STB and a Javascript application programming interface API such as a XMLHttpRequest API XML stands for extended markup language and Http stands for hypertext transfer protocol can be used by the JavaScript to poll periodically for touch data e.g. via the STB control module as shown in . A polling rate of 5 times per second is expected to result in sufficient response times for most applications although different polling rates may also be used to suit other needs.

If the Javascript code running in the browser successfully retrieves data from the STB control module then the Javascript software would use Document Object Model DOM functions that would result in a graphical form of the character being displayed at a current cursor position in the text entry area . Note that this text display is not being done by conventional HTML text entry. Instead the graphic image of the character previously loaded on the web page at page load is inserted into the text entry area .

This is further illustrated in which shows text entry on the screen which is mounted in an orientation different from what the screen is designed for. Embodiments of the invention provide that the entered text is displayed in an orientation matching the screen s orientation e.g. text being displayed in an upright position with the screen in a portrait mode. Prior to any data selection at the virtual keyboard a visible or invisible cursor marks the beginning text position of the text entry area which corresponds to a blank image similar to . When a user selects an alphanumeric character by touching a corresponding region of the virtual keyboard touch events are generated to signal the selected alphanumeric character.

As discussed above the touch data results in the appropriate text being available for retrieval by the Javascript software. The Javascript software makes the XHTTPRequest to obtain that text data and then executes a Document Object Model DOM function which changes the image at the cursor location in the text area from a blank image to a graphic that matches the selected alphanumeric character. Thus if the first touch data is the letter J on the keyboard corresponding data will be provided as illustrated in to the STB resulting in the display of the letter J in the first character position in the text entry area as shown in . In this example the graphic image is displayed by manipulating the HTML Document Object Model DOM to display the selected graphic of the letter without requiring the entire web page to be re drawn.

After a selected alphanumeric character has appeared in the text entry area the cursor is advanced to the next position e.g. to the right of cursor position for additional text entry. In other embodiments a backspace or delete key not shown can also be provided on the touch screen which when selected can cause the image in the previous cursor position e.g. to the left of the current cursor location to be replaced by a blank image while moving the cursor back by one position.

In one embodiment these image replacements are handled using DOM dynamic HTML manipulations in JavaScript. To achieve nearly instant display these images of the alphanumeric characters also referred to as character images can be loaded onto the local processor e.g. on the server or STB and served from a web server process running on that processor. For example in one implementation a web server process can be run on the STB with the character images mapped into its file system. Serving these files directly from the STB as opposed to fetching over a network can significantly reduce the latency between touch data selection and corresponding display in the text entry area thus improving the system responsiveness and user experience.

As additional alphanumeric characters are selected on the touch screen the touch data are processed so that corresponding graphic for the selected characters are generated at the proper positions in the text entry area .

In another embodiment a local area network is not used. Instead all modules would run on the set top box. The web page would include JavaScript that uses the XHTTPRequest function call to make many requests per second to a Key Stroke Manager URL to collect key strokes. Since the Key Stroke Manager is running on the local processor this creates zero network traffic and is highly responsive. Each key stroke would be processed as described above in connection with resulting in the display of the selected text characters.

In one implementation the touch screen key stroke data can be communicated using the Device Group Control Protocol DGCP which is an extremely efficient network protocol that supports communications to a plurality of devices in groups. Implementations that use DGCP would operate the same logical way but might have a plurality of devices listening to the touch screen data. This might make remote touch logging more efficient for example by allowing an independent software module to log touch screen data without disturbing the actual touch screen application. Details of the protocol are described in a published PCT patent application WO 2008 123858 A1 Device Group Control filed on Jun. 13 2007 and herein incorporated by reference in its entirety.

Aside from a retail advertising system embodiments discussed above can generally be applied to video display systems in many different venues or environments that would benefit from applications that require text entry on a display screen in an orientation different from the one that the screen is designed for. It is understood that even though the examples in and relate to text entry on a screen in portrait mode the present principles are also applicable to other orientations of the screen that are different from the screen s normal orientation which the screen is designed for e.g. landscape mode.

While the forgoing is directed to various embodiments of the present invention other and further embodiments of the invention may be devised without departing from the basic scope thereof. As such the appropriate scope of the invention is to be determined according to the claims which follow.

