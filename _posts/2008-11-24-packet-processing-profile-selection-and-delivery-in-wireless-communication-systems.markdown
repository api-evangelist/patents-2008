---

title: Packet processing profile selection and delivery in wireless communication systems
abstract: What is disclosed is a method of operating a communication system which includes a plurality of packet processing systems that each comprises one of a plurality of packet payload inspection systems. The method includes receiving a registration request from a wireless communication device, and in response, selecting one of the packet processing systems for the wireless communication device, obtaining a user profile for the wireless communication device, and obtaining a location for the wireless communication device. The method also includes transferring data indicating the wireless communication device, the user profile for the wireless communication device, and the location for the wireless communication device for delivery to the one of the packet payload inspection systems included in the selected one of the packet processing systems. The method also includes receiving the data in the one of the packet payload inspection systems, and in response, inspecting packet payloads associated with the wireless communication device based on the data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08159966&OS=08159966&RS=08159966
owner: Sprint Communications Company L.P.
number: 08159966
owner_city: Overland Park
owner_country: US
publication_date: 20081124
---
Aspects of the disclosure are related to the field of communications and in particular packet processing profile selection and delivery for wireless communication networks.

Wireless communication networks typically include equipment and systems for handling wireless communications of wireless communication devices. The wireless communications between the wireless communication devices and the wireless communication network can be monitored and processed on a packet by packet basis to enforce various service level agreements or quality of service policies for the wireless communication devices as well as report usage information to monitoring equipment in the wireless communication network.

Unfortunately as the wireless communication devices move between different access locations on a wireless communication network that spans a large geographic region it becomes a challenge to correlate the wireless communication devices to packet based service level agreements or quality of service policies of localized packet processing systems. Additionally coordination and exchange of the data required by localized packet processing systems across a regional or national wireless communication network leads to a prohibitively large quantity of interconnection and overhead communication links.

What is disclosed is a method of operating a communication system which includes a plurality of packet processing systems that each comprises one of a plurality of packet payload inspection systems. The method includes receiving a registration request from a wireless communication device and in response selecting one of the packet processing systems for the wireless communication device obtaining a user profile for the wireless communication device and obtaining a location for the wireless communication device. The method also includes transferring data indicating the wireless communication device the user profile for the wireless communication device and the location for the wireless communication device for delivery to the one of the packet payload inspection systems included in the selected one of the packet processing systems. The method also includes receiving the data in the one of the packet payload inspection systems and in response inspecting packet payloads associated with the wireless communication device based on the data.

What is also disclosed is a communication system. The communication system includes a wireless communication system comprising a plurality of packet processing systems where each of the plurality of packet processing systems comprises one of a plurality of packet payload inspection systems. The wireless communication system is configured to receive a registration request from a wireless communication device and in response select one of the plurality of packet processing systems for the wireless communication device obtain a user profile for the wireless communication device and obtain a location for the wireless communication device. The wireless communication system is also configured to transfer data indicating the wireless communication device the user profile for the wireless communication device and the location for the wireless communication device for delivery to the one of the packet payload inspection systems included in the selected one of the packet processing systems. The one of the packet payload inspection systems is configured to receive the data and in response inspect packet payloads associated with the wireless communication device based on the data.

Wireless communication device comprises a telephone transceiver computer digital assistant smart phone Internet appliance or some other wireless communication apparatus including combinations thereof.

Wireless communication system includes packet processing systems and . Packet processing system includes packet payload inspection system . Packet processing system includes packet payload processing system . Wireless communication system could also include wireless communications network equipment capable of communicating with wireless communication device . Further examples of wireless communication system can include data centers accounting and billing systems base stations base transceiver stations boomer stations antennas radio node controllers RNC packet data serving nodes PDSN deep packet inspection DPI equipment subscriber profile systems SPS authentication authorization and accounting AAA equipment home agents mobile switching centers call processing equipment wireless access nodes wireless access points telephone switches Internet routers network gateways as well as other type of communication equipment including combinations thereof. Although wireless communication system as shown in includes two packet processing systems it should be understood that in other examples more packet processing systems could be included in wireless communication system .

Packet payload inspection systems and include equipment for inspecting communication packets transferred between wireless communication device and core network . Some examples of packet payload inspection systems and include deep packet inspection DPI equipment. Packet payload inspection systems and could also incorporate computer microprocessors circuitry or some other processing device or software system and may be distributed among multiple processing devices. Packet payload inspection systems and may also include software such as an operating system logs utilities drivers networking software and other software stored on a computer readable medium.

Core network could include a core network of a communication service provider an Internet network wireless network telephony network optical network enterprise network local area network or some other type of communication network or communication equipment including combinations thereof.

Wireless link uses various communication media such as air space or some other wireless transport media including combinations thereof. Wireless link could use protocols such as code division multiple access CDMA evolution data optimized EV DO worldwide interoperability for microwave access WiMAX long term evolution LTE wireless fidelity WiFi global system for mobile communications GSM universal mobile telecommunications system UMTS or some other communication format including combinations variations or improvements thereof.

Wireless link may comprise many different signals sharing the same link. Wireless link could include multiple signals operating in a single airpath as represented by the dashed line in FIG. comprising multiple frequencies timeslots time cycles channels directional links transportation ports logical transportation links tunnels network sockets packets or communication directions. For example communications and control signals between wireless communication device and wireless communication system could share the same wireless link but be transferred over different frequencies timeslots time cycles channels directional links transportation ports logical transportation links tunnels network sockets packets or in different directions including combinations thereof.

Link uses various communication media such as air space metal optical fiber or some other signal propagation path including combinations thereof. Link could be wired or wireless and could use communication protocols such as Internet Internet protocol IP local area network LAN optical networking hybrid fiber coax HFC telephony T or some other communication format including combinations improvements or variations thereof. Link could be a direct link or might include various equipment intermediate components systems and networks. Link could include multiple signals operating in a single pathway in a similar manner as wireless link .

Wireless communication system selects A a packet processing system for wireless communication device . Packet processing system or could be selected among other packet processing systems included in wireless communication system .

Wireless communication system also obtains B a user profile for wireless communication device . This user profile could include information related to a level of service for wireless communication device or communications therewith a service level agreement of wireless communication device a quality of service QoS policy an identifier of wireless communication device or other user profile information.

Wireless communication system also obtains C a location for wireless communication device . This location could indicate a geographic location of wireless communication device a base station at which receives a registration request from wireless communication device a sector of the base station or other locations.

Wireless communication system then transfers data indicating wireless communication device the user profile for wireless communication device and the location for wireless communication device for delivery to one of the packet payload inspection systems included in the packet processing system as selected in phase A.

The one of the packet payload inspection systems included in the packet processing system as selected in phase A receives the data and in response to the data inspects packet payloads associated with the wireless communication device based on the data.

In further examples of communication system communication packets are transferred between wireless communication device and core network through wireless communication system . Communication packets received in wireless communication system can be transferred through the selected one of packet processing systems or . The one of the packet payload inspection systems included in the packet processing system as selected in phase A inspects packet payloads of the communication packets associated with the wireless communication device based on the data received in phase . The selected one of packet processing systems or for example can then exchange communication packets with further systems and equipment in wireless communication system wireless communication device over wireless link or with core network over link .

Wireless communication device comprises a telephone transceiver computer digital assistant smart phone Internet appliance or some other wireless communication apparatus including combinations thereof. As shown in wireless communication device could be located at either location or location .

Wireless access nodes and include wireless communications network equipment capable of receiving registration requests and handling wireless communications with wireless communication device . Examples of wireless access nodes and can include base stations base transceiver stations boomer stations antennas access service network gateways ASN GW radio node controllers RNC mobile switching controllers call processing equipment wireless access points Internet routers network gateways systems as well as other type of communication equipment including combinations thereof.

Enhanced accounting mediation system EAMS includes equipment for generating and tracking accounting and billing information of wireless communication device . In this example EAMS includes equipment to accumulate various communication network statistics and parameters related to wireless communication device such as registration information usage detail records UDR user profiles quality of service profiles or other information related to wireless communication device . In other examples EAMS is an enhanced accounting mediation system. EAMS could include remote authentication dial in user service RADIUS interfaces or application programming interfaces API in some examples. EAMS could also incorporate computer microprocessors circuitry or some other processing devices or software system and may be distributed among multiple processing devices. EAMS may also include software such as an operating system logs utilities drivers networking software and other software stored on a computer readable medium.

Packet data serving nodes PDSN and include equipment for routing communication packets between wireless communication system and wireless access nodes and as associated with wireless communication device . PDSN and could comprise routers gateways network interfaces pseudo wire interfaces media converters or other equipment.

Deep packet inspection DPI equipment and include equipment for inspecting payloads of communication packets transferred between wireless communication device and core network . DPI equipment and could also incorporate computer microprocessors circuitry or some other processing devices or software system and may be distributed among multiple processing devices. DPI equipment and may also include software such as an operating system logs utilities drivers networking software and other software stored on a computer readable medium. In some examples home agent and DPI are included in the same equipment and likewise home agent and DPI . In other examples PDSN and DPI are included in the same equipment and likewise PDSN and DPI .

Home agents and include equipment for routing communication packets between wireless communication system and core network . Home agents and could comprise routers gateways network interfaces pseudo wire interfaces media converters or other equipment. In some examples home agents and could include equipment to create a communication tunnel to wireless communication device through the appropriate data center or . For example a virtual private network VPN link level tunnel or other communication tunnel could be formed between home agent and wireless communication device when wireless communication device is at location . Likewise when wireless communication device is at location a communication tunnel could be formed between home agent and wireless communication device .

Authentication authorization and accounting AAA systems and include equipment for handling registration requests from communication device . AAA and include equipment for authenticating wireless communication device for example determining if wireless communication device is allowed to communicate with an associated data center. AAA and could also include equipment for authorizing wireless communication device to access certain communication services and accounting equipment to maintain a historical log of access and registration requests of wireless communication device . In some examples AAA and incorporate computer microprocessors circuitry or some other processing devices or software system and may be distributed among multiple processing devices. AAA and may also include software such as an operating system logs utilities drivers networking software and other software stored on a computer readable medium.

Subscriber profile systems SPS and include equipment for accessing a user profile such as a service level agreement or quality of service profile of wireless communication device . SPS and could determine a user profile based upon a quality of service assigned to a user of wireless communication device an application type of the communication service requested by wireless communication device a service level agreement time of day or other factors. SPS and could also create quality of service policies by determining a proper level of service desired for the communication packets transferred to from wireless communication device . SPS and comprise computer systems or special purpose circuitry which may include storage systems user interfaces and network and data interfaces including combinations thereof.

Core network could include a core network of a communication service provider an Internet network wireless network telephony network optical network enterprise network local area network or some other type of communication network or communication equipment including combinations thereof.

Wireless communication device and wireless access node communicate over wireless link when wireless communication device is at location . Wireless access node and PDSN communicate over link . PDSN and AAA communicate over link . PDSN and DPI communicate over link . DPI and EAMS communicate over link . DPI and home agent communicate over link . SPS and EAMS communicate over link . Home agent and core network communicate over link . In some examples links and form a pathway between wireless access node and core network for the exchange of communication packets originating from or destined to wireless communication device over wireless link when at location .

Wireless communication device and wireless access node communicate over wireless link when wireless communication device is at location . Wireless access node and PDSN communicate over link . PDSN and AAA communicate over link . PDSN and DPI communicate over link . DPI and EAMS communicate over link . DPI and home agent communicate over link . SPS and EAMS communicate over link . Home agent and core network communicate over link . In some examples links and form a pathway between wireless access node and core network for the exchange of communication packets originating from or destined to wireless communication device over wireless link when at location .

Wireless links and use various communication media such as air space or some other wireless transport media including combinations thereof. Wireless links and could use protocols such as code division multiple access CDMA evolution data optimized EV DO worldwide interoperability for microwave access WiMAX long term evolution LTE wireless fidelity WiFi global system for mobile communications GSM universal mobile telecommunications system UMTS or some other communication format including combinations variations or improvements thereof.

Wireless links and may comprise many different signals sharing the same link. Wireless links and could include multiple signals operating in a single airpath as represented by the dashed line in FIG. comprising multiple frequencies timeslots time cycles channels directional links transportation ports logical transportation links tunnels network sockets packets or communication directions. For example communications and control signals between wireless communication device and wireless access nodes and depending upon the location of wireless communication device could share the same wireless link but be transferred over different frequencies timeslots time cycles channels directional links transportation ports logical transportation links tunnels network sockets packets or in different directions including combinations thereof.

Links and use various communication media such as air space metal optical fiber or some other signal propagation path including combinations thereof. Links and could be wired or wireless and could use communication protocols such as Internet Internet protocol IP local area network LAN optical networking hybrid fiber coax HFC telephony T or some other communication format including combinations improvements or variations thereof. Links and could be direct links or might include various equipment intermediate components systems and networks. Links and could include multiple signals operating in a single pathway in a similar manner as wireless links and .

The registration request in this example includes a request from wireless communication device to initiate communication service with core network through access node and likewise data center . The registration request could also include in some examples the wireless protocol overhead processing and initiation parameters transferred between wireless communication device and wireless access node over link which may further include a wireless ranging process and wireless protocol handshaking among other communication protocol overhead and registration procedures.

AAA transfers usage information to EAMS over link . This usage information in typical examples includes information related to the registration request from wireless communication device such as an identifier of wireless communication device a time and date of the registration request a requested application type of the communication service a user of wireless communication device a usage detail record UDR a base station identifier a DPI assignment or other information.

EAMS determines a location of wireless communication device . In this example EAMS processes the usage information received from AAA to determine the location of wireless communication device . The determined location could indicate wireless access node through which wireless communication device transferred the registration request or could include a sector of wireless access node among other location information. The sector can represent a particular region of wireless coverage typically served by a single antenna antenna tower or base transceiver station. Examples of a sector of a wireless access node include a portion or slice of the total wireless coverage region of a wireless access node. In many examples multiple sectors are associated with a particular wireless access node. In some examples the location could be received from AAA in the form of a base station identifier sector identifier or other location information. In further examples EAMS parses the incoming AAA usage information which could comprise usage detail records UDR to identify where wireless communication device has presently attached to or is located within communication system .

EAMS queries SPS for an appropriate user profile for wireless communication device . In many examples EAMS must first determine a SPS to query prior to initiating the query. As shown in wireless communication system includes SPS and SPS . In this example since wireless communication device would be located at location SPS would be selected. This query could include information included in the usage information received by EAMS from AAA among other information.

SPS determines and transfers the appropriate user profile to EAMS . The user profile transferred could be based on many factors. These factors could include the user of wireless communication device the location of wireless communication device a time of day or date of the request for communication service from wireless communication device an application type of the communication service requested or an indicator of wireless communication device among other factors.

An application type comprises a user service or user communications as implemented in communication packets exchanged between wireless communication device and wireless communication system . The user services for example could include Internet communications voice calls telephony video audio email text chat data web pages peer to peer P2P communications Voice over IP VoIP as well as other data and application types including combinations thereof. The application could also be distinguished among different service providers even though such service providers are providing similar types of user services. For example although Voice over IP VoIP is a type of user service various service providers could also be distinguished from each other much like the individual user services.

The user profile could also reflect a level of service or quality of service QoS given to communication packets associated with wireless communication device through wireless communication system could be based upon data rate allowances data type priority for example voice versus data service level agreements or other factors including combinations thereof. A particular level of service could be associated with communication packets to and from wireless communication device . Also the level of service could vary based upon application type. For example streaming video could receive a lower level of service than voice calls and e mail could receive a lower level of service than streaming video. Additionally a QoS profile could be determined for each application type contained within the communication packets of wireless communication device . In some cases no distinction is made between the wireless device and the user of the wireless device whereas in other cases a distinction could be made.

EAMS selects a DPI to handle communication packets transferred to and from wireless communication device through wireless communication system . This selection could be based upon the location of wireless communication device or a preferred DPI for wireless communication device among other factors. In this example when wireless communication device is at location EAMS would select DPI . In some examples a proper DPI selection is received from AAA in addition to possibly a home agent selection.

In this example as discussed above EAMS accumulates diverse data from multiple sources used in operation of the selected DPI . EAMS then transfers the data including the user profile to the selected DPI over link . This data could be a specialized portion of the usage information received from AAA and SPS tailored to suit the requirements of DPI . In some examples EAMS pushes the data to DPI without a request from DPI while in other examples DPI requests the data first.

The selected DPI then receives the data which includes the user profile. In response to the data DPI inspects communication packet payloads associated with wireless communication device based on the data. In some examples the communication packets originate in core network over link and are subsequently routed by home agent to DPI over link . In other examples the communication packets originate in wireless communication device over wireless link and are subsequently routed by wireless access node over link and PDSN over link to DPI .

DPI can use packet payload inspection in many examples to determine a communication service implemented in the communication packet payloads. This communication service could be an application type a certain variety or content of user communications a particular service provider associated with the communication packet payloads among other communication services.

DPI can take action facilitated by communication packet payload inspection to monitor the application activity and other communication packets exchanged between wireless communication device and core network or other systems.

In further examples DPI could enforce a QoS profile by allowing or inhibiting communication packets in transit between core network and wireless communication device . The adjustments that DPI may make will vary on the desired results. For example if communication traffic is composed primarily of video downloads and is limiting the available bandwidth for voice calls then DPI may decrease the level of service to communication packets containing video applications while maintaining a constant or increasing level of service for communication packets containing voice calls. In many examples this action may be taken in an effort to bring activity level of a sector of a wireless access node in wireless communication system back into desired bandwidth limits or service level agreements. In some examples DPI may inhibit transmission of the packet payloads based on the user profile and the communication service such as an application type. In other examples the location of wireless communication device could be taken into account by DPI .

In yet other examples DPI could insert advertising in the packet payloads based upon the communication service implemented by the packet payloads the user profile the location of wireless communication device among other factors. This advertising could be tailored to suit the various conditions or communications of wireless communication device and inserted in the packet payloads while in transit through wireless communication system advantageously allowing for specialized and directed advertising content.

The previous discussion regarding assumes an initial location of wireless communication device at location . In further examples wireless communication device could initially be located at location or could transit from location to location . The above discussed methods and phases would apply in a similar manner while wireless communication device was either at location or location . When wireless communication device was at location data center would be involved in the registration request and subsequent interaction with wireless communication system as described herein regarding instead of data center .

Advantageously wireless communication device could receive similar treatment regarding user profiles QoS service level agreements and deep packet inspection techniques across a multitude of locations and through different data centers of communication system . In such examples the user profile other data associated with wireless communication device would be selected and accumulated in a single system such as EAMS from among a multitude of registration and profile systems such as AAA systems and SPS equipment located throughout wireless communication system and transferred to the appropriate communication packet payload inspection equipment such as a selected DPI system regardless of the location of wireless communication device or associated wireless access node in wireless communication system .

