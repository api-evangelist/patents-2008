---

title: System and method for automatically determining purpose information for travel behavior
abstract: Disclosed is an automated trip-purpose detection method that utilizes GPS Data collected by GPS-enabled devices. The GPS data is compared against a GIS map to obtain various spatial and location characteristics of the surrounding area. This information is then used to derive a traveler's trip purpose. In a preferred embodiment, the inventive method is implemented automatically without any needed manipulation of GIS data. Additionally, the method integrates location information as defined by the user for critical locations such as home and work. These personalized locations allow the method to immediately identify the two most common types of trips: work-related trips and trips returning home.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09047384&OS=09047384&RS=09047384
owner: University of South Florida
number: 09047384
owner_city: Tampa
owner_country: US
publication_date: 20080114
---
This application is a Non Provisional Application of U.S. Provisional Application No. 60 884 645 filed Jan. 12 2007 which is incorporated herein by reference.

This invention was made with Government support under Grant No. 2117760900 and 21177760900 awarded by the Florida Department of Transportation. The Government may therefore have certain rights in the invention.

In recent years research into the automation of traffic data collection with GPS technology has shown remarkable feasibility for replacing traditional resources of traffic data. Paper diaries and phone interviews are two such resources that are heavily depended upon by the traffic and travel research industry. Recent studies compared vehicle based GPS data to manually recorded data in Travel Diaries to evaluate the efficiency of automated purpose derivation systems. Among its other functions one of the most consequential uses of travel diaries has been the reporting of an individual s purpose for travel.

Several studies conducted in the past explored implementing GPS data with manual and electronic travel diary submissions. Some of these studies were the first to use passively recorded GPS data. See Wolf J. R. Guensler and W. Bachman 2001 Elimination of the Travel Diary An Experiment to Derive Trip Purpose from GPS Travel Data Transportation Research Record 1768 p. 125 134 Aug. 3 2006 which is incorporated herein by reference . The study conducted by Wolf et al. utilized a GIS database and GPS data collected by thirteen individuals carrying GPS enabled PDAs. See also Wolf J. 2004 APPLICATIONS OF NEW TECHNOLOGIES IN TRAVEL SURVEYS Submitted to the International Conference on Transport Survey Quality and Innovation Costa Rica August 2004 which is incorporated herein by reference . To derive trip purpose researchers used a point in polygon analysis to retrieve a land use code. A set of purposes of varying detail were associated with individual land use codes based on a 1990 Atlanta household travel survey. See also Atlanta Regional Commission. 1990 Household Travel Study Final Report. The Atlanta Regional Commission December 1993 which is incorporated herein by reference . The land use code was used to derive trip purpose by using a code purpose association. Wolf et al. faced several obstacles during the land use code categorization step because GIS database used relied on center points. This flaw in the database necessitated manually defining business boundaries in the GIS database based on photographic references. Although the Wolf study was conducted while Atlanta s GIS inventory was still premature land uses were successfully determined for 145 out of 156 trips.

Another study was conducted by Griffin et al. which concluded that the reliance on geocoded maps to identify locations based on GPS data is impractical because a large percentage of the United States remains to be geocoded. Griffin T. Y. Huang and R. Halverson 2006 Computerized Trip Classification of GPS Data Orlando Fla. which is incorporated herein by reference . Griffin et al. utilized a clustering method known as Dbscan to determine points of interests POI . POI are simply a cluster of points that were accumulated from an individual frequenting a particular location. These POI were classified by trip purpose based on a decision tree and a learning method known as C4.5. Trip purposes were derived by comparing POI and their established trip purpose to coordinate data transmitted by a GPS enabled PDA. The derivation process however was not totally automated. Each POI s purpose had to be manually classified before they could be compared to a GPS coordinate position. The derivation process was no less dependant on human memory than a travel diary as a result of the involvement of human input. The trip classification framework produced correct results between 70 and 97 for all data values despite questionable automation authenticity related to the trip purpose derivation process.

The disclosed method includes an automated travel purpose detection method that utilizes GPS Data collected by GPS enabled devices. The GPS data is compared against a GIS map to obtain various spatial and location characteristics of the surrounding area. This information is then used to derive a traveler s trip purpose.

In a preferred embodiment the inventive method is implemented automatically without any needed manipulation of GIS data. Additionally the method integrates location information as defined by the user for critical locations such as home and work. These personalized locations allow the method to immediately identify the two most common types of trips work related trips and trips returning home.

In the following detailed description of the preferred embodiments reference is made to the accompanying drawings which form a part hereof and within which are shown by way of illustration specific embodiments by which the invention may be practiced. It is to be understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the invention.

Transportation engineers depend on the responsibility and accurate memory of travel survey respondents to recall and record their travel history. However because of the large number of distractions and the burden of maintaining a travel diary some of the collected data from respondents is often flawed and inconsistent. In particular fatigue has been an issue that has afflicted many traffic data collection surveys.

The integrity and accuracy of collected data is imperative because it is used to configure and adjust travel demand models. Travel demand models are used to estimate transportation activity over time and project future travel needs. Currently the only authoritative national source of personal travel behavior data is the National Household Travel Survey NHTS formerly known as the NPTS. Created in 1969 and conducted every six to seven years the data collected by the NTHS is used to determine how travel has changed and developed as a whole in the United States. The NHTS provides information about personal travel behavior including the purpose of the trip mode of transportation trip length time and date of trip occupancy number of people taking a trip and many other trip properties.

The latest NHTS was conducted in 2001 with computer assisted telephone interviewing CATI technology. Respondents were divided into two groups the first were only required to participate in a telephone interview and the second were asked to provide feedback based on a travel diary for an assigned travel day. The respondents who maintained travel diaries were interviewed within a six day window following the day after their assigned travel day. The call back window was determined by the US Department of Transportation because of memory difficulties beyond six days. In total the 2001 NHTS took 14 months to complete and cost approximately 10 million dollars for 25 000 households at 411 dollars each.

Geographic Information Systems GIS and Global Positioning System GPS are two related technologies that provide the opportunity to implement a highly sophisticated level of accuracy in travel research. Both technologies have exceptionally powerful means to generate accurate global and local spatial data. Geographic Information Systems GIS digitally represents the geospatial and geographic characteristics of a region of Earth. A trip path can be accurately represented digitally using a set of Feature Classes By using a GIS map region such as a city. Feature Classes include polygons points or polylines a series of points connected with lines.

In an illustrative embodiment polygons were used which represent the boundaries of a business premise points were used to represent the final position of the user for a particular trip. A GIS map attribute table was used to access parcel information for each polygon. Attribute tables contain information related to the polygon s shape address ownership business type acreage and more. The fields are customizable in a preferred embodiment and vary depending on the needs of the user. is a GIS map in ARCMAP a GIS mapping program and is an attribute table for the selected polygon A . Attribute table comprises fields such as associated map shape Folio Number Acreage Use code DOR CODE and property owner . The fields are customizable to allow adjustments for particular uses.

A GPS enabled device automatically calculates data such as coordinate data temporal information related to a single coordinate heading velocity and trip route without the need for feedback from the individual. Data related to the position of a single GPS enabled device supports accuracy between 2 5 meters with the dissolution of Selective Availability SA in May of 2000. Assisted GPS A GPS utilize information from a cellular network to reduce the time required to obtain location information from a GPS device and enhance position data accuracy.

A relational database was constructed comprising several tables namely a use table purpose table locations table trip data table and trip table. Each table is discussed in greater detail below. These tables defined specific relationships between land use and trip purpose. The use table classified use codes based on known Department of Revenue Resource Codes DOR code s . DOR code s are used to define the type of property at a given location for example residential or commercial. DOR codes used to generate use codes were specifically obtained from the State of Florida Department of Revenue FDOR . The use table contained an auto generated primary key field code id the DOR use code use code field and a field for the property type description of the associated use code Property Type . The use of additional fields is contemplated and will be apparent to those of skill in the art as needed for a given purpose. is a table representing a few random rows of the table the complete table used in this example is 282 rows long.

The purpose table associates the use codes to general and specific purposes. The purpose table is populated with the same code id s as the use table. The General and Specific Purposes were related to the code id s using a similar number purpose association scheme as the U.S. Department of Transportation National Household Travel Survey. See U.S Department of Transportation National Household Travel Survey NHTS 2001 3 and which are incorporated herein by reference . Because each code id was associated with a use code the code id s were classified based on DOR CODE property type descriptions from the FDOR website. is an illustrative purpose table using code ids shown in .

The locations table consisted of several base locations and their coordinates associated with different user ids. The locations used for this example were Home and Work.

The data collection process for this example utilized a GPS enabled Motorola i870 cellular phone. GPS enabled mobile phones were used in this example because they are inexpensive by comparison and are already owned by much of the population. Moreover the FCC e911 mandate requires U.S. cellular carriers to be able to locate mobile phones when an emergency call is placed. Therefore GPS enabled mobile phones have great potential to serve as electronic travel surveys of the future.

An application installed on each cell phone was initialized to start a new trip. For every new trip a trip id was created that was associated with a user id. As each user went about their errands the application constantly sent GPS data to a server which recorded the user s travel behavior. Recording terminated when the user ended his her trip and the GPS coordinates of the trip end point were designated with a under a field called trip end in the trip data table. The concluded trip information was recorded in the trip table which holds summary information for each trip such as general and specific trip purpose mode id and other automatically determined trip characteristics.

The method employed in this example required two components the trip id and its associated latitude and longitude pairs. An SQL query was executed against the trip table to determined if the trip had ended. If the trip ended trip end 1 the method then executes a query against the trip data table to retrieve and verify that the ending trip coordinate is valid GPS data to ensure the latitude and longitude pairs were greater than zero. Valid GPS coordinates in this example are stored as an ArcObjects Point Feature. The method then utilized a GIS map of Hillsborough County HBC from ARCMAP .

A proximity test was performed within the GIS map to determine if the distance between the trip end coordinate and any base location home or work was greater than 50 meters. The proximity itself is a variable parameter 50 meters was chosen for this example through estimation. Both the home and work locations coordinate were retrieved from the location table. Multiple base locations were factored into the method to accommodate a user with more than one of either the method therefore checks all proximity possibilities. If the condition of the proximity test was true the method updated the trip purpose based on which base location was nearest to the trip end point 8 null and 1 null are the general and specific purpose for home and work respectively. If the proximity test was false a procedure called a spatial query was executed. Spatial queries determine any spatial relationships between geometries in an ARCMAP GIS map. The spatial query used for this example was a simple point in polygon calculation that determined what polygon on the GIS map the trip end coordinate lied within. Once the valid polygon was located the use code field of the attribute table was accessed and the use code was retrieved.

The method of this example then comprised a series of SQL queries. An outer join query that used the code id fields from use table and purpose table was executed using the retrieved use code.

A relationship to the General and Specific purposes from the purpose table was established through the correlating code id fields from both tables.

A final SQL query was performed to update the trips table once the General and Specific Purpose ID numbers had been retrieved for the Trip ID. Based on all of the stored and processed data the update query updated the fields Auto Detected Purpose ID Auto Detected Specific Purpose ID FL HCO PA DOR CODE ID DOR code and Purpose Detection Completed for the trip table. The field Purpose Detection Completed was updated to a value of 1 from null once the trip purpose for a particular tripid was defined. This prevented any purposes from being rewritten by the method later.

In the illustrative embodiment a user s GPS enabled device such as a GPS enabled cell phone transmits latitude and longitude coordinate pairs to a server. Coordinates can be determined by any method known in the art such as trilateration or triangulation. The coordinates are then associated with a trip id value for the user. In alternate embodiments the system can store all points collected that are associated with a trip id or the system can store only the coordinates associated with the trip end point. The system associates a trip end value with the coordinates and trip id once the user indicates that the trip has ended. In a preferred embodiment the system verifies that all coordinate values are greater than zero ensuring the end coordinates represent valid coordinates.

Also in a preferred embodiment a proximity test is preformed within a GIS map to determine if the distance between the trip end point and a base location home work etc. associated with the user is within a predetermined distance i.e. 50 meters . If the trip end point and a base location are within 50 meters of each other the system then updates the trip purpose based on which base location was nearest the end point. If no base locations are within the predetermined vicinity the system continues to detect the trip purpose.

A spatial query such as a point in polygon calculation is then executed using GIS database preferably a GIS map to determine which property comprises the end point coordinates . The system next retrieves a use code such as a DOR CODE from the GIS database. The use code is then used to determine an associated code id. The code id in turn can be used to determine a particular general and specific purpose code associated with the code id. The use code general purpose code specific purpose code and any other desire information are then associated with the trip id. This information is further associated with a detection complete value. The detection complete value is executed to reduce overhead in future executions of the system.

The inventive method is therefore able to determine location of the individual as well as capture information about the commercial or residential property visited. The method therefore augments traffic surveys and travel diaries with GPS data or completely eliminates the dependency on methods that rely on a participants memory.

In this example the trip purpose was derived immediately after a trip ended and its data catalogued. In an alternate embodiment each trip purpose is derived using batch updating. In this alternate embodiment the Purpose Detection Completed field of the trip table is checked for any trips whose purpose has not yet been defined after many trips have ended. The trip data table is then queried for all the trips with a 1 in the trip end field. Each trip is then processed consecutively by trip id in the same fashion as in the example described above. Processing also includes all of the checks and tests as described above. The following snippets of code illustrate the objects and their parameters for each of the two versions of the aforementioned methods 

Additional features are included in the inventive method to provide enhanced functionality. Illustrative features address discrepancies that would result when individuals shop at the same place they work or perform drop off s and pick up s at locations that are not defined by an appropriate use code buildings such as strip malls for example contain numerous use codes. For all of these possibilities explanations and solutions were formulated. The first two scenarios are simply resolved by calculating the duration of elapsed time for each event. These time periods are then be compared to the user s work hours or to an estimation of elapsed drop off pick up time e.g 20 seconds .

It will be seen that the advantages set forth above and those made apparent from the foregoing description are efficiently attained and since certain changes may be made in the above construction without departing from the scope of the invention it is intended that all matters contained in the foregoing description or shown in the accompanying drawings shall be interpreted as illustrative and not in a limiting sense.

It is also to be understood that the following claims are intended to cover all of the generic and specific features of the invention herein described and all statements of the scope of the invention which as a matter of language might be said to fall there between. Now that the invention has been described.

