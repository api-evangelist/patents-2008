---

title: Reconstruction of biometric image templates using match scores
abstract: A method of reconstructing biometric face image templates of a face recognition system (FRS) using the match scores or distances provided by the FRS. The match scores represent the distance between a image introduced to the FRS and the unknown image template stored in the FRS. The present method uses an affine transformation approximating the unknown algorithm within the FRS and the match scores provided by the FRS to determine the coordinates of the unknown target template. The coordinates of the unknown target template are then applied to a pseudo-inversion of the affine transformation to produce a reconstructed image template of the unknown target. This reconstructed image template can then be used to ‘break-in’ to the FRS.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08165352&OS=08165352&RS=08165352
owner: University of South Florida
number: 08165352
owner_city: Tampa
owner_country: US
publication_date: 20080806
---
This application is a non provisional of co pending U.S. Patent Application No. 60 594 187 entitled From Scores to Face Templates A Model Based Approach filed Aug. 6 2007 which is fully incorporated herein by reference.

This invention was made with Government support under U.S. Department of Defense Contract No. DCA20002D5014 awarded by the Dept. Homeland Security CIA and Unisys Corp. The Government has certain rights in the invention.

This invention relates to biometric recognition systems more specifically a method of reconstructing image templates used by biometric recognition systems.

Biometric technologies have become an integral part of many secure access systems. Biometric based authentication systems are being deployed in both low risk secure systems such as laptops and cell phones to relatively high risk secure systems such as military bases and airports. The use of biometric technologies has a number of advantages over password or smartcard based technologies such as user convenience high security and less fraud. However like many other authentication technologies biometric based systems are also vulnerable to security breaches. The cost of replacing a biometric token or template is higher to that of a password or a smart card with severe security and privacy implications. The templates can be reused over digital networks or can be used to reproduce synthetic biometric templates such as fake fingers or model faces. In the case of face templates there is an additional risk that the identity of a person using a biometric access system in a highly secure facility can be revealed. Several sources of security breaches in biometric based authentication systems have been found. Some countermeasures have also been proposed to nullify such threats and the standardized biometric application programming interface BioAPI is continuously updated with countermeasure guidelines such as encrypting templates avoiding storage and transmission of original templates and performing quantization of match scores.

In general most biometric authentication systems have four major modules a biometric template acquisition sensor a matching module to compare a new template to an enrolled template a decision module using predefined thresholds for particular operational points and a database for enrolled templates template gallery . In many applications it is not possible to integrate all these modules to one unit. In such scenarios the information is passed from one unit to the other through digital channels and or stored in digital media for offline processing. Each module possesses different levels of security threats and different countermeasures are necessary to nullify such threats. For instance aliveness detection at the sensor unit will detect any attempts to hack the system with synthetic templates. Similarly a secure database or a secure digital channel will prevent any unauthorized access to templates over a network. In applications where the matching module and decision module are not integrated together the match scores must be stored in a digital media or transmitted through a digital channel to a decision module. Security breaches resulting from attacks on match scores can occur in distributed network cluster biometric systems with a central decision unit. Such networks are common in wide area monitoring contexts.

The dominant approach for a match score based attack on a biometric system is based on hill climbing. C. Soutar was the first to propose an iterative template adaptation method popularly known as the hill climbing attack to break into a biometric system based on match scores. Secure vol. 5 p. 46 49 2002 . As shown in hill climbing approach 1 attacks the account of a subject referred to as the targeted subject by starting from arbitrary face template and iteratively refining it. Face recognition system FRS outputs match score which is the distance between arbitrary face template and target subject . At every iteration if the modified template results in a better score than the previous match score then the modified template is retained or else it is discarded and prior template is modified again. The process is iterated until the template is accepted as the targeted subject. With this method a break in may be achieved using a final template that does not look like any real face as long as it deceives the system. In other words it is not a face reconstruction method but just a break in strategy.

One countermeasure for the first generation of hill climbing approaches is to quantize the match scores. In this approach the FRS outputs match scores but does not alter the match scores with small changes in input images. With appropriate quantization it is not possible to get the incremental feedback needed by these approaches. Therefore A. Adler developed a modified hill climbing attack for a face recognition system with quantized match scores using an additional independent set of eigenfaces. Proc. Canadian Conf. Electrical and Computer Eng. p. 469 472 May 2004 . In Adler s modification after initializing the process with an arbitrary face template at every iteration the previously updated template is multiplied with randomly selected eigenfaces having different weights. This generates templates farther away from the previous template. The face template that results in a better match score is retained as the updated image for the next iteration. The process terminates when there is no further improvement in match scores. Experimental results on a commercial face recognition algorithm show that after nearly 4 000 attempts a high match score is achieved with 99 confidence. Later Adler extended this idea to work with encrypted face templates. Proc. Int l Conf. Audio and Video Based Biometric Person Authentication p. 1100 1109 July 2005 .

Security breaches are possible not only in face biometrics but in other biometric applications also. U. Uludag and A. Jain extended the hill climbing approach to break into minutiae based fingerprint recognition system. Proc. SPIE EI 2004 Security Steganography and Watermarking of Multimedia Contents p. 622 633 January 2004 .

Although hill climbing based attacks can successfully break a particular targeted account effective countermeasures for such attacks can also be created. One property of hill climbing based attacks is that they require a large number of attempts before success. Therefore one possible countermeasure for such attacks is to restrict the number of consecutive unsuccessful attempts. However this still leaves the system vulnerable to a spyware based attack that interlaces its false attempts with attempts by genuine users successful attempts and collects information to iterate over a period of time. However in most hill climbing based attacks the templates at the ith attempt iteration are generated from the i 1 th attempts iterations and are similar to each other. Therefore if all unsuccessful attempts for a particular targeted account within a fixed time interval are monitored a pattern of similar faces with decreasing dissimilarity scores will be found. Therefore a continuous observation of unsuccessful match scores will help to detect hill climbing based spyware attacks.

Recently a method of modeling of a face recognition algorithm using an affine transform was developed. P. Mohanty S. Sarkar and R. Kasturi Proc. IEEE Workshop Face Recognition Challenge June 2005 . Starting from distances computed by any face recognition algorithm such as the Face Recognition Grand Challenge FRGC baseline algorithm the modeling process calculates the best affine transform that approximates it. The modeling process is a closed form solution based on classical Multidimensional Scaling MDS .

Attempts to find vulnerabilities have focused on modifications of the hill climbing technique however these techniques have become identifiable by recognition systems as attacks because of their iterative nature. Discovery of vulnerabilities in recognition systems therefore needs to be expanded beyond variations of the hill climbing technique in order for countermeasures to be designed to further prevent security breaches resulting from a recognition system s vulnerabilities. Although a process of modeling a face recognition algorithm is available the process needs modification and improvement to better model a FRS and a method is needed to utilize the improved modeling process to identify vulnerabilities in recognition systems.

The present invention includes a non iterative method of reconstructing unknown image templates of biometric systems using match scores. The method includes providing an array of known image templates providing a recognition algorithm wherein the recognition algorithm computes the distance between the unknown target template and an image template selected from the array of known image templates providing an affine transformation approximating the recognition algorithm and providing the coordinates of the known image templates in the approximation model.

The recognition algorithm may be known or unknown. The image templates in the array of known image templates are preferably distinct from one another. The image templates may be face image templates.

The method further includes finding unknown coordinates in the approximation model such that the distance between the unknown coordinates and the coordinates of known image templates equals the distances computed by recognition algorithm calculating the pseudo inversion of the affine transformation and applying the unknown coordinates of unknown target template to the pseudo inverted affine transformation.

The application of the unknown coordinates to the pseudo inverted affine transformation results in a reconstruction of the unknown image template. Once this template has been reconstructed it can be used to break in to the recognition system thereby exposing the system s vulnerability.

In the following detailed description of the preferred embodiments reference is made to the accompanying drawings which form a part hereof and within which are shown by way of illustration specific embodiments by which the invention may be practiced. It is to be understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the invention.

The present invention provides a method of reconstructing biometric image templates using the match scores of distinct images from a face recognition system FRS . When the reconstruction method of the present invention breaks in to a FRS it creates no obvious patterns in the match scores preventing detection by the FRS. Known countermeasures are not effective in preventing security breaches caused by the method and new countermeasures will be difficult to design because of the absence of an obvious pattern in the match scores.

A simplified diagram of reconstruction method is shown in . A set of face images different from the gallery and probe sets is used as break in set . Modeling process creates a model of FRS s face recognition algorithm. FRS is treated as a complete black box and no reverse engineering is performed on it. Instead an assumption is made as to the type of face recognition algorithm used by FRS . It may be possible to identify the recognition algorithm given score matrices of known algorithms but this is not necessary for the success of the present method.

Modeling process is an offline procedure and needs to be constructed only once for a given recognition algorithm. Once the model is built templates are presented from break in set to FRS which calculates match scores to unknown target template . Unknown target template represents an enrolled template in the FRS which when reconstructed results in a successful break in . Embedding process then uses match scores to embed unknown target template in the model. Finally template construction process manipulates the model to construct unknown target template .

Modeling process illustrated in is used to model the face recognition algorithm of FRS using approximating affine transformation . The inversion of this transformation is then used by embedding process and template construction process to reconstruct unknown target template . The inputs to FRS are two distinct face templates xand xselected from break in set and the output is a match score or distance d between the two templates.

Typically a face recognition algorithm of an FRS transforms the given image into a point in a low dimensional space and then performs a distance measure on this model space. This low dimensional space is usually constructed by statistical methods such as PCA linear discriminant analysis LDA or independent component analysis ICA or constructed out of low level features detected in the images such as in the elastic bunch graph matching approach.

The face recognition algorithm of FRS is unknown to modeling process . Modeling process models a face recognition algorithm even feature based ones by an affine transformation. Modeling process finds approximating affine transformation by combining orthogonal or rigid transformation and nonrigid shear and stretch transformation transformation. Nonrigid portion of transformation enhances performance of modeling process . Approximating affine transformation preserves distances among templates generated by FRS . Any template can be embedded in space based on its distance d from a known set of templates break in set .

Modeling process must determine approximating affine transformation A such that when given images x s are transformed to affine space the euclidean distance between the transformed coordinates of the images are similar to the distances computed by FRS . In this notation x s are N dimensional row scanned representations of the images and affine transformation A has dimensions M N with M

To find approximating affine transformation the given distances or their monotonically increasing transformation are expressed between known images images contained in break in set as a dot product distance between vectors and then affine transformation is constructed between these vectors and the images.

 Herein matrices are denoted by bold capital letters A and column vectors by bold small letters a. The identity matrix is denoted by I a vector of ones by 1 a vector of zeros by 0 and the transpose of A by A. 

To determine dot product distances between vectors dot product distance matrix D must first be created . To create the dot product distance matrix D d represents the distance between two image templates of break in set xand x x as computed by FRS . The distances dare arranged as a K K matrix D d where K is the number of images in break in set .

This process assumes that FRS outputs dissimilarity scores of the two templates. However if FRS computes similarities the similarity scores scan be converted into distances using a variety of transformations such as 1 s log s and

For some recognition algorithms the observed dissimilarity matrix D may not exhibit metric properties . In such cases distance matrix D must undergo metric distance conversion . A distance measure d is called a metric if it satisfies the following properties 

First examine each of the metric properties more closely on D. Two different templates with little variation always produce a nonzero dissimilarity. Therefore it can be assumed that the reflexive and positivity properties always hold unless small scores are forcefully suppressed to zero. Even if the scores are rounded off to the nearest number or small scores are suppressed to zero as long as there is not a sparse distance matrix with few positive entries an embedding in the model space can be found that can approximate the distance matrix D.

Second if the distance matrix D violates the symmetric property then this property can be reinstated by replacing D with D D .

Finally if D violates the triangle inequality then the triangle inequality can be enforced by adding a constant factor to non diagonal entries of D where max d d d . The value of is learned using break in set templates only. Using an offline copy of FRS the pair wise distance between every template of break in set is computed resulting in a full distance matrix D with diagonal elements representing self distance that is set to zero. The learned value of is used in computing the distance from the targeted subject to each template in break in set . is added to the non diagonal entries of D irrespective of genuine and impostor scores therefore the overall performance of FRS as represented by the distance matrix is not affected by the addition of to the computed distances. Once matrix D is metric it must be determined if matrix D is euclidean .

In many cases the distance measure may not be euclidean . Then distance matrix D must be transformed to the equivalent euclidean distance matrix. Although the process of converting a noneuclidean distance matrix to an equivalent euclidean distance matrix is not feasible in all cases an approximation to noneuclidean distance matrix D can be used. Before conversion to a euclidean distance matrix can be achieved matrix D must consist of distances that are metric

The procedure for conversion of noneuclidean distance matrix D to a euclidean distance matrix D was adapted from E. Pekalska P. Paclik and R. Duin. J. Machine Learning Research vol. 2 no. 2 pp. 175 211 2002 . A distance matrix D is euclidean if and only if

A euclidean distance matrix can be determined by finding a constant h such that h 2 is the smallest negative eigenvalue of HDH where

Once a metric and euclidean distance matrix is established the configuration points can be determined .

For each image vectors ymust be found such that yy f d where f is a monotonically increasing function and y . For biometric systems if the original match score between two templates is not modified based on other templates on the gallery then a monotonically increasing transformation of the distances does not affect the model of the system. The choice of this monotonically increasing function depends on the face recognition algorithm under consideration.

Here metric multidimensional scaling MDS is used to determine a set of configuration points that preserve the pair wise distances given by a distance matrix. Given the euclidean distance matrix D K vectors y . . . y must be found such that D i j y y y y . Equation 1 . The configuration points y s are not unique. Any translation or rotation of vectors y s can also be a solution. To reduce such degrees of freedom of the solution set the solution set is centered at the origin and the sum of the vectors is constrained to zero that is y 0.

Equation 1 can be compactly represented in matrix form as D c 1 1 c 2YY Equation 2 where Y is a matrix constructed using the vectors y s as the columns Y y . . . y and c is a column vector of the magnitudes of the vectors y s. Thus c yy . . . yy Equation 3 . Equation 2 is then pre and post multiplied on each side of the equation by centering matrix

Next a set of coordinate vectors Y must be found such that the euclidean distance between these coordinates is related to the distances computed by the FRS by an additive constant. Therefore a set of coordinate vectors Y must be found such that YY B where B is the dot product distances derived from the monotonically increasing transformation of the distances computed by FRS . To find the set of coordinate vectors Y the eigenvalue decomposition EVD of B can be used. Because B is a symmetric positive semi definite matrix it can be assumed that the rank of B is M N so B has M nonnegative eigenvalues and N M zero eigenvalues. Therefore B V V Equation 6 where is N N diagonal matrices where the first M diagonal entries represents the nonzero eigenvalues of matrix B sorted in ascending order. Vrepresents the corresponding eigenvectors of B. The solution is then given by

Approximating affine transformation A must relate coordinates Y to the images X such that Y A X Equation 8 where is the mean of the images in break in set .

Transformation is not restricted to be orthonormal or rigid. Instead approximating affine transformation A is composed of two subtransformations non rigid transformation A and rigid transformation A that is A AA.

Rigid transformation A can be arrived at by any analysis that computes an orthonormal subspace from break in set . PCA was used here for the rigid transformation. The PCA coordinates corresponding to the nonzero eigenvalues is denoted by X A X .

Non rigid transformation A is estimated by relating these rigid coordinates Xto the distance based coordinates Y Y AX Equation 9 . Substituting equation 7 in equation 9 gives

Non rigid transformation allowing for shear and stress and rigid transformation together model the face recognition algorithm. Rigid transformation is not dependent on the face recognition algorithm only non rigid part is determined by distances computed by FRS .

Once modeling method determines approximating affine transformation embedding process as illustrated in must embed unknown target template in modeled affine transformation space . Once unknown target template has been embedded coordinates of unknown targeted template can be determined .

Embedding process does not have or need access to unknown target template however distances of unknown target template to any given image in break in set are needed. FRS takes a template from break in set compares it to stored unknown target template and outputs match score . Match score is stored in distance vector circumflex over d creating circumflex over d circumflex over d circumflex over d . . . circumflex over d . This process is repeated until a sufficient number of distances between break in templates and unknown target template are calculated and stored in distance vector d . If yrepresents coordinate vector of unknown target template embedded in affine space and Y y . . . y represents a matrix of coordinate vectors of K image templates from break in set then based on the nature of the modeled affine transformation and taking into account the euclidean correction factor found in modeling process distances in distance vector circumflex over d would be equal to the euclidean distances between unknown target template s coordinate vector y and the corresponding break in set template s coordinate vector y.

Mathematically if unknown target template s coordinate vector y is unknown circumflex over d y y y y 2yy i 1 . . . K Equation 12 . Subtracting circumflex over d from circumflex over d and simplifying results in Ey F y EF Equation 13 where E y y y y . . . y y Equation 14 and F f f circumflex over d y circumflex over d y Equation 15 and E represents the pseudoinverse of E. Here it assumed that E does not map all points to the null space of F therefore the pseudoinverse of E exists.

Because E consists of all projected points y s in the model space a very low rank of E such as two or three indicates that either the face recognition algorithm computes the distance between two templates in such low dimensional space or the templates in break in set are similar to each other and therefore lying in a subspace of dimension two or three. The later can be avoided by selecting distinct templates in break in set however if the recognition algorithm projects the templates to two or three dimensional spaces then the performance of the system will have a low False Acceptance Rate FAR and any arbitrary template has a high probability of breaking into FRS .

Given distances circumflex over d circumflex over d circumflex over d . . . circumflex over d of unknown target template s coordinate vector y from coordinate vectors yof K images in break in set Equation 13 can be used to compute coordinates of y in approximating affine space .

Once coordinate vector y of unknown target template in affine space is obtained template construction process rebuilds unknown target template as shown in . Affine space is inverted or pseudo inverted and then the vector coordinates of to construct the template. Mathematically if yis the embedded coordinate of unknown template x then AAx y. Solving for the unknown target template x yields x AAy Equation 16 .

A detailed diagram of the overall method of the present invention including modeling process embedding process and template construction process is shown in .

The reconstruction method was tested using three fundamentally different face recognition algorithms PCA with the Mahalanobis cosine distance measure the Bayesian intra extrapersonal classifier BIC and a feature based commercial algorithm.

The face images were selected from the FERET and FRGC face databases. To ensure the distinctiveness of the break in set with the gallery set the break in set was chosen from a subset of the FRGC training set and all the images from the FERET gallery set containing 1 196 images from 1 196 subjects were reconstructed. The FERET face database is a widely used public database and the gallery set is predefined in that database. The Colorado State University CSU Face Identification Evaluation System was used to normalize the original face images. The normalized face images have the same eye locations the same size 150 130 and similar intensity distribution. shows some of the preprocessed face images for the break in set and the gallery set . For break in sets a subset of the FRGC training set was selected with 600 controlled images from the first 150 subjects in the increasing order of their numeric ID with four images per subject. In order to validate the effectiveness of the reconstruction method and break in strategy the selected face recognition algorithms must have high recognition rates at low FAR. Because most of the face recognition algorithms perform poorly on a data set with one or more variations in face images the experiments were restricted to controlled frontal face images only. Similarly current template based algorithms require the images to be scaled to the same size with the same eye location so a preprocessing step is inevitable for such algorithms.

However if a face recognition system has high performance without such restriction on the variation of face images or size of the face images then the reconstruction method can be extended naturally to such systems.

The reconstruction method was evaluated on two template based algorithms and one feature based face recognition system 1 PCA approach with Mahalanobis cosine angle as the distance measure 2 Moghaddam and Pentland s algorithm popularly known as the Bayesian intrapersonal extrapersonal classifier and 3 a commercial face recognition system based on a Local Feature Analysis of face images. Both the baseline and Bayesian algorithms were trained using the break in set from the FRGC training set. The commercial algorithm did not require any training process and was used as a black box in all experiments. Because all of the face images are normalized with fixed eye coordinates and fixed size 150 130 face images the face and eye detector module embedded in the commercial face recognition system was not utilized. Using the fafb probe set of the FERET distribution the baseline the Bayesian and the commercial algorithms had 97 percent 95 percent and 99 percent True Acceptance Rate TAR at 1 percent FAR respectively.

The three algorithms have different approaches to comparing two faces and generate similarity and or dissimilarity scores with different distance measures. The baseline algorithm uses a Mahalanobis cosine angle and has dissimilarity scores between 1 and 1. Similarly the Bayesian maximum likelihood classifier reports the similarity between two faces in terms of probability of difference image to the intrapersonal extrapersonal space. For this experiment the CSU implementation of the Bayesian algorithm was used where a negative logarithm transformation is applied to the probabilistic similarity score to convert the score into a distance measure. However in order to have an upper bound for the dissimilarity scores the distances to the interval 0 1 was row normalized. The similarity measure used in the feature based commercial algorithm is not known but the similarity scores are within a finite range of SS . The similarity scores were converted to distances by simply subtracting each match score Sfrom the maximum possible match score S S . In the experiments raw match scores from the commercial system were used without any score normalization. All three distance measures used by respective algorithms exhibit the symmetric property but violate the triangle inequality property. Therefore the triangle inequality property was reinforced in the respective distance matrices. The values of learned from the break in set were 1.297 2.094 and 19.970 for the baseline the Bayesian and the commercial algorithms respectively.

The next objective was to model the behavior of each face recognition algorithm in terms of an affine transformation. The distance between two templates computed by these algorithms should be close to the euclidean distance between the two templates in the respective affine spaces. Some of the intermediate results show the accuracy of the reconstruction method and the behavior of the constructed affine spaces.

The graphs shown in plot the eigenvalues of the transformed distance matrices B defined in Equation 5 for the baseline algorithm the Bayesian algorithm and the commercial algorithm . The eigenvalues of the individual algorithms reflect the nature of the affine space for each individual algorithm. The plots appear different due to different scales of eigenvalues for each algorithm. shows that the eigenvalues drop from 9.4 to zero at 360 index of the eigenvector which is about 60 percent of the total number of images. Therefore the baseline algorithm uses top eigenvectors that contribute 60 percent of the total energy. also provides estimation for the dimension of each affine space. For example it is expected that for the baseline algorithm any break in set with more than 360 images will result in approximately the same probability of break in.

However in for the Bayesian algorithm eigenvalues did not drop to zero even with 600 images in the break in set. Therefore the loss of sharp features is expected in the reconstructed images for the Bayesian algorithm with 600 or less images in the break in set. Similarly for the commercial algorithm a near optimal performance with 600 images in the break in set is expected.

To demonstrate the effect of the number of images in the break in set on the quality of reconstructed templates and break in performance five different break in sets from the FRGC training set were created. Two break in sets contained 75 and 150 images with one image per subject and the other three break in sets contained 300 450 and 600 images with multiple images per subject. Sample images from the break in set and gallery set are shown in . All 1 196 images were reconstructed in the FERET gallery set using each of the five break in sets. shows some of the reconstructed images using a break in set with 600 images. shows the reconstructed templates of a particular targeted subject with all five break in sets. The reconstruction of the targeted subject s template improves with the number of images in the break in set. The noise in the reconstructed images is caused by the break in set and gallery set being from two distinct databases collected in different environments.

In the case of the Bayesian algorithm the reconstructed images appear much smoother than the original image. As discussed earlier the Bayesian algorithm requires more than 600 numbers of images in the break in set for better reconstruction. To quantify the performance of breaking into a system with reconstructed images the probability of break in which is defined as the probability of breaking a randomly chosen targeted subject is computed by dividing the number of successfully verified target subject using reconstructed images by the total number of enrolled subjects.

The reconstructed templates of the targeted subject are matched against the original templates of the targeted subject and a dissimilarity matrix is generated for each of the three algorithms. From each of these dissimilarity matrices the TAR at 1 FAR from the respective Receiver Operating Characteristic ROC curves is computed. The probability of breaking into any particular face recognition system is computed as the ratio between the number of accounts successfully broken at 1 FAR and the total number of accounts. This performance measure for break in is different from that used in other related works where the number of attempts is considered as a measure of the breaking into a security system. In this case the number of attempts is fixed and is the same as the number of images in the break in set. compares the probabilities of break in for the three algorithms with an increasing number of attempts. For the baseline algorithm only 300 attempts are sufficient to achieve a 100 success rate to break into the system. For the feature based commercial algorithm 600 attempts are needed to break into the system for a 73 success rate. For the template based Bayesian algorithm 600 attempts are required to break into the system to achieve a 72 success rate. At 1 FAR the probability of break in with any random template after 600 attempts is 1 .

An FRS containing a commercial face recognition algorithm was used to compare the reconstruction method of the present invention with a hill climbing based approach presented by Adler and Uludag and Jain. A. Adler Proc. Canadian Conf. Electrical and Computer Eng. pp. 469 472 May 2004 U. Uldag and A. Jain Proc. SPIE EI 2004 Security Steganography and Watermarking of Multimedia Contents pp. 622 633 January 2004 . The eigenfaces required to modify the previous template in a hill climbing approach were created using 600 images from the break in set. At each iteration a randomly selected eigenface was added or subtracted from the previous template. Due to the computational demand of the hill climbing process the hill climbing method was restricted to the first 100 subjects of the FERET gallery set and a maximum of 600 attempts were allowed per subject. The commercial algorithm was set to operate at 1 FAR with 99 TAR and the system decided the acceptance or rejection of a probe template based on this operational setup. The number of targeted subjects that were successfully broken by the hill climbing method were counted and compared with the number of successfully accepted reconstructed templates using the break in set with 600 images. Upon reconstruction of a targeted subject s face template the reconstructed template was treated as an original face template and matched with the gallery set. This comparison shows the efficiency of the approach against the hill climbing approach after 600 iterations.

One countermeasure to the first generation hill climbing attack is to quantize match scores. The systems with quantized match scores do not alter the output match scores with small changes in input images which can prevent general hill climbing attacks. In such cases if two similar probe templates when matched with a template of the targeted subject have the original match scores say 42.56 and 43.4 in the range 0 100 and if the system quantizes the output match scores to the nearest integer then both the scores will be quantized to 43. For such quantized scores a hill climbing based approach will fail to observe the improvement in the modified template and will fail to regenerate a template for the next iteration. However such quantization of match scores has minimal effect on the reconstruction method.

The version of the hill climbing approach used here failed with quantized match scores and therefore the break in performance of the hill climbing approach was not compared with the reconstruction method. The reconstruction method compares different face templates to the targeted subject and does not need to observe any improvement in the match scores therefore the reconstruction method does not have the limitation of the hill climbing approach and can be used on systems with quantized match scores.

Although a comparison could not be completed the probability of break in using quantized match scores for the commercial face recognition system was calculated. The quantization index Q that controls the level of quantization is given

Four different levels of quantization were used by setting the value of Qto 0.0001 0.001 0.01 and 0.1. shows the probability of break in at 1 FAR for the commercial algorithm with the proposed quantization of match scores. The probabilities of break in do not change significantly when the original scores quantized with Qequals to 0.0001 or 0.001 and the probability of break in drops from 0.68 to 0.45 when Qequals to 0.01. However for Qequal to 0.1 the probability of break in dropped from 0.45 to 0.22. demonstrates the effect of quantization on a reconstructed template along with the acceptance rejection decision from the system using that particular reconstructed template. With an increasing value of Qthe quality of the reconstructed template starts to degrade and will eventually be rejected by the system. If the system outputs a very high level of quantized scores for example with Q 0.1 then the original match scores are highly distorted and the affine modeling of the underlying algorithm is erroneous and as a result the overall break in performance is affected. However such quantization of match scores has a trade off with the operational flexibility of a system. For example if the recognition system with the range of original scores in the interval 0 100 quantizes the original scores at 10 different points with Qequal to 0.1 then the system is restricted to operate only at these 10 distinct operational points thresholds and lose the flexibility to operate at any intermediate threshold or FARs.

The reconstruction method of the present invention exposes a potential source for security breach in FRSs. An affine transformation is used to approximate the behavior of the face recognition system using an independent set of face templates termed as the break in set. Selected subsets of templates in the break in set are then matched only once with the enrolled templates of the targeted subject. Given the distances of the targeted subject s template that template is embedded in the learned affine space and the modeling affine transformation is inverted to arrive at the original template.

Advantages of the reconstruction method include it is not based on a local search and it requires fewer attempts than hill climbing based approaches. In addition the reconstruction method is difficult to detect automatically and cannot be neutralized by quantization of match scores because it uses distinct templates in each break in attempt.

It will be seen that the advantages set forth above and those made apparent from the foregoing description are efficiently attained and since certain changes may be made in the above construction without departing from the scope of the invention it is intended that all matters contained in the foregoing description or shown in the accompanying drawings shall be interpreted as illustrative and not in a limiting sense.

It is also to be understood that the following claims are intended to cover all of the generic and specific features of the invention herein described and all statements of the scope of the invention which as a matter of language might be said to fall there between. Now that the invention has been described 

