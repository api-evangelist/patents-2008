---

title: Techniques for communications power management based on system states
abstract: Techniques for communications based power management based on system states are described. An apparatus may comprise a communications sub-system having a control policy module, a controller and a first transceiver capable of operating at different communications rates. The control policy module may be operative to receive computing power state information and communications state information, determine a communications rate parameter for the first transceiver based on the computing power state information and the communications state information, and instruct the controller to modify a communications rate for the first transceiver based on the communications rate parameter. Other embodiments are described and claimed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08156353&OS=08156353&RS=08156353
owner: Intel Corporation
number: 08156353
owner_city: Santa Clara
owner_country: US
publication_date: 20080911
---
This application is a non provisional of and claims priority to U.S. Patent Provisional Application Ser. No. 60 973 038 titled TECHNIQUES FOR COMMUNICATIONS POWER MANAGEMENT BASED ON SYSTEM STATES filed on Sep. 17 2007 and is related to U.S. Patent Provisional Application Ser. No. 60 973 031 titled BUFFERING TECHNIQUES FOR POWER MANAGEMENT filed on Sep. 17 2007 U.S. Patent Provisional Application Ser. No. 60 973 035 titled TECHNIQUES FOR COMMUNICATIONS BASED POWER MANAGEMENT filed on Sep. 17 2007 and U.S. Patent Provisional Application Ser. No. 60 973 044 titled TECHNIQUES FOR COLLABORATIVE POWER MANAGEMENT FOR HETEROGENEOUS NETWORKS filed on Sep. 17 2007 all three of which are hereby incorporated by reference in their entirety.

Power management for electronic devices such as computer systems play an important part in conserving energy managing heat dissipation and improving overall system performance. Modern computers systems are increasingly designed to be used in settings where a reliable external power supply is not available making power management to conserve energy important. Power management techniques allow certain components of a computer system to be powered down or put in a sleep mode that requires less power than while in active operation thereby reducing the total amount of energy consumed by a device over some period of time. Energy conservation is especially important for mobile devices to conserve battery power. Even when reliable external power supplies are available careful power management within the computing system can reduce heat produced by the system enabling improved performance of the system. Computing systems generally have better performance at lower ambient temperatures because key components can run at higher speeds without damaging their circuitry. Consequently there are many advantages to enhancing power management for electronic devices.

Various embodiments may comprise one or more elements. An element may comprise any structure arranged to perform certain operations. Each element may be implemented as hardware software or any combination thereof as desired for a given set of design parameters or performance constraints. Although an embodiment may be described with a limited number of elements in a certain topology by way of example the embodiment may include more or less elements in alternate topologies as desired for a given implementation. It is worthy to note that any reference to one embodiment or an embodiment means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment. The appearances of the phrase in one embodiment in various places in the specification are not necessarily all referring to the same embodiment.

Various embodiments may be generally directed to techniques for communications power management based on system or platform power states. Some embodiments may be particularly directed to enhanced power management techniques to manage power states for a communications portion of a node using computing power state information for a computing portion of the node. In one embodiment for example the computing power state information may be communicated over a communications bus and uniform interfaces between the various portions of a node using various power management messages. Examples for a node may include various types of heterogeneous network endpoint and infrastructure devices or resources such as computers servers switches routers bridges gateways and so forth. The computing power state information may indicate for example whether a computing portion of a given node is operating in a power managed state or a full computation state the duration for a power managed state a resume latency to exit from a power managed state and other power related characteristics for the computing portion of the node. The computing power state information may be used to perform power management operations for the communications portion of the node. For example the computing power state information may be used by a control policy to select a communications rate or link rate for the communications portion of the node thereby directly or indirectly selecting a power state for the communications portion of the node. In another example the computing power state information may be used to directly switch the communications portion of the node to another power state. The power management techniques may be implemented for example by power gating and or clock gating various hardware elements of a node thereby conserving battery power.

In one embodiment an apparatus such as a network device may include a managed power system and a power management module to manage power states for the managed power system. The managed power system may comprise for example any devices components modules circuits or other portions of the node drawing power from a power source such as a battery. In one embodiment for example the managed power system may comprise a computing sub system. The computing sub system may include a computing state module operative to determine computing power state information. The computing power state information may include for example power states for the computing sub system as well as one or more parameters representing certain characteristics of the power states such as idle durations resume latencies and so forth. The computing state module may send a power management message with the computing power state information to the power management module.

The power management module may be operative to communicate power state information with the computing sub system and the communications sub system utilizing various power management messages communicated over a communications bus and appropriate interfaces for the node. The power management module may include a power management controller operative to receive the power management message retrieve the computing power state information from the power management message and determine a computing power state parameter for the computing sub system. The power management controller may send the computing power state information including the computing power state parameter to a communications sub system of the managed power system.

The managed power system may further comprise a communications sub system. The communications sub system may include a control policy module and one or more transceivers capable of operating at different communications rates. The control policy module may be operative to receive computing power state information from the power management module and communications state information from a network state module of the communications sub system and determine a communications rate parameter for the one or more transceivers based on the computing power state information and the communications state information. The control policy module may direct a controller to modify a communications rate for the one or more transceivers based on the communications rate parameter. A lower communications rate typically lowers power consumption for the communications sub system. In this manner different portions of a node such as a network device may exchange negotiate and synchronize power state information to improve or enhance power state management for the communications sub system of the network device in order to facilitate energy conservation across the entire network device.

In various embodiments the communications system may comprise or form part of a wired communications system a wireless communications system or a combination of both. For example the communications system may include one or more nodes arranged to communicate information over one or more types of wired communications links such as a wired communications link . Examples of the wired communications link may include without limitation a wire cable bus printed circuit board PCB Ethernet connection peer to peer P2P connection backplane switch fabric semiconductor material twisted pair wire co axial cable fiber optic connection and so forth. The communications system also may include one or more nodes arranged to communicate information over one or more types of wireless communications links such as wireless shared media . Examples of the wireless shared media may include without limitation a radio channel infrared channel radio frequency RF channel Wireless Fidelity WiFi channel a portion of the RF spectrum and or one or more licensed or license free frequency bands. In the latter case the wireless nodes may include one more wireless interfaces and or components for wireless communications such as one or more radios transmitters receivers transceivers chipsets amplifiers filters control logic network interface cards NICs antennas antenna arrays and so forth. Examples of an antenna may include without limitation an internal antenna an omni directional antenna a monopole antenna a dipole antenna an end fed antenna a circularly polarized antenna a micro strip antenna a diversity antenna a dual antenna an antenna array and so forth. In one embodiment certain devices may include antenna arrays of multiple antennas to implement various adaptive antenna techniques and spatial diversity techniques.

As shown in the illustrated embodiment of the communications system comprises multiple nodes . The nodes may comprise or be implemented as any type of fixed or mobile electronic device or resource including a network device network endpoint equipment network infrastructure equipment cellular radiotelephone network equipment a processing system a computer system a computer sub system a computer a workstation a terminal a server a personal computer PC a laptop computer an ultra laptop computer a portable computer a handheld computer a personal digital assistant PDA a cellular telephone a smart phone a router a switch a bridge a gateway a network appliance a microprocessor an integrated circuit a programmable logic device PLD a digital signal processor DSP a processor a circuit a logic gate a register a microprocessor an integrated circuit a semiconductor device a chip a transistor and so forth. In some embodiments some of the nodes may represent heterogeneous network devices. In one embodiment for example the nodes may comprise various mobile computer systems e.g. laptop computers handheld computers smart phones cellular telephones and so forth utilizing a mobile power source such as one or more batteries.

In various embodiments the nodes may be arranged to communicate various types of information in multiple communications frames as represented by the power management packet data units PMPDU via the network or communications links . In various embodiments the nodes may be arranged to communicate control information related to power management operations. Examples of control information may include without limitation power information state information power state information power management commands command information control information routing information processing information system file information system library information software e.g. operating system software file system software application software game software firmware an application programming interface API a program an applet a subroutine an instruction set an instruction computing code logic words values symbols and so forth. The nodes may also be arranged to communicate media information to include without limitation various types of image information audio information video information AV information and or other data provided from various media sources.

Although some of the nodes may comprise different network devices each of the nodes may include a common number of elements as shown by the node . For example the nodes may each include various power management elements to implement a power management scheme operative to perform power management operations for the nodes . In the illustrated embodiment shown in for example a first node may include a managed power system coupled to a power management module . The power management module of the first node may be operative to communicate power state information with a second node e.g. one of the nodes over a communications connection established via the communications links .

In general operation the power management module may manage various power states for the managed power system of the node . The power state information may include past present or future power states for one or more portions of a managed power system of the node . In this manner different portions of a managed power system may exchange power state information to improve or enhance power state management for the node . For example the power management module may synchronize power management operations between the sub systems of the managed power system such as placing communications components of the communications sub system in a lower power state based on operations or anticipated operations for the computing components of the computing sub system for a given communications rate duration period. The lower power state for the communications sub system may be achieved for example by switching to a power state for the communications sub system e.g. Active to Idle or a lower link rate for the communications sub system e.g. 10 Gb s to 100 Mb s .

Although the node is the only node shown in to include the managed power system and the power management module it may be appreciated that each of the nodes may include an identical or similar managed power system and power management module . For example the node may include a managed power system coupled to a power management module the node may include the elements and so forth. Furthermore the descriptions and examples of the structures and operations provided with reference to the managed power system and the power management module may also apply to the corresponding elements in the other nodes . Exemplary embodiments for the managed power system and the power management module may be described in more detail with reference to .

The managed power system and the power management module may be suitable for various use scenarios or applications. In some embodiments for example the managed power system and the power management module may utilize enhanced power management techniques implemented in the form of one or more control policies for link rate management of a communications device in accordance with the Energy Efficient Ethernet EEE project. The goal of the EEE project is to reduce power consumption of network endpoint devices and infrastructure equipment. Many Ethernet communications links are idle most of the time particularly for nodes implemented as desktop units e.g. a personal computer or server . An EEE control policy attempts to match link rates with link utilization for power efficiency. Typically lower link rates consume less power. For example savings potential may be 2 to 4 Watts W per link for a 1 Gigabit Per Second Gb s link versus a 100 Megabits Per Second Mb s link and 10 to 20 W per link for a 10 Gb s link versus a 1 Gb s link. As a result an existing network interface card NIC may lower the link rate to save power when entering lower power states for the NIC such as a sleep power state idle power state off power state and so forth. Switching between link rates however needs to be relatively fast to prevent dropping a connection with another endpoint typically on the order of 1 10 milliseconds ms or less.

To support fast switching between link rates a communications portion of the nodes such as a media access controller may implement a rapid physical layer PHY selection RPS technique. RPS is a technique or mechanism for fast switching of link rates and is typically supported at both ends of a link. RPS techniques may be implemented in a number of different ways such as through a media access control MAC frame handshake operation for example. RPS is typically limited however to rapid switching of link rates only.

RPS needs a control policy to determine when to switch link rates. Designing a control policy for RPS involves balancing multiple design parameters and performance constraints. One fundamental performance trade off for example is time in a given link rate versus packet delay. If design priority is given to lowest possible packet delay then the network endpoint should only use the highest link rate at all times. If design priority is given to lowest possible energy use then the network endpoint should only use the lowest link rate at all times. A given design solution attempts to have low and bounded packet delay with maximum energy savings. One way to provide this design solution is by triggering a switch in link rates based on threshold in output buffers. If a queue is above a certain threshold or watermark then the nodes switches to a higher link rate. If a queue is below a certain threshold or watermark then the network endpoint switches to a lower link rate. This type of control policy alone however may cause frequent oscillation between link rates particularly when traffic is bursty which is fairly typical for average users. Furthermore this type of control policy may force the nodes to enter a higher link rate even when priority is given to energy conservation such as when operating from a mobile power supply such as a battery. In some cases for example a user may desire a node to stay in a lower power state and maintain minimally tolerable network performance.

Various embodiments attempt to solve these and other problems. Some embodiments attempt to improve power management for a node by implementing a control policy that supports RPS techniques while allowing a computer system to aggressively and proactively power gate and or clock gate portions of the computer system. For example the computer system can manage power levels and link rates for various communications elements based on the power levels and parameters of the computing elements among other factors. To accomplish this some embodiments utilize a parameterized communications device power management technique that interfaces with the platform power management architecture and conveys the idle duration resume latency and other computing power state information for the computing elements components modules sub systems or devices. By managing one or more power related aspects of the communications portions of a node based on computing power state information the node may realize enhanced energy conservation and utilize limited power resources such as batteries more efficiently.

In various embodiments the managed power system may include any electrical or electronic elements of the nodes consuming power from the power source and suitable for power management operations. Power management techniques allow certain components of an electronic device or system e.g. a computer system to be powered down or put in an idle mode or sleep mode that requires less power than while in active operation thereby reducing the total amount of energy consumed by a device over some period of time. The power management techniques may be implemented by power gating and or clock gating various hardware elements of the managed power system thereby conserving battery power.

More particularly the managed power system may include various electrical or electronic elements of the nodes that can operate in various power states drawing multiple levels of power from the power source as controlled by the power management controller of the power management module . The various power states may be defined by any number of power management schemes. In some cases for example the power states may be defined in accordance with the Advanced Configuration and Power Interface ACPI series of specifications including their progeny revisions and variants. In one embodiment for example the power states may be defined by the ACPI Revision 3.0a Dec. 30 2005 the ACPI Revision 3.0a Specification . The ACPI series of specifications define multiple power states for electronic devices such as global system states Gx states device power states Dx states sleeping states Sx states processor power states Cx states device and processor performance states Px states and so forth. It may be appreciated that other power states of varying power levels may be implemented as desired for a given set of design parameters and performance constraints. The embodiments are not limited in this context.

In some embodiments the various electrical or electronic elements of the nodes suitable for power management operations may be generally grouped or organized into the communications sub system and the computing sub system . It may be appreciated however that the sub systems are provided by way of example for purposes of clarity and not limitation and the managed power system may include other electrical or electronic elements of the nodes suitable for power management operations by the power management module . For example the nodes may typically include a computer monitor or display such as a digital electronic display or an analog electronic display. Examples of digital electronic displays may include electronic paper nixie tube displays vacuum fluorescent displays light emitting diode displays electroluminescent displays plasma display panels liquid crystal displays thin film transistor displays organic light emitting diode displays surface conduction electron emitter displays laser television displays carbon nanotubes nanocrystal displays and so forth. An example for analog electronic displays may include cathode ray tube displays. Computer monitors are often placed in a sleep mode when an operating system detects that the computer system has not received any input from a user for a defined period of time. Other system components may include digital cameras touch screens video recorders audio recorders storage devices vibrating elements oscillators system clocks controllers and other platform or system architecture equipment. These other system components can also be placed in a sleep or powered down state in order to conserve energy when the components are not in use. The computer system monitors input devices and wakes devices as needed. The embodiments are not limited in this context.

In various embodiments the managed power system may include the communications sub system . The communications sub system may comprise various communications elements arranged to communicate information and perform communications operations between the nodes . Examples of suitable communications elements may include any electrical or electronic element designed to communicate information over the communications links including without limitation radios transmitters receivers transceivers chipsets amplifiers filters control logic interfaces network interfaces network interface cards NICs antennas antenna arrays digital signal processors baseband processors communications processors media access controllers memory units oscillators clocks and so forth.

In various embodiments the managed power system may include the computing sub system . The computing sub system may comprise various computing elements arranged to process information and perform computing operations for the nodes . Examples of suitable computing elements may include any electrical or electronic element designed to perform logical operations or process information including without limitation processors microprocessors chipsets controllers microcontrollers embedded controllers clocks oscillators audio cards video cards multimedia cards peripherals memory units memory controllers video controllers audio controllers multimedia controllers bus controllers hubs and so forth.

In various embodiments the power management module may comprise a power source . The power source may be arranged to provide power to the elements of a node in general and the managed power system in particular. In one embodiment for example the power source may be operative to provide varying levels of power to the sub systems . In various embodiments the power source may be implemented by a rechargeable battery such as a removable and rechargeable lithium ion battery to provide direct current DC power and or an alternating current AC adapter to draw power from a standard AC main power supply.

In various embodiments the power management module may include a power management controller . The power management controller may generally control power consumption for the managed power system . In one embodiment the power management controller may be operative to control varying levels of power provided to the sub systems in accordance with certain defined power states. For example the power management controller may modify switch change or transition the power levels provided by the power source to the sub systems to a higher or lower power level thereby effectively modifying a power state for the sub systems .

In various embodiments the power management module may include one or more power control timers . The power control timer may be used by the power management controller to maintain a certain power state for a given power state duration period or communications rate duration period. The power state duration period may represent a defined time interval one or more portions of the managed power system is in a given power state. The communications rate duration period may represent a defined time interval the communications sub system communicates at a given communications rate. For example the power management controller may switch the communications sub system from a higher power state to a lower power state for a defined time interval set by the power state duration period and when the time interval has expired switch the communications sub system to the higher power state. Similarly the power management controller may switch the communications sub system from a faster communications rate to a slower communications rate for a defined time interval set by the communications rate duration period and when the time interval has expired switch the communications sub system to the faster communications rate.

In order to coordinate power management operations for a node the sub systems and the power management module may communicate various power management messages via a communications bus and the respective power management interfaces and . To manage power for all the devices in a system an operating system typically utilizes standard techniques for communicating control information over a particular Input Output I O interconnect. Examples of various I O interconnects suitable for implementation as the communications bus and associated interfaces may include without limitation Peripheral Component Interconnect PCI PCI Express PCIe CardBus Universal Serial Bus USB IEEE 1394 FireWire and so forth.

Referring again to the communications sub system may include a network state module . The network state module may be arranged to monitor certain states or characteristics of the communications sub system such as the network traffic activity of the communications connections capabilities information communications operational states for communications state machines and other operations for the various communications elements of the communications sub system . The network state module may send communications power management messages to the power management module with the measured characteristics. The power management module may generate power state information for the managed power system based in part on the communications power management messages 

Similarly the computing sub system may include a computing state module . The computing state module may be arranged to monitor certain states or characteristics of the computing sub system such as the level of system activity capabilities information computing operations states for computing state machines and other operations for the various computing elements of the computing sub system . The computing state module may send computing power management messages to the power management module with the measured characteristics. The power management module may generate power state information for the managed power system based in part on the computing power management messages 

In general operation the power management module may perform power management operations for portions of the managed power system of the node based on power state information received from other portions of the node . In some cases for example the power management module for the node may be operative to receive computing power state information from the computing state module of the computing sub system for the managed power system over the communications bus . The power management module may manage various communications power states and or communications rates for the communications sub system of the managed power system for the node based on the computing power state information for the computing sub system . The power management module and the sub systems may communicate the computing power state information over the communications bus in accordance with various communications bus protocols.

The computing power state information may represent information explicitly or implicitly related to power states for the computing sub system . The computing power state information may also represent various characteristics or attributes for the power states of the computing sub system such as such as computing power states idle durations resume latencies and so forth. In one embodiment for example the computing power state information may include without limitation a computing power state parameter a computing idle duration parameter a computing resume latency parameter and so forth.

As previously described the power management module may control various power states for the managed power system in accordance with one or more power management standards such as the ACPI standard. The ACPI standard may be suitable for defining the various power states for a portion of the managed power system such as the computing sub system and or the communications sub system . For example the power management module may control power consumption for a processor and chipset of the communications sub system using different processor power consumption states e.g. C C C and C as defined by the ACPI Revision 3.0a Specification. The power management module may send power control commands to the computing sub system over the communications bus and interfaces .

In one embodiment for example the power management module may control power consumption for the computing sub system using an abbreviated set of power states from the ACPI Revision 3.0a Specification referred to as system power states. The system power states define various power states specifically designed for the computing elements processing information for the nodes . Examples for the various system power states may be shown in Table 1 as follows 

Some of the system power states have associated parameters. For example the S0i1 S0i3 power states each have a pair of parameters referred to as a computing idle duration parameter and a computing resume latency parameter. The computing idle duration parameter represents an amount of time or defined time interval the computing sub system will remain in a given power state e.g. S0i . The computing resume latency parameter represents an amount of time or defined time interval the computing sub system needs to exit a given power state e.g. S0i and enter a higher power state e.g. S0 . The computing idle duration parameter and the computing resume latency parameter for the system power states may be communicated by the power management messages over the communications bus .

In various embodiments the computing state module may be arranged to generate the computing idle duration parameter and the computing resume latency parameter based on the capabilities of the computing sub system . For example the computing sub system may include various processors operating at different speeds such as a host application or system processor. In another example the computing sub system may include various memory units operating at different read write speeds. In still another example the computing sub system may include various I O devices such as a keyboard mouse display memory controllers video controllers audio controllers storage devices e.g. hard drives expansion cards co processors and so forth. The computing state module may evaluate these and other computing capabilities of the computing sub system and generate the appropriate computing idle duration parameter and the computing resume latency parameter based on the evaluated capabilities of the computing sub system .

Although in some embodiments the power states for the sub systems may be similarly defined and in synchronization in some embodiments the power states may also be differently defined and not synchronized for the sub systems . For example the power management module may control power consumption for a radio or network interface of the communications sub system using different power states than defined for the computing sub system as described further below.

In various embodiments the communications sub system may include one or more transceivers capable of operating at different communications rates. The transceivers may comprise any communications elements capable of transmitting and receiving information over the various wired media types e.g. copper single mode fiber multi mode fiber etc. and wireless media types e.g. RF spectrum for communications link . Examples of the transceivers may include various Ethernet based PHY devices such as a Fast Ethernet PHY device e.g. 100Base T 100Base TX 100Base T4 100Base T2 100Base FX 100Base SX 100BaseBX and so forth a Gigabit Ethernet GbE PHY device e.g. 1000Base T 1000Base SX 1000Base LX 1000Base BX10 1000Base CX 1000Base ZX and so forth a 10 GbE PHY device e.g. 10GBase SR 10GBase LRM 10GBase LR 10GBase ER 10GBase ZR 10GBase LX4 10GBase CX4 10GBase Kx 10GBase T and so forth a 100 GbE PHY device and so forth. The transceivers may also comprise various radios or wireless PHY devices such as for mobile broadband communications systems. Examples of mobile broadband communications systems include without limitation systems compliant with various Institute of Electrical and Electronics Engineers IEEE standards such as the IEEE 802.11 standards for Wireless Local Area Networks WLANs and variants the IEEE 802.16 standards for Wireless Metropolitan Area Networks WMANs and variants and the IEEE 802.20 or Mobile Broadband Wireless Access MBWA standards and variants among others. The transceivers may also be implemented as various other types of mobile broadband communications systems and standards such as a Universal Mobile Telecommunications System UMTS system series of standards and variants a Code Division Multiple Access CDMA 2000 system series of standards and variants e.g. CDMA2000 1xRTT CDMA2000 EV DO CDMA EV DV and so forth a High Performance Radio Metropolitan Area Network HIPERMAN system series of standards as created by the European Telecommunications Standards Institute ETSI Broadband Radio Access Networks BRAN and variants a Wireless Broadband WiBro system series of standards and variants a Global System for Mobile communications GSM with General Packet Radio Service GPRS system GSM GPRS series of standards and variants an Enhanced Data Rates for Global Evolution EDGE system series of standards and variants a High Speed Downlink Packet Access HSDPA system series of standards and variants a High Speed Orthogonal Frequency Division Multiplexing OFDM Packet Access HSOPA system series of standards and variants a High Speed Uplink Packet Access HSUPA system series of standards and variants and so forth. The embodiments are not limited in this context.

The transceivers may individually or collectively operate at different communications rates or link rates. In one embodiment for example a single transceiver may be capable of operating at various communications rates. In this case when the control policy module determines the communications sub system should operate at a different communications rate the control policy module may instruct the controller to switch the single transceiver to the desired communications rate. In another embodiment for example a first transceiver may be capable of operating at a first communications rate a second transceiver may be capable of operating at a second communications rate and so forth. When the control policy module determines the communications sub system should operate at a different communications rate the control policy module may instruct the controller to switch operations from the first transceiver to one of the transceivers arranged to provide the desired communications rate.

In various embodiments the communications sub system may include one or more buffers . The buffers may be operative to store network packets received by the transceivers or ready for transmission by the transceivers . For example the buffers may be used to buffer packets until the communications rate for the transceiver has been completely switched or modified since switching communications rates for the transceivers is typically not instantaneous. The buffers may be implemented for example as standard First In First Out FIFO queues.

In various embodiments the communications sub system may include a controller . The controller may be arranged to control switching between communications rates by the transceivers . In one embodiment for example the controller may be arranged to implement fast switching of communications rates utilizing RPS techniques in accordance with the EEE project. RPS is a technique or mechanism for fast switching of communications rates and is typically supported at both ends of a link. For example the communications sub system of the first node may implement RPS operations and the communications sub system of the second node may also implement corresponding RPS operations. The RPS operations may be implemented in a number of different ways such as through a MAC frame handshake operation for example. The controller may be implemented as any computing elements or logic device capable of executing logical operations such as processors microprocessors chipsets controllers microcontrollers embedded controllers and so forth.

In various embodiments the communications sub system may include a control policy module . The control policy module may be arranged to implement one or more control policies to determine when the controller should have the transceivers switch communications rates. The control policy module may implement control policies to enhance energy conservation for the nodes . For example the control policy module may implement control policies compatible with the EEE project.

In one embodiment the control policy module may be operative to receive computing power state information and communications state information. The control policy module may receive the computing power state information indirectly from the power management module via the communications bus and the interfaces . Alternatively the control policy module may receive the computing power state information directly from the computing sub system via the communications bus and the interfaces . The control policy module may receive the communications state information from the network state module .

The control policy module may receive the computing power state information and or the communications state information and evaluate or compare the computing power state information and the communications state information against the control policies programmed for the control policy module . The control policy module may then determine a communications rate parameter for a transceiver based on the analysis of the computing power state information and the communications state information. The communications rate parameter may represent a given communications rate output providing a given level of power consumption programmed for the given computing power state information and communications state information inputs. The control policy module may instruct the controller to switch change transition or otherwise modify a communications rate for a transceiver based on the communications rate parameter.

The control policy module may implement various types of control policies or rules to control when the controller should switch communications rates. In one embodiment for example the control policy module may receive a computing power state parameter a computing idle duration parameter and or a computing resume latency parameter as the computing power state information. The computing power state parameter may represent a computing power state for the computing sub system . The computing power state parameter may be generated for example by the power management controller based on the computing power state information received from the computing sub system .

In one embodiment the control policy module may determine the communications rate parameter for the transceivers based on the computing power state parameter. For example the control policy module may have access to various control policies rules or a lookup table LUT having certain communications rate parameters corresponding to certain computing power state parameters examples of which may be shown in Table 2 as follows 

In one embodiment the control policy module may determine the communications rate parameter for the transceivers based on the computing power state parameter and other information such as various types of computing power state information various types of communications state information and so forth. The control policy module may implement various control policies or rules to implement the various other types of information used to select a communications rate for the communications sub system at any given moment thereby improving power management of the nodes 

In one embodiment the control policy module may determine the communications rate parameter for the transceivers based on the computing power state parameter and various types of the communications state information such as a network utilization parameter. For example the network state module may be operative to monitor various communications connections for one or both of the communications links for a defined time period. The network state module may calculate an average transmit period and an average receive period for the communications connections and determine a network link utilization parameter based on the average transmit period and the average receive period. The control policy module may receive the network link utilization parameter as the communications state information and determine the communications rate parameter for the transceiver based on the computing power state information and the network link utilization parameter. By way of example assume the computing power state parameter is set at S0i2 and the corresponding communications rate parameter for S0i2 is CR2. Further assume the network link utilization parameter indicates a high level of utilization of the communications connections thereby implying a higher traffic load for the communications links . The control policy module may evaluate the network link utilization parameter and select a communications rate parameter of CR1 rather than CR2 to account for the higher network link utilization parameter.

In one embodiment the control policy module may determine the communications rate parameter for the transceivers based on the computing power state parameter and various types of the communications state information such as a buffer utilization parameter. The control policy module may be arranged to switch link rates based on thresholds in input and or output buffers . If a queue or buffer is above a certain threshold or watermark for example then the control policy module may instruct the controller to switch the transceivers to a higher link rate. If a queue or buffer is below a certain threshold or watermark for example then the control policy module may instruct the controller to switch the transceivers to a lower link rate. For example the network state module may be arranged to compare a number of packets in a buffer with a threshold value to form the buffer utilization parameter. The threshold value may represent a high watermark value or a low watermark value for the buffer . The network state module may determine a buffer utilization parameter based on the comparison results. By way of example assume the computing power state parameter is set at S0i2 and the corresponding communications rate parameter for S0i2 is CR2. Further assume the buffer utilization parameter indicates the number of packets stored by the buffers is below a low watermark value thereby implying a lower traffic load for the communications links . The control policy module may evaluate the buffer utilization parameter and select a communications rate parameter of CR3 rather than CR2 to account for the lower buffer utilization parameter.

In one embodiment the control policy module may determine the communications rate parameter for the transceivers based on the computing power state parameter and various other types of computing power state information such as a computing idle duration parameter and a computing resume latency parameter. As previously described the computing idle duration parameter represents a time interval the computing sub system will be in an idle state and the computing resume latency parameter represents a time interval the computing sub system needs to switch power states. By way of example assume the computing power state parameter is set at S0i2 and the corresponding communications rate parameter for S0i2 is CR2. Further assume the computing idle duration parameter is 100 millisecond ms and the computing resume latency parameter is 1 ms thereby implying that the computing sub system will switch power states relatively soon with some time interval for the resume period. The control policy module may evaluate the computing idle duration parameter and the computing resume latency parameter and select a communications rate parameter of CR1 rather than CR2 to account for an anticipated switch to a higher power state by the computing sub system .

In one embodiment the control policy module may determine the communications rate parameter for the transceivers based on the computing power state parameter the computing idle duration parameter the computing resume latency parameter and the communications state information. The control policy module may have multiple control policies or rules for each parameter similar to the previous examples and select a communications rate for the transceivers accordingly.

In addition to or in lieu of performing power management operations by using the control policy module to select a communications rate for the transceivers that saves energy the power management controller may perform power management directly by receiving communications state information from the communications sub system communications power state information from the communications sub system and or the computing power state information from the computing sub system and determine a communications power state parameter appropriate for the communications sub system . For example in some embodiments the power states for the communications sub system and the computing sub system may be similarly defined and in synchronization. In this case the power management controller may match the communications power state with the computing power state. In some embodiments however the communications power state information may also be differently defined and not synchronized for the sub systems . For example the power management module may control power consumption for a radio or network interface of the communications sub system using different power states than defined for the computing sub system . In one embodiment for example the power management module may control power consumption for the communications sub system using a set of power states referred to as network link power management NLPM power states. The NLPM power states define various network link power states specifically designed for the communications elements of the communications sub system communicating information over the given communications links . Examples for the various NLPM power states may be shown in Table 3 as follows 

In various embodiments the network state module may be arranged to generate the communications idle duration parameter and the communications resume latency parameter based on the capabilities of the communications sub system . For example the communications sub system may implement various buffers to store information received from the communications connections such as network packets and forward the information for servicing and processing by the computing sub system . In another example the communications sub system may also implement various buffers to store information received from the communications bus such as network packets and forward the information for communications by the communications sub system to other nodes over the communications connections via the communications links . In yet another example the communications sub system may include various wired or wireless transceiver operating at different communications speeds such as the IEEE 802.3 2005 standard 10 Gigabit Ethernet 10GbE or 100GigE the IEEE 802.3ba proposed standard 100 Gigabit Ethernet 100GbE or 100GigE and so forth. In still another example the communications sub system may include various processors operating at different speeds such as baseband or communications processor. In still another example the network state module may monitor the rate of information being received over the communications connections via the communications links . In this example the network state module of the communications sub system may monitor the communications links to measure packet inter arrival times. Other examples of communications capabilities may include other network traffic load measurements on the communications links e.g. synchronous traffic asynchronous traffic burst traffic and so forth a signal to noise ratio SNR a received signal strength indicator RSSI throughput of the communications bus physical layer PHY speed power state information for other nodes received via one or more PMPDU and so forth. The network state module may evaluate these and other network or communications capabilities of the communications sub system and generate the appropriate communications idle duration parameter and the communications resume latency parameter based on the evaluated capabilities of the communications sub system . The power management controller may use any of these parameters in various combinations to determine an appropriate communications power state for the communications sub system and send a power management message to the communications sub system with a communications power state parameter to place the communications sub system in a communications power state e.g. an NLPM power state NL0 NL3 corresponding to the communications power state parameter.

The logic flow may illustrate various operations for the nodes in general and the managed power system and the power management module in particular. As shown in the logic flow may receive computing power state information by a control policy module at block . The logic flow may receive communications state information by the control policy module at block . The logic flow may determine a communications rate parameter for a transceiver based on the computing power state information and the communications state information at block . The logic flow may modify a communications rate for the transceiver based on the communications rate parameter at block . The embodiments are not limited in this context.

In one embodiment the logic flow may receive computing power state information by a control policy module at block . For example the control policy module may receive computing power state information indirectly from the power management controller via the communications bus and interfaces or directly from the computing sub system via the communications bus and interfaces . The computing power state information may include without limitation a computing power state parameter a computing idle duration parameter a computing resume latency parameter and so forth.

In one embodiment the logic flow may receive communications state information by the control policy module at block . For example the control policy module may receive communications state information from the network state module . The communications state information may include without limitation a network utilization parameter a buffer utilization parameter and so forth.

In one embodiment the logic flow may determine a communications rate parameter for a transceiver based on the computing power state information and the communications state information at block . For example the control policy module may determine a communications rate parameter e.g. CR0 CR4 for a transceiver based on the computing power state information and the communications state information.

In one embodiment the logic flow may modify a communications rate for the transceiver based on the communications rate parameter at block . For example the control policy module may modify a communications rate for the transceiver based on the communications rate parameter.

The logic flow may illustrate various operations for the nodes in general and the managed power system and the power management module in particular. The illustrated embodiment shown in described a more detailed logic flow for implementing a control policy for the control policy module of the communications sub system . As shown in the power management controller may receive at block power management information from various sources of a node including an operating system OS various device drivers various devices and so forth. The power management controller may determine a computing power state parameter for the computing sub system using the power management information at block . The power management controller may send the computing power state parameter to the control policy module which is received as one input for the control policy module . The control policy module may also receive a second input from the network state module . For example the network state module may start a network link utilization timer at block and calculate one or more network link utilization parameters at block . The network state module may determine whether the network utilization parameter is above a certain threshold value at diamond . If not the network state module may continue to re calculate the network link utilization parameters at blocks until the network link utilization parameters are above the threshold value at diamond . When this occurs the network state module may pass the network link utilization parameters to the control policy module as the second input. The control policy module may take the first and second inputs and determine a communications rate parameter for the communications sub system using the inputs. The controller may receive the communications rate parameter from the control policy module and initiate a modification in a communications rate for one or more transceivers at block . At block the controller may perform flow control operations to modify the transceivers of the communications sub system of the first node as well as one or more transceivers of a network endpoint communicating with the first node such as the transceivers of the communications sub system of the second node . As the controller performs the needed operations to switch the communications rates for the two sets of transceivers of nodes the communications sub system may continue to receive transmit and receive packets for the transceivers of the communications sub system at block . The controller may store the transmit and receive packets in one or more of the buffers during switching operations at block . The controller may determine whether the switching operations are complete at diamond . If not the controller may continue buffering the packets at block until the switching operations are completed. Once the switching operations are completed at diamond the communications sub system may continue transmit and receive operations at block .

In some cases various embodiments may be implemented as an article of manufacture. The article of manufacture may include a computer readable medium or a storage medium arranged to store logic and or data for performing various operations of one or more embodiments. Examples of computer readable media or storage media may include without limitation those examples as previously described. In various embodiments for example the article of manufacture may comprise a magnetic disk optical disk flash memory or firmware containing computer program instructions suitable for execution by a general purpose processor or application specific processor. The embodiments however are not limited in this context.

Various embodiments may be implemented using hardware elements software elements or a combination of both. Examples of hardware elements may include any of the examples as previously provided for a logic device and further including microprocessors circuits circuit elements e.g. transistors resistors capacitors inductors and so forth integrated circuits logic gates registers semiconductor device chips microchips chip sets and so forth. Examples of software elements may include software components programs applications computer programs application programs system programs machine programs operating system software middleware firmware software modules routines subroutines functions methods procedures software interfaces application program interfaces API instruction sets computing code computer code code segments computer code segments words values symbols or any combination thereof. Determining whether an embodiment is implemented using hardware elements and or software elements may vary in accordance with any number of factors such as desired computational rate power levels heat tolerances processing cycle budget input data rates output data rates memory resources data bus speeds and other design or performance constraints as desired for a given implementation.

Some embodiments may be described using the expression coupled and connected along with their derivatives. These terms are not necessarily intended as synonyms for each other. For example some embodiments may be described using the terms connected and or coupled to indicate that two or more elements are in direct physical or electrical contact with each other. The term coupled however may also mean that two or more elements are not in direct contact with each other but yet still co operate or interact with each other.

It is emphasized that the Abstract of the Disclosure is provided to comply with 37 C.F.R. Section 1.72 b requiring an abstract that will allow the reader to quickly ascertain the nature of the technical disclosure. It is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims. In addition in the foregoing Detailed Description it can be seen that various features are grouped together in a single embodiment for the purpose of streamlining the disclosure. This method of disclosure is not to be interpreted as reflecting an intention that the claimed embodiments require more features than are expressly recited in each claim. Rather as the following claims reflect inventive subject matter lies in less than all features of a single disclosed embodiment. Thus the following claims are hereby incorporated into the Detailed Description with each claim standing on its own as a separate embodiment. In the appended claims the terms including and in which are used as the plain English equivalents of the respective terms comprising and wherein respectively. Moreover the terms first second third and so forth are used merely as labels and are not intended to impose numerical requirements on their objects.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims. Examples of what could be claimed include the following 

