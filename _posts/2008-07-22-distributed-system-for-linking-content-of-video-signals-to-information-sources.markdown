---

title: Distributed system for linking content of video signals to information sources
abstract: A system for product advertising through a telecommunication network is disclosed. The system comprises an advertising engine and an information depot. The advertising engine comprises an information-extraction tool for acquiring product information, an authoring tool for tracking product images appearing in a display of a video recording, and an augmented-display tool for relating product images appearing in a display of a video recording to respective product information. The information depot comprises a global product directory and overlay directories for a set of video recordings. A number of authoring computers connect to the advertising engine of the present invention as well as streaming video sources and advertising databases to generate content of the information depot. The advertising engine distributes the augmented-display tool to viewers' computers which accesses the video-content directory and the product directory to acquire respective overlay directories and associated product data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08312491&OS=08312491&RS=08312491
owner: Overlay.tv Inc.
number: 08312491
owner_city: Ottawa, Ontario
owner_country: CA
publication_date: 20080722
---
This application claims priority to U.S. provisional application 60 951 230 which was filed on Jul. 22 2007 the content of which is incorporated herein by reference.

The present invention relates to illustrative video streaming. In particular the invention is directed to a distributed system for linking content of video recordings to relevant information sources.

Video broadcasting is a source of information of general interest where a viewer may select from a large number of channels. Video broadcasting is heavily used for advertising products and services. The recent widespread proliferation of personal computers with access to the Internet enables viewing video recordings from diverse sources and covering areas of both general interest and special interest. Video streaming providers also rely on product and service advertising to support their operation. Video broadcasting and video streaming systems permit a viewer to select from a variety of sessions. However a viewer does not have the privilege of selecting advertising material that accompanies a displayed video signal. Additionally a viewer of a video display may be interested in acquiring further information relevant to a displayed object but may get such information through access to a search engine.

The flexibility of receiving video signals through a medium permitting two way communications such as the Internet enables viewer based advertising where a viewer may have some control on displayed advertising content. Such capability may provide significant educational and commercial advantages.

There is therefore a need to explore the viability and extent of introducing viewer based advertising and information delivery.

In accordance with an aspect the present invention provides a system for product advertising the system comprises a processor and a computer readable storage medium e.g. a memory having computer readable instructions stored thereon when executed by the processor forming an advertising engine and an information depot.

The advertising engine comprises an information extraction tool for acquiring collective product information pertinent to a set of products from product data bases through a network an authoring tool for tracking product images appearing in a first display of a specific video recording received from a video source associating product identifiers to the product images and producing an overlay directory relating each of selected product images to respective information within the collective product information and an augmented display tool for tracking the product images appearing in a second display of the specific video recording and displaying selected product information corresponding to a subset of the product images selected by a viewer of the second display.

The information depot comprises a computer readable storage medium e.g. a memory having computer readable instructions stored thereon forming the following directories a global product directory storing the collective product information a video source directory providing network addresses of video sources providing video recordings and a video content directory storing overlay directories of a plurality of video recordings produced by the authoring tool.

The system further comprises authoring computers connecting through the network to the advertising engine and the information depot. An authoring computer comprises means for performing the following receiving a copy of the authoring tool accessing the video source directory to obtain network addresses of selected video sources receiving selected video recordings from the selected video sources tracking specific product images appearing in a display of a video recording to produce a tracking record and accessing the global product directory to obtain product information relevant to the specific product images. The authoring computer produces an overlay directory for the video recording combining the tracking record and the particular product information and sends the overlay directory to the information depot.

The advertising engine comprises means for distributing the augmented display tool to a plurality of viewing computers and each viewing computer accesses the video content directory to acquire an overlay directory associated with a respective video recording.

In accordance with another aspect the present invention provides a system for collecting and distributing product information through a network. The system comprises an overlay server computer also to be referred to as an overlay server and a number of authoring computers. The overlay server comprises an information extraction tool stored in a computer readable medium e.g. a memory of the overlay server for extracting product information for a set of products from a plurality of product servers and assembling the product information in a global product directory an authoring tool for creating individual overlay directories for a plurality of video recordings acquired from a plurality of video sources and assembling the individual overlay directories into a video content directory and an augmented display tool for displaying information relevant to products belonging to the set of products appearing in displaying a selected video recording from among the plurality of video recordings. Each authoring computer acquires a copy of the authoring tool.

Each overlay directory comprises means for maintaining a time instant and spatial position of each appearance of a particular product in a display of a respective video recording and information relevant to the particular product.

The global product directory comprises a list of product identifiers of the set of products a product image for at least one product in the set of products a title and description for each product in the set of products and at least one network address of a product server providing information relevant to each product in the set of products.

The system supports a plurality of viewing computers each viewing computer storing thereon a copy of the augmented display tool which causes a viewing computer to send a request to the overlay server to acquire a specific video recording receive from the overlay server 1 an augmented display tool 2 a specific overlay directory corresponding to the specific video recording 3 a network address of a specific video source providing the specific video recording 4 request and receive the specific video recording from the specific video source 5 track images in a display of the specific video recording of specific products belonging to the set of products and selected by a user of the viewing computer and 6 extract from the global product directory product information relevant to the specific products.

Various means mentioned above are implemented as computer readable instructions stored in a computer readable medium when executed by a processor forming respective means of the distributed system of the embodiment of the invention.

In accordance with a further aspect the present invention provides a method for product advertising through a network. The method comprises steps of creating a list of product identifiers of a set of products acquiring network addresses of product servers each product server providing information relevant to at least one of the set of products acquiring collective product information relevant to the set of products from the product servers through the network and sending the collective product information through the network to an overlay server.

The method further comprises steps of creating a list of video recording identifiers of a set of video recordings acquiring network address of video sources collectively providing the set of video recordings and requesting and receiving the set of video recordings.

For each video recording the method performs steps of producing a display on a computer screen pointing to images in the display corresponding to the set of products formulating a tracking record comprising a product identifier a pointing time and spatial coordinates for each image and sending the tracking record to the overlay server through the network.

In accordance with another aspect the present invention provides a server for illustrative video streaming. The server comprises a computing device and a computer readable storage medium. The storage medium stores an object directory having a plurality of object records each object record including information pertinent to a respective object selected from a plurality of objects and a video content directory having a plurality of overlay directories each overlay directory identifying content of a respective video recording from among a plurality of video recordings the content exhibiting at least one object from among the plurality of objects. The storage medium holds authoring instructions for composing the overlay directories each overlay directory comprising relative time instants with respect to a starting time instant of a respective video signal at which selected objects appear on a display of the respective video signal. The storage medium further holds an augmented display tool for displaying a selected video recording and associating the selected video recording with a respective overlay directory. Each overlay directory includes a network address of a video streaming server providing the respective video recording.

In accordance with another aspect the present invention provides a server for illustrative video streaming. The server comprises a processor and a storage medium holding authoring instructions for constructing an overlay directory of a video signal the overlay directory storing relative time instants with respect to a starting time instant of the video signal at which selected objects appear on a display of the video signal and emissary instructions for establishing two way communication sessions between the server and an authoring computer acquiring the authoring instructions. The server further comprises a communication module stored in a memory e.g. in a memory of the server for performing the following sending the authoring instructions and the emissary instructions to the authoring computer and receiving from the authoring computer an identifier of a particular video recording identifiers of particular objects spotted within a display of a corresponding video signal read from the particular video recording and an overlay directory of the respective video signal.

The storage medium further holds an object directory having a plurality of object records each object record storing information pertinent to a respective object selected from a plurality of objects and a video content directory having a plurality of overlay directories each overlay directory identifying content of a respective video recording from among a plurality of video recordings the content exhibiting at least one object from among the plurality of objects.

In accordance with a further aspect the present invention provides a method of linking content of a video signal to information sources. The method comprises steps of creating an object directory having a plurality of object records each object record storing information pertinent to a respective object selected from a plurality of objects acquiring a plurality of video recordings and a plurality network addresses of sources of the video recordings creating a video content directory having a plurality of overlay directories each overlay directory identifying contents of a respective video recording from among the plurality of video recordings the contents exhibiting at least one object from among the plurality of objects.

The method further comprises steps of receiving at a server storing the object directory and video content directory a request from a computer for access to a specific video recording and upon ascertaining that the specific video recording belongs to the plurality of video recordings sending from the server to the computer a network address from among the plurality of network addresses providing the specific video recording and a specific overlay directory from among the plurality of overlay directories corresponding to the specific video recording.

In accordance with another aspect the present invention provides a computer readable medium having stored thereon an authoring tool. The authoring tool is a computer executable program operable in a host computer to cause the host computer to track objects appearing in a display of a video signal and link the tracked objects to relevant sources. The authoring tool causes the host computer to produce a visual display of a signal received at the host computer from a video source determine a pointing time corresponding to a manually selected position within an image of an object within the visual display determine coordinates of a first spatial contour produced by manually encircling the object within the visual display using a pointing device and create an overlay directory specific to the signal. An overlay directory indicates a network address of the video source a description of the selected object a pointing time instant and coordinates of a selected position on a display screen.

The authoring tool further causes the host computer to include in the overlay directory information provided by a user of the host computer the information comprising a description of the selected object and a list of network sites providing further information on the selected object.

The authoring tool further comprises computer executable instructions to cause the host computer to determine a respective pointing time corresponding to a manually selected position within each of successive images of the selected object determine for each of the successive appearances a respective pointing time and coordinates of a respective encircling spatial contour and append the overlay directory to include the respective pointing time and the coordinates of the respective encircling spatial contour. The authoring tool further comprises computer executable instructions executed to cause the host computer to link to a video overlay server to communicate the overlay directory.

In accordance with another aspect the present invention provides a method for generating an overlay directory for a video signal. The method is performed by a computer connected to a network and comprises steps of displaying static icons of candidate objects on a screen of the computer producing a display of the video signal on the screen and creating a template of the overlay directory.

In response to manually pointing to a position within an object image in the display and to a respective static icon the method performs steps of recording a pointing time at which the computer detects the pointing stopping the display of the video signal at end of a frame of the video signal containing the pointing time determining coordinates of a spatial contour overlapping the object image using a pointing device storing manually acquired information including network addresses of sites relevant to the object image entering the pointing time coordinates and manually acquired information in the template at an entry corresponding to the respective static icon and resuming the display of the video signal.

The method further comprises a step of selecting the spatial contour to encircle the image or selecting a contour from a set of standardized contours to overlap the image. The method further comprises steps of acquiring a global object directory from a video overlay server and verifying that the candidate objects belong to the global object directory.

In accordance with a further aspect the present invention provides a method for generating an overlay directory for a video signal. The method is performed by a computer connected to a network. The method comprises steps of displaying on a screen of the computer static icons each associated with an identifier of an object from a set of designated objects producing a display of the video signal on the screen and null initializing tracking records having a one to one correspondence to the designated objects.

In response to a user of the computer pointing to a succession of images and corresponding icons relevant to the designated objects the method performs steps of determining a pointing time and pointing position for each image and appending the pointing time and pointing position to a tracking record corresponding to each image. For each tracking record having at least one entry the method performs steps of determining an object identifier corresponding to each tracking record receiving further information relevant to the object identifier and inserting the tracking record and the further information in a section of the overlay directory corresponding to the object identifier.

The method further comprising steps of determining a frame number of the video signal corresponding to the pointing time the video signal being organized into frames and appending the frame number to a respective tracking record.

In accordance with another aspect the present invention provides a process performed by a computing device for displaying a video signal in response to a request from a viewer of the computing device. The process comprises communicating to a video overlay server an identifier of the video signal where the identifier is provided by the viewer receiving from the video overlay server a network address of a video streaming source providing the video signal and a content directory overlay directory of the video signal requesting and receiving the video signal from the video streaming source and producing a current display of the video signal.

In response to the viewer pointing to a specific object on the current display the process records a pointing time at which the computing device detects the pointing and accesses the content directory to retrieve information specific to the pointing time.

To retrieve the information the process determines a spatial position corresponding to the pointing time selects a candidate object from among a set of tracked objects within contents of the video signal the tracked objects identified in the content directory extracts two appearance times of the candidate object surrounding the pointing time and corresponding two contours from tracking records stored in the content directory during a prior display of the video signal ascertains inclusion of the spatial position within a selected contour from the two contours and where the inclusion is determined assigns a specific identifier of the specific object as an identifier of the candidate object. If the spatial position is outside the two contours an interpolated contour corresponding to the pointing time is computed. If the spatial position is included within the interpolated contour a specific identifier of the specific object is assigned as an identifier of the candidate object.

The process further comprises displaying a description corresponding to the specific identifier the description extracted from a list of descriptions of the tracked objects included in the content directory extracting from the content directory a subset of network addresses corresponding to the specific identifier and establishing a link to at least one network address listed in the subset of network addresses. Additionally the process comprises storing in a storage medium of the computing device a description corresponding to the specific identifier the description extracted from a list of descriptions of the tracked objects included in the content directory extracting from the content directory a subset of network addresses corresponding to the specific identifier and storing in the storage medium the subset of network addresses.

The process further comprises interrupting the current display during a time interval following detection of the pointing adding the time interval to a summation of interruption time the summation initialized to zero at a starting instant of the current display and determining the pointing time as a time indication derived from a clock of the computing device minus the starting instant of the current display minus the summation.

In accordance with another aspect the present invention provides a computer readable medium having stored thereon an augmented display tool. The augmented display tool is a computer executable program operable in a host computer to cause the host computer to receive a request from a viewer to display a video signal forward the request to a video overlay server receive from the video overlay server a network address of a video streaming source providing the video signal and a content directory overlay directory of the video signal the content directory comprising presence times of selected contents of the video signal and network addresses of sources of information relevant to the selected contents request and receive the video signal from the video streaming source display the video signal on a display device controlled by the host computer detect pointing times at which the viewer points to a particular displayed object and compare the pointing times to the presence times to find a counterpart content in the selected contents to the particular displayed object. If the counterpart is found a subset of the network addresses corresponding to the counterpart content is extracted.

The computer readable medium further stores computer executable instructions which causes the host computer to sort the presence times according to contents and group presence times of each content into sets of presence times each set contained within a video frame period determine spatial contours corresponding to the sets of presence times determine a respective spatial position for each of the pointing times determine inclusion of the respective spatial position within one of the contours determine an interpolated spatial contour between two spatial counters corresponding to a pointing time.

In accordance with a further aspect the present invention provides a method performed by a computer for retrieving information relevant to objects appearing in a display of a video signal in response to a user of the computer requesting the video signal. The method comprises acquiring a content directory overlay directory of the video signal from a video overlay server the content directory storing content information relevant to a set of tracked objects acquiring the video signal from a video source starting the display of the video signal and recording a time measurement and spatial coordinates of each selected point of a number of selected points on the display identified by a pointing device controlled by the user. Upon termination of the display the following steps are performed finding an object identifier in the content directory of an object from among the set of tracked objects corresponding to each selected point using the time measurement and spatial coordinates and where the object identifier is found storing a record comprising the object identifier and the time measurement in a cache memory of the computer.

A first viewer using a computing device having a display screen and equipped with conventional display software accesses one of the video sources to receive a video signal. The viewer may get further information regarding a displayed object in the displayed video signal by accessing search engine to get general information such as nutritious value of an edible product or a consumer report on a product and an object server which may provide product pricing and ordering information.

A second viewer using a computing device in accordance with an embodiment of the present invention having a display screen accesses a video overlay server also referenced as overlay server for brevity to receive a video signal. The overlay server comprises a processor and a computer readable medium for storing thereon various software instructions as will be described in detail below. The video overlay server responds by providing computer with necessary software to enable computer to access a proper video source and to get information on a displayed object by simply pointing at the object clicking the object using a pointing device.

The video overlay database is stored in the computer readable medium of the overlay server and is maintained by the overlay server . It contains a list of desirable objects and a list of video signals for which corresponding overlay directories are stored in the computer readable medium. A section of the database contains information relevant to each object in list and each video signal in list . The video overlay server also comprises a set of software tools including an authoring tool a display tool and emissary instructions for establishing two way communication sessions between the overlay server and other external computers collectively labeled as in .

The augmented display process starts with acquiring an augmented display tool from video overlay server step . A viewer using a computer sends a request to video overlay server to acquire a specific video signal. The video signal may be identified by a title or a serial number of a corresponding video recording. The overlay server responds with a network address of an appropriate video source step . The augmented display tool communicates with video overlay server to acquire an overlay directory corresponding to the video signal step and communicates with the appropriate video source to acquire the video signal. The viewing computer displays the video signal step and detects viewer selections step . The augmented display tool selects a start time for displaying the video signal detects the viewer s selection of displayed objects and retrieves respective information from the video overlay server and where necessary from object servers .

Overlay server receives overlay directories from authoring computers and adds them to overlay database . A received overlay directory comprises both object tracking data and associated object information. Overlay directories also called content directories received from authoring computers are appended to a video content directory . All directories are stored in a computer readable medium accessed by the overlay server . A video signal may display several objects and a given object may be common in many video signals. Therefore to reduce the search effort in the authoring process object information received from the authoring computers are assembled in an object directory also stored in a computer readable medium of accessed by the overlay server .

The authoring computer accesses a server through a connection to request object information and the object server sends the requested information through a connection . The authoring computer may extract specific information content subject to contractual agreements and send the extracted content to the overlay server for inclusion in the global object directory described with reference to maintained by the overlay server . The user of authoring computer may annotate extracted content before sending the content to the overlay server .

The augmented display tool instructs the viewing computer to acquire basic object information from the global object directory maintained by video server . The basic information may also include network addresses of a number of object servers providing further details. To acquire further detailed information as prompted by the viewer the augmented display tool instructs the viewing computer to link to an object server selected by the viewer from the number of object servers determined from the global object directory. The viewing computer establishes a connection to the selected object server and receives detailed object information from the object server through a connection .

During an authoring session a user of an authoring computer starts a display of a video signal and activates an authoring tool to track a number of objects. A new overlay directory content directory is created for the video signal. The user points to an object using a pointing device i.e. clicks on an image of the object on a screen with the pointing device . The authoring tool captures the time of pointing from a time indicator of the authoring computer and stops the display at the end of a current video frame. The user may encircle the object to define its spatial boundaries and may extract information relevant to the tracked object from a variety of sources. The authoring tool then resumes the display of the video signal and captures the time of display restart from the time indicator of the authoring computer .

The authoring tool calculates the pointing time of the selected point on the screen to which the user pointed relative to the start time of the video signal display. The pointing time entered in the overlay record is the time of appearance of the selected point in a continuous uninterrupted display of the video signal. When an object is selected clicked for the first time after the start of a display the pointing time determined according to the computer time indicator is entered in the overlay directory content directory . The authoring tool accumulates display interruption time and for each subsequent selection clicking of the tracked object during the session subtracts the accumulated interruption time from the respective pointing time indicated by the time indicator of the authoring computer.

In a second selection of the tracked object the display is stopped at time t and resumed at t. The authoring tool enters the pointing time t determined from the computer time indication after subtracting the start time and the interruption time interval t t in the record corresponding to the tracked object in the overlay directory. The accumulated interruption time is now t t t t .

In a third selection of the tracked object the display is stopped at time t and resumed at t. The authoring tool enters the pointing time t determined from the computer time indication after subtracting the start time and the accumulated interruption time t t t t in the record corresponding to the tracked object in the overlay directory. The accumulated interruption time is now t t t t t t 

In a display of the video signal in a viewing session in a viewing computer the time domain is organized into time frames each time frame corresponding to a frame of the video signal. The duration of a time frame may differ slightly from the duration of a time frame because the clock of an authoring computer is not phase locked to the clock of the viewing computer. This however is inconsequential because time is measured as a count of clock periods in a respective computer.

The viewing display start time is determined from the viewing computer time indicator. When a viewer selects an object using a pointing device the augmented display tool stops the display and a current video signal frame is displayed repeatedly until the viewer resumes the display. The viewing stopping times are referenced as and the start times are referenced as . The viewer may select some of the appearances of the tracked object. In the illustrated example the time frames during which the viewer selects a tracked object are referenced as and the time frames encompassing the tracked object during which the viewer does not select the tracked object are referenced as .

In a first selection of the tracked object the display is stopped at time which corresponds to an end of a current frame and resumed at time . The augmented display tool installed in the viewing computer uses the pointing time t determined from the viewing computer time indication after subtracting the start time to retrieve information relative to the tracked object from the overlay directory. The accumulated interruption time is now .

In a second selection of the tracked object the display is stopped at time and resumed at . The augmented display tool uses the pointing time t determined from the viewing computer time indication after subtracting the start time and the interruption time interval to retrieve information relevant to the tracked object from the overlay directory. The accumulated interruption time is now .

Notably a viewer is likely to select a given object only a small number of times. However the authoring process may capture numerous appearances of the object to facilitate identifying the object.

The coordinates a b are uniquely defined by a time instant within frame at which the first diagonal point appears in the display and the coordinates a b of the second diagonal point are uniquely defined by a time instant within frame Likewise the coordinates of each point in frames and are uniquely defined by a time instant within a respective frame. Thus in a first representation the image of the object may be defined by a frame number and two time instants within a frame period. For example contour may be defined by t and t where tand tare the instants of time within frame corresponding to the display of the two diagonal points. In a second representation of the same contour the image may be defined by a frame number and four numbers indicating two diagonal points. Thus contour may be represented by a b c d. In a third representation of the same contour the image may be defined by four numbers indicating two diagonal points and the pointing instant of time at which a user of the authoring computer selects clicks on a specific point within the image of the object. Thus contour may be represented by t a b c d where t is the time of selecting clicking on the specific point relative to the starting time of display of the video signal at any computer an authoring computer or a viewing computer .

As in the example of the authoring process tracked 88 images of object and 64 images of object in the same display of video . A first image of object is captured at pointing time t and a last image is captured at pointing time t. For each pointing time t 1 j 88 only one point of coordinates x y is stored in the alternative overlay directory. A first image of object is captured at pointing time and a last image is captured at pointing time . For each pointing time 1 j 64 only one point of coordinates u v is stored in the overlay directory content directory .

In the example of the user of authoring computer has pointed during an interrupted display of a video signal to 28 object images of objects listed in the global object directory of which contains object records of objects. The user pointed to objects of identifiers and . The authoring tool installed in the authoring computer groups recorded coordinates of objects according to object identifiers to formulate a tracking record for the object. For example object was selected by the user during selection indices and and the tracking record of object includes temporal spatial coordinates and denoted t x y t x y t x y and t x y . The authoring tool installed in authoring computer and stored in a computer readable medium of the authoring computer instructs the authoring computer to link to relevant object servers to acquire object information. For each tracked object the authoring computer communicates to overlay server a respective tracking record for inclusion in video content directory and respective object information for inclusion in global object directory .

In step the viewing computer displays the specific video signal under control of the augmented display tool . The viewer may point to an image of an object to indicate interest in further information on the object. The viewing computer then records the pointing time step . The viewer is given a choice to continue viewing the display and view the sought information after completion of the display of the entire video signal or to interrupt the display of the video signal to view the sought information. In either case steps and are performed to identify the object and link to relevant network sites.

In the interrupted display mode the augmented display tool causes the viewing computer to stop displaying the specific video signal as illustrated in and perform steps towards acquiring the sought information.

In an uninterrupted mode the display of the video signal continues independently of the actions of the viewer and the augmented display tool causes the viewing computer to store the pointing time instants in a cache memory. Upon completion of the video signal display the user may activate the augmented display tool to obtain object information in a separate session.

When an object is displayed on a viewing computer the viewer may point to any point within the image of the object. The augmented display tool determines the pointing time t and corresponding coordinates x y . The overlay directory

The rectangular shapes approximating the contours of the tracked object at two observation instants tand tare defined by two diagonals one diagonal connecting point a b to point a b corresponding to jcontour and the other diagonal connecting point u v to point u v corresponding to j 1 contour . For consistency a diagonal defining a rectangle is selected to be of positive slope.

The contour of the tracked object appearing at time t t t t may be approximated by interpolation by a rectangle bounded by lines and defined by a diagonal connecting a first point of spatial coordinates x y to a second point of spatial coordinates x y where x y x and yare determined as 1 and 1 and 1 and 1 where .

A spatial position defined by a point x y is determined to be within the interpolated rectangle if x x xand y y y.

The advertising engine comprises an information extraction tool an authoring tool and an augmented display tool all comprising computer readable instructions stored in the computer readable medium accessed by the overlay server .

The information extraction tool installed in a computing device collects product information pertinent to a set of products from product data bases through a network and assembles the product information in a global product directory . The product databases may be stored in a computer readable storage medium of product servers maintained by product advertisers. The information extraction tool may annotate extracted product information according to input provided by a user of a computer hosting the information extraction tool.

The authoring tool is stored and installed in a computer readable medium of each of authoring computes which may be collocated with the overlay server or connecting to the overlay server through a network. The authoring tool may contain computer readable instructions which cause an authoring computer to insert a static image of a product in the display of a respective video recording to facilitate associating a moving image of the product with a respective product identifier. Static images of products may be acquired from the global product directory . Prompted by a user of an authoring computer the authoring tool tracks product images appearing in a display of a video recording received from a video source and associates product identifiers with the product images to produce a tracking record for a selected product. A tracking record relates each selected product image to respective information collected by the information extraction tool . The product identifiers may be conveniently derived from static product images appearing on the periphery of a display of a video signal. Each tracking record contains a time instant and spatial position of each appearance of an image of a particular product in a display of a respective video recording

The augmented display tool is installed in a viewing computer . Prompted by a viewer using the viewing computer the augmented display tool tracks product images appearing in a display of an augmented video recording for which a tracking record has been produced in an authoring process. The viewing computer displays selected product information corresponding to product images selected by the viewer.

The augmented display tool may cause a viewing computer to insert static product images acquired from global product directory to enable fast association of a product identifier with a product image.

The information depot comprises a video source directory a global product directory and a video content directory all stored in a computer readable medium accessed by the overlay server . The video source directory contains network addresses of video sources selected from among a plurality of video sources which provide video recordings of interest. The video content directory stores overlay directories of a set of video recordings produced by the authoring tool . The global product directory stores product information collected by the product extraction tool for a set of products. The product information includes 1 a list of product identifiers of the set of products a product image for at least one product in the set of products a title and description for each product in the set of products and at least one network address of a product server selected from among a plurality of product servers providing information relevant to each product in the set of products.

The system for product advertising relies on several authoring computers each of which may connect directly or through a network to the advertising engine and the information depot . Each authoring computer installs the authoring tool and accesses the video source directory to obtain network addresses of selected video sources. Prompted by a user an authoring computer requests and receives a particular video recording from a video source and implements instructions of the authoring tool to track specific product images appearing in a display of the particular video recording to produce a tracking record. The specific product images are selected by the user of the authoring computer . The authoring computer accesses the global product directory to obtain particular product information relevant to the specific product images selected by the user and sends the tracking record and the particular product information to the overlay server to be stored in the information depot .

The advertising engine distributes the augmented display tool to a number of viewing computers and each viewing computer may access the video content directory to acquire an overlay directory associated with a respective video recording.

The product advertising system supports a plurality of viewing computers each viewing computer storing thereon a copy of the augmented display tool . A viewing computer implements instructions of the augmented display tool to send a request to the overlay server to acquire a video recording. The overlay server responds by sending 1 instructions of an augmented display tool 2 an overlay directory corresponding to the requested video recording and 3 a network address of a video source providing the requested video recording. The viewing computer requests and receives the video recording from the video source. Upon displaying the video recording the augmented display tool the augmented display tool tracks images of specific products belonging to the set of products selected by a user of the viewing computer and maintained in the global product directory and extracts from the global product directory product information relevant to the specific products.

The augmented display tool may operate in either of two modes. In a first mode the viewing computer interrupts a display of a video recording in order to extract the product information. In a second mode the viewing computer extracts product information after completion without interruption of a display of a video recording. The augmented display tool may also instruct the viewing computer to send identifiers of the specific products to the overlay server for statistical analysis of product demand.

Thus the method for product advertising according to the present invention comprises steps of 1 creating a list of product identifiers of a set of products 2 creating a list of video recording identifiers of a set of video recordings 3 acquiring network addresses of product servers each product server providing information relevant to at least one of the set of products 4 acquiring collective product information relevant to the set of products from the product servers through the network 4 sending the collective product information through a network to an overlay serve 5 acquiring network address of video sources collectively providing the set of video recordings 6 requesting and individually receiving the set of video recordings from video sources .

For each video recording received from a video source the method comprises steps of a producing a display on a computer screen b pointing to images in the display corresponding to the set of products c formulating a tracking record comprising a product identifier a pointing time and spatial coordinates for each image and d sending the tracking record to the overlay server through the network.

Creating a product video overlay uses various components. One component is an Extraction Bookmarklet comprising instructions stored in a computer readable medium which enables a user to extract products from various web sites and another component is an Overlay Author Viewer component that allows a user to associate extracted products with the location and time that the products appear in the video.

Once products have been extracted and correlated to content of a video recording using the authoring component the result is a hyperlinked video that plays through a special video player that performs synchronization between the product images and the display of the video recording.

The player is able to function when downloaded from the same web server that served the overlay metadata or any other site when used as an embeddable player. It enables users to shop while viewing a video and redirects a user s browser to the retailer of a product when they make a product selection in the video. This functionality even works when the player is embedded in a JavaScript restricted environment. illustrates information flow in the system of . A computing device stores content of a container site obtained through connection and an augmented display tool . The computing device sends a request to overlay server to acquire a display tool. The overlay server sends computer readable instructions including an augmented display tool through a connection . The computing device installs the augmented display tool and sends a request to overlay server through connection to acquire an overlay directory for a specific video recording. The overlay server sends a respective overlay directory through a connection . The installed augmented display tool causes computing device to send a request to a video source through a connection to acquire the specific video recording. The video source sends the specific video recording through a connection .

Before products can be extracted or a video can be marked up in place the user has to perform a one time procedure which adds a tool to their browser in the form of a bookmark. In one known procedure the user drags a bookmark from a site that hosts the overlay tool onto a browser toolbar. In another known procedure the user needs right click on the link and select Add to Favorites and then confirm that the link should be added when any security warnings are opened in a browser alert dialog.

Instead of a traditional bookmark link that includes a title and URL the tool bookmark has a title and a single line of JavaScript with no newline or carriage return characters. When the bookmark is clicked by the user the JavaScript creates a dynamic HTML Document Object Model DOM SCRIPT element and appends it to the HEAD element in the current page. The script initializes event handlers that capture a selection made by a user using a pointing device such as a mouse to enable extraction and editing features to function as described in the Extraction and Video Editing Step. The JavaScript bookmark link that allows the injection of functionality into a page which has already been served from a third party server takes a form similar to the exemplary form below 

Notably the JavaScript bookmark link is cross platform in the sense that the same JavaScript code works in all popular browsers such as Internet Explorer Firefox and Safari as well as on Linux UNIX and Windows operating systems. It also does not require a program to be downloaded and executed offering a friendly experience to authors.

Instead of a bookmark that runs JavaScript to inject functionality a script into a web page in a modification to the embodiment of the invention a browser plugin has been created for a browser. A user is required to run the plugin installation program for a browser and the plugin would add a button to the browser toolbar. To extract a product or mark up a video the user would press the plugin button instead of the bookmark link.

The first step of locating a video is performed by a user with a web browser that is equipped with the Adobe Flash plug in that allows the viewing of Flash Streaming video in the .FLV format. The user needs to watch the video and identify the products that are to be tagged and the location on the web of each product page.

The product extraction bookmarklet is an application that enables a user to harvest a product catalog entry from a web site by using mouse clicks and mouse selections on assets such as text and images in a remote web page. provides an overview of the chronological steps of a process of product information extraction. The information is acquired from a product catalog and organized in product extraction server using script into extracted product data stored in a computer readable medium. An HTML page contains a list of products of a store labeled as Exemplary store. The process follows steps setting a bookmarklet link and .

The bookmarklet can be invoked while visiting any web site in order to extract product information from the site. In a product with a product identifier Product j is extracted from an example web site. The steps are as follows 

The overall effect is that a product catalog entry in an unknown format in the source database has been extracted and moved to a known format in the target database.

When the bookmarklet is clicked the JavaScript in the bookmark is executed. The script appends a new SCRIPT element inside the HEAD element of the current page which causes the browser to execute that script in the context of the current page.

When the injected script is executed it first checks whether the URL to the current page is a match with a URL to a site from which it is able to automatically extract a product or automatically startup an in place overlay authoring tool. This is done by matching the URL against regular expressions for a set of known URL s. If there is a match with a URL for a known video source an in place authoring tool is injected into the DOM of the page otherwise a set of asset extraction functions and event handlers are registered in the page. illustrates the logic in a flowchart. and further illustrate the software implementation of the In Place Editor Injection in more detail.

The In Place Video Overlay Author is a video player that loads up user specific data from a server which did not serve the original page and allows a user to mark up a video that is in a current page. It appears to an end user that the authoring functions are part of a present page because one player is substituted with another authoring player.

The challenge is that functionality originating from one domain is being added to a page that was served by another domain all on the client side and browsers prevent communication between documents that originate from different domains. Standard linking embedding and client side scripting methods are insufficient to support this type of injected web functionality.

A dynamic FORM targets a dynamic IFRAME with the result of a proxy request to Domain B. With Domain B performing actions on the IFRAME s behalf 

The In Place Image Overlay Author operates in the same manner as the Video Author except with static images. The image authoring player needs to be 

A detailed functional diagram of the Author Overlay module and its operation are illustrated in further detail in and .

Extracted products are synchronized with a video stream using the in place authoring tool to record where and when those products appear in the video. The process involves a combination of manual steps to indicate which products are associated with a certain area on screen and automatic object tracking which follows the object over time until the object becomes to obscured to track the camera angle or scene changes.

The steps that a user performs to markup a video with a product are illustrated in which comprises to . Once an in place author has been injected into the page the user logs into the overlay server by pressing Login and supplying credentials. This causes the author component to perform a GET request to the overlay server and if the login is a success the author component makes a request for all of the user s harvested products.

The user advances the video display until a product that the user wants to mark up is first shown on screen . As indicated in the user drags a product image and drops it onto the location of where the product is on the screen. When the object is dropped a selection window sized to match the size of the product thumbnail is shown on the video. The user resizes the selection to match the area that the object takes up forming a bounding box around the object. The user also selects how the object should be tracked manually or using a particular object tracking algorithm .

As illustrated in and a bounding box is formed around the object in the video. If the user selects manual tracking the user moves to a future position in the video display and moves the selection around the objects new position. Each time the user positions an object a keyframe is created marking that the object was at position x y at time t. When a user moves to a time in between keyframes the positions of all objects on screen are linearly interpolated. The user repeats this process until the object s movement is approximated. The user can also choose to end the selection at a particular position in the video or start it sooner.

When the user saves the session the targets are POSTed to the server in a compressed XML representation. The representation includes the start time stop time and tracking type and for manual mode as well as the keyframe information.

If the user selects to use an object tracking algorithm instead of manual tracking the authoring system starts the execution of the selected object tracking algorithm and runs it until the algorithm stops to . The object detection algorithm is initialized with the bounding box that the user has manually sized. Depending on the algorithm selected it could potentially run to the end of the video or until a confidence level is not met at which point a final keyframe would be introduced.

The user then moves through the video and monitors how accurately the object is tracked over time. At any time if the user feels that the object tracking has moved off course or that it should be stopped due to the object going off screen the camera angle changing or the scene changing the user either instructs the tool to end the tracking or the user inserts a new keyframe with a new position. Inserting a new keyframe re initializes the object tracking at the new position and the algorithm runs again. This process is continued until the user is satisfied that all objects are tracked accurately at which point the user saves the session and the tracking information is stored to the overlay server.

In the example of a product is dragged on to the video at time t 23 s and an automatic object tracking algorithm is selected. In the user has moved ahead to time t 41 s and found that the object is being tracked successfully and the bounding box is still surrounding the object. In at time t 55 s an object is starting to obstruct the view of the tracked object but the algorithm is still able to cope. In at time 1 m 11 s the user finds that the obstruction has almost completely covered the object and the algorithm has stopped. At this point the user could choose to move ahead in the video where the object appeared back on screen choose a different tracking algorithm or select to track the object manually.

Once an overlay has been authored over top of a streaming video and the data has been stored on an overlay server playback in a non restricted environment involves the operation of the Overlay Author component with the authoring features disabled. This means that products are time synchronized by the player and markers are shown on the screen at the appropriate time and coordinates. Since authoring is not required there is no need for a bookmarklet dynamic FORM or IFRAME or a proxy server. illustrates operation of the Overlay Playback module in detail in particular the figure illustrates the playback operation with video streaming from Domain A and Overlay information arriving from Domain B and time synchronization occurring in the player. It also shows that when a user clicks on a product in an overlay module the request is proxied through Domain B so that the click can be tracked module and then the user is redirected to the product site module . Further details of the structure and operation of the User Re Direction module are illustrated in .

The process illustrated in functions when the player is allowed to use JavaScript which is typical when there is an understanding or relationship between Domain A and Domain B that JavaScript is required. A problem arises when Domain A does not allow players that it serves to use JavaScript because the player is not able to change the browser location without JavaScript. If Domain B is to send an HTTP redirection it would not alter the location of the browser since the request was an asynchronous request made by the Player not the main document.

In this type of script restricted environment a different solution is required. Although the player can still request data from Domain B it is unable to have any affect on the page including the ability to change the current document location.

The solution involves the use of a button wrapped in a link outside of the player. Being outside the player it can cause the browser to change locations by virtue of the fact that it is an HTML link.

The use of server side sessions on Domain B is also required for this solution to function. Instead of the player making a call to Domain B to track the click and then using JavaScript to change the location of the browser the player sends an AJAX call to Domain B when the user selects a product but then tells the user visually to click on a selection button. The AJAX call stores the product identifier in a server side session for that user. The link around the button is linked to a URL on Domain B which inspects the contents of the server side session for the user and then performs an HTTP redirect to the final product page. The above noted solution is illustrated in .

A computer readable medium e.g. a memory such as non volatile memory DVD CD ROM floppy or else having computer readable instructions stored thereon when executed by a processor to perform the steps of the methods described above are also provided.

Although specific embodiments of the invention have been described in detail it should be understood that the described embodiments are intended to be illustrative and not restrictive. Various changes and modifications of the embodiments shown in the drawings and described in the specification may be made within the scope of the following claims without departing from the scope of the invention in its broader aspect.

