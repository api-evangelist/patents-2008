---

title: Dynamic device state representation in a user interface
abstract: Processes for presenting a current state of a device having device storage connected with a host system are provided. In some processes, device manufacturers or vendors define a set of operational states of a device and provide user interface (UI) elements of a custom representation of each state through information stored in the device storage. Initially, the set of states of the device and UI elements associated with each state are received from the device storage. Information regarding a current state is received from the device, and a representation of the current state, which includes the received UI elements, is presented on the host system. In other processes, UI elements of a representation of each state are obtained from a remote system using device identification information. In other processes, UI elements from the device, from the host system, and/or from a remote system are combined to form a state representation.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08812970&OS=08812970&RS=08812970
owner: Microsoft Corporation
number: 08812970
owner_city: Redmond
owner_country: US
publication_date: 20080227
---
Many different types of devices having storage such as flash drives digital cameras digital media players etc. communicate with a host system such as a personal computer. A vendor or a manufacturer of such a device referred to as a device provider herein often provides a customized representation of the device for a user interface. A representation of the device for a user interface may be a graphical representation a textual representation a sound etc. For example a device provider may provide a custom icon to be presented through the graphical user interface of the host system. A representation of the device such as a custom icon may change to indicate a change in a state of the device or different representations may be used to indicate different states of the device. Frequently one or more custom icons representing the device are included in a device specific device driver device specific utility or other device specific program supplied by the device provider. For the host system to use the custom icon s the host system must have the device specific driver utility or application installed.

Some devices having storage are commonly used with several different host systems requiring that a device specific driver utility or application supplied by the device provider be installed on each host system with which the device is used. Due to the increasing popularity and increasing variety of devices having storage including flash drives digital cameras and media players often multiple different devices having storage may be used with a single host system necessitating that a device specific driver utility or application for each different device be installed on each host system. The installation of so many different device specific drivers or utilities from different device providers on each host system is cumbersome and inefficient.

Some device providers avoid the use of standard device drivers such as those provided through an operating system in part because standard device drivers do not allow a vendor or manufacturer of the device to customize the user experience through custom icons associated with the device.

Applicants have appreciated that if device providers could customize the user experience through custom device representations such as custom icons that are not included in device specific drivers or utilities the device providers may increasingly use standard device drivers such as those included in an operating system which may increase the portability of devices for different host systems and decrease the number of additional device provider supplied drivers that must be installed on any one host system. Each device representation includes one or more user interface elements that include but are not limited to graphical elements acoustic auditory elements tactile elements etc.

Accordingly a process for presenting a representation of a current state of a device having device storage on a host system is provided where a set of states of the device and a representation of each state are stored in the device storage according to one embodiment of the invention. The process includes receiving first information from the device storage where the first information includes the set of states of the device and a representation of each state in the set. The process also includes receiving second information from the device storage where the second information includes an identification of a current state of the device and presenting a representation of the identified current state of the device through a user interface of the host system. Device providers may define a set of states of the device and a custom representation of each state such as a custom icon a string a sound etc. then supply the set of states and the custom state representations by storing them in the device storage. The states and the custom state representations may be stored on block storage of the device which may be accessed from the host system through the file system and or internal storage of the device which may be accessed from the host system using commands. Custom state representations may be reported as files stored on the device or may be reported as properties of the device as the invention is not limited in this regard.

In some embodiments the process includes querying the device storage for a set of device states before receiving the first information from the device storage. In some embodiments the process includes querying the device for a current state of the device before receiving second information from the device.

In some embodiments the process also includes receiving information regarding an updated device state from the device and presenting a representation of the updated state through the user interface of the host system. The user interface may include a graphical user interface an auditory acoustic user interface and or a tactile user interface. A representation of the current state of the device may be dynamically updated by repeating the steps of receiving information regarding an updated device state from the device and presenting a representation of the updated state through the user interface of the host system. In some embodiments the information regarding an updated state of the device may be received asynchronously from the device. In other embodiments the information regarding an updated state of the device may be received in response to a poll of the device for a current device state.

A process for presenting a representation of a current state of a device having device storage using a host system and a remote service is provided in accordance with another embodiment. The process includes receiving device identification information from the device storage. The process also includes requesting a set of states and an identification of one or more user interface UI elements associated with each state from a remote system based on the device identification information. The process further includes receiving information identifying a current state of the device from the device and presenting a representation of the identified current state of the device through a user interface of the host system.

A process for obtaining state representations of states of a device having device storage that is connected to a host system which has a database of state representations is provided according to a different embodiment. The process includes querying the device storage for a set of states and a representation of each state in the set where a representation of each state includes one or more UI elements which may be graphical textual auditory etc. associated with each state. If the device does not return a representation for each state in the set of states the database of state representations on the host system is searched for a representation of each state in a first subset of states where the first subset of states includes states for which the device did not return a representation. If a representation is not found for each state in the first subset of states a request is submitting to a remote service for a representation of each state in a second subset of states where the second subset of states includes states in the first subset for which a representation was not found in the database of state representations of the host system.

Embodiments of the invention provide a process for presenting a current state of a device having device storage connected with a host system. In embodiments of the invention device manufacturers or vendors referred to as device providers herein may specify states of a device and one or more user interface UI elements e.g. graphical elements auditory elements etc. associated with each state through information stored on the device. A host system may dynamically present one or more interface elements associated with a current state of the device to a user without requiring that device specific drivers or utilities from device providers be installed on the host system.

The one or more UI elements associated with a state of a device are elements of a representation of the state also referred to as a state representation. A representation of the state includes the one or more UI elements associated with a state of a device and may also include information regarding how to combine the one or more UI elements. In one embodiment a state representation includes a baseline representation provided by the host operating system and one or more UI elements provided by the device that are superimposed on the baseline representation. State representations provide a user of a host system an efficient way of identifying a state of a device having storage connected with the host system. The device may be in one or more different states at a point in time. Device states include but are not limited to initializing conducting internal checking sometimes referred to as housekeeping authenticated non authenticated also referred to as not authenticated etc. A current state of the device may affect the performance of the device and or how the device interacts with the host system. For example information stored in device storage may not be accessible to a host system when the device in the initializing state. The device may have slowed performance when it is conducting internal checking in a housekeeping state. In another example a secure storage device must be in an authenticated state for the host system to access information stored in a protected portion of the device storage. A visual indication of a current state of the device through state representations provides the user with important information regarding the device and a state of interaction between the device and the host computer.

In one embodiment a first set of states of the device and one or more UI elements associated with each state are obtained from an accessible portion of the device storage. An identification of a current state of the device is obtained from the device and one or more UI elements associated with the identified current state of the storage device are presented through a user interface of the host system. In one embodiment the UI elements are obtained from block storage of the storage device. In another embodiment the UI elements are obtained from internal storage of the storage device using protocol commands.

In another embodiment device identification information is obtained from an accessible portion of the device storage. A request for a set of states and one or more UI elements associated with each state for the identified device is submitted to a remote service.

In yet another embodiment the device storage is queried for a set of device states and a one or more UI elements associated with each state. The one or more UI elements associated with a state are included in a representation of the state. In this embodiment the operating system includes a database of states for various devices and a representation of each state. If the device fails to provide a representation for each state in the set then the database of states is searched to obtain representations for each state in the set of device states for which a representation has not been obtained. If representations are not obtained for each of the states in the set of states then a request for representations of each state for which a representation has not been obtained is submitted to a remote service.

Turning now to the figures an example environment for implementation of embodiments of the invention is depicted in . Various devices having storage and intelligence such as a flash drive an external hard drive a digital camera a media player and a printer are shown connected with a host system . Devices having storage and intelligence include devices peripheral to the host system for example flash drive external hard drive digital camera and media player and include devices internal to the host system such as an internal hard drive an internal optical drive etc. Embodiments of the invention can be implemented using devices that include but are not limited to external hard drives internal hard drives optical drives flash drives digital cameras media players printers etc. Other devices may be employed as the present invention is not limited in this regard.

The host system which communicates with one or more devices having storage may be a computer a television a game console a kiosk or any device or system having suitable processing capabilities an operating system and a user interface as the invention is not limited in this regard. The host system may be wirelessly connected with a device having storage or the host system may have a wired connection with the device.

In some embodiments the host system may communicate with a remote service through a network . The network may be the Internet an intranet or other network suitable to connect the host system with the remote service . The remote service may provide sets of states for various devices and or representations of states for various devices. In some embodiments the remote service may provide information regarding how to form the representations of states from one or more UI elements stored on the host system instead of directly providing the one or more UI elements included in each representation. In some embodiments the remote service may provide one or more UI elements that are combined with default UI elements stored in the host system to form state representations. The remote service may have a database of sets of states for various devices and or representations of states for various devices. Sets of states representations of states and or UI elements of representations of states for a device may be supplied to the remote service by a device provider a provider of an operating system a provider of third party software to be used with the device or another party interested in customizing representations of states of a device as the invention is not limited in this regard.

The host system may include an application that is executed on the processor and supported by the operating system . In some embodiments the operating system includes an application program interface API that allows the application to obtain information regarding a current state of the device and allows the application to present a state representation of the current state of the device in a user interface of the application .

In some embodiments the host system includes a database of representations of states of devices . The database may include states of various devices and corresponding representations of each state. Additionally the database may include device identification information and sets of states corresponding to each identified device.

Device includes non volatile storage a control program a processor for execution of the control program and a port for communication with the host system . The non volatile storage may include non volatile memory hard disk space or storage using another suitable storage medium. In some embodiments storage includes block storage which may accessible to the host system through a file system and internal storage which may only accessible to the host system through commands. In some embodiments the storage may include an accessible storage portion and a secure storage portion . The accessible storage portion may include an accessible storage portion of the block storage and or an accessible storage portion of the internal storage. The secure storage portion may include a secure storage portion of the block storage and or a secure storage portion of the internal storage. For example a secured transient storage device may include an accessible storage portion which the host system is permitted to access in both an authenticated device state and in a non authenticated device state and include a secure storage portion which the host system is permitted to access only when the device is in an authenticated state. In some embodiments the device storage includes a database of states . The database of states includes a set of states for the device and may further include one or more UI elements associated with each state a representation of each state and or an identification of one or more UI elements that combine to form a representation of each state. Although the device is shown external to the host system as described above the device may a peripheral device or an internal device such as an internal hard drive.

The host system and the device may be connected through any suitable ports and communicate using any suitable communication protocols. For example the host system and the device may communicate through a Universal Serial Bus USB using the common standard extensible protocol IEEE 1667 according to an embodiment of the invention. In other embodiments the host system and the device may communicate via any suitable bus type using any suitable associated protocols including but not limited to Parallel Advanced Technology Attachment PATA Integrated Drive Electronics IDE enhanced IDE EIDE Serial Advanced Technology Attachment SATA Small Computer System Interface SCSI Serial Attached SCSI SAS Fibre Channel Protocol FCP and IEEE 1394 high speed serial bus as the present invention is not limited in this regard.

In some embodiments process may be initiated when the host system discovers or detects that the device is connected to the host system when the host system is powered on when the device is powered on when a user of the host system attempts to access information stored in the device or by the occurrence of any other suitable initiating event. Initially first information is received from device storage step . The first information includes a set of states of the device . The first information also includes one or more UI elements associated with each state in the set of states. As described above a representation of a state includes the one or more UI elements associated with the state. The first information received from device storage may include the one or more UI elements themselves. In some embodiments the first information may include information identifying one or more UI elements stored in the host system that are combined to form the representation or the first information may include at least one UI element from the device storage and information identifying at least one UI element stored in the host system that are combined to form the representation. In some embodiments of the invention the first information is provided by the device in response to a query from the host system though the information can be provided automatically upon a designated event.

In some embodiments the device has block storage which may be accessed by the host system through the file system and internal storage which may be accessed by the host system using commands. For devices having block storage and internal storage the first information may be stored as a file in the block storage and or stored in the internal storage e.g. as a device property .

In one embodiment the device includes a partition in block storage which is read by default. The partition contains files holding UI elements e.g. image files or sound files and or a file specifying a set of states. The files holding UI elements and or the file specifying a set of state may be read by the host system through the file system.

In another embodiment the device includes an applet or silo which will be named StateRepsSilo simply for descriptive purposes. The host system includes a complementary StateReps control module e.g. a driver for communicating with the StateRepsSilo. After the StateReps control module of the host system binds to the protocol the host system issues a command and receives information representing UI elements of state representations from the internal storage of the device in response to the command.

For devices having an accessible storage and secure storage storing the first information in the secure storage would prevent access to the set of device states and may prevent access to the one or more UI elements associated with each state until the device is authenticated. Accordingly in devices having accessible storage and secure storage the first information may be stored in the accessible storage

As described above states that may be included in the set of states include but are not limited to initializing conducting internal checking housekeeping authenticated non authenticated e.g. locked permanently locked etc. States included in the set of states may be standard states known states or custom states and new states defined by the device provider. States included in the set of states for the device may be selected by the device provider.

In some embodiments an identification of one or more UI elements associated with each state may include an identification of one or more UI elements e.g. an icon or a portion of an icon stored on the device. The one or more UI elements associated with each state may be stored on the device in the form of an image file in an image file format. In some embodiments an identification of the one or more UI elements associated with each state may include an identification of one or more UI elements provided by the operating system of the host system.

In other embodiments an identification of one or more UI elements associated with each state may include an identification of one or more UI elements stored on the device and one or more UI elements included in the operating system of the host system. In some embodiments a state representation of a device state is a combination of the one or more UI elements and the first information may include information regarding how to combine the one or more UI elements associated with the state to form the state representation.

Second information is then received from the storage device the second information including an identification of a current state of the device step . In some embodiments the second information is received from the device in response to a query of the current device state however the present invention is not limited in this regard.

A representation of the identified current state of the device is presented through the user interface of the host system step . As described above the one or more UI elements associated with the identified current state of the device may be received from the device storage may be obtained from storage of the host system or both. In one embodiment presenting a representation of the identified current device state may include displaying an icon representing the current state of the device through the graphical user interface of the host system . In another embodiment presenting a representation of the identified current device state may include producing sound representing the current state of the device through the acoustic user interface .

In some embodiments presenting a representation of a current device state includes presenting one or more UI elements that are transformed to form a composite element. The composite element may be formed of one or more UI elements obtained from the device and or one or more UI elements obtained from the host system . In one embodiment one or more UI elements overlay one or more other UI elements to form a composite state representation.

In another embodiment a vendor may provide a custom UI element which overlays a standard operating system UI element to form a composite state representation. Transforms used to form the composite state representation include transforms to overlay the custom UI element and transforms to adjust a transparency level of the custom UI element and or the standard UI element. One or more custom UI elements and one or more standard UI element may be superimposed using any known method e.g. alpha compositing for graphical elements.

Transforms applied to UI elements to form a composite state representation are not limited to transforms that overlay two elements. As used herein a transform is a bit manipulation of format change that combines different distinct elements into a composited element. If the one or more interface elements are all 2D bitmaps then the transforms are 2D graphic transforms. Mask transforms may be applied. More complex transforms to create 3D effects may be applied. Different states of a device may be indicated by different transforms applied to the interface elements for example a hue of the composite transform or a size of the composite transform may differ for an authenticated and for a non authenticated state.

In one embodiment the host system includes a database of default or baseline state representations . Each composite state representation may be a superposition of a baseline state representation from the host system database and one or more UI elements received from the device storage .

Returning to the flow diagram of process depicted in a representation of the state of the device may be dynamically updated based on changes in the device state. Information including an updated state of the storage device may be received step and a representation of the updated state of the storage device may be presented . The host system may dynamically represent the current device state by repeating the steps of receiving information including an updated state of the device step and presenting a representation of the updated state of the storage device step . In some embodiments the host system may poll the device for the current device state at selected times at selected intervals of time or when triggered by a triggering event. In other embodiments the updated state of the device may be received asynchronously from the device.

Having thus described several aspects of at least one embodiment of this invention it is to be appreciated that various alterations modifications and improvements will readily occur to those skilled in the art.

Such alterations modifications and improvements are intended to be part of this disclosure and are intended to be within the spirit and scope of the invention. Accordingly the foregoing description and drawings are by way of example only.

The above described embodiments of the present invention can be implemented in any of numerous ways. For example the embodiments may be implemented using hardware software or a combination thereof. When implemented in software the software code can be executed on any suitable processor or collection of processors whether provided in a single computer or distributed among multiple computers.

Further it should be appreciated that a computer may be embodied in any of a number of forms such as a rack mounted computer a desktop computer a laptop computer or a tablet computer. Additionally a computer may be embedded in a device not generally regarded as a computer but with suitable processing capabilities including a Personal Digital Assistant PDA a smart phone or any other suitable portable or fixed electronic device.

In addition a computer may have one or more input and output devices. These devices can be used among other things to present a user interface. Examples of output devices that can be used to provide a user interface include printers or display screens for visual presentation of output and speakers or other sound generating devices for audible presentation of output. Examples of input devices that can be used for a user interface include keyboards and pointing devices such as mice touch pads and digitizing tablets. As another example a computer may receive input information through speech recognition or in other audible format.

Such computers may be interconnected by one or more networks in any suitable form including as a local area network or a wide area network such as an enterprise network or the Internet. Such networks may be based on any suitable technology and may operate according to any suitable protocol and may include wireless networks wired networks or fiber optic networks.

In addition the various methods or processes outlined herein may be coded as software that is executable on one or more processors that employ any one of a variety of operating systems or platforms. Additionally such software may be written using any of a number of suitable programming languages and or programming or scripting tools and may be compiled as executable machine language code or intermediate code that is executed on a framework or virtual machine.

In this respect the invention may be embodied as a computer readable medium or multiple computer readable media e.g. a computer memory one or more floppy discs compact discs optical discs magnetic tapes flash memories circuit configurations in Field Programmable Gate Arrays or other semiconductor devices or other tangible computer storage medium encoded with one or more programs that when executed on one or more computers or other processors perform methods that implement the various embodiments of the invention discussed above. The computer readable medium or media can be transportable such that the program or programs stored thereon can be loaded onto one or more different computers or other processors to implement various aspects of the present invention as discussed above.

The terms program or software are used herein in a generic sense to refer to any type of computer code or set of computer executable instructions that can be employed to program a computer or other processor to implement various aspects of the present invention as discussed above. Additionally it should be appreciated that according to one aspect of this embodiment one or more computer programs that when executed perform methods of the present invention need not reside on a single computer or processor but may be distributed in a modular fashion amongst a number of different computers or processors to implement various aspects of the present invention.

Computer executable instructions may be in many forms such as program modules executed by one or more computers or other devices. Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. Typically the functionality of the program modules may be combined or distributed as desired in various embodiments.

In addition data structures may be stored in computer readable media in any suitable form. For simplicity of illustration data structures may be shown to have fields that are related through location in the data structure. Such relationships may likewise be achieved by assigning storage for the fields with locations in a computer readable medium that conveys relationship between the fields. However any suitable mechanism may be used to establish a relationship between information in fields of a data structure including through the use of pointers tags or other mechanisms that establish relationship between data elements.

Various aspects of the present invention may be used alone in combination or in a variety of arrangements not specifically discussed in the embodiments described in the foregoing and is therefore not limited in its application to the details and arrangement of components set forth in the foregoing description or illustrated in the drawings. For example aspects described in one embodiment may be combined in any manner with aspects described in other embodiments.

Also the invention may be embodied as a method of which an example has been provided. The acts performed as part of the method may be ordered in any suitable way. Accordingly embodiments may be constructed in which acts are performed in an order different than illustrated which may include performing some acts simultaneously even though shown as sequential acts in illustrative embodiments.

Use of ordinal terms such as first second third etc. in the claims to modify a claim element does not by itself connote any priority precedence or order of one claim element over another or the temporal order in which acts of a method are performed but are used merely as labels to distinguish one claim element having a certain name from another element having a same name but for use of the ordinal term to distinguish the claim elements.

Also the phraseology and terminology used herein is for the purpose of description and should not be regarded as limiting. The use of including comprising or having containing involving and variations thereof herein is meant to encompass the items listed thereafter and equivalents thereof as well as additional items.

