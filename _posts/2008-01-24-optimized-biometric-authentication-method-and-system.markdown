---

title: Optimized biometric authentication method and system
abstract: An efficient exchange of messages in a system for authenticating access to a base device is facilitated through the selection of a particular biometric template from among a plurality of biometric templates. Rather than transmitting the template to a peripheral device, an indication of a location of the particular biometric template within the plurality of biometric templates is transmitted to the peripheral device. At the peripheral device, once the indication of the location and a biometric candidate are received, the particular biometric template may be located and compared to the biometric candidate. Finally, an indication of a result of the comparing may be transmitted to the base device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09378346&OS=09378346&RS=09378346
owner: BlackBerry Limited
number: 09378346
owner_city: Waterloo
owner_country: CA
publication_date: 20080124
---
The present application is related to commonly owned U.S. patent application Ser. No. 12 019 618 entitled Optimized Biometric Authentication Method and System . The contents of the referenced application are incorporated herein.

The present application relates generally to authentication and more specifically to a method and system of optimized biometric authentication.

The mobile device market is currently experiencing explosive growth as mobile devices evolve to deliver increasingly critical services such as organizational planning wireless telephone e mail Internet browsing and services related to the critical services. Mobile devices are increasingly becoming critical tools to professionals and employees at all levels and in all positions. Government employees researchers law enforcement national security and intelligence officers and military personnel rely heavily on technology to perform their jobs. However people in these roles must be able to rely on their mobile devices to provide a secure system of information storage that is not susceptible to intrusion by outsiders or unauthorized users. Biometric authentication is often considered for providing security to mobile devices in use by people in such roles.

Biometric authentication relates to automatically and uniquely recognizing humans based upon one or more intrinsic physical or behavioral traits. Biometric authentication often involves technologies that measure and analyze human physical and behavioral characteristics. Examples of physical characteristics include fingerprints retinas irises facial patterns and hand measurements while examples of mostly behavioral characteristics include signature gait and typing patterns. Voice is considered a mix of both physical and behavioral characteristics.

Unfortunately current implementations of biometric identity verification for mobile devices are tedious and slow. Accordingly efficiency improvements are desirable in the art of biometric identity verification. Such improvements may even be applicable to mobile devices.

An efficient exchange of messages in a system for authenticating access to a base device is facilitated through the selection of a particular biometric template from among a plurality of biometric templates. Rather than transmitting the template to a peripheral device an indication of a location of the particular biometric template within the plurality of biometric templates is transmitted to the peripheral device. At the peripheral device once the indication of the location and a biometric candidate are received the particular biometric template may be located and compared to the biometric candidate. Finally an indication of a result of the comparing may be transmitted to the base device.

In accordance with an aspect of the present application there is provided a method of facilitating at a base device an efficient exchange of messages in a system for authenticating access to the base device the authenticating based on a data set comprising a plurality of biometric templates. The method includes transmitting a command message to a peripheral device for forwarding to a memory device physically connected to the peripheral device the command message requesting the data set the command message including an instruction to the peripheral device to maintain a copy of data received in a response message from the memory device. In other aspects of the present application a computing apparatus is provided for carrying out this method and a computer readable medium is provided for adapting a processor to carry out this method.

In accordance with a further aspect of the present application there is provided a method of facilitating at a peripheral device an efficient exchange of messages in a system for authenticating access to a base device the authenticating based on a data set comprising a plurality of biometric templates. The method includes receiving from the base device a command message for forwarding to a memory device physically connected to the peripheral device the command message requesting the data set extracting an instruction from the command message forwarding the command message to the memory device and receiving a response message from the memory device. The method further includes according to the instruction extracting a copy of data received in the response message and storing the copy of the data. In other aspects of the present application a computing apparatus is provided for carrying out this method and a computer readable medium is provided for adapting a processor to carry out this method.

Other aspects and features of the present application will become apparent to those of ordinary skill in the art upon review of the following description of specific embodiments of the application in conjunction with the accompanying figures.

In information technology biometric authentication refers to technologies that measure and analyze human physical and behavioral characteristics for authentication purposes. Examples of physical characteristics include fingerprints handprints eye retinas and irises facial patterns and hand measurements while examples of mostly behavioral characteristics include signature gait and typing patterns. Voice is considered a mix of both physical and behavioural characteristics. However it can be argued that all biometric traits share physical and behavioral aspects.

The use of a biometric authentication system begins with the collection and storage of template biometrics from potential users of the biometric authentication system. At the time of desired authentication the user inputs to a device or to a peripheral to the device a candidate biometric. Matching algorithms are then used to compare previously stored template biometrics against the candidate biometric. In the case where the biometric is an image an original image template may be directly compared with a candidate image. Alternatively formation of the template involves identifying certain features of an original image. Once the features are identified the template may be formed of location and orientation information for each of the features. Similarly a candidate is formed by identifying certain features of a candidate image and subsequently the template is compared to the candidate.

In one application biometric authentication may be used for authenticating the user of a mobile communication device.

Notably while only one mobile device and only one wireless network are shown in it should be clear to a person of ordinary skill in the art that many such mobile devices and wireless networks may be present in further exemplary communication systems. The wireless network may be implemented as a packet based cellular network that includes a number of base stations each providing wireless Radio Frequency RF coverage to a corresponding area or cell. For example the wireless network could conform to one or more of the following among other network standards Mobitex Radio Network DataTAC Global System for Mobile Communication GSM General Packet Radio System GPRS Time Division Multiple Access TDMA Code Division Multiple Access CDMA Cellular Digital Packet Data CDPD integrated Digital Enhanced Network iDEN or various other third generation networks such as Enhanced Data rates for GSM Evolution EDGE Universal Mobile Telecommunications Systems UMTS Wideband Code Division Multiple Access W CDMA High Speed Packet Access HSPA etc. Other types of data and voice networks both separate and integrated may also be utilized with the mobile device .

In some embodiments instead of or in addition to a wireless wide area network the wireless network may include a wireless local area network such as for example a wireless local area network that conforms to one or more IEEE 802.11 standards such as 802.11b 802.11g and 802.11n. In at least some example embodiments the wireless network is connected through intermediate communications links including for example links through the Internet to one or more enterprise networks . Typically such enterprise networks are each associated with a set of respective mobile devices such that the mobile devices are each enabled to exchange electronic messages and other information with the enterprise networks with which the mobile devices are associated.

The mobile device microprocessor operates under stored program control with code or firmware being stored in the flash memory or other type of non volatile memory device or devices . As depicted in the flash memory includes stored programs e.g. firmware including an operating system program or code module and other programs or software applications indicated generally by reference . The software applications can for example include a World Wide Web WWW browsing application and an e mail client application .

According to example embodiments the software applications of the mobile device further include a memory card driver that may be used in conjunction with the smart card reader which is described in more detail below in connection with . Notably the memory card driver may be provided not by the manufacturer of the mobile device but instead by a third party i.e. the manufacturer of the memory card . Furthermore an Application Programming Interface API may be built in to the memory card driver to allow the mobile device to communicate with the memory card through the smart card reader .

The software applications of the mobile device may further include a smart card reader pairing and security module for coordinating a pairing process between the mobile device and the smart card reader . The roles of the memory card driver and the smart card reader pairing and security module will be described in greater detail below. The operating system code code for specific device applications code for the WWW browsing application code for the e mail client application code for the memory card driver or code for the smart card reader pairing and security module may be temporarily loaded into a volatile storage medium such as the RAM during operation of the mobile device . Received communication signals and other data with information may also be stored in the RAM . In some embodiments the mobile device may include in addition to the internal flash memory persistent memory carried on a SIM Subscriber Identity Module card or other removable device and at least some of the flash memory may be allocated to the SIM card flash memory.

The stored program control i.e. the software applications for the mobile device microprocessor also includes a predetermined set of applications code components or software modules that control basic device operations for example data and voice communication applications which are normally installed on the mobile device as the software applications during the manufacturing process. Further applications may also be loaded i.e. downloaded onto the mobile device through the operation of networks described above the auxiliary I O subsystem the serial port or the mobile device short range communications subsystem . The downloaded code modules or components are then installed by the user or automatically in the RAM or the non volatile program memory e.g. the flash memory .

The serial port may comprise a USB type interface port for interfacing or synchronizing with another device such as a desktop or notebook computer not shown . The serial port may be used to set preferences through an external device or software application. The serial port may also be used to extend the capabilities of the mobile device by providing for information or software downloads including user interface information to the mobile device other than through a wireless communication network. In one embodiment the serial port may be used to communicate with a smart card reader .

The mobile device short range communications subsystem provides an interface for communication between the mobile device and other devices including the smart card reader to be described in greater detail in connection with below. For example the mobile device short range communications subsystem may employ an infrared communication link or channel or may operate according to a wireless bus protocol such as Bluetooth or any other localized wireless means of communication.

A fingerprint sensor comprises an electronic device used to capture a digital image of a fingerprint pattern. The captured image is called a live scan. This live scan may be digitally processed to create a biometric template which is stored and used for later matching. Some of the more commonly used fingerprint sensor technologies include optical ultrasonic and capacitance.

The smart card reader microprocessor operates under stored program control with code or firmware being stored in the flash memory or other type of non volatile memory device or devices . As depicted in the stored programs e.g. firmware include an operating system program or code module and other programs or software applications indicated generally by reference . The operating system of the smart card reader further includes a biometric matching software component and a memory card reader driver component .

The biometric matching software component is used to analyze or compare candidate biometrics scanned by the biometric input device in reference to stored biometric templates.

The memory card reader driver component is responsible for coordinating communications between the smart card reader and a memory card and or the memory card driver of the mobile device .

The operating system code code for specific device applications code for the biometric matching software component code for the memory card reader driver component or code components thereof may be temporarily loaded into a volatile storage medium such as the RAM . Received communication signals and other data may also be stored in the RAM . Additionally the storage component interface receives the removable memory card providing additional storage space for the smart card reader . In one embodiment the memory card may be a smart card conforming to ISO 7816 Identification cards Integrated circuit s cards with contacts which is available from the International Organization for Standardization at www.iso.ch. In one embodiment the memory card stores biometric templates and has a card driver and controller responsible for coordinating communications between the memory card and the memory card reader driver component of the smart card reader . While operation of the smart card reader is described in a context wherein the memory card is a smart card it will be understood by those skilled in the art that the smart card reader may be designed to operate with any suitable form of memory device.

The stored program control i.e. software applications for the smart card reader microprocessor may include a predetermined set of applications code components or software modules that control basic device operations for example management and security related control of the data of the smart card reader and may be installed on the smart card reader as a component of the software applications during the manufacturing process. Further applications may also be loaded i.e. downloaded onto the smart card reader through the operation of the serial port the smart card reader short range communications subsystem or from the memory card . The downloaded code module or components are then installed by the user or automatically in the RAM or non volatile program memory e.g. the flash memory .

While the biometric matching software component and the memory card reader driver component are shown to be an integrated portion of the operating system for security purposes e.g. individuals must not be permitted to tamper with the biometric matching software component or the memory card reader driver component the biometric matching software component and or the memory card reader driver component could be installed as one of the software applications so long as suitable security related precautions are taken to ensure that the biometric matching software component and the memory card reader driver component cannot be modified or tampered with by unauthorized users.

The serial port may be a USB type interface port for interfacing or synchronizing with another device such as a desktop computer not shown or the mobile device . The serial port is used to set preferences through an external device or software application or exchange data with a device such as the mobile device which data is stored on the memory card that is plugged into the storage component interface of the smart card reader . The serial port is also used to extend the capabilities of the smart card reader by providing for downloads to the smart card reader of information or software including user interface information.

The smart card reader short range communications subsystem provides an interface for communication between the mobile device and the smart card reader . In one embodiment the smart card reader short range communications subsystem employs an infrared communication link or channel. In another embodiment the smart card reader short range communications subsystem operates according to a wireless RF bus protocol such as Bluetooth . However the smart card reader short range communications subsystem may operate according to any suitable local wired or wireless communication protocol so long as the short range communications subsystem of the mobile device operates using the same protocol thereby facilitating wireless communication between the mobile device and the smart card reader . Any communications mechanism and or protocol may be implemented for the short range communications subsystems so long as the mobile device and the smart card reader can communicate with each other when within physical proximity.

In some enhanced security embodiments in order for a user to use some or all of the functionality of the mobile device the mobile device must be in at least periodic communication with its associated smart card reader through the mobile device short range communications system to receive authorization information stored on the memory card . The authorization information stored on the memory card will typically include unique authentication information for a designated user of the mobile device such as the biometric templates and or further authentication information such as passwords etc. Such a configuration mitigates against unauthorized use when the mobile device becomes separated i.e. out of communications range from the smart card reader with which the mobile device has been paired. According to example embodiments in addition to providing enhanced security functionality the smart card reader is also used to backup data from the mobile device .

The memory card driver provides information to the mobile device on how to communicate with the memory card . The smart card reader typically only has code on it associated with the retailer or manufacturer of the smart card reader and the memory card driver is a vendor specific driver normally written by a third party associated with the memory card .

It is not necessarily typical that the biometric input device be located on the smart card reader . Indeed a peripheral biometric input device not shown may be associated with the mobile device . Accordingly biometric authentication can be controlled and processed on the mobile device . In such a case the mobile device first obtains the fingerprint templates from their storage on the memory card . At a later time the mobile device prompts a user for biometric input via the peripheral biometric input device. Upon receiving a candidate biometric the mobile device microprocessor compares the candidate biometric to a biometric template selected from among the fingerprint templates obtained from the memory card . On the basis of the result of the comparison the mobile device microprocessor may allow the user access to various applications executed on the mobile device .

Communication between the mobile device and the smart card reader and between the smart card reader and the memory card may be standardized to use Application Protocol Data Units APDUs where a standard structure for an APDU is defined by ISO 7816. There are two categories of APDUs command APDUs and response APDUs. A command APDU is sent for instance by the smart card reader to the memory card . A command APDU contains a header and may contain data. A response APDU is sent by the memory card to the smart card reader . A response APDU contains a status word and may contain data.

When the biometric input device is located on the smart card reader as illustrated in the biometric matching software component may also be located on the smart card reader . However to perform authentication the biometric matching software component needs a biometric template that is stored on both the memory card and the mobile device .

In overview it is proposed herein to add an extension to the memory card API that is used by the memory card driver at the mobile device . Such an extension would allow the memory card driver to specify to the memory card reader driver component of the smart card reader that the data contained in the an expected response APDU from the memory card contains fingerprint biometric templates . Accordingly responsive to receiving the expected response APDU the microprocessor of the smart card reader can extract the fingerprint templates from the response APDU and store the fingerprint templates for example in the RAM cache . Additionally the memory card reader driver component may be provided with an ability to read the stored fingerprint templates .

At the time of authentication the mobile device microprocessor determines a location for a template in the fingerprint templates . The mobile device microprocessor then transmits an indication of the location to the smart card reader . Upon receiving the location indication the memory card reader driver component may extract the required fingerprint template from the fingerprint templates extracted earlier from the template response APDU and saved. When a candidate fingerprint has been obtained the biometric matching software component executing on the smart card reader microprocessor compares the particular fingerprint template to candidate fingerprint and transmits an indication of a result of the comparing to the mobile device .

Even though the memory card reader driver component is provided with an ability to read the fingerprint templates and extract and store the required fingerprint template from the fingerprint templates contained in the response APDU for security purposes the memory card reader driver component may remain unable to independently determine which fingerprint template is the required fingerprint template. The task of determining which fingerprint template is the required fingerprint template remains with the memory card driver executed by the mobile device microprocessor .

While not intended to be limiting the following assumptions with regards to the configurations of the mobile device and the smart card reader are made with respect to the description that follows a the memory card driver is executed on the mobile device b each different type of memory card available for use as the memory card uses an associated mobile device driver c a collection of identification templates such as biometric templates is stored on the memory card which is inserted into the storage component interface d the identification information matching software such as the biometric matching software component used to match candidate identification information to one of the identification templates is executed on the smart card reader as part of the operating system e the link between the mobile device and the smart card reader using the short range communications subsystems provides limited bandwidth making minimization of data transfer over this link desirable in order to accelerate the biometric authentication process and f most software for the pairing and authentication processes with the exception of the biometric matching software component and the memory card reader driver component resides on the mobile device .

Initially the mobile device microprocessor prepares a template request command APDU for transmission to the smart card reader . The template request command APDU indicates a requirement for the fingerprint templates stored on the memory card . Notably according to an extension to the memory card API that is used by the memory card driver at the mobile device the mobile device microprocessor wraps the template request command APDU using a novel PDU format to form a wrapped template request command APDU that contains the template request command APDU and also contains an indication that the response APDUs that are anticipated as a response to the template request command APDU will contain fingerprint templates . The mobile device microprocessor transmits step the wrapped template request command APDU to the smart card reader .

The smart card reader microprocessor receives the wrapped template request command APDU step and records the indication that the response APDU will contain a fingerprint template . The smart card reader microprocessor then forwards step the template request command APDU extracted from the wrapped template request command APDU to the memory card . The mobile device short range communications subsystem the smart card reader short range communications subsystem and the storage component interface have been omitted from for clarity.

Note that only illustrates a single exemplary set of potentially many of APDUs both command APDUs and response APDUs that may be sent back and forth between the mobile device and the smart card reader . There may be several fingerprint templates and each template may require several APDUs to transfer the entire fingerprint template i.e. a fingerprint template may have to be transferred in sections .

Responsive to receiving the template request command APDU the card driver and controller of the memory card formulates a template response APDU to include a fingerprint template or a portion thereof and transmits the template response APDU to the smart card reader . When the template response APDU has been received step by the smart card reader microprocessor the smart card reader microprocessor extracts step the fingerprint template or portion thereof from the template response APDU and stores the extracted information for example in the RAM cache . The smart card reader microprocessor then forwards step the template response APDU which includes the fingerprint template to the mobile device . The mobile device microprocessor then receives step the template response APDU .

To initiate the authentication of a candidate fingerprint the mobile device microprocessor selects step a candidate fingerprint template from among the plurality of fingerprint templates and determines step the location of the candidate fingerprint template among the set of received fingerprint templates . With the location determined the memory card driver of the mobile device microprocessor transmits step a template location message indicating the location of the candidate fingerprint template among the set of received fingerprint templates to the smart card reader . For example the mobile device microprocessor may select step a candidate fingerprint template associated with a right index finger from among the fingerprint templates available for each of ten fingers.

The location of the fingerprint template among the set of received fingerprint templates as specified within the template location message may include an indication of the index of the required fingerprint template within the fingerprint templates and an indication of the length of the required fingerprint template.

The mobile device microprocessor may then prompt step the user for input. That is the mobile device microprocessor controls the presentation of an indication to the user e.g. using the display sub system indicating that the user is to provide a finger to the fingerprint sensor .

In the meantime the smart card reader microprocessor receives step the template location message . Once the smart card reader microprocessor has the template location from the template location message the microprocessor extracts step the fingerprint template from the fingerprint templates that were stored locally in step see .

Responsive to the user having provided a finger to the fingerprint sensor the fingerprint sensor captures a live scan of the fingerprint and transmits the live scan to the smart card reader . The smart card reader microprocessor receives step the live scan and formulates step a candidate fingerprint by digitally processing the live scan to form a candidate fingerprint in keeping with the matching algorithm to be used.

The smart card reader microprocessor then compares step the candidate fingerprint to the required fingerprint template by executing a predetermined matching algorithm. If the microprocessor determines step that the result of the execution of the matching algorithm is a match the microprocessor transmits step a pass indication message to the mobile device . If the microprocessor determines step that the result of the execution of the matching algorithm is not a match the microprocessor transmits step a fail indication message to the mobile device .

The mobile device microprocessor receives step the indication message that includes an indication of the result of the execution of the matching algorithm and according to the indication of the result controls access step i.e. allows or denies the user access to the typical operation of the mobile device .

Communication between the mobile device and the smart card reader occurs by way of the mobile device short range communications subsystem and the smart card reader short range communications subsystem . In one embodiment the short range communications subsystems use the Bluetooth protocol.

Each fingerprint template occupies a certain amount of memory as an example consider a fingerprint template that occupies about one kilobyte of memory. When the transmission of the fingerprint template occurs over a Bluetooth connection e.g. at about 700 kbit s between the mobile device and the smart card reader the duration of the transmission is expected to be about 1.4 seconds.

In contrast the template location message merely provides a template location and not an entire fingerprint template. The template location message is expected to occupy a significantly smaller amount of memory than the amount of memory that would be occupied by message carrying an entire fingerprint template as payload. Accordingly the time required to transfer the template location message from mobile device to smart card reader is significantly shorter than the time required to transfer a message carrying an entire fingerprint template from mobile device to smart card reader .

Assuming that the mobile device microprocessor has already requested and received the fingerprint templates the use of the template location message in place of the message carrying an entire fingerprint template is expected to improve the speed of authentication by at least one second per finger where the transmission of the fingerprint template occurs over a Bluetooth connection as described above. In an application that requires authentication of all ten fingers the novel method proposed herein could improve the speed of authentication by more than ten seconds where a Bluetooth connection is used for example.

While the method proposed herein is described in the context of the mobile device and the smart card reader the method or substantially similar methods could also be utilized on any suitable personal computing device communicating with any type of suitable peripheral device and the short range communications subsystems employed between the two devices could be any known communications mechanism such as a USB connection etc.

While biometric authentication has been presented above in isolation it is known that biometric authentication may be part of a multi factor authentication protocol that requires many independent ways to establish identity and privileges. Commonly a two factor authentication protocol is used.

In the context of the above described example of single factor biometric authentication a multi factor authentication protocol may involve a process for establishing that communication between the mobile device and the smart card reader should be allowed. Additionally access to the memory card may require the user to illustrate knowledge of a personal identification number PIN or other access code.

In a multi factor authentication protocol the following sequence of events may be required to gain access to the mobile device a a user specific mobile device password is entered thereby authenticating the user to the mobile device b a user specific smart card reader password or PIN is entered to authenticate the user to the smart card reader c the mobile device is paired with the smart card reader thereby satisfying the mobile device that the user is in possession of the smart card reader and d a biometric authentication process is completed for example as described above.

Step c the pairing process may be required since the smart card reader can be used to store sensitive information e.g. security clearances encryption keys service books personal data back up biometric templates etc. . It is important in at least some embodiments that a secure method of authentication be available to prevent unauthorized access to the smart card reader and or the memory card . The pairing process is expected to be carried out under the control of the mobile device and the smart card reader .

To initialize the pairing process the push button on the smart card reader see may be actuated. Responsive to detecting a button push event the smart card reader displays e.g. on the smart card reader display shown in a device address for the smart card reader . In one embodiment the device address may be the unique 48 bit device address that is assigned to each Bluetooth device upon manufacture of the device. The pairing and security module may then be executed by the microprocessor of the mobile device . The user having physical possession of the smart card reader then reads the unique device address from the smart card reader display and enters the unique device address into an element of a user interface provided on the mobile device by the pairing and security module . In some embodiments if the mobile device had previously been paired with the smart card reader the mobile device may already have the address of the smart card reader stored in memory e.g. the flash memory . In such a case the user may merely use the user interface provided on the mobile device to select the address of the smart card reader stored in memory. The mobile device microprocessor then transmits a pairing request e.g. using the mobile device short range communications subsystem to the smart card reader . After having displayed the device address the smart card reader awaits the pairing request from the mobile device microprocessor .

Successfully pairing the mobile device to the smart card reader does not necessarily grant the mobile device full access to all data stored in the memory card or the smart card reader flash memory . Further password entry may be required to access some or all of the data available to be read by the smart card reader . For example contents of the memory card or the flash memory may be protected by passwords thus requiring further verification for access to such content.

As will be clear to a person of ordinary skill in the art the method of authenticating a candidate fingerprint relies a on the smart card reader having an ability to extract a required fingerprint template from a copy of the fingerprint templates stored on the memory card and b on the copy of the fingerprint templates stored locally at the smart card reader being identical to the copy of the fingerprint templates stored on the mobile device . That is the mobile device need not necessarily obtain a copy of the fingerprint templates from the smart card reader in combination with the memory card .

The above described embodiments of the present application are intended to be examples only. Alterations modifications and variations may be effected to the particular embodiments by those skilled in the art without departing from the scope of the application which is defined by the claims appended hereto. For example in other embodiments the identification information can be an image such as a picture supplied by the user and the authentication is performed by the identification matching software component comparing or analyzing the supplied image to stored image templates.

