---

title: Semantic relationship-based location description parsing
abstract: An automated arrangement for parsing location descriptions is provided in which semantic verification is integrated into a parsing process to reduce the generation of false results. The semantic verification involves checking up to three semantic relationships between keywords (i.e., syntactical components) parsed from the location description in a tokenization process to determine if a tokenization result is valid. The semantic relationships include: a) a spatial “part-of” relationship between location keywords; b) a spatial “near-by” relationship; and, c) a spatial “intersect” relationship. The semantic relationships between particular locations may be pre-calculated and stored as extended vocabulary to enable the semantic verification to occur early in the parsing process to thus increase overall parsing efficiency. The results of the parsing are sorted based on a rank score that is derived using the semantic relationships between the locations.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08682646&OS=08682646&RS=08682646
owner: Microsoft Corporation
number: 08682646
owner_city: Redmond
owner_country: US
publication_date: 20080604
---
Location description parsing means to decompose a location description into several syntactical components and is typically performed by applying the grammatical rules by which such a description is composed. Location description parsing is often a key step for on line services such as mapping and search tools to understand a user query and deliver relevant results for the query.

Location description parsing can often be very difficult because abbreviations for locations are commonly utilized but there is not always a standardized way to abbreviate and not all users will use the same abbreviation. A location may also have several commonly used aliases that can be more well known than the official name of the location. And many different locations often have the same or similar names.

One major drawback of existing parsing systems is that they may produce too many false results for which no real world meanings exist. Accordingly in order to obtain a correct result additional semantic analysis steps are typically applied after the parsing to improve accuracy and reduce the occurrence of false results. Semantic analysis attempts to figure out a sensible meaning for syntactical components through the application of various techniques. But because they represent additional steps such analysis may often give rise to an efficiency problem and slow the responsiveness of the on line service to the user s query. The situation is worse for Chinese and other Asian languages since these languages do not have natural word boundaries so there are many more possible ways for parsing systems to group a sequence of characters into a sequence of words in these languages as compared to English.

This Background is provided to introduce a brief context for the Summary and Detailed Description that follow. This Background is not intended to be an aid in determining the scope of the claimed subject matter nor be viewed as limiting the claimed subject matter to implementations that solve any or all of the disadvantages or problems presented above.

An automated arrangement for parsing location descriptions is provided in which semantic verification is integrated into a parsing process to reduce the generation of false results. The semantic verification involves checking up to three semantic relationships between keywords i.e. syntactical components parsed from the location description in a tokenization process to determine if a tokenization result is valid. The semantic relationships include a a spatial part of relationship between location keywords b a spatial near by relationship and c a spatial intersect relationship. Thus for example if keywords in a location description include a street name and a city name then the street would be expected to be part of the city for the location description to make reasonable sense. The semantic verification will check a semantic relationship module to determine whether the street is actually within the spatial e.g. geographic boundary of the city. Similarly two streets can be checked to verify whether they intersect and a point of interest can be checked to determine if it is near a landmark for example.

The semantic relationships between particular locations such as streets cities states points of interest neighborhoods landmarks etc. may be pre calculated and then added as attributes to extend the location vocabulary used by the parsing process. The pre calculation enables the semantic verification to occur early in the parsing process to thus increase overall parsing efficiency. The results of the parsing are sorted based on a rank score that is derived using the semantic relationships between the locations. In various illustrative examples the present semantic relationship based location description parsing is utilized in applications respectively involving geocoding location detection and local search.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter.

The on line search service includes a search engine with which the users will typically interact using a browser functionality for example a mobile browser running on the mobile device or a web browser running on the PC . In alternative implementations a user may interface with the search engine through for example a desktop search application or another application that is configured to interface with a search engine API application programming interface .

The search engine is typically configured to crawl resources located on the Web such as Web servers in order to compile an ongoing index of Web addresses i.e. URLs Uniform Resource Locators and analyze content contained in the pages at those addresses which it can index and store in a database. When a user submits a query through a browser to the search engine the search engine will typically compare it with the information in its index and report back any matches.

The syntactic process will typically combine several known methods shown in . The methods include a the application of grammatical rules to decompose the location description into syntactic components b tokenization technologies using n gram tokenization models using the statistical properties of n grams an n gram is the sub sequence of n items from a given sequence. The items may be letters words or base pairs depending on the requirements of a particular application c pattern matching technologies that match the local description with possible patterns and d dictionary driven technologies in which a dictionary comprising common or domain specific vocabulary is utilized.

The location description from a user can be formed irregularly and not always adhere to strict syntactical rules. Therefore the results are typically subjected to some form of semantic analysis so that the location description makes reasonable sense. Application of the semantic analysis can often reduce false results but involves additional processing and other resources which can make the on line search inefficient and or time consuming which may undesirably reduce the quality of the user experience provided by the service.

By comparison to the parsing system the semantic relationship based location description parsing system in integrates semantic verification into the parsing process to prevent the generation of false results while obviating the need for additional and separate semantic analysis. The parsing system applies a method comprising a number of steps collectively identified by reference numeral that are performed in association with data that is contained in location description parsing modules which include a location pattern module a location vocabulary module and a semantic relationship attributes module .

The parsing system may be utilized for example by the on line search service to take an arbitrarily formed location description from a user and output results that have real world meanings.

The parsing system will be further described using a specific illustrative scenario which involves a description from a user of a location in New York City. The user enters the following string in the web browser as a location description 

As shown in the location description is subjected to pattern matching which uses location patterns provided by the location pattern module such as blvd st city etc. to break up the location description into syntactic trunks . In this example there are four trunks 

The location vocabulary module provides location vocabulary to the tokenization process to tokenize the location description. As shown in the tokenization process identifies location keywords and their associated semantic relationship attributes from the description in the syntactic trunks . For example as indicated in the table the location keywords and their associated semantic relationship attributes are spatially related through the semantic relationships 

Semantic verification is performed to determine if the tokenization results are valid by loading all the attributes generated by the semantic relationships module that are associated with the location keywords as extensions to the location vocabulary. Thus as shown in table in for the example scenario the certain location keywords are validly spatially related while others are not. The valid relationships include 

The method continues with tokenization results pruning . As shown in the invalid tokenization results are pruned from the location description . In this example WA is removed to leave Lincoln blvd NE 30th St New York City as a result as indicated by reference numeral . The tokenization results which remain after pruning have passed semantic verification and thus have real world meaning and make sense.

As shown in the pruned tokenization results are subjected to semantic identification to generate a primary location identification based on the semantic relationships attributes that are generated by module . In this example scenario the primary location is identified as 

Referring again to results of the parsing performed by the semantic parsing system may be subjected to semantic scoring . This may be particularly beneficial in cases where the location description contains a relatively large number of keywords or has some degree of ambiguity for which a multiplicity of reasonable semantic meanings may be inferred. In such cases a set of two or more results may be generated by the parsing system . Using the present scenario one illustrative formula for calculating a semantic score for the parsing results is WeightofIntersection intersects Lincoln NE 30th Lincoln blvd NE 30th st New York City where U returns the linguistic probability of a location keyword when it stands alone i.e. a uni gram and B returns the linguistic probability of two location keywords when they stand together i.e. a bi gram .

Each parsing result produced by the system may then be ranked and sorted as respectively indicated by reference numerals and according to their semantic score.

Turning now to a variety of illustrative applications of the present semantic relationship based location description parsing system are presented. In the on line search service is adapted to support a geocoding system that is commonly utilized as a base component of an on line mapping service that is provided to user . Generally speaking the accuracy and performance of a geocoding system will determine the end user usability of the system. Greater accuracy and performance efficiency will promote more map search queries from the users .

The geocoding system receives a geo query from the user and then typically calculates latitude and longitude coordinates to be able to map a location that is parsed from the geo query. In some cases a polygon e.g. a zip code lot census track tax block city block neighborhood city or state boundary etc. may be calculated that is associated with the parsed location.

The present parsing system may be utilized in a geocoding application by parsing the geo query for location keywords as shown in the table in such as address landmark name description of street intersection or description of a location with a direction and distance. The parsing system may then generate a set of parsing results together with the latitude and longitude coordinates or polygon as associated semantic relationship attributes where the attributes have a semantic relationship such as intersection position location polygon or location distance given by a direction and distance for example.

As the latitude and longitude or polygon semantically related to a location keyword can be pre calculated and stored as attributes in the vocabulary provided by the semantic relationship module the geocoding system may quickly and efficiently return semantically sensible results responsively to a user s geo query . This feature can be expected to help increase the overall map search query volume in some cases.

In the on line search service is adapted to support a location detection system . Here given an arbitrary location description such as I visit Space Needle today the system extracts location words which in this example are Space Needle . The parsing system through the semantic identification can then identify the primary location here a famous landmark tourist attraction in Seattle Wash. USA .

The parsing system may be utilized in the location detection system to output the location words and associated semantic relationship attributes that can then be used by various content crawling analysis and or data mining tools when collecting data for example from the web based resources . Because the results of the parsing system are semantically sensible the ability of the tools to derive more meaning from the parsed results is enhanced to thereby enable richer and more comprehensive location detection services to be provided to the users.

In the on line search service is adapted to support a local search system where an arbitrary local query i.e. a query that contains information of a local nature is parsed by the parsing system to extract identified words . In this example the identified words include location words content words and connective words which may be used by the local search system to understand the intent of the user s local query to thereby produce highly relevant local search results. In this application the location vocabulary in module and attributes in the semantics relationships module are extended to include local content categories . For example in a local query which contains Pizza in ZhongGuanCun area the location word is ZhongGuanCun the content word is Pizza and the words such as in are connective words.

The application examples shown in and described in the accompanying text are intended to be illustrative and should not be construed as the only applications that may benefit from the present semantic relationship based location description parsing system . For example applications may also be supported which include crawling web sites e.g. resources in for points of interest and directory services such as yellow pages services. Other location related tools such as those which crawl travel routes may also be supported in some scenarios.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

