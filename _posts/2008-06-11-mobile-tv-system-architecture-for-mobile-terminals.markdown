---

title: Mobile TV system architecture for mobile terminals
abstract: A mobile TV system architecture for a mobile terminal that reduces the processing required by the main processor during reception of digital broadcasts such as DVB-H. The mobile terminal architecture includes a main processor system and a mobile TV receiver device. The mobile TV receiver device includes units for SI/PSI processing, IP processing and decryption engine. The SI/PSI (service information/program specific information) processing unit receives non-protected transport stream (TS) packets and extracts SI/PSI tables which can be stored in memory local to the receiver device. The IP processing unit receives decrypted error-corrected protected packets containing multimedia content. The receiver device may include an HTTP server for communicating with a browser application running on the main processor system. The browser application presents multimedia content, received via HTTP, corresponding to a URL entered or selected by a user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09219951&OS=09219951&RS=09219951
owner: ANALOG DEVICES, INC.
number: 09219951
owner_city: Norwood
owner_country: US
publication_date: 20080611
---
The present application claims the benefit under 35 U.S.C. 119 e of U.S. Provisional Application Ser. No. 60 998 753 filed Oct. 12 2007 entitled Mobile TV System Partitioning For Mobile Portable Terminal Devices which application is hereby incorporated herein by reference in its entirety.

This invention relates to mobile wireless terminals and more particularly to a system architecture that facilitates integration of mobile TV service into a mobile wireless terminal.

For some consumers it is desirable to stay connected at all times. Current mobile phones support some form of non voice connectivity such as text messaging allowing users to subscribe to various information services. These services provide periodic content as it becomes available or on demand from the user. Many mobile phones now support some form of Internet browsing email access downloading and other forms of information transfer.

Standards are currently being established for digital TV broadcasts to a variety of wireless mobile terminals and the availability of such services is expected to increase in the coming years.

Mobile terminals can take the form of a mobile phone a personal digital assistant PDA a portable media platform PMP or any similar product that is capable of storing processing playing back and communicating digital content wirelessly.

In the main processor system P the functions are divided into four main operational blocks including a cellular subsystem an A V subsystem a host processor and memory subsystem and a human interface . Other interfaces such as WLAN Bluetooth GPS HDMI and the like not shown in may also be present.

The mobile TV receiver P includes a tuner an analog to digital converter ADC a demodulator processor and memory and an antenna . Radio frequency RF communications are received through the antenna . The RF signal carries the modulated digital broadcast signal that includes a digital TV signal in addition to other types of broadcast data. The RF signal band digital modulation scheme signal bandwidth and error correction method are specific to the standard utilized by the system. Signal bands between VHF and L band are used with some systems using higher frequencies. The digital modulation schemes may include QPSK DQPSK 16 QAM 64 QAM and the like. The channel bandwidth to carry TV signals is typically 1.5 5 6 7 or 8 MHz although other bandwidths are possible. Error correction methods such as convolutional Reed Solomon and Turbo codes may be used to correct multi byte data packets.

The mobile TV receiver P handles RF signal tuning and reception analog to digital conversion and signal demodulation and provides digital data to the main processor system P for further processing. Cost size and power considerations usually demand that a serial interface P be used for communication between the receiver and the main processor system. Once the digital data has reached the main processor system P additional processing is performed. Additional processing performed by the main processor system P includes error correction decryption decoding play back and the like.

Like conventional television mobile TV is a broadcast system so data flow is primarily from the mobile TV receiver P to the main processor system P. Control information is sent from the main processor system P to the mobile TV receiver P to control receiver operation.

One of the standards for mobile TV is DVB H or Digital Video Broadcasting Handheld. DVB H is an extension of DVB Digital Video Broadcasting that addresses the two main issues of broadcasting to a mobile user power consumption of the terminal and the Doppler Effect since users may be traveling at relatively high speeds e.g. in a car or train .

To reduce power consumption DVB H utilizes a slicing scheme in which data is sent and received during pre defined and limited time slots. This allows the receiver to partially shut down outside of the active time slots.

In DVB H broadcasts data is sent in the form of fixed size 188 bytes MPEG 2 Motion Picture Experts Group transport stream TS packets. shows the structure of an MPEG 2 TS packet P which includes a header a packet identifier PID and a payload . Depending on the contents of payload packets may be protected packets or non protected packets .

The payload of non protected packets carries tables of information about the services Service Information SI and programs Program Specific Information PSI that are being broadcast. SI and PSI tables are a part of the broadcast service delivery and are required to navigate through different types of information available in each MPEG 2 TS packet. They are used to decode the selected audio video picture and or other digital content.

The payload of protected packets carries internet protocol IP datagrams i.e. IP packets. The IP packets contain audio video image and graphics data related to each program. Additionally the IP packets can deliver other types of information such as an electronic service guide ESG data files news traffic data financial market data and graphical newspapers or any other type of multimedia content. Here and throughout the phrase multimedia content refers to any type of content that may be broadcast to a mobile terminal. Mobile terminals supporting Internet Group Management Protocol IGMP additionally may receive content associated with groups to which the mobile terminal has privileges.

In the physical layer the RF tuner may be tuned to a mobile TV channel which is demodulated and converted to a digital signal. The digital signal is initially in the form of DVB symbols which are then converted to MPEG 2 TS packets by DVB T Digital Video Broadcasting Terrestrial unit .

In the data link layer the MPEG 2 TS packets are sorted into protected packets and non protected packets by MPEG 2 TS unit . MPE FEC multiprotocol encapsulation forward error correction is performed on the protected packets to improve carrier to noise ratio C N and Doppler performance in MPE FEC unit . The IP packets are extracted and delivered to the IP processing unit in the main processor system P. IP processing unit identifies the IP addresses of the IP packets and filters the packets based on their destination addresses.

Non protected packets do not receive MPE FEC decoding and are passed by Non MPE FEC unit as TS packets to the SI PSI processing unit in the main processor system P. The SI PSI tables are extracted from the TS packets by SI PSI processing unit .

The IP processing unit and SI PSI processing unit residing on the main processor system P perform computationally intense tasks. This places a burden on the main processor system.

A system architecture for a mobile terminal is disclosed that facilitates the integration of mobile TV service into a mobile terminal system.

In one aspect embodiments relate to a mobile terminal comprising a host device a receiver device and an interface. The host device has a media player adapted to receive a multimedia stream and present a multimedia presentation. The receiver device is connected to the host device and comprises a receiver front end and processing unit. The receiver front end has an antenna and a receiver front end output. The receiver front end is adapted to receive a radio frequency RF signal via the antenna and output a stream of packets from the receiver front end output. The processing unit has a processor output. The processing unit is adapted to receive internet protocol IP packets derived from packets in the stream of packets identify IP packets corresponding to the multimedia stream and output the multimedia stream from the processor output. The interface is adapted to connect the host device and the receiver device.

In another aspect embodiments relate to a method of operating a mobile terminal. The mobile terminal comprises a host device and a receiver device. The receiver device is initially configured to receive packets arriving in a first time slot. The method comprises transmitting from the host device to the receiver device a multimedia content selection identifying an address corresponding to the multimedia content selection looking up a packet identifier in a table stored on the receiver device the packet identifier corresponding to the address reconfiguring the receiver to a second time slot and transmitting multimedia content decrypted with a decryption key from the receiver device to the host device.

In another aspect embodiments relate to a method of processing a broadcast signal by a receiver device for transmission to a host device. The method comprises receiving a RF broadcast signal at the receiver device converting in the receiver device the RF broadcast signal into a baseband signal comprising protected and non protected packets sorting protected and non protected packets in the receiver device extracting service information and program specific information SI PSI tables from non protected packets and storing the SI PSI tables to memory in the receiver device error correcting protected packets in the receiver device wherein the error correcting produces internet protocol IP packets determining in the receiver device an IP packet type based on a destination address for each IP packet and transmitting IP packets having an audio video A V packet type from the receiver device to the host device over a serial interface for playback.

In yet another aspect embodiments relate to a wireless communications device. The wireless communication device comprises a host processor and a receiver block. The host processor includes a media player and a user interface that permits a user to select a TV channel. The receiver block is connected to the host processor and comprises a receiver front end and a processing unit. The receiver front end is configured to receive an RF signal containing a stream of packets. The processing unit is configured to process at least a portion of the received stream of packets and in response to a request from the host processor for the user selected TV channel to provide packets corresponding to the selected TV channel to the host processor for playback by the media player.

Mobile terminals are very complex devices that offer a wide variety of functions. Different terminals offer different features hardware software capabilities user interfaces connection technologies and available applications for the end user. Because of the diversity variety and complexity of mobile terminals integrating TV and or other broadcast services into these terminals may be a complicated task.

A system architecture is disclosed that facilitates the integration of the mobile TV service into a mobile terminal system by providing standard based well understood widely used and ubiquitous networking and programming interfaces. Introduction of such an interface will enable the mobile TV service to be added to the main processor software as a plug in module thus reducing the complexity of software integration tasks. The disclosed architecture also reduces the MIPS Million Instructions Per Second loading memory and timing requirements for the mobile terminal s main processor system. This can lead to an increase in efficiency and throughput of the interface between the mobile TV receiver module and the mobile terminal main processor system.

Communication between the mobile TV receiver device and the main processor system may be performed over an interface . While interface is typically a serial interface any other type of interface for communicating data between the main processor system and the mobile TV receiver device may be used such as a parallel interface.

In some embodiments main processor system is implemented as one or more integrated circuits such as a digital signal processor and mobile TV receiver device is implemented as a separate integrated circuit and or other hardware. In some embodiments mobile TV receiver device and main processor system may be combined onto the same integrated circuit.

Main processor system is adapted to execute an A V CODEC and media player a user interface a mobile TV application a service guide a browser application and may have other components not shown. The A V codec and media player may decode the media stream that is to decompress the compressed media stream and play back the video and audio contents. For example the video and audio contents may be played back over an LCD display and a speaker system respectively. The user interface may receive input signals from the user and transmit the control signals from such input devices as keyboard touch sensor screen buttons stylus or similar devices to the main processor. The mobile TV application may be a software that allows the user to select a specific TV channel for viewing. It may also verify that the user has the right privileges for viewing a particular channel. The service guide may collect all the information about available channels and their schedule in a tabular form. The browser application may provide the familiar browser graphical user interface on a display screen. It also provides the graphical environment to display the video component of the TV or the service guide. In some embodiments the main processor system may be made of identical or similar hardware as the main processor system P of the prior art.

The main processor system may present the multimedia content through a stand alone program or through a browser application similar to Microsoft Internet Explorer Mozilla Firefox or any other embedded browser application software. The browser application may provide a familiar look and feel to users.

The receiver device digitizes received RF communications and performs network layer and additional processing prior to sending multimedia content to the main processor system . The receiver device may contain a receiver front end a demultiplexer an error correction unit a protected packet processing unit containing an IP processing unit a non protected packet processing unit an HTTP server and a receiver controller . Each of these units is described below.

The receiver front end provides the functionality of a receiver unit with a digital signal output. The receiver front end may be adapted to receive signals of any RF band appropriate for transmission of multimedia content. In some embodiments tuner selects the desired signal band and suppresses unwanted signals. RF communications may be received by an antenna .

The RF signal received by receiver front end may be digitized and demodulated. Digitization and demodulation may be performed using hardware software or any other suitable means. In some embodiments the RF signal is converted to a digital signal by an analog to digital converter ADC and may then be demodulated by demodulator .

The receiver front end outputs a digital signal containing received information to demultiplexer . In embodiments supporting DVB H broadcasts the signal output to demultiplexer may be in the form of MPEG 2 TS packets. In some embodiments a signal strength output measurement is provided to receiver controller .

Demultiplexer distributes portions of the digital signal received from receiver front end to various receiver components such as protected packet processing unit and non protected packet processing unit .

In some embodiments the digital signal is received as a series of packets. The demultiplexer sorts the packets based on packet type. In embodiments for receiving DVB H broadcasts packets may be sorted into protected packets and non protected packets.

Packets requiring error correction e.g. protected packets MPEG 2 TS protected packets MPE FEC packets are sent to the error correction unit by the demultiplexer . Error correction unit may perform any suitable error correction method. In embodiments where the receiver device does not send signals back to the transmission station automatic repeat request ARQ is not practical and forward error correction FEC may be used. In embodiments for receiving a DVB H broadcast multiprotocol encapsulation forward error correction MPE FEC may be performed on protected packets.

Error corrected packets are output from the error correction unit to the protected packet processing unit . In embodiments for receiving a DVB H broadcasts error correction unit outputs user datagram protocol UDP formatted IP packets to the protected packet processing unit .

The protected packet processing unit extracts the payload of each packet received from the error correction unit e.g. protected packets . In some embodiments the error corrected IP packets are output from the error correction unit in the UDP format to the IP unit of the protected packet processing unit . The IP packet payload and delivery information may be extracted by IP unit .

In some embodiments supporting IGMP IP unit additionally receives information from IGMP unit for identifying packets pertaining to broadcast data directed to a messaging group with which mobile terminal is associated.

The payloads extracted by IP unit are directed to the IP processing unit . The content of each payload is determined by the IP processing unit . Payloads may include multimedia content e.g. A V packets information needed for decryption e.g. electronic service guide files media session information e.g. session description protocol files and any other information necessary for presenting multimedia content. IP processing unit identifies and directs payloads to the file delivery over unidirectional transport FLUTE module or the real time transport protocol RTP module based on their packet type as determined by a destination address and UDP port number.

Packet types relevant to DVB H broadcasts include electronic service guide ESG files session description protocol SDP files and A V packets. ESG files carry information on how the broadcast A V data is encrypted. Packets that contain ESG files are delivered to an ESG decoder through FLUTE module and an XML extensible markup language parser for extraction of relevant information.

The FLUTE protocol helps in obtaining an error free delivery of a file over a unidirectional broadcast channel. FLUTE module may be part of IP processing unit and is used primarily in dealing with FLUTE protocol packets containing ESG files and SDP files.

The ESG decoder decrypts the ESG information using standards based decryption algorithms such as 128 bit AES advanced encryption standard . The operation that controls the decryption process and manages the decryption keys relies on the extracted information from the ESG files and is called a service purchase and protection SPP helper process unit . The SPP helper process unit may extract the updated decryption keys from the ESG data and provide the decryption keys to the decryption engine . The decryption engine uses the decryption keys to decrypt the A V data before sending it to the main processor system .

Session description protocol SDP module provides a standard representation of the information required to initiate a streaming media session such as viewing a broadcast digital TV channel. The standard representation may include information such as bit rate type of audio video compression transport addresses and other types of media details. Packets that contain SDP files are recognized by their IP destination address and UDP port number and are delivered to the host media player through FLUTE module and XML parser . When the SDP file is extracted from FLUTE data it can be presented to the A V CODEC and media player of the main processor system .

A V packets contain actual compressed audio video tracks for the requested channel or program and are sent from the IP processing unit via the RTP unit to the media player running on the main processor system via RTP protocols. In some embodiments where decryption is used the A V packets are decrypted by the decryption engine which receives the necessary decryption keys from SPP helper process unit .

In some embodiments the multimedia content and session information are sent to the main processor system using HTTP server . The HTTP server transmits multimedia content to the main processor system using hypertext transfer protocol HTTP . The multimedia content may be displayed through a browser application running on the main processor system .

The HTTP server may also receive information from the main processor system . For example in some embodiments a user may select a TV channel for viewing through a web browser application. The request may be sent to the HTTP server of device via HTTP in the form of a uniform resource locator URL over the serial interface . In such configuration the list of available programs is presented graphically in the window of the browser application and a scroll bar in the browser may allow the user to scroll onto the TV channel to be watched. In some embodiments simply clicking on the bar or tapping the screen if a touch sensor is used will enable the viewing of the TV channel of interest.

Packets not requiring error correction e.g. non protected packets by error correction unit are directed to the non protected processing unit by the demultiplexer . The non protected processing unit may extract and store tables containing information needed to decode the multimedia content. Also extracted in some embodiments is network map information which provides details on the signal coverage for the surrounding geographic space. In embodiments supporting DVB H broadcasts the non protected processing unit receives the non protected packets from the demultiplexer . The extracted tables are SI PSI Service Information Program Specific Information tables which are stored in embedded memory .

The non protected packet processing unit includes the SI PSI processing unit and memory . The SI PSI processing unit navigates through the received TS packets extracts the relevant SI PSI tables and stores them in memory . The SI PSI tables may contain information about the available frequency bands networks channels and programs. The tables also include the IP addresses of those IP packets containing compressed audio video data for broadcast programs and packets containing ESG.

The receiver controller may control the receiver front end . At start up the receiver controller may configure the receiver front end and instruct it to scan for available content bands. Signal strength measurements provided from the receiver front end may be used to determine if the receiver should be reconfigured to receive content from a different transmitter.

In embodiments where handover from one transmitter to another requires a change in tuner configuration the receiver controller enables the seamless reconfiguration of the receiver front end without perceptible interruption of content.

Receiver controller may include a frequency scan unit and a handover unit . In Multi Frequency Networks MFNs a handover takes place when a mobile terminal leaves a coverage area of a first cell and enters a coverage area of a second cell. In MFNs transmitters of neighboring cells operate at different frequencies. In some embodiments handover is managed by the mobile TV receiver device without involvement of the main processor system . In DVB H systems handover may involve a change in frequency and or change in the transport stream that carries the desired signal. The time slicing feature of DVB H allows for the seamless handover from the first cell to the second without interruption of service.

Radio signal strength may be monitored by receiver controller . The SI PSI tables stored in memory contain network map information and how the area is covered by multiple antennas. This information is provided to handover unit . When the signal strength of the tuned frequency band decreases below a threshold the handover unit may cause the tuner via frequency scan unit to tune to a different frequency band based on the network map data.

In some embodiments the broadcasts from adjacent cells may be monitored during the off time in DVB H systems. The signal strength for the neighboring cells is measured. The handover unit may cause the frequency scan unit to tune to the cell of the same network with the strongest signal. By synchronizing to the new frequency the transport stream of the same IP stream is found in the new cell and the relevant content is sent to the main processor system without interruption of service.

The frequency scan unit may control tuner . If no frequency band is preset frequency scan unit starts a scanning process by configuring tuner for the proper mode and registers all the available bands. This list is stored in memory and is available to the main processor system upon invocation of an appropriate API application programming interface such as mobile TV application . In some embodiments a GUI graphical user interface may present this list to the user. A graphical presentation may also be made by the browser application .

In some embodiments a user may select a channel for viewing from a list of channels provided by user interface . An embodiment of a selection process is shown in . The list of channels may be stored in the main processor system and is derived from the ESG and SI PSI data processed by the mobile TV receiver device . In embodiments where the main processor system is running a browser application the user directly or indirectly selects the URL of the desired channel step . The URL which may reference the TV station or channel e.g. www.bbc.co.uk mobiletv is sent from the browser application on the main processor system over the serial interface to the HTTP server running on the mobile TV receiver device step .

The received URL is decoded into an IP address by the HTTP server . HTTP server relies on the information stored in the SI PSI tables by non protected packet processing unit on the mobile TV receiver device as well as the information decoded and stored by the ESG decoder step .

At step the IP address is accessed from a table in memory that is regularly updated by the SI PSI processing unit and the ESG decoder .

The result of the access is reported in step . The result may be a list of packet identifiers PID s for the TS packets that contain the desired A V stream. The list of PIDs for a channel is extracted for the non protected packets by the SI PSI processing unit .

Once the PIDs for a specific TV channel are known a search is conducted to determine if the TS packets with that PID are already being received and if they are being corrected into IP datagram and if they are further processed by the RTP module and sent to the main processor system step for decode and play back. If so the channel is displayed using the user interface.

If the desired PID is not being received the mobile TV receiver device switches to the time slot where the PID is being sent step . The appropriate time slot information is extracted by the SI PSI processing unit .

The RF signal band digital modulation scheme signal bandwidth and error correction method are specific to the standard utilized by the system.

It should be appreciated that components of a mobile terminal may be implemented as hardware software or a combination of both. Having thus described at least one illustrative embodiment of the invention various alterations modifications and improvements will readily occur to those skilled in the art. Such alterations modifications and improvements are intended to be within the scope of the invention. Accordingly the foregoing description is by way of example only and is not intended as limiting. The invention is limited only as defined in the following claims and the equivalents thereto.

