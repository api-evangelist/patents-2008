---

title: Use of network composition descriptors for determining product compatibility
abstract: Using peer-to-peer device descriptors for determining product compatibility involves obtaining, via a home network, descriptors that describe a composition of the home network. The home network composition descriptors are compared to descriptors of products available from an e-commerce service provider that is external to the home network. The comparison determines compatibility of the products with the devices of the home network. Identity of compatible products selected from the products based on the comparison is communicated to a user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08266248&OS=08266248&RS=08266248
owner: Nokia Corporation
number: 08266248
owner_city: Espoo
owner_country: FI
publication_date: 20080411
---
This invention relates in general to computer networks and more particularly to resource discovery in home networks.

Universal Plug and Play UPnP technology defines an architecture for pervasive peer to peer network connectivity of intelligent appliances wireless devices and PCs of all form factors. It is designed to bring easy to use flexible standards based connectivity to ad hoc or unmanaged networks whether in the home in a small business public spaces or attached to the Internet. UPnP technology provides a distributed open networking architecture that leverages Transmission Control Proto Internet Protocol TCP IP and the Web technologies to enable seamless proximity networking in addition to control and data transfer among networked devices.

The UPnP Device Architecture UDA is designed to support zero configuration invisible networking and automatic discovery for a breadth of device categories from a wide range of vendors. This means a device can dynamically join a network obtain an IP address convey its capabilities and learn about the presence and capabilities of other devices. UPnP uses the Simple Service Discovery Protocol SSDP for service discovery. SSDP is generally built on top of Internet Protocol IP based networks and uses User Datagram Protocol UDP multicasts of eXtensible Markup Language XML formatted service descriptions.

Although UPnP is a well known example of a technology for establishing ad hoc peer to peer networks it is not the only one. Another example is known as Bonjour provided in products by Apple . Bonjour is Apple s trade name for its implementation of Zeroconf standing for Zero Configuration Networking which provides network formation and service discovery on a local area network. The Bonjour technology is widely used throughout Mac OS X and allows users to set up a network without any configuration. Currently it is used by Mac OS X and other operating systems to find printers and file sharing servers.

These ad hoc peer to peer technologies are used to form networks and discover services offered on the networks. Most service discovery schemes provide a way to uniformly describe services available. In UPnP this is known as the Description phase and involves passing specially formatted extensible Markup Language XML documents that describe available devices and services. The descriptions may include vendor specific device information like the model name and number serial number manufacturer name URLs to vendor specific web sites etc.

The vendor specific device data provided in device descriptions is usually informational but may not be needed to ultimately use the device via the network. For example a Network Attached Storage NAS is a standalone special purpose computer that serves as a network file server. Therefore if service discovery determines that a NAS device supports a known protocol e.g. Windows file sharing then the model and serial number of the device may not be important to using the NAS.

Similarly other useful technical data may be provided in the device description such as that the device utilizes two Serial Advanced Technology Attachment SATA hard drives in a mirrored Redundant Arrays of Independent Disks RAID configuration and can be configured to hold up to six hard drives. This information may be useful to some users and may be available elsewhere e.g. owner s manual . Nonetheless most devices that access the device may reasonably ignore such information as it does not affect the ultimate file server interactions with the NAS.

As home networked products become more ubiquitous the selection of products compatible with those networks may become more difficult. When properly selected devices that interact via ad hoc peer to peer networks can be set up and run more easily that traditional networking products. However if the products are not strictly compatible with the specific ad hoc peer to peer protocols or network hardware then such the benefits of this type of networking technology cannot be realized. There is benefit then in helping users to assure that a newly purchased product will be out of the box compatible with a home network.

To overcome limitations in the prior art described above and to overcome other limitations that will become apparent upon reading and understanding the present specification the present invention discloses a system apparatus and method for determining product compatibility based on network composition descriptors. In one embodiment a method involves obtaining via a scanning component coupled to a home network descriptors that describe a composition of the home network. The scanning component facilitates comparison of the home network composition descriptors to descriptors of products available from an e commerce service provider that is external to the home network. The comparison determines compatibility of the products with the composition of the home network. An identity of compatible products selected from the products based on the comparison is communicated to the user.

In more particular embodiments the home network composition descriptors describe at least one of devices applications application programming interfaces and media file data types of the home network. In such a case facilitating comparison of the home network composition descriptors involves facilitating comparison of the device descriptors and media file data type descriptors to the descriptors of products available from the e commerce service provider.

In other more particular embodiments the home network composition descriptors are obtained via a service discovery protocol of an ad hoc peer to peer network. In other arrangements the scanning component may include a Web browser plug in and or a gateway of the home network. In the latter case the home network composition descriptors may be obtained in response to a request for a scanning service directed to the service provider. In such case the method further involves receiving at the gateway in response to the request for the scanning service a query for a home network location of the scanning component where the scanning service is accessed. The network location is provided from the gateway to the service provider in response to the query and confirmation dialog is received from the service provider in response to the request for the scanning service. The confirmation dialog includes the network location where the scanning service is accessed. The network location is accessed via the confirmation dialog to initiate obtaining the home network composition descriptors.

In another more particular embodiment facilitating comparison of the home network composition descriptors to the descriptors of the products involves communicating the home network composition descriptors to the service provider and communicating the identity of the compatible products to the user comprises communicating a content page from the service provider to the user. In another case facilitating comparison of the home network composition descriptors to descriptors of the product involves communicating the descriptors of the products to a device of the home network and comparing the descriptors of the products with the home network composition descriptors at the device of the home network. In such a case communicating the identity of the compatible products to the user may involve forming a content page at the device of the home network and communicating the content page to the user. The content page includes links to the service provider.

In another more particular embodiment the method further involves requesting via a browsing device a scanning service via a content page of the service provider. A one time use personal identification code is obtained from the service provider in response to the request for the scanning service. The personal identification code is entered into a mobile device that provides the scanning service. The mobile device obtains the home network composition descriptors. The home network composition descriptors and the personal identification code are communicated from the mobile device to the service provider and the identity of the compatible products is associated with the personal identification code.

In another embodiment of the invention an apparatus includes an internal network interface capable of connecting to a home network and a processor coupled to the internal network interface. Memory is coupled to the processor and the memory includes instructions that cause the processor to a obtain via the home network descriptors that describe a composition of the home network b facilitate comparison of the home network composition descriptors to descriptors of products available from an e commerce service provider that is external to the home network wherein the comparison determines compatibility of the products with the devices of the home network and c communicate to a user an identity of compatible products selected from the products based on the comparison.

In another embodiment of the invention an apparatus includes a network interface capable of connecting to at least one home network via the Internet. A processor is coupled to the network interface and memory is coupled to the processor the memory includes instructions that cause the processor to a obtain via the networking interface descriptors that describe a composition of the home network b obtain descriptors of products offered for sale via an e commerce Internet site c compare the home network composition descriptors to the descriptors of the products d determine compatibility of the products with devices of the home network based on the comparison and e communicate to a user of the home network an identity of compatible products selected from the products based on the determination of compatibility.

In more particular embodiments the home network composition descriptors are obtained via a gateway of the home network in response to a request for a scanning service directed to the apparatus. The instructions further cause the processor to f send to the gateway in response to the request for the scanning service a query for a network location of the home network where the scanning service is accessed g embed the network location in a confirmation dialog h send the confirmation dialog to the user in response to the request for the scanning service and i obtain the home network composition descriptors in response to user activation of the dialog.

In another embodiment of the invention system includes a means for obtaining descriptors that describe a composition of the home network b means for comparing the home network composition descriptors to descriptors of products available from an e commerce service provider that is external to the home network c means for determining compatibility of the products with the devices of the home network and d means for communicating to the user an identity of compatible products selected from the products based on the determination of compatibility.

In a more particular embodiment the system further includes e means for requesting a scanning service via a content page of the service provider f means for providing to the e commerce service provider a network location of the home network where the scanning service is accessible g means for including the network location in a confirmation dialog that is sent to a user in response to a request for the scanning service. In such a case obtaining the home network composition descriptors occurs in response to the request for the scanning service and is initiated via user selection of the confirmation dialog.

In another more particular embodiment the system further includes e means for requesting a scanning service via a content page of the service provider f means for obtaining one time use personal identification code response to the request for the scanning service g means for communicating the home network composition descriptors and the personal identification code to the service provider in response to the request for the scanning service wherein obtaining the home network composition descriptors occurs in response to the request for the scanning service and h means for associating the identity of the compatible products with the personal identification code.

In another embodiment of the invention a computer readable storage medium has instructions stored thereon executable by a processor to a obtain via a home network descriptors that describe a composition of the home network b facilitate comparison of the home network composition descriptors to descriptors of products available from an e commerce service provider that is external to the home network wherein the comparison determines compatibility of the products with the devices of the home network and c communicate to a user the identity of compatible products selected from the products based on the comparison.

These and various other advantages and features of novelty which characterize the invention are pointed out with particularity in the claims annexed hereto and form a part hereof. However for a better understanding of the invention its advantages and the objects obtained by its use reference should be made to the drawings which form a further part hereof and to accompanying descriptive matter in which there are illustrated and described representative examples of systems apparatuses and methods in accordance with the invention.

In the following description of various embodiments reference is made to the accompanying drawings that form a part hereof and in which is shown by way of illustration various embodiments in which the invention may be practiced. It is to be understood that other embodiments may be utilized as structural and operational changes may be made without departing from the scope of the present invention.

Generally the present disclosure is related to automatically identifying and suggesting additional compatible electronic components based on network device application application program interface API and or media descriptions. Such device and media descriptions may be sent for example as part of ad hoc peer to peer network device discovery and service description. The service description data is compared against product data for which a user may be interested in and recommendations can be provided based on this comparison.

The embodiments described herein may provide numerous advantages over labor intensive examination and selection of items. As the number of device in users homes continues to grow specific device and media data becomes hard to remember and obtaining this data manually e.g. going through user manuals or help screens becomes increasingly cumbersome. A home network with the appropriate adaptations e.g. peer to peer service discovery can be automatically scanned for data that describes the devices and media used on these devices thus relieving the users from this burden. The exemplary embodiments may also save the users a lot of time when looking for new devices since automatic selection of products having known capabilities relieves the user from having to pore over huge lists of specifications. Another advantage to users is that such a system makes sure that the proposed device is compatible with existing home devices thereby minimizing the chances for bad experiences when first using the new device.

The embodiments described herein also provide advantages for vendors and retailers. For the on line shops the solution offers an opportunity for providing more personalized services thereby potentially attracting more customers. Although some users will have reservations about giving out data about their private networks a properly designed and communicated security policy e.g. user may need to authorize any data exported from the home network will help minimize privacy concerns. Further various embodiments allow such a recommendation to occur without any user device and media data from leaving the home network.

In some embodiments described herein some of the data that characterizes product compatibility may be collected using service discovery mechanisms of ad hoc peer to peer networks. A widely implemented form of this network technology is UPnP which is promoted by the UPnP Forum. The UPnP Forum promises transparent communication between any type of network capable appliance machine or device. In many examples that follow the use of UPnP and related technologies is illustrated with respect to audio video AV components although the concepts may apply equally to any type of apparatus.

As the UPnP standard developed the use of UPnP for AV applications was seen as useful. As such a UPnP AV specification was established that defines UPnP device architectures for AV devices. The UPnP AV specification includes UPnP device profiles that allow consumer electronics devices to distribute entertainment content throughout a home network.

The UPnP AV device profiles include a number of logical entities including UPnP Media Server UPnP Media Renderer and UPnP Control Point. The Media Server has access to entertainment content which may be located on a data store or a readable medium e.g. disk drive tape or compact disc . The Media Server sends the entertainment content to one or more Media Renderers which include hardware e.g. displays speakers for rendering the content to a user. The Control Point coordinates the operation of the Media Server and Media Renderer to perform actions desired by the end user. For example the Control Point may query data available on the Media Server allow a user to select content and send a command that causes the Media Renderer to access and play the content.

The UPnP AV specifications don t specify any particular type of supported media. Generally the devices are expected to exchange data that enables the devices to determine for themselves whether the particular media is supported. For example a Media Server may specify that media is to be accessed using a Uniform Resource Identifier URI that specifies Hypertext Transport Protocol HTTP as a transport protocol. In such a case an HTTP content type header filename extension and or descriptors embedded in an XML document pointed to by the URI may provide indicators of content type.

A scanning component running on a network could collect device application API and media information from the home network using service discovery protocols and or by other facilities of the home network e.g. via Web file and application servers operating on the home network . The information collected may include for example the model of a Wireless Local Area Network WLAN access point Internet connection speed local network bandwidth topology model version numbers of home devices that are UPnP or Bonjour capable Media Renderers Media Servers Scanners Printers PCs etc. the mobile phones that the users have been using with a PC or other local device the size of the media library of the user types codecs digital rights management DRM attributes of the user s media such as audio video picture files.

If the software scanner component is executed on a particular device such as a personal computer PC or a mobile communication device it could also get information about software installed on the PC iTunes Windows Media Player etc. . Such a component may be able to determine firewall connectivity settings based on the local settings of the device or by using protocols such as Dynamic Host Configuration Protocol DHCP Simple Network Management Protocol SNMP etc. The data gathered in this way may provide a valuable insight into the current state and composition configuration of the home network and resident devices and therefore may be useful for adding new products such as devices applications media files and or APIs to the network or for replacing existing products.

For example assume a user that wants to buy a new home device that will interface with the user s home network. The use has to be able to answer a few questions before being able to choose the right product from a long list that an on line store might offer. Examples of these questions include 

a Which product e.g. device application file API is best considering the network configuration media files applications APIs etc 

g Are the connections of my TV compatible with the connections of the renderer and or do I need an adapter 

Depending on the technical expertise of the user the user may not know the answers to all these questions. One approach to solve this problem is to define stricter interoperability guidelines such as exemplified by Digital Living Network Alliance DLNA . The DNLA is intended to foster device compatibility by establishing interoperability certifications using open standards and widely available industry specifications. Nonetheless some problems still exist with this approach. For example there will always be those products that might be compatible with a user s home products yet the product vendor does not obtain DLNA certification.

In other cases leading edge technologies may be available on the market well before a DLNA certification has been adopted for it. The leading edge products may be able to advertise these new capabilities right out of the box and information about new and compatible products may be available via the Internet. However until the appropriate certifications are available the user will have to gain some technical understanding of the new technology in order to make informed buying decisions. As a result if a certification system such as DNLA becomes highly popular it may impede the rate of initial adoption of new technologies by those users who have come to heavily rely on such certification.

Therefore embodiments of the present inventions are directed to helping a non technically savvy user choose the best device such as from an on line store. Of particular importance to such a user is whether such a new device will interact perfectly with his her existing home devices and existing media files. Embodiments of the invention can help choose devices that may or may not conform to some particular industry interoperability standard such as DLNA. However it will be appreciated that some level of standardization may be assumed to ensure device compatibility. For example terms such as 802.11g wireless networks HTTP 1.0 MP3 variable bit rate VBR etc. may imply a level of conformance to a particular standard such that it may reasonably assumed devices advertising those capabilities will be compatible with each other.

In reference now to a block diagram shows a system according to an embodiment of the invention. Generally a local network couples a number of computing apparatuses such as mobile device such as a mobile communication device audio video player digital camera camcorder positioning device a game device a mobile television or any combination of the aforementioned media server such as personal computer server set top box storage device or digital video recorder input device e.g. keyboard media renderer e.g. television TV projector audio player personal computer PC router gateway wireless access point and sensors such a movement temperature humidity audio still video camera. The local network may be suited for encompassing a physical space suitable for a home or small office application as well as dealing with a sometimes small quantity of devices that might be seen in home or small business environment. Such a local network may also be adaptable for use in other user environments such as industrial computing automation vehicle automotive computing or mobile wearable computing. Additionally the network may comprise networks also in other locations such as in vehicles such as cars or boats and or summer homes.

Devices coupled to the network may utilize one or more protocols for service discovery. As described above protocols associated with UPnP and or Bonjour. Other wired and or wireless protocols and technologies may also be adaptable to enable computing and non computing devices to interoperate via the network including Jini X10 Bluetooth xAP Rendezvous HomeRF IrDA local area network LAN wireless LAN WLAN WiFi ultra wide band UWB WiBree etc. or any combination of the aforementioned. Generally these protocols and technologies may make at least four types of data available namely device descriptors media types applications and APIs as shown associated with media server .

The device descriptor data may describe any combination of configurations version capabilities services and other relevant interoperability data related to associated device . For example if the media server is UPnP capable it may be able to provide an SSDP service description of data access and storage capabilities of the server thereby enabling other network devices to use these services. These service descriptions may include a description of multiple UPnP virtual devices that are included within a physical apparatus. For example mobile device may advertise both a user input device e.g. UPnP control point enabled by buttons display of the device as well as a media rendering device that is enabled by display speakers in the device .

The media type data may include data that describes formats and access protocol of user rendered media and this data may be provided by way of a service of the associated device . For example a UPnP media server may include a content directory service CDS that allows as user interface device e.g. UPnP control point to discover and enumerate all of the server s content. Other means may be used to discover media type data such as by parsing file names using a network file service available on the target device and or by interrogated an API of a media rendering program. It will be appreciated that the media type data provided by device may include data that is not actually stored on the device . For example the media server may be capable of discovering and aggregating descriptions of media content available from multiple network devices. Thus the media server may act as a central access point for media discovery even though actual media access may occur elsewhere.

The network is adapted to allow an interoperability scanner device and or application to gather device descriptor data media types application data and API data from numerous devices of the network . The scanner may be included one of the locally networked devices e.g. mobile device PC or gateway or may be remotely executed from a remote network via the Internet . The scanner utilizes the network protocols and services that enable peer devices to access the relevant data albeit with a different focus. The scanner gathers the device media application and API data for purposes of determining a composition profile of the network and its devices applications APIs and media files so that additional compatible devices media applications and or APIs may be chosen.

In one arrangement the scanner reports this network profile data to an e commerce Web server or similar entity. The server uses the report data to determine suggestions for devices that are compatible with the local network and or associated devices. In another arrangement instead of reporting the network profile data to the server the server could instead send relevant product data to the scanner . In this case the scanner could determine compatible products and either suggest the products directly or report the suggestion to the server which then suggests the components to the user. The suggested components may be selected based further on user inputs that limit the applicability of the prospective purchase to a particular subset of devices.

For example the user may control some aspect of the TV or the set top box not shown using a wireless keyboard and wishes to obtain a pointing device that cooperates with both devices. The keyboard may have been chosen for the user e.g. by a salesperson when the TV was purchased and thus the user may not know exactly how the keyboard interacts with the TV . In this example the gathered data may include not only the protocol used by the keyboard and TV but may determine whether the keyboard interacts directly with the TV or via some other component such as a set top box. Thus the user may be able to make a selection via a Web page associated with the e commerce server that states in effect select a pointer mouse that works with my TV in cooperation with the existing keyboard. This query along with the scanned and processed device media reporting data can be used to form a more accurate suggestion for presentation to the end user.

The scanner component may be utilized at any time by the end user. The user may for example periodically gather data for purposes besides purchasing products such as inventory auditing and or capturing a system configuration. However it is envisioned that many users may utilize the scanner as part of a transaction with an e commerce service . As such the component may be installed and or activated by way of a Web page. In reference now to a user interface screen illustrates an example of a scanner component accessible via a Web interface according to an embodiment of the invention.

Generally the interface screen may be accessed via the Internet using a browser program . The interface may be provided to the browser as a document using protocols and formats that are well known in the art. In this example the interface of an electronics retailer Web page and includes a listing of various products in this example TVs. The listing includes a column A with a short description for each TV and selecting an item in the listing may lead the viewer to a page devoted to that item which may include detailed specifications pictures ratings etc.

Although the short description A is usually useful it may not provide enough detail to enable the user to determine if the TV is compatible with existing equipment. For example if it is assumed that some of the TVs may be UPnP compatible but the short descriptions A may use trade names or differing nomenclatures e.g. smart appliance home smart network to identify this feature. Therefore the user may have to select each item in the list to determine whether a given product is advertised as UPnP capable that is assuming that the user actually knows that UPnP is what he or she needs or whether an alternate networking technology might also be used in this situation

Accordingly the user interface includes a control to assist the user in selecting between the displayed products. This control may be in the form of any combination of a browser plug in locally running software or software running externally from the home network e.g. from an Internet server . Generally the control can initiate with the user s consent scanning of their local network to determine a network wide device media application and or API interoperability profile. The browser may be operating on a device that has access to that local network either by way of physical connection or external access e.g. virtual private network . In such a case a plug in would have direct access to the network. It will be appreciated though that the browser may be operating on a device outside the network. In such a case the control may still be able to work although there may need to be provisions for accessing the network at least for the scanning function such as via Network Address Translation NAT pass through or Virtual Private Network VPN .

If the user has selected the control a user interface may be provided that assists in completing the scanning process. An example of a scanning assistant screen according to an embodiment of the invention is shown in . In this example the screen is shown in the same browser where the control was selected although a different program device may be used to show the interface screen . The screen includes an explanation portion that informs the user of what is to occur as well as selection boxes that allow the user to allow one or more of device data access media type access application type access and or API type access. If acceptable the user can activate the scanning process by way of the start control .

If the user has selected the start control a user interface may be provided that shows the result of the scanning process and applies those results to the products available at the vendor s Web site. An example of a scanning result screen according to an embodiment of the invention is shown in . In this example the screen is shown in the same browser where the control was selected. The screen includes scan results portions that informs the user of what was discovered regarding respective device and media types. The user may be able to select and deselect various items within these portions . This ability to select particular media types and devices may prevent an overly strict limitation on the results particularly for devices or media for which the user does not care about compatibility.

The screen includes a recommendation portion which lists available products that are compatible with the devices and media types selected in sections . It will be appreciated that in many cases there could be varying levels of compatibility such as where one product is seen as compatible with all of the device interfaces and or media types of the local network whereas other products may be partially compatible e.g. incompatible with a small subset of the features . As such the results may be ordered or ranked based on level of compatibility and links not shown may be used to analyze incompatibilities and select deselect those features for which compatibility is more or less important.

The recommendations may be further tailored using techniques known in that art such as sorting and filtering based on aspects unrelated to compatibility. For example the recommendations could be limited to a particular price range before or after the scan took place. Selecting an item from the recommendations may activate a link that leads to a detailed page for a particular product with data such as pictures owner s manuals ratings etc. The Web site may include other product related objects that can interact with the home network functionality exposed by the scanner. For example the Web page for some products may have a computer executable object e.g. a Java Applet that simulates a product s functionality. In such a case the user can try out functions such as on screen menus and see how the simulator interacts with the identified devices and media . While such a simulator may not be able to determine physical compatibility with the home network it can provide for example indications of software compatibility and ease of use.

As previously indicated a scanning component according to embodiments of the invention may run on locally or remotely located apparatuses. In reference now to a sequence diagram illustrates a device and media scanning procedure according to an embodiment of the invention. In this scenario a home network environment includes scanning software that may run for example on a fixed computing component such as a home server or a user device . The home network environment includes coupled home device and user device . Although two devices are shown it will be appreciated that the concepts described herein can be extended to any number of devices that may be expected to be used in the home domain . The user device has a user interface and software such as a browser that provides user access to an externally located e.g. Internet based online shop .

The home network may refer to any collection of networked devices that are located in one or more physical spaces such as homes small businesses industrial environment vehicles or any combination of the aforementioned. Access to remote entities such as the online shop may be provided via an Internet Service Provider ISP and accessed by way of a gateway router not shown . In this example the user device visits a Web site of the online shop and triggers a request for the scanning such as by activation of a Web page object. This request is directed to the scanning software by a direct connection from the online shop redirection by the user device or interception by an intermediary such as home gateway. In one embodiment the scanning software may exist as a plug in to a browser of the user device . In such a case an additional step not shown of downloading and installing the plug in may occur before the request is received and processed.

Before scanning commences authorization by the user may be requested . Assuming that the user confirms that the scan is allowed the software component begins scanning devices respectively. The scanning may include the sending of queries such a UPnP m search messages. In response the requested device and or media descriptors are gathered by the scanning software which compiles the data into a format usable by external entities such as the online shop. It will be appreciated that the gathering of data may occur at any time including before the scan is requested . The gathering may also include obtaining data that was not specifically requested such as broadcast multicast service advertisements.

There may be advantages to regularly scanning gathering and compiling the device and media data. For example pre compiled and cached data may include data from devices that are presently turned off when the request is sent. In some arrangements the scanning software may be resident on a device that already performs such characterization of the network devices for other purposes. For example a home UPnP device may already perform scanning and or gathering in order to interact with other UPnP devices. In such a case the software may need only to access the existing data gathered by a UPnP module and create the compilation out of that data.

The compilation comprising device media file application and API data may include any combination of parsing reformatting data reduction e.g. removing redundant or irrelevant data etc. For example the software can remove any privacy data that might be used to indicate user identity such as network service set identifiers SSID hostnames usernames etc. Similarly any media data collected should be devoid of any identification of content i.e. metadata but only provide indications of format and access protocols. Once prepared the compiled data or composition data is sent as a device media profile to the online shop in response to the request .

The online shop can perform a number of operations with the received device media data such as parsing retrieving product data from a database comparing parsed data against product data analyzing the results to select the optimum choice. These operations result in forming suggestions which are provided to the user in order to carry on further transactions such as queries purchases .

Although the provided profile data can be used to further the immediate goals of providing suggestions it will be appreciated that the data has other uses for example improving the existing models for device compatibility. This is shown as database update . One use of the profiles is that it may provide valuable data about compatibility between the user s existing devices e.g. devices . For example if a number of home networks report devices X and Y on the same network and devices X and Y have complementary functions e.g. Control Point and Media Server then it may be assumed that these devices are satisfactorily compatible. Other data might also suggest this compatibility. For example if a Control Point could enumerate the Media Servers and Media Renderers with which it interacts then this may be another positive indication of compatibility.

Another measure of compatibility of which the users and vendors may be interested is the success rate of the recommendations and subsequent purchase requests as represented by feedback . The feedback could be tracked by non network events such as product returns based on incompatibility. However once the purchased device is installed in the home network the new device may be able to interact with the scanning software and or online shop to at least report successful installation and interaction with other devices . The feedback may also indicate errors that occur that provide evidence of total or partial incompatibility.

In reference now to an alternate scenario is illustrated for new product compatibility scanning according to an embodiment of the invention. Similar to the scenario shown in a home environment in contains a number of home devices and mobile device with scanning software e.g. similar to software in installed. The user interacts with an online shop via a Web browser . Although the browser is shown operating within the home network environment it may not need to operate in the home. In this configuration the browser does not need to access the other devices of the network . Instead when a user visits the Web site of the online shop a personal identification number PIN is provided to the browser which displays the PIN to the user . The PIN may be a one time usage code e.g. e.g. 2323244 verkkokauppa.com to be entered to the scanning software of the mobile device . This example PIN code contains the shop Internet address and a specific transaction ID.

The user enters the PIN into the mobile device either contemporaneously with the Web site visit or sometime thereafter. The mobile device may have an application launcher that starts the scanning program and the PIN is entered into the scanner program via a user interface. In response the mobile device scans the local environment gathers relevant device media data compiles the data and reports the data to the online shop. These actions may be performed substantially as described in relation to except that the reported data will include the PIN and thereafter be associated with the PIN. Alternatively the web browser may be included in the mobile device and the PIN code may be transferred automatically to the scanner program after the user has approved the scanning.

Similar to the scenario shown in the online shop analyzes the device media data and provides suggestions to which the user can respond further with queries purchases etc. It should be apparent that there could be a time discontinuity between the Web site visit and the provision of suggestion because of the independent intervening actions of the mobile terminal . As such the online shop may maintain an account associated with the PIN or other access data that allows the user to access the shop to view suggestions in a different session than the original visit . If this is a vendor that the user often uses there may be some advantage to storing and updated the device profiles to assist the user in future purchases as well as acting as a convenient entry point for all information relating to the user devices such as software updates warranty information user manuals configuration backups etc.

In reference now to an alternate scenario is illustrated for new product compatibility scanning according to an embodiment of the invention. Similar to the scenario shown in a home environment in contains a number of home devices and a user accessible browser . In this example the local network environment includes a gateway that assists in network scanning on behalf of an online shop . The gateway or some other local device may run the scanning software e.g. similar to software in . In another arrangement the gateway may facilitate access to the network by scanning software running on a server of the online shop .

The user interacts with the online shop via the browser . Based on a user interaction with the Web site the online shop can obtain the public IP address of the home gateway e.g. looking at TCP IP headers of request . The shop may try to contact the home gateway on a well known port for example to determine if the gateway supports the special scanning procedure and to request scanning rights. In response the home gateway provides a Uniform Resource Identifier URI to the on line store . The URI links to the private scanning page of the home GW e.g. http 192.168.1.1 scan . This URI need not be accessible from the on line store so long as it is accessible on the local network . In this example the IP address 192.168.1.1 of the URI is a non Internet routable address that may be used on a home network where Internet access is provided by a NAT gateway.

The on line store embeds the URI into a confirmation Web page which may be displayed via the user s browser e.g. as a pop up window. This pop up window will contain the URI to the internal address of the gateway or some other local device. The user confirms the prompt via the pop up window thereby giving his confirmation for scanning the home network . The prompt may just include a confirmation e.g. yes no and or could include a request for access data e.g. password or PIN used to authenticate with the gateway . This prompting procedure may be done for security reasons so that no external entity can scan the network without user s clear acknowledgement.

In response to successfully prompting of the user the browser passes the confirmation to the gateway . The gateway then commences with scanning and or gathering to obtain data from devices . Thereafter the device media profile is provided to the online shop after local compilation not shown by the gateway .

In another embodiment of this sequence the actual scanning and or gathering may be performed by the online shop by way of the gateway . In such a case the user prompt is for purposes of opening up the gateway for temporary access by the server . This approach may be seen as less desirable by some users because it gives an external entity access to the local network where security measures may be lax or nonexistent due to dependence on the gateway as a firewall. Nonetheless this configuration offers some advantages as the online shop is more likely to include up to date software and device definitions. To alleviate some concerns the gateway may be configured with software that closely monitors the actions taken and data retrieved by the shop .

It will be appreciated there may be alternate approaches to those shown in that will yield similar results. For example referring again to instead of the scanning software sending the device media data to the online shop the shop could instead send to the scanning software a specially formatted database of all products available via the shop or at least those products relevant to the current request . In such a case the operations of checking the database and providing suggestions may be performed partially or wholly by the scanning software or some other device of the home environment . For example a suggestion page such as seen in could be generated locally by the scanner and that page could contain links for accessing the appropriate data from the shop when further inquiries are performed. The procedures in could be similarly modified. Additionally the process steps between the embodiments in may be combined in any combinations and order.

As described above a scanning software component that gathers compatibility data can run either on a locally attached network device or remotely. In reference now to a block diagram illustrates an apparatus that in one embodiment of the invention that may perform any combination of local or remote scanning functions. The apparatus may include a processor memory and an I O bus that couples peripheral devices to the processor . Those peripheral devices may include persistent memory storage e.g. disc drives flash memory one or more network interfaces and a media reader e.g. tape reader floppy drive Compact Disc player Digital Versatile Disc player memory card reader etc. . The media reader is capable of reading from a storage medium such as optical or magnetic media. The media reader may also be capable of writing to the media . The network interfaces may be capable of communicating via one or more networks and the Internet . The network may utilize such media such as phone lines coaxial cable Ethernet wireless radio transmissions infrared transmissions etc. The network may include Internet Protocol IP based public and private networks as well as proximity networking such as Bluetooth WLAN UWB WiBree and IrDA.

The operation of the processor is dictated by instructions that may be stored temporarily or permanently in memory or other logic circuitry. The instructions may be built into to the apparatus during manufacture or may be later transferred to the apparatus via the storage media or the networks . The instructions may include one or more P2P protocol discovery modules for facilitating gathering device descriptor and or media data from other devices of the network . One or more alternate discovery protocols may also be used to discover device media data. The alternate discovery protocols may include search using client server protocols e.g. HTTP network file servers etc. network management protocols such as SNMP etc. The discovery protocols may rely on a standard networking protocol stack for common network protocols such as TCP IP UDP IP etc. The network protocol stack in turn utilizes the network interface for accessing the network s .

The instructions include a data gathering module that coordinates gathering the device and media data via the discovery modules . The gathered data is sent to a compiling module that processes the gathered data into a format usable by a target e commerce service . As will be described in greater detail below the e commerce service is adapted to received device data and media data that is gathered and prepared by the apparatus . This data maybe temporarily or permanently stored on the device and may be in a raw format provided by the gathering module or in a compiled format output from the compiling module . The output of the compilation module may be more compact than a raw format e.g. having been subject to compilation operations such as reformatting removal of redundant or unnecessary information removal hiding of privacy data etc.

The e commerce service is operable with a wide variety of home environments and device platforms. As such it may be beneficial for a compilation module to provide a consistent format regardless of the underlying discovery mechanisms network protocols and platform of devices . As such a publicly accessible schema may be capable of ensuring that the compiler provides the data in an acceptable and consistent form. The schema can be maintained independently of e commerce services and end users. In such a case the e commerce server may also access the schema to prepare device and media data that describes the vendor s products.

The instructions include a reporting module that communicates the gathered data to the e commerce server . The reporting module may push the data out to a network server or may act as a server and wait for an external entity e.g. the e commerce server to pull the needed data. The reporting module may use a standardized protocol for reporting the data such as the use of a Web services interface not shown of the e commerce service or some intermediary service. A Web service is defined by the World Wide Web Consortium W3C as a software system designed to support interoperable machine to machine interaction over a network. Web services are frequently Web APIs that can be accessed as a remote procedure call over a network such as the Internet . The remote procedure call is executed on a remote system hosting the requested service.

It will be appreciated that users of the network s may wish the data to be reported only on an informed and voluntary basis. Therefore the instructions may include provisions to ensure that the actions of such components as the gathering and reporting modules operate only in response to an authenticated user request. As such the apparatus may maintain authentication data that is referenced before certain operations are performed. For example a user interface that enables a scan by the gathering module may present a password dialog to ensure that an authorized user is initiating the scan. This password can be checked via the authentication data . Similarly there may need to be an authentication of the e commerce server before sending gathered data via the reporting module to protect against address spoofing or man in the middle attacks. The authentication storage can be used to manage locally or remotely generated authorization codes such as the PIN described in relation to .

In response to the sending of data to the e commerce service the apparatus may facilitate reporting recommendations to the user based on greatest compatibility with the data . These recommendations may be shown elsewhere e.g. in a browser operating on another apparatus where the scanning was initiated from that other apparatus . The apparatus may also be involved in generation display of recommendations as represented by recommendation module . For example where the instructions are part of a browser plug in the recommendations could be provided from the e commerce service and be displayed on the browser GUI. However if the apparatus is acting as an intermediary between the e commerce service and a user device the recommendations module may itself dynamically generate the recommendations and send those to the user device.

The apparatus may include a device locally or remotely situated relative to target network s . For example the instructions could be included as part of a browser plug in operating on a user s desktop portable computer or mobile device. The apparatus could be configured as an infrastructure service device such as a network switch router gateway access point proxy server etc. As the operation of the instructions may include exchanging data with a remote service the instructions may include a gateway access module that governs access to networks s by external entities to facilitate actions related for example to local gathering and or reporting of the target data .

In an alternate embodiment of the invention the components of apparatus may be configured such that the e commerce service does not collect the data but instead the service sends a database of product information to the apparatus and a component of the apparatus represented as comparison module may perform the selection of optimum or near optimum products. In such a case the results may be provided via recommendation module and or may be sent to e commerce service via reporting module for further processing.

As described above a scanning software component gathers compatibility data for purposes of determining compatibility with commerce sold on an Internet site. In reference now to a block diagram illustrates an apparatus that may perform any combination of e commerce server according to embodiments of the invention. The apparatus may include a processor memory and an I O bus that couples peripheral devices to the processor . Those peripheral devices may include persistent memory storage one or more network interfaces and a media reader . The media reader is capable of reading from a storage medium . The media reader may also be capable of writing to the media . The network interfaces may be capable of communicating via one or the Internet in order to communicate with home networks . The networks are generally small scale private networks as well as proximity networking such as Bluetooth and IrDA.

The operation of the processor is dictated by instructions that may be stored temporarily or permanently in memory or other logic circuitry. The instructions may be built into to the apparatus during manufacture or may be later transferred to the apparatus via the storage media or the networks . The instructions may include one or more networking protocol stacks for common network protocols such as TCP IP UDP IP etc. The network protocol stack in turn utilizes the network interface for accessing the networks .

The instructions include a store front module that provides the shopping experience to the users. The store front module may include a standard HTTP server that provides static or dynamic HTML documents. The store front may also be enabled to directly or indirectly offer a scanner Web object e.g. browser plug in standalone software etc. to users of the store front . The scanner Web object may scan the local networks as described in greater detail elsewhere herein. The scanner object or other remotely situated software may interact with a data gathering module that coordinates gathering device and media data from individual user networks . The gathered data may be stored as user data and compared to product data via a comparison module . The output of the comparison module may include recommendations that are selected from the product data .

The scanner objects may be configured so that the device and media data is gathered in a format already compatible with the product data . As previously mentioned regarding an external schema may positively specify these formats. The scanner objects may also enforce some local and external authentication mechanisms to prevent unauthorized scanning and or gathering at the networks . The local components e.g. gathering module may securely store authentication data that facilitates these secure transactions.

In alternate embodiment of the invention the components of apparatus may be configured such that the apparatus accesses the networks itself and authentication data is used to temporarily gain access through network firewalls and the like. In such an arrangement the gathering component may include modules for communicating via various service discovery protocols and appropriately extracting and formatting data so obtained. In yet another embodiment the product data or a subset thereof is instead sent to the networks for local comparison and recommendation. In such a case some form of the results e.g. the compatible products selected from the product data may still be reported via the gathering module for internal tracking etc.

The apparatuses in may include other well known features that are not illustrated such as user input devices user output devices power circuitry sensors etc. As will be appreciated by one of skill in the art an apparatus having the functions described herein may include a combination of two or more physical devices that are at least coupled via some data transfer medium to form a distributed computing arrangement. In other arrangements the functions of various components represented by computing instructions can be separated to operate via dependently or independently operating computing arrangements coupled by networks. For example each function of service discovery gathering compiling and reporting shown in can each be separately implemented in physically dispersed apparatus that intercommunicate as described herein but otherwise operate independently of each other.

In reference now to a flowchart illustrates a procedure for determining product compatibility. The procedure involves obtaining via a peer to peer home network device descriptors for devices of the home network. Media file data that describes media of devices of the home network is also obtained . Comparison of the media file data and the device descriptors to descriptors of products available from an e commerce service provider that is external to the home network is facilitated. This comparison may occur locally or remotely. The comparison is used to determine compatibility of the products with the devices of the home network. An identity of compatible products selected from the products based on the comparison is communicated to a user.

The foregoing description of the embodiments of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not with this detailed description but rather determined by the claims appended hereto.

