---

title: Image processing apparatus, image processing method, and image processing program
abstract: A software architecture based on a concept called “pipes and filters” is applied to an image processing apparatus, thereby simplifying the customization, expansion, etc., of functions. In addition, filters are combined together using a description table in which the combination of the filters is described so as to construct a job, thereby further simplifying the customization, expansion, etc., of functions.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08180181&OS=08180181&RS=08180181
owner: Ricoh Company, Ltd.
number: 08180181
owner_city: Tokyo
owner_country: JP
publication_date: 20081007
---
The present invention relates to an image processing apparatus an image processing method and an image processing program.

Recent image processing apparatuses such as printers copiers scanners facsimile machines or multi function machines that realize the functions thereof in a single housing generally have a CPU similar to that of computers. The functions are implemented by the control of applications.

For example an image forming apparatus described in JP B2 3679349 Patent Document 1 has a function shared by multiple applications as a platform and is capable of installing the applications using the API Application Programming Interface of the platform. With the shared function as the platform it is possible for the image forming apparatus to prevent the installation of overlapped functions between the applications and improve development efficiency of all the applications.

However if the granularity of the function provided by the platform or that of an interface is not properly designed in this configuration the development efficiency of applications may not be improved according to expectation.

For example if the granularity is too small it is necessary to call many APIs even where an application provides a simple service. As a result its source code becomes complicated.

On the other hand if the granularity is too large it is necessary to correct the platform when it is desired to install an application that provides a service obtained by modifying part of a function. As a result the number of development steps may be increased. Particularly if the dependence between modules is strong in the platform it is necessary not only to add a new function to the platform but also to correct an existing part. As a result things get very complicated.

In addition when it is desired to install an application obtained by modifying part of a service e.g. image input processing provided by an existing application it is not possible to call the existing application for parts other than the modified part. Accordingly it is necessary to describe a source code and install a new application.

The present invention has been made in view of the above deficiencies and may provide an image processing apparatus an image processing method and an image processing program capable of simplifying the customization expansion etc. of functions.

In order to attain the above object the following configurations are employed in the embodiments of the present invention.

According to one aspect of the present invention there is provided an image processing apparatus. The apparatus comprises an input filter that controls input processing of image data to be input as an object for image processing an output filter that controls output processing of the image data to be output a work filter that applies work processing to the image data between the input filter and the output filter and a construction component that constructs a combination of the input filter the work filter and the output filter based on a description table in which the combination is described.

According to this configuration it is possible to simplify the customization expansion etc. of functions.

In addition the image processing apparatus may further comprise an application component that provides a function of the image processing apparatus wherein the application component has a table generation part that generates the description table based on a requested function and a table registration part that registers the description table generated by the table generation part in the construction component.

In addition the construction component may have a table analysis part that analyzes the description table and constructs the combination of the input filter the work filter and the output filter based on an analysis result of the table analysis part.

In addition the image processing apparatus may further comprise plural of the description tables wherein the construction component connects a combination of filters described by one of the description tables and a combination of filters described by another of the description tables to each other.

In addition the image processing apparatus may further comprise at least three of the description tables wherein the construction component selects at least the other two of the description tables based on the combination of the filters described by the one of the description tables and constructs a combination of filters based on the selected description tables.

According to another aspect of the present invention there is provided an image processing method. The method comprises an input step of controlling input processing of image data to be input as an object for image processing an output step of controlling output processing of the image data to be output a work step of applying work processing to the image data between the input step and the output step and a construction step for constructing a combination of the input step the work step and the output step based on a description table in which the combination is described.

According to still another aspect of the present invention there is provided an image processing program. The program causes a computer to perform an input step of controlling input processing of image data to be input as an object for image processing an output step of controlling output processing of the image data to be output a work step of applying work processing to the image data between the input step and the output step and a construction step of constructing a combination of the input step the work step and the output step based on a description table in which the combination is described.

According to the embodiments of the present invention it is possible to simplify the customization expansion etc. of functions.

Other objects features and advantages of the present invention will become more apparent from the following detailed description when read in conjunction with the accompanying drawings.

According to the embodiments of the present invention a software architecture based on a concept called pipes and filters is applied to an image processing apparatus thereby simplifying the customization expansion etc. of functions. In addition filters are combined together using a description table in which the combination of the filters is described so as to construct a job thereby further simplifying the customization expansion etc. of functions.

Prior to the description of the embodiments of the present invention the concept of pipes and filters applied to the image processing apparatus of the present invention is first described. is a diagram explaining the concept of pipes and filters. In P and F represent a pipe and a filter respectively.

The filter is a program that applies predetermined processing to input image data and outputs its processing result. The pipe is a unit that connects the filters to each other and it temporarily holds the processing result output from the filter connected on its input side and then transmits the image data to the filter connected on its output side. Thus according to the concept of pipes and filters it is possible to perform consecutive processing between the filters through the intervention of the pipes.

In the embodiments of the present invention the predetermined processing applied by the filter is regarded as processing for applying a predetermined conversion to the input image data. In the image processing apparatus according to the embodiments of the present invention in other words it is regarded that functions to be implemented by the image processing apparatus undergo consecutive conversion processing with respect to a document input image data . The consecutive functions of the image processing apparatus are inputting working and outputting a document i.e. image data. Therefore in the following description of the embodiments input processing work processing and output processing are each regarded as conversion processing and a software component for implementing one conversion is specified as a filter.

In the embodiments of the present invention the filter for controlling the input processing of image data the filter for controlling the corresponding work processing and the filter for controlling the corresponding output processing are specified as an input filter a work filter and an output filter respectively. These filters are separate programs and do not depend on each other. Accordingly it is possible for the image processing apparatus to separately add install and delete uninstall filters on a filter by filter basis.

The scan unit is composed of a scanner engine etc. and used to scan a document so as to convert document data into image data. The plotter unit is composed of a plotter engine etc. and used to print image data. The interface unit is composed of a modem a LAN card etc. and used to establish a connection to a network.

An image processing program according to the embodiments of the present invention is at least part of various programs that control the image processing apparatus . The image processing program is for example distributed through a recording medium or downloaded from the network. As the recording medium in which the image processing program is recorded a recording medium such as a CD ROM a flexible disk or a magneto optical disk that optically electrically or magnetically records information a semiconductor memory such as a ROM or a flash memory that electrically records information etc. can be used.

Furthermore when the recording medium in which the image processing program is recorded is set in the driving unit the image processing program is installed from the recording medium to the sub memory unit through the driving unit . The image processing program downloaded from the network is installed in the sub memory unit through the interface unit .

The image processing apparatus stores necessary files image data etc. together with the installed image processing program. The memory unit reads the image processing program from the sub memory unit when a computer is activated and loads the read image processing program. Then the calculation processing unit implements various processing as described below in accordance with the image processing program loaded in the memory unit .

Software that implements the functions of the image processing apparatus has a hierarchical structure and is composed of a user interface layer a control layer an application logic layer a device service layer and a device layer . A hierarchical relationship between the layers is based on a call relationship between the layers. In other words in an upper layer calls a lower layer.

In the image processing apparatus when the user issues instructions for executing various functions to the user interface layer the user interface layer calls the control layer and controls the application logic layer based on the instructions. The application logic layer executes an application that implements a requested function based on the instructions from the control layer . Then based on the execution result the device service layer and the device layer control a hardware resource of the image processing apparatus . The image processing apparatus obtains an output result corresponding to the function that the user interface layer receives in the above operation.

The user interface layer has for example a local UI User Interface part that has the function of receiving instructions for implementing the various functions of the image processing apparatus . Here the various functions represent a copy function a print function a scan function a facsimile function etc. The local UI part may be provided for example in the operations unit of the image processing apparatus . The operations unit may be replaced for example by an operations panel having a display area etc. The instructions received by the local UI part of the user interface layer are transmitted to the control layer .

The control layer has the function of controlling the processing that implements the functions of the image processing apparatus . Specifically the control layer controls the execution of a filter of the application logic layer in accordance with a requested function. Note that the function of the image processing apparatus as described in this embodiment is the definition of a service in a collective unit until the image processing apparatus obtains the final output after receiving a request from the user that is provided to the user by the image processing apparatus and it is synonymous with an application that provides a service in a collective unit in terms of software.

The application logic layer has the various filters as component groups that implement part of the functions provided by the image processing apparatus . In the application logic layer the plural filters are combined together by the control of the control layer so as to implement one function. The application logic layer of this embodiment has an input filter a work filter an output filter and an activity . The filters are operated and controlled based on definitions for the filters. The details of the filters are described below. The activity is a component that connects the filters to each other in accordance with a function requested through the user interface layer and coordinates the executions of the filters.

The device service layer has the lower function shared by the filters of the application logic layer . The device service layer of this embodiment has an image pipe . The image pipe implements the function described above and transmits an output result from one to another of the filters of the application logic layer . Here the image pipe may connect for example the input filter and the work filter to each other or connect the work filter and the output filter to each other.

The device layer has drivers as programs that control hardware. The device layer of this embodiment has a scanner part a plotter part etc. These parts and control the scan unit and the plotter units respectively.

The input filter of this embodiment controls the input processing of image data input from the outside of the image processing apparatus . The input filter includes a scan filter an e mail reception filter a facsimile reception filter a PC document reception filter a report filter etc. not shown . The scan filter controls the scanning of image data for example by a scanner and outputs the scanned image data. The e mail reception filter receives an e mail in the image processing apparatus and outputs image data contained in the received e mail. The facsimile reception filter controls facsimile reception and outputs received image data. The PC document reception filter receives print image data from a client PC not shown etc. and outputs the print image data. The report filter arranges setting information history information etc. of the image processing apparatus for example in tabular form and outputs the arranged image data.

The work filter of this embodiment applies the predetermined work processing to image data input from the filter on its input side and then outputs a processing result to the filter on its output side. Here the work processing represents the processing of integration expansion contraction rotation etc. of the input image data.

The output filter of this embodiment controls the output processing of input image data and then outputs the processed image data to the outside of the image processing apparatus . The output filter includes a print filter a preview filter an e mail transmission filter a facsimile transmission filter a PC document transmission filter a document registration filter etc.

The print filter causes the plotter part to output print the input image data. The preview filter causes the input image data to be previewed on the operations unit etc. of the image processing apparatus . The e mail transmission filter transmits the input image data as an attachment to an e mail. The facsimile transmission filter transmits the input image data by facsimile. The PC document transmission filter transmits the input image data to a client PC not shown etc. The document registration filter outputs the input image data to the sub memory unit etc. so as to be accumulated therein.

The activity of this embodiment receives the instructions input from the local UI part of the user interface layer through the control layer . In accordance with the instructions the activity controls the executions of the jobs of the input filter the work filter and the output filter .

In the application logic layer the filters are combined together to implement the functions of the image processing apparatus . According to this construction the image processing apparatus makes it possible to implement the various functions in accordance with the combination of the filters and the pipes. For example when the copy function is implemented it is only necessary to combine the scan filter included in the input filter the work filter and the print filter included in the output filter together.

Next print processing in the image processing apparatus of this embodiment is described. is a diagram explaining the print processing in the image processing apparatus according to the first embodiment.

In the image processing apparatus of this embodiment the control layer generates jobs so that the activity controls the execution of the processing in the filters S . In the image processing apparatus of this embodiment the jobs controlled by the activity may be generated for example when the power to the image forming apparatus is turned on.

Upon receipt of a request to execute the print processing the local UI part transmits the request to the control layer S . Note that exemplifies a case in which copy processing as the print processing is selected. In this case operations for instructing the scanning and printing of a paper document are performed in the local UI part .

Upon receipt of the instructions for scanning and printing the paper document the activity connects a scan filter the work filter and a print filter to each other through the image pipes. Note that at this time a scan filter included in the scan filter is actually connected to the work filter . Then the control layer generates the job to be executed by the scan filter S the job to be executed by the work filter S and the job to be executed by the print filter S .

When the jobs to be executed by the filters are generated by the control layer the activity instructs the filters to execute the jobs. Then processing for scanning the paper document with the scanner part serving as an input part is executed by the scan filter and the paper document is scanned to produce image data. The image data are output from the scan filter and transmitted to the work filter through the image pipe .

The work filter applies the predetermined work processing to the image data and outputs the processed image data. The processed image data are then transmitted to the print filter serving as the output filter . The print filter causes the processed image data to be output from the plotter part serving as an output part so as to implement the copy processing.

As described above because the input filter the work filter and the output filter are separately controlled in this embodiment the filters do not depend on each other. Therefore when the functions are customized or expanded in this embodiment the customization or expansion of the functions may be performed on a filter basis. According to this embodiment it is thus possible to simplify the customization or expansion of the functions.

Referring to the accompanying drawings a description is next made of a second embodiment of the present invention. The second embodiment of the present invention is obtained by modifying the first embodiment. In the following description of the second embodiment the same constituents as those of the first embodiment are denoted by the same reference numerals and their descriptions are omitted.

In the image processing apparatus of this embodiment an activity and filters for example are installed as plug ins so as to solve the following problems occurring when functions are added thereby making it possible to further simplify the customization or expansion of the functions.

Prior to the description of the image processing apparatus of this embodiment the problems occurring when the activity and the filters are installed to add the functions are first described.

For example when a new function is added to the image processing apparatus in which a combination of filters is constructed by an activity that provides various functions so as to execute processing an activity that provides the new function is installed. When the activity that provides the new function is added it is necessary to provide a construction part for constructing the combination of filters that implement the function in a process for developing the activity. Because the construction part is different for each function implemented by the activity it is necessary to change construction parts which in turn takes a number of development steps.

Basically the activity has the same logic for construction processing as the construction part. Accordingly in case the construction part is changed every time a new activity is developed overlapped processes are caused in the process for developing the activity which in turn causes needless development steps.

Here assume that only the construction part is provided separate from the activity. In this case when plural new activities are installed at the same time the construction part is required to perform proper construction so as to correspond to the plural activities which in turn makes the processing of the construction part complicated.

Accordingly this embodiment is directed at solving the above problems. In the image processing apparatus of this embodiment the activity generates a description table that describes the combination of filters and the construction part that constructs the combination of the filters based on the description table is provided. Thus the expansion of the functions is further simplified.

Referring to a description is made of the image processing apparatus of this embodiment. is a block diagram showing a software configuration of an image processing apparatus A according to the second embodiment.

The image processing apparatus A of this embodiment has an operations layer A an application logic layer A a service layer A and the device layer .

The operations layer A controls the function shared by the other layers. The operations layer A has a plug in management part . The plug in management part manages the addition and deletion of the activity and the filters in the image processing apparatus A.

The application logic layer A has the input filter the work filter the output filter and an activity A. The details of the activity A are described below.

The service layer A has the lower function shared by the filters of the application logic layer A. The service layer A has the image pipe and the job builder described below. In addition the service layer A has a request management part a data management part etc. not shown . The request management part controls a job requested in the image processing apparatus A. The data management part accumulates and stores setting information of the filters of the application logic layer A restoration information generated by the filters etc.

In the image processing apparatus A of this embodiment the activities A are provided for the respective functions and have information such as the combination of filters required for implementing the functions. Specifically for example a copy activity for implementing the copy function has information that the combination of the filters including a scan filter a work filter and a print filter are required for implementing the copy function.

The description table generation part generates the description table based on such information on the combination of the filters that the activity has. Note that the description table generation part provides an identifier to the generated description table so as to be identified.

Here an example of the description table is shown in . In a description table shown in rows in the longitudinal direction represent the instances of prior filters the filters on the input side while columns in the lateral direction represent the instances of subsequent filters the filters on the output side . In the example of the description table of P indicating the image pipe is described in the box as a point of intersection between F the filter on the input side and Fn the filter on the output side. Accordingly it is clear from the description table that Fn the filter on the output side is connected to the subsequent stage of F the filter on the input side through the image pipe P.

Furthermore according to this embodiment the number of generated description tables is different depending on the types of the functions provided by the activity A. The description table generation part generates one or more description tables in accordance with the functions provided by the activity A.

The description table registration part registers the description table generated by the description table generation part in a builder described below. The table ID holding part holds a table ID as the description table identifier generated by the description table generation part

Referring to a description is next made of the job builder of this embodiment. is a diagram explaining the job builder according to the second embodiment.

A table retrieval part retrieves a specified description table from those registered by the description table registration part of the activity A. A table analysis part analyzes the retrieved description table. A job construction part constructs a filter configuration by combining filters together based on the analysis result of the table analysis part and constructs a job to be executed in accordance with the filter configuration.

Next a description is made of an operation when a new activity and a new filter are installed in the image processing apparatus A of this embodiment. is a sequence diagram explaining the installation of the new activity and the new filter in the image processing apparatus according to the second embodiment. Note that exemplifies a case in which the activity A is installed as a new activity and the work filter is installed as a new filter.

When the activity A is installed in the image processing apparatus A S the activity A registers itself in the plug in management part S . Note that the plug in management part of this embodiment functions as a naming service part after this.

When the activity A registers itself in the plug in management part the description table generation part generates the description table of the activity A S . Assume that the description table shown in is generated here so as to make the following description. The activity A registers the generated description table in the job builder S . Upon receipt of the description table the job builder provides the identifier table ID of the description table to the activity A S . The activity A holds the table ID with the table ID holding part S . The installation of the activity is thus completed.

Next the installation of the work filter is described. When the work filter is installed in the image processing apparatus A S the work filter registers itself in the plug in management part S . The installation of the work filter is thus completed.

Next a description is made of the construction of a job in the image processing apparatus A of this embodiment. is a sequence diagram explaining the construction of the job in the image processing apparatus A according to the second embodiment. Note that exemplifies a case in which the job that implements the functions provided by the activity A is constructed.

In response to an execution request the activity A requests the job builder to generate a builder object that constructs the job S . Upon receipt of the request the job builder generates a builder A as the builder object with a builder generation part S and informs the activity A of the generation of the builder A S .

When the builder A is generated the activity A provides the table ID of the description table to the builder A S . After receiving the table ID the builder A retrieves the description table corresponding to the table ID from those registered when the activity A is installed S and acquires the description table S . Assume that the description table shown in is acquired here so as to make the following description.

When the builder A acquires the description table the table analysis part analyzes the description table and then the job construction part constructs the job by combining filters together. The processing after S represents the analysis processing in which the table analysis part analyzes the description table and the construction processing in which the job construction part constructs the job.

After acquiring the description table the builder A prepares a filter list in which filters having been used for constructing jobs are stored. Note that at the time when the filter list is prepared it has no stored information.

The builder A reads the i th row from the acquired description table with the table analysis part S . In S one filter on the input side and n filters on the output side are found from the read row S . For example when the builder A reads the second row from the description table F as the filter on the input side and F as the filter on the output side are found.

The builder A determines whether the filter on the input side read in S exists in the filter list. If the read filter on the input side does not exist in the filter list it is a new filter. Accordingly the builder A generates the filter on the input side S .

Note that in the image processing apparatus A of this embodiment the filter on the input side would be the input filter or the work filter . Accordingly the filter on the input side here represents the input filter or the work filter . In accordance with the functions provided by the activity A any one of the filters included in the input filter or the work filter may be the filter on the input side.

Furthermore the generation of a filter in this embodiment actually represents acquiring a filter application main body registered in the plug in management part to generate the copy of the filter main body thereby generating the instances of the filter.

When the filter on the input side is generated the builder A generates the image pipe to be connected to the generated filter on the input side while referring to the description table S . For example in the case of the second row in the description table the image pipe P is connected to F as the filter on the input side. Therefore the builder A generates the image pipe P.

After the generation of the filter on the input side and the image pipe the builder A connects the filter on the input side and the image pipe to each other with the job construction part S and S .

Then the builder A determines whether the filter on the output side which is generated in S and is to be connected to the subsequent stage of the filter on the input side exists in the filter list. If the filter on the output side does not exist in the filter list it is a new filter. Accordingly the builder A generates the filter on the output side S .

Note that in the image processing apparatus A of this embodiment the filter on the output side would be the work filter or the output filter . Accordingly the filter on the output side here represents the work filter or the output filter . In accordance with the functions provided by the activity A any one of the filters included in the work filter or the output filter may be the filter on the output side.

Note that when the table analysis part reads the second row from the description table in S the filter on the output side is F. Accordingly the builder A generates F as the filter on the output side in S. After the generation of the filter on the output side the builder A connects the generated filter on the output side and the image pipe P generated in S to each other S and S .

Furthermore if the filter on the output side exists in the filter list it is a filter that has been constructed. Therefore the builder A connects the image pipe generated in S and the constructed filter on the output side to each other.

The builder A acquires from the filter list the filter on the output side read from the description table S . Specifically for example if F as the filter on the output side read from the description table exists in the filter list the builder A acquires F as the filter on the output side from the filter list.

After acquiring the filter on the output side the builder A connects the image pipe generated in S and the filter on the output side to each other S and S . Specifically the builder A connects the image pipe P and F as the filter on the output side to each other.

The builder A repeats the processing of S through S by the number of filters on the output side read from the description table in S. For example in case two filters on the output side are found when the builder reads the i th row from the description table in S the processing of S through S is repeated twice.

In the image processing apparatus A of this embodiment the job is thus constructed in accordance with the combination of the filters described in the description table.

Next a description is made of a case in which the filter on the input side read in S exists in the filter list.

If the filter on the input side exists in the filter list the filter on the output side does not exist in the filter list. Accordingly the builder A generates the filter on the output side while referring to the description table. Here a description is made of the reason why the filter on the output side does not exist in the filter list if the filter on the input side exists in the filter list.

If the filter on the input side exists in the filter list it is a filter that has been constructed. Moreover if the filter on the output side to be connected to the filter on the input side also exists in the filter list the same description as that generated in the past is being made. This description is redundant. Therefore if this description is included in the description table the builder A ignores it. Thus according to this embodiment the filter on the input side and the filter on the output side do not exist together in the filter list.

If the filter on the input side read from the description table exists in the filter list in S the builder A acquires it from the filter list S . For example when the filter on the input side read in S is the filter F the builder A acquires it from the filter list.

Then while referring to the description table the builder A generates the image pipe that connects the filter on the input side and the filter on the output side to each other S . According to the description table the image pipe generated here is an image pipe P. After the generation of the image pipe the builder A connects the filter on the input side and the image pipe to each other S and S . According to the description table the filter F and the image pipe P are connected to each other.

The builder A finds from the description table the filter on the output side to be connected to the filter on the input side and generates the filter on the output side S . According to the description table the filter on the output side generated here is a filter F. After the generation of the filter on the output side the builder A connects the filter on the output side and the image pipe generated in S to each other S and S .

In the image processing apparatus A of this embodiment the filters are thus combined together when the filter on the input side exists in the filter list so as to construct the job.

After the construction of the job the builder A registers the filter appearing for the first time in the processing of S through S in the filter list as the constructed filter S . The filter registered in the filter list is held in the builder A as the constructed filter.

The builder A repeats the processing of S through S by the number of rows of the acquired description table. For example when the acquired description table is the description table the processing of S through S is repeated n times. Then the builder A returns to the activity A only the list of the filters on the input side registered in the filter list S and completes the construction processing for constructing the job. With the acquisition of the list of the filters on the input side the activity A can trace all the filters in the constructed job.

As described above because the image processing apparatus A of this embodiment constructs the job based on the description table in which the combination of the filters is described it is only required to construct the job in accordance with the description table without executing special processing for constructing the job even when the new activity A is installed. Thus according to the image processing apparatus A of this embodiment it is possible to further simplify the customization or expansion of the functions.

Next referring to a description is made of other examples of the description table of this embodiment. are diagrams explaining other examples of the description table according to the second embodiment.

For example an activity which provides the function of printing the image data scanned by the scan unit and transmitting the same by e mail in the image processing apparatus A is configured to have the filter configuration having the multiple outputs. The example of shows the configuration having multiple outputs in which two filters F and F on the output side are connected to one filter F on the input side.

In the filter configuration shown in the job of a filter F is first constructed. Then a description table to be used later is determined based on the constructed job. For example when a path is determined as an output path after the job of the filter F is constructed the builder A acquires the description table in S of . Furthermore when a path is determined as the output path after the job of the filter F is constructed the builder A acquires the description table .

Furthermore when another path composed of plural filters is connected before the paths and the processing of S through S in is performed based on the description table for constructing the other path. After this the description table or the description table corresponding to path or path respectively is acquired again to repeat the same processing.

As an example of the processing executed by the filter configuration the image processing apparatus A executes processing by receiving a command from a PC Personal Computer connected via a network etc. The processing is executed by a reception activity not shown of the image processing apparatus A. The reception activity provides a requested function based on the command received from outside.

When the image processing apparatus A receives the command from the PC the reception activity constructs a job using a first table including only a PC reception filter . When the job is constructed the PC reception filter analyzes the received command and informs the reception activity of the analysis result. Note that the PC reception filter is one of input filters A and receives as input data commands from external devices connected to the image processing apparatus A.

When the command received from the outside includes to perform drawing with a printer the reception activity adds a second table including the work filter and the print filter so as to construct a job. Furthermore when the command received by the PC reception filter includes to accumulate data in the image processing apparatus A the reception activity adds a third table including a document storage filter that stores data so as to construct a job.

Furthermore in the image processing apparatus A of this embodiment another example of the processing executed by the filter configuration includes barcode scan processing.

The processing is executed by the barcode scan activity not shown of the image processing apparatus A. The barcode scan activity analyzes the barcode scanned by the scan filter with a barcode analysis filter not shown and provides a requested function based on the analysis result.

First the barcode scan activity constructs a job using the first table including the scan filter and the barcode analysis filter. When the job is constructed the scan filter scans a document and then the barcode analysis filter analyzes the scanned result. The barcode analysis filter informs the barcode scan activity of the analysis result. When the analysis result indicates instructions for copying the document the barcode scan activity adds the second activity including the work filter and the print filter and then copies the scanned document. Furthermore when the analysis result indicates instructions for transmitting an e mail the barcode scan activity adds the third table including the work filter and the e mail transmission filter and then transmits the scanned document by e mail to the address included in the barcode.

Thus according to the image processing apparatus A of this embodiment it is possible to further simplify the customization or expansion of the functions.

The present invention is not limited to the specifically disclosed embodiments but variations and modifications may be made without departing from the scope of the present invention.

The present application is based on Japanese Priority Application No. 2007 284199 filed on Oct. 31 2007 the entire contents of which are hereby incorporated herein by reference.

