---

title: Adaptive route guidance based on preferences
abstract: Adaptive route guidance can include analyzing route progressions associated with one or more routes based on multiple user preferences. The adaptive route guidance can provide one or more preferred routes based on the user preferences including those derived from historical selection or use, which can be presented to a user for navigation purposes.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08175802&OS=08175802&RS=08175802
owner: Apple Inc.
number: 08175802
owner_city: Cupertino
owner_country: US
publication_date: 20080125
---
This application claims priority to U.S. Provisional Patent Application Ser. No. 60 946 847 filed Jun. 28 2007 and entitled ADAPTIVE ROUTE GUIDANCE BASED ON PREFERENCES the contents of which are incorporated herein by reference.

Navigation systems have begun to include functionality for inclusion of traffic data overlaying a navigation interface. Such navigation systems however provide little intelligence other than the ability to navigate from an origination point to a destination point. Because users often have some intelligence about routes to a location in many instances users ignore navigation routes provided by the navigation system in favor of the routes the user knows. Additionally current navigation systems do not readily facilitate navigation to a destination if a user desires to travel a different route while enroute on the route recommended by the navigation system.

In one aspect systems methods apparatuses and computer program products are provided. In one aspect methods are disclosed which comprise receiving a plurality of preferences associated with a user identifying destination information associated with a user identifying one or more potential routes comprising a plurality of route progressions based on a current location and the destination information analyzing the plurality of route progressions based on the plurality of preferences associated with the user and presenting one or more preferred routes to the user based on the analysis.

Systems can include a preference engine a routing engine an analysis engine and a presentation engine. The preference engine can receive user preferences while the destination engine receives destination information. The routing engine can identify routes each route including a plurality of route progressions. The identification of the plurality of routes can be based on a current location and the destination information. The analysis engine analyzes the route progressions based upon the user preferences and the presentation engine can present preferred routes to the user based on the analysis.

Systems and methods as described can facilitate navigation of roads by directing a user to routes that are preferable to other routes based on user preferences.

In some implementations the mobile device includes a touch sensitive display . The touch sensitive display can implement liquid crystal display LCD technology light emitting polymer display LPD technology or some other display technology. The touch sensitive display can be sensitive to haptic and or tactile contact with a user.

In some implementations the touch sensitive display can comprise a multi touch sensitive display . A multi touch sensitive display can for example process multiple simultaneous touch points including processing data related to the pressure degree and or position of each touch point. Such processing facilitates gestures and interactions with multiple fingers chording and other interactions. Other touch sensitive display technologies can also be used e.g. a display in which contact is made using a stylus or other pointing device. Some examples of multi touch sensitive display technology are described in U.S. Pat. Nos. 6 323 846 6 570 557 6 677 932 and U.S. Patent Publication 2002 0015024A1 each of which is incorporated by reference herein in its entirety.

In some implementations the mobile device can display one or more graphical user interfaces on the touch sensitive display for providing the user access to various system objects and for conveying information to the user. In some implementations the graphical user interface can include one or more display objects . In the example shown the display objects are graphic representations of system objects. Some examples of system objects include device functions applications windows files alerts events or other identifiable system objects.

In some implementations the mobile device can implement multiple device functionalities such as a telephony device as indicated by a phone object an e mail device as indicated by the e mail object a network data communication device as indicated by the Web object a Wi Fi base station device not shown and a media processing device as indicated by the media player object . In some implementations particular display objects e.g. the phone object the e mail object the Web object and the media player object can be displayed in a menu bar . In some implementations device functionalities can be accessed from a top level graphical user interface such as the graphical user interface illustrated in . Touching one of the objects or can for example invoke corresponding functionality.

In some implementations the mobile device can implement network distribution functionality. For example the functionality can enable the user to take the mobile device and its associated network while traveling. In particular the mobile device can extend Internet access e.g. Wi Fi to other wireless devices in the vicinity. For example mobile device can be configured as a base station for one or more devices. As such mobile device can grant or deny network access to other wireless devices.

In some implementations upon invocation of device functionality the graphical user interface of the mobile device changes or is augmented or replaced with another user interface or user interface elements to facilitate user access to particular functions associated with the corresponding device functionality. For example in response to a user touching the phone object the graphical user interface of the touch sensitive display may present display objects related to various phone functions likewise touching of the email object may cause the graphical user interface to present display objects related to various e mail functions touching the Web object may cause the graphical user interface to present display objects related to various Web surfing functions and touching the media player object may cause the graphical user interface to present display objects related to various media processing functions.

In some implementations the top level graphical user interface environment or state of can be restored by pressing a button located near the bottom of the mobile device . In some implementations each corresponding device functionality may have corresponding home display objects displayed on the touch sensitive display and the graphical user interface environment of can be restored by pressing the home display object.

In some implementations the top level graphical user interface can include additional display objects such as a short messaging service SMS object a calendar object a photos object a camera object a calculator object a stocks object a weather object a maps object a notes object a clock object an address book object and a settings object . Touching the SMS display object can for example invoke an SMS messaging environment and supporting functionality likewise each selection of a display object and can invoke a corresponding object environment and functionality.

Additional and or different display objects can also be displayed in the graphical user interface of . For example if the device is functioning as a base station for other devices one or more connection objects may appear in the graphical user interface to indicate the connection. In some implementations the display objects can be configured by a user e.g. a user may specify which display objects are displayed and or may download additional applications or other software that provides other functionalities and corresponding display objects.

In some implementations the mobile device can include one or more input output I O devices and or sensor devices. For example a speaker and a microphone can be included to facilitate voice enabled functionalities such as phone and voice mail functions. In some implementations a loud speaker can be included to facilitate hands free voice functionalities such as speaker phone functions. An audio jack can also be included for use of headphones and or a microphone.

In some implementations a proximity sensor can be included to facilitate the detection of the user positioning the mobile device proximate to the user s ear and in response to disengage the touch sensitive display to prevent accidental function invocations. In some implementations the touch sensitive display can be turned off to conserve additional power when the mobile device is proximate to the user s ear.

Other sensors can also be used. For example in some implementations an ambient light sensor can be utilized to facilitate adjusting the brightness of the touch sensitive display . In some implementations an accelerometer can be utilized to detect movement of the mobile device as indicated by the directional arrow . Accordingly display objects and or media can be presented according to a detected orientation e.g. portrait or landscape. In some implementations the mobile device may include circuitry and sensors for supporting a location determining capability such as that provided by the global positioning system GPS or other positioning systems e.g. systems using Wi Fi access points television signals cellular grids Uniform Resource Locators URLs . In some implementations a positioning system e.g. a GPS receiver can be integrated into the mobile device or provided as a separate device that can be coupled to the mobile device through an interface e.g. port device to provide access to location based services.

The mobile device can also include a camera lens and sensor . In some implementations the camera lens and sensor can be located on the back surface of the mobile device . The camera can capture still images and or video.

The mobile device can also include one or more wireless communication subsystems such as a 802.11b g communication device and or a Bluetooth communication device . Other communication protocols can also be supported including other 802.x communication protocols e.g. WiMax Wi Fi 3G code division multiple access CDMA global system for mobile communications GSM Enhanced Data GSM Environment EDGE etc.

In some implementations a port device e.g. a Universal Serial Bus USB port or a docking port or some other wired port connection can be included. The port device can for example be utilized to establish a wired connection to other computing devices such as other communication devices network access devices a personal computer a printer or other processing devices capable of receiving and or transmitting data. In some implementations the port device allows the mobile device to synchronize with a host device using one or more protocols such as for example the TCP IP HTTP UDP and any other known protocol. In some implementations a TCP IP over USB protocol can be used.

The mobile devices and can also establish communications by other means. For example the wireless device can communicate with other wireless devices e.g. other wireless devices cell phones etc. over the wireless network . Likewise the mobile devices and can establish peer to peer communications e.g. a personal area network by use of one or more communication subsystems such as the Bluetooth communication device shown in . Other communication protocols and topologies can also be implemented.

The mobile device can for example communicate with one or more services and and or one or more content publishers over the one or more wired and or wireless networks . For example a navigation service can provide navigation information e.g. map information location information route information and other information to the mobile device . In the example shown a user of the mobile device has invoked a map functionality e.g. by pressing the maps object on the top level graphical user interface shown in and has requested and received a map for the location 1 Infinite Loop Cupertino Calif. 

A messaging service can for example provide e mail and or other messaging services. A media service can for example provide access to media files such as song files movie files video clips and other media data. One or more other services can also be utilized by the mobile device .

The mobile device can also access other data and content over the one or more wired and or wireless networks . For example content publishers such as news sites RSS feeds web sites blogs social networking sites developer networks etc. can be accessed by the mobile device . Such access can be provided by invocation of a web browsing function or application e.g. a browser in response to a user touching the Web object .

Sensors devices and subsystems can be coupled to the peripherals interface to facilitate multiple functionalities. For example a motion sensor a light sensor and a proximity sensor can be coupled to the peripherals interface to facilitate the orientation lighting and proximity functions described with respect to . Other sensors can also be connected to the peripherals interface such as a positioning system e.g. GPS receiver a temperature sensor a biometric sensor or other sensing device to facilitate related functionalities.

In some implementations the mobile device can receive positioning information from a positioning system . The positioning system in various implementations can be located on the mobile device or can be coupled to the mobile device e.g. using a wired connection or a wireless connection . In some implementations the positioning system can include a global positioning system GPS receiver and a positioning engine operable to derive positioning information from received GPS satellite signals. In other implementations the positioning system can include a compass and an accelerometer as well as a positioning engine operable to derive positioning information based on dead reckoning techniques. In still further implementations the positioning system can use wireless signals e.g. cellular signals IEEE 802.11 signals etc to determine location information associated with the mobile device such as those provided by Skyhook Wireless Inc. of Boston Mass. Hybrid positioning systems using a combination of satellite and television signals such as those provided by Rosum Corporation of Mountain View Calif. can also be used. Other positioning systems are possible.

A camera subsystem and an optical sensor e.g. a charged coupled device CCD or a complementary metal oxide semiconductor CMOS optical sensor can be utilized to facilitate camera functions such as recording photographs and video clips.

Communication functions can be facilitated through one or more wireless communication subsystems which can include radio frequency receivers and transmitters and or optical e.g. infrared receivers and transmitters. The specific design and implementation of the communication subsystem can depend on the communication network s over which the mobile device is intended to operate. For example a mobile device may include communication subsystems designed to operate over a GSM network a GPRS network an EDGE network a Wi Fi or WiMax network and a Bluetooth network. In particular the wireless communication subsystems may include hosting protocols such that the device may be configured as a base station for other wireless devices.

An audio subsystem can be coupled to a speaker and a microphone to facilitate voice enabled functions such as voice recognition voice replication digital recording and telephony functions.

The I O subsystem can include a touch screen controller and or other input controller s . The touch screen controller can be coupled to a touch screen . The touch screen and touch screen controller can for example detect contact and movement or break thereof using any of a plurality of touch sensitivity technologies including but not limited to capacitive resistive infrared and surface acoustic wave technologies as well as other proximity sensor arrays or other elements for determining one or more points of contact with the touch screen .

The other input controller s can be coupled to other input control devices such as one or more buttons rocker switches thumb wheel infrared port USB port and or a pointer device such as a stylus. The one or more buttons not shown can include an up down button for volume control of the speaker and or the microphone .

In one implementation a pressing of the button for a first duration may disengage a lock of the touch screen and a pressing of the button for a second duration that is longer than the first duration may turn power to the mobile device on or off. The user may be able to customize a functionality of one or more of the buttons. The touch screen can for example also be used to implement virtual or soft buttons and or a keyboard.

In some embodiments the mobile device can present recorded audio and or video files such as MP3 AAC and MPEG files. In some implementations the mobile device can include the functionality of an MP3 player such as an iPod . The mobile device may therefore include a 36 pin connector that is compatible with the iPod. Other input output and control devices can also be used.

The memory interface can be coupled to memory . The memory can include high speed random access memory and or non volatile memory such as one or more magnetic disk storage devices one or more optical storage devices and or flash memory e.g. NAND NOR . The memory can store an operating system such as Darwin RTXC LINUX UNIX OS X WINDOWS or an embedded operating system such as VxWorks. The operating system may include instructions for handling basic system services and for performing hardware dependent tasks. In some implementations the operating system can be a kernel e.g. UNIX kernel .

The memory may also store communication instructions to facilitate communicating with one or more additional devices one or more computers and or one or more servers. The memory may include graphical user interface instructions to facilitate graphic user interface processing sensor processing instructions to facilitate sensor related processing and functions phone instructions to facilitate phone related processes and functions electronic messaging instructions to facilitate electronic messaging related processes and functions web browsing instructions to facilitate web browsing related processes and functions media processing instructions to facilitate media processing related processes and functions GPS Navigation instructions to facilitate GPS and navigation related processes and instructions camera instructions to facilitate camera related processes and functions and or other software instructions to facilitate other processes and functions.

In some implementations the mobile device can also include routing instructions . The routing instructions can be used to provide navigation guidance to a user of the mobile device. In such implementations the routing instructions can provide intelligent routing based on traffic user preferences and or history. In further implementations the mobile device can also include a preferences engine . In various implementations the preferences engine can be operable to receive preferences from a user or to derive preferences based upon a user s conduct. In some examples the preferences can predict a user s preference for certain routes over others based upon analysis of the route progressions included in the route using the preferences. In other implementations a user can identify disfavor preferences through the preference engine . Disfavor preferences can instruct the mobile device to avoid certain paths locations or other characteristic associated with a route.

Each of the above identified instructions and applications can correspond to a set of instructions for performing one or more functions described above. These instructions need not be implemented as separate software programs procedures or modules. The memory can include additional instructions or fewer instructions. Furthermore various functions of the mobile device may be implemented in hardware and or in software including in one or more signal processing and or application specific integrated circuits.

In some implementations the routing instructions can include a destination engine a routing engine an analysis engine and a presentation engine . In an implementation the destination engine can receive destination information from a user interface . In various implementations the user interface can include a graphical user interface such as could be provided by the GUI instructions and touch screen of .

In other implementations the destination engine can derive destination information based on historical data retrieved for example from a historical data store . The destination engine can parse the historical data to derive navigation habits. For example a user might drive to work every day. Thus the destination engine can determine that there is a probability that a destination associated with the user is a workplace. In other implementations the destination engine can use any other algorithm to derive a destination including for example a Markov chain based algorithm. In various examples the derived destination can include multiple destinations. In such examples the destinations can include one or more waypoints along with a final destination. The waypoints for example can include a preferred parking lot on the way to a stadium for a sporting event or concert.

In some implementations the destination engine utilizes date information time information calendar information history information preference information etc. to derive destination information. Date information can include for example the day of the week holiday information etc. For example a user might have a history of navigating to from work on Monday through Friday navigating to from a grocery store on Sundays navigating to a parent s house on Mother s Day or Father s Day etc.

In some implementations the destination engine can also use the time information such as e.g. the time of day to derive a destination. For example on Monday morning it is likely that a user is navigating to work on Wednesday night it is likely that the user is navigating to a softball field for a regularly scheduled game etc.

In some implementations the destination engine can use calendar information such as appointments tasks etc. to derive destination information. For example a user might have a calendar entry indicating a court date on Aug. 23 2007 at 9 00 AM and thus it is likely that on Aug. 23 2007 at 8 30 am the user is navigating to a courthouse.

In some implementations the destination engine can use history information to recognize patterns and can use preference information to determine which of a plurality of destinations the user intends e.g. a user might indicate a preference for destination information derived from calendar information over destination information derived from date information . In some implementations the destination engine can automatically recognize patterns without user input. In other implementations the destination engine can automatically recognize navigation patterns and allow users to confirm or reject a destination through a user interface.

In some implementations the routing engine can derive one or more routes based on current location information and destination information. The one or more routes can be derived using existing routing technology e.g. map overlays. Current location information of the mobile device can be obtained for example using a positioning system . In various implementations the positioning system can be provided by a separate device coupled to the mobile device e.g. mobile device of . In other implementations the positioning system can be provided internal to the mobile device.

In one implementation the positioning system can be a global positioning system GPS device. In other implementations the positioning system can be provided by an accelerometer and a compass using dead reckoning techniques. In such implementations the user can occasionally reset the positioning system by marking the device s presence at a known location e.g. landmark intersection etc. . In still further implementations the positioning system can be provided by using wireless signal strength and one or more locations of known wireless signal sources to provide current location. Wireless signal sources can include access points and or cellular towers. Other positioning systems can also be used.

The routing engine can communicate one or more derived routes to an analysis engine . The analysis engine can analyze the one or more routes received from the routing engine . In some implementations the one or more routes can be analyzed based on user preferences received from a preference data store . Based on the complexity of a route the route can include many route progressions. Route progressions in some implementations can include a discrete length of road which when put together make up a route.

In some implementations the routes progressions included in a route can be analyzed based upon user preferences retrieved from a preference data store . User preference data for example might indicate a user preference for types of roads distance traffic traffic control devices e.g. traffic lights stop signs rotaries etc. navigation time preferred routes neighborhoods highways restaurants etc. In some embodiments the analysis engine can use such preferences to select among the one or more routes provided by the routing engine.

In some implementations the analysis engine can take into account calendar information in determining which route to recommend. For example a user s preferences might indicate the user would prefer a particular route but the navigation time associated with the route would not get the user to his her appointment in time. Thus in such implementations the analysis engine can recommend a route which would get the user to an appointment on time while maximizing preferences. In further implementations reminders can be sent to the user for an appointment time based upon the expected navigation time e.g. based upon traffic information distance information speed limit information etc. associated with a preferred route.

In those implementations which analyze route progressions based on user preferences route information can be retrieved and used to provide input by which to weight and compare routes based on the preferences. In some implementations route information can include traffic information. In those implementations that include traffic information the traffic information can be retrieved for example from a traffic information service. In other implementations the traffic information can be retrieved from peer devices through a server.

In some implementations the traffic information can be retrieved based upon the route progressions associated with the one or more routes. For example is a block diagram of a plurality of route progressions. In the example of a first route includes progressions A B and X a second route includes progressions A C Q and Z and a third route includes progressions A C and E. However route progressions M T R and W are not included in any of the routes. In one implementation the analysis engine can send a request for traffic information associated with only route progressions A B C E Q X and Z to the traffic information system while omitting route progressions M T R and W because those route progressions are not included in any of the identified routes.

In other implementations the traffic information sent to a mobile device e.g. mobile devices of can include a universe of traffic information including all available traffic information related to local roads. In such implementations the traffic signal can include many component parts e.g. one for each available road and the traffic information for the various roads can be encoded into the signal e.g. using time division code division frequency division etc. . Thus the analysis engine can parse e.g. decode demultiplex etc. the signal to obtain traffic information for a desired route progression. Thus the mobile device might receive traffic information associated with route progressions A through Z e.g. A B C E M R T W Q X and Z . Based on the previous example the analysis engine can parse the traffic information to retrieve traffic related to route progressions A B C E Q X and Z.

In some implementations the route information can include historical data. For example historical data can include information about the average time associated with navigating a route progression. The average time associated with each of the route progressions which are included in a route can combined to provide an estimated total time to navigate the route. The route may then be compared to similarly analyzed routes based on estimated total time to navigate the other routes which can be used to recommend a route to a user.

In some implementations the average time to navigate a route progression can be dependent upon the time of day the route progression is being navigated. For example a section of highway in a large city may be slow at 8 00 am due to rush hour while the same section of highway might be clear at 10 00 pm. Thus the historical data can include a time of day for which the average is to be computed. For example the analysis engine can average the five navigations taken at the closest times of day to a current time. In further implementations recentness of a navigation can be factored in to the estimation of navigation time. For example the five most recent navigations of a road may be used to calculate an estimated navigation time associated with the route progression. In other implementations any of these factors can be combined. For example the time of day can be balanced with the recency of a navigation to produce the five most recent navigations which are closest in time of day to a current time of day.

In some implementations historical information e.g. from the device itself from peer devices or from other traffic information sources can be used to predict route information in the future on a route progression at the time the user will be traveling that route progression. Thus the route information associated with the route progression used for purposes of calculating a preferred route can be based upon a prediction of the route information. For example if a route includes a route progression that will be traveled in an hour the device can derive traffic information based upon the time during which the user will be navigating that particular route progression e.g. an hour . The traffic information can then be used to determine whether to recommend the route progression to the user based upon the traffic information associated with the route progression at the time the user will be navigating the route progression.

In further implementations traffic information or historical information can be used to derive a time associated with the user s navigation of a route progression. For example if a user is navigating a heavy traffic area the traffic information can be used to determine when the user will be navigating the next route progression and that determination can be used to determine a time period during which to predict route information associated with the next route progression.

In other implementations the device can retrieve advisories associated with route progressions the user will be navigating in the future based upon the time during which the user will be navigating the route progression. For example a department of transportation website can include time dependent advisories e.g. heavy fog expected between specified hours in a certain area or lane closures between certain hours . In other examples local sporting events that might effect traffic in a proximate area can be identified and used in identifying information which can affect the desirability of navigating an affected route progression.

In further implementations the route information can include map information received from map system . In these implementations the map information can include distances associated with route progressions traffic control devices associated with route progressions or portions of route progressions speed limits associated with route progressions etc. Preferences can be provided which use map information as comparison points between potential routes. For example if the user indicates a preference for neighborhood driving versus highway driving the map information can be used to reorder the potential routes based upon such a user preference. The map information can therefore be used to weight and compare routes based on the preferences. In other implementations a graphical representation of disfavor can be applied to presented routes. For example a color spectrum might be applied to the route presentation whereby green is used to depict most favorable routes while red can be used to depict most disfavored routes.

The analysis engine can provide one or more recommended routes to a presentation engine . The presentation engine can communicate with a map system to retrieve map information. In some implementations the map system can be provided for example by a navigation service e.g. navigation service of . In other implementations the map system can be provided by a map store residing on the mobile device e.g. mobile device of . The presentation engine uses map information provided by the map system to overlay the recommended route information based on user preferences. In examples where multiple routes are provided to the user the presentation engine can receive a route preference from the user and display the preferred route.

In some implementations the routing instructions can continue to analyze a current route to monitor for changing conditions. For example an accident between the start of navigation of a route and the end of navigation of the route can change the analysis associated with the recommendation of the current route. In such situations the routing instructions using the routing engine and analysis engine can calculate estimated navigation times associated with alternative routes. In some implementations the routing instructions can automatically communicate a new route to the user through the presentation engine . Such automatic rerouting can be provided to the user with notification of the change or without notification of the change to the user. In other implementations the routing instructions can present the estimated navigation times associated with alternative routes to the user through the presentation engine . The user can then choose an alternative route based upon the estimated navigation times. The user s choice in various implementations can be indicated by selecting a route using an I O device e.g. touch screen of or by navigating one of the alternative routes among others.

Traffic preferences can include a user s preferences with respect to their desire to avoid traffic. In some implementations desire to avoid traffic can be rated on a non binary scale. In some implementations the user preference can include a strength associated with the traffic preferences . The strength for example could be a metric of how strongly a user holds a preference e.g. on a scale from 1 to 10 how strongly they feel .

Road preferences can include a user s preferences as to certain roads. In some implementations the user can enter preferred roads using the user interface . In other implementations the preferences engine can derive preferred roads based on user history. For example if a road appears in the user history many times the user can be inferred to prefer that road. In some implementations the user can indicate a preference for familiar roads thereby making it more likely that an analysis engine e.g. analysis engine will recommend routes having a higher number route progressions found in a history data store e.g. history store . In further implementations the user can include a strength associated with the road preferences . In some implementations the user can use the road preferences to specify a preference to use a different route than the routes that were previously used. For example a user might want to take a different route than the route he she usually takes to a given destination and can set the road preferences to take such a desire into account.

Scenery preferences can include a user s preference with regard to road surroundings. For example some users may prefer rural roads or roads through neighborhoods with relatively few businesses located near the road or scenic roads while other users may prefer commercial roads industrial roads etc. Thus the scenery preferences can be used to route users on route progressions based on the surroundings associated with the route progressions. In some implementations the scenery preferences can indicate a strength associated with the scenery preferences .

Traffic control device preference can include a user s preference as to traffic control devices. For example a user may prefer intersections having a four way stop sign to those having a traffic light a traffic circle e.g. rotary roundabout etc. etc. In some implementations the map information can include information about traffic control devices used at intersections. In other implementations the history data can be analyzed to determine what type of traffic control device is being used. In some implementations the traffic control device preference can indicate a strength associated with the traffic control device preference .

Service preference can include a user s preference for specific restaurants or service stations e.g. gas stations . For example some users may prefer a specific restaurant or service station brand to others when the user requests a system defined destination e.g. nearest restaurant . In some implementations the service preference can include a strength associated with the service preference .

City preferences can include a user s preference for cities to include on a trip. For example some users may prefer to drive through one city compared to another city. In some implementations the city preferences can include a strength associated with the city preferences .

Speed preferences can include a user s preference for speed. For example some users might indicate a desire for the fastest time. In some implementations the speed preferences can include a strength associated with the speed preferences . Thus an analysis engine can weight the trip time based on the user preferences.

In some implementations the device can include multiple groups of preferences. For example a device might be used by multiple users and each user can have his her own preferences associated with the types of roads or places the user prefers to navigate. In other examples a single user can have multiple sets of preferences based upon the vehicle he she is using to navigate the route e.g. bicycle convertible sports car motorcycle minivan etc. . Thus in such examples the device can recommend a different route based upon the vehicle the user is using to navigate the route. In some implementations the device can automatically detect which set of preferences to select based upon the vehicle being used. For example the device can detect which vehicle is being used based upon a starting location or based upon the vehicle used previously or based upon receiving such information from the vehicle itself.

Other preferences can include a user s desire to avoid malls toll roads states etc. In some implementations the user can include a strength associated with the other preferences .

In those implementations including a strength associated with a user preference the analysis engine can use the strength to weight the route progressions and use the weighted route progressions to compare routes. For example the user s desire to avoid traffic can be rated on a scale from 1 to 10 with a rating of 1 corresponding to the user being neutral to traffic and a rating of 10 corresponding to a strong desire on the part of the user to avoid traffic. In examples where the user indicates a strong desire to avoid traffic the analysis engine can weight the route progressions with traffic more negatively than those with light traffic thereby making it more likely that an analysis engine e.g. analysis engine will recommend routes having lighter traffic. However in the implementations that include a strength associated with the user preferences the strengths of other preferences could outweigh other preferences depending on a strength associated with the other preferences.

In some implementations a group of users can rate a route progression in several categories. The route progression can be assigned a score based on the user ratings. In other implementations route progressions can be assigned scores based on the individual route progression s popularity among users that have indicated a strong preference for a certain kind of route progression. For example if a user or group of users indicate a strong preference for scenic roads and each uses a certain road a lot in comparison to other roads in one implementation the system can assign a high scenery score to the road. In still further implementations the route progressions can be rated automatically based on measurable statistics. For example traffic information can identify which route progression is the worst for traffic based upon the average speed associated with the road or based upon a delta between average speed and speed limit. Similarly the best route progression for traffic can be identified based on the average speed associated with the road or based upon a delta between average speed and the speed limit. The worst route progression can be assigned the lowest possible score and the best route progression can be assigned the highest possible score while other route progressions are assigned scores which are scaled based upon the high and low scales. Such automatic scoring can be performed where there is an objective measure by which to compare route progressions.

In one implementation identified route progressions can be scored according to user preference categories and evaluated against the user weights. For example a user may decide to drive from a starting point to a destination and may assign the highest strengths to scenery preferences and city preferences and may decide that other preferences are not to be considered e.g. strength 0 . Accordingly route progressions can be assigned a scenery score and a city score and a route progression can be selected based on the user s strength and the respective scores.

Table 1 below in conjunction with illustrates an example selection of a route progressions for a portion of the route based on such scores and weights. As shown in a step by step progressive algorithm can be used to identify a route based on preferences. For example the first route progression can be chosen by comparing route progressions A A and A. The scores can be weighted by multiplying the scores with the preference strengths respectively and summing the weightings to provide a cumulative weighted score for each of route progressions A A and A. Based on Table 1 the user has indicated a strength of 10 for scenery preference and a strength of 8 for city preferences. Based on the weighted score derived from the scenery score and associated preference strength as well as the city score and associated preference strength route progression A would be selected. Additional route progressions beginning at the destination of A could then be identified and evaluated.

Upon selecting route progression A the implementation sets the new origin as the endpoint of route progression A. The implementation can then analyze routes B B and B based upon the scores and preferences associated with each. The implementation continues this process until reaching the final destination point.

The above implementation performs a tree analysis in which each segment is analyzed in a progression from a first point to any of a plurality of second points from a second point to any of a plurality of third points etc. This implementation chooses the route progression which maximizes the preference for a first segment and then maximizes the preference for a second segment etc. while not necessarily maximizing the preference for the entire route. In other implementations the analysis engine could perform an iterative analysis of every available route thereby providing the route which cumulatively maximizes the preference for the entire route. Other implementations are possible.

At stage the destination is identified. The destination can be identified for example by a destination engine e.g. destination engine of . In some implementations the destination engine can identify a destination based on user input received using a user interface e.g. user interface of . In such implementations the user can provide destination information to a mobile device e.g. mobile device of . In other implementations the destination engine can identify a destination based on historical data retrieved from a history data store e.g. history data store of . For example the destination engine can mine the historical data to automatically derive navigation patterns based on such variables as day time of day holiday and user calendar among many others. In still further examples the destination engine can identify a destination based on a combination of user input and historical information. For example the destination engine can use the user interface to prompt the user to select a destination from among a group of destinations derived based on the historical data.

At stage routes associated with the destination are identified. The routes can be identified for example using a routing engine e.g. routing engine . In some implementations the routing engine can receive position information from a positioning system e.g. positioning system of . The positioning information can be used as a starting point for the routing engine. In some implementations the routing engine can use a navigation service e.g. navigation service of to derive one or more routes. In other implementations the routing engine can use GPS navigation instructions to derive one or more routes.

At stage the route is analyzed based on user preferences. The route can be analyzed for example using an analysis engine e.g. analysis engine of . The analysis can receive user preferences and use the preferences to weight the route progressions included in the identified routes. The weighted route progressions can be used to rearrange the identified routes based on the user preferences. In some implementations the analysis can retrieve route information from several different sources e.g. history data store traffic information system map system of to use in conjunction with the preference information.

At stage a route is presented. The route can be presented for example by a presentation engine e.g. presentation engine to a user of a mobile device. The presented route can be overlaid onto a map provided by a navigation system e.g. map system of or navigation services of . In other implementations the route can be overlaid on a map provided by a local map data store. In some implementations the map includes a number of road representations. In further implementations the road representations for example can be overlaid by route information associated with respective route progressions. The presentation of the route can enable a user of the mobile device to navigate from a current position to a destination.

At stage the destination is received identified. The destination can be received for example by a destination engine e.g. destination engine of . In various implementations the destination engine can operate based on user input received using a user interface e.g. user interface of or can automatically derive a destination based on historical data and combinations thereof.

At stage routes associated with the destination are identified. The routes can be identified for example using a routing engine e.g. routing engine . In some implementations the routing engine can receive position information from a positioning system e.g. positioning system of . The positioning information can be used as a starting point for the routing engine and the routing engine can use a navigation service e.g. navigation service of to derive one or more routes. In other implementations the routing engine can use GPS navigation instructions to derive one or more routes.

At stage the route is analyzed based on user preferences. The route can be analyzed for example using an analysis engine e.g. analysis engine of in conjunction with preference information retrieved from a preference store e.g. preferences store of . In some implementations the analysis can receive several different routes and prioritize the routes based on the received user preferences. In some implementations the analysis engine can reorder the presentation of a plurality of identified routes based on analysis of the route progressions with respect to the user preferences.

At stage a route is presented. The route can be presented for example by a presentation engine e.g. presentation engine to a user of a mobile device. The route can be presented in any of the ways discussed with reference to .

At stage a determination can be made whether a destination has been reached. The determination can be made for example by an analysis engine e.g. analysis engine of in conjunction with a positioning system e.g. positioning system of . Where the destination has been reached the process ends at stage .

If the destination has not been reached the method can return to stage where alternative routes including a plurality of route progressions are retrieved. The route progressions associated with the alternative routes can then be analyzed and one or more alternative routes are presented to a user based on the analysis e.g. an accident traffic build up traffic clearing up etc. . Thus a mobile device e.g. mobile device of can reroute the user based on changing road conditions. In some implementations an alternative route is automatically presented to the user without notification and replaces the current route. In other implementations a user can be notified that another route might be preferable and the estimated navigation times associated with both routes can be compared and the user can decide whether to continue on a current route or to take an alternative route.

The systems and methods disclosed herein may use data signals conveyed using networks e.g. local area network wide area network internet etc. fiber optic medium carrier waves wireless networks e.g. wireless local area networks wireless metropolitan area networks cellular networks etc. etc. for communication with one or more data processing devices e.g. mobile devices . The data signals can carry any or all of the data disclosed herein that is provided to or from a device.

The methods and systems described herein may be implemented on many different types of processing devices by program code comprising program instructions that are executable by one or more processors. The software program instructions may include source code object code machine code or any other stored data that is operable to cause a processing system to perform methods described herein.

The systems and methods may be provided on many different types of computer readable media including computer storage mechanisms e.g. CD ROM diskette RAM flash memory computer s hard drive etc. that contain instructions for use in execution by a processor to perform the methods operations and implement the systems described herein.

The computer components software modules functions and data structures described herein may be connected directly or indirectly to each other in order to allow the flow of data needed for their operations. It is also noted that software instructions or a module can be implemented for example as a subroutine unit of code or as a software function unit of code or as an object as in an object oriented paradigm or as an applet or in a computer script language or as another type of computer code or firmware. The software components and or functionality may be located on a single device or distributed across multiple devices depending upon the situation at hand.

This written description sets forth the best mode of the invention and provides examples to describe the invention and to enable a person of ordinary skill in the art to make and use the invention. This written description does not limit the invention to the precise terms set forth. Thus while the invention has been described in detail with reference to the examples set forth above those of ordinary skill in the art may effect alterations modifications and variations to the examples without departing from the scope of the invention.

