---

title: Software-based aliasing for accessing multiple shared resources on a single remote host
abstract: In order to allow a single user registered on a single local host or other machine to access multiple shared resources on a remote host, an aliasing mechanism is employed so that multiple concurrent connections can be established by the user to a single remote host, with each connection using a different identity. Each connection can therefore be used to access a different shared resource on the remote host. In some illustrative examples, a user's identifier such as his or her machine log-in identification may be associated with two or more resource sharing aliases. As a result, two or more resource sharing sessions can be established by the user with a single remote host, with each of the sessions using a different one of the aliases. The resource sharing sessions are usually established in accordance with a resource sharing protocol such as the Server Block Message (SBM) protocol.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09219733&OS=09219733&RS=09219733
owner: MICROSOFT TECHNOLOGY LICENSING, LLC
number: 09219733
owner_city: Redmond
owner_country: US
publication_date: 20080630
---
Shared resources are commonly employed in computing environments. The proliferation of networked computers and increased processor speeds in the workplace at home and over the Internet have increased the need by users on a computer network to concurrently access shared resources. For instance printer sharing shared printer access file sharing shared access to files port sharing shared access to serial ports and the like allow multiple users to remotely access a resource such as a printer or file that is located on a remote host. File sharing for instance is one way in which users of computers may share resources such as documents software programs and the like with other computer users on a network. Generally a user of a host computer server or other computing device designates some or all of the files on the computing device as shared files which may be viewed and downloaded by other users of the network.

Various application level protocols are available to implement resource sharing including the Server Message Block SMB protocol which is typically employed in a Windows environment the Network File System NFS which is typically employed in a Unix environment and the NetWare Core Protocol NCP which is typically employed in a Novell NetWare environment.

SMB which is also sometimes referred to as the Common Internet File System CIFS uses an underlying NetBIOS protocol or a NetBIOS extended user interface NETBEU protocol. The NetBIOS protocol allows the applications in different devices to appropriately communicate with one another in a network environment.

Many data communication protocols that are still in use today such as the SMB protocol were developed at a time when computing resources were very different e.g. network bandwidth was typically limited and memory was very precious. As a result when used in contemporary networks such protocols may limit overall performance. In particular existing resource sharing services have limited functionality and are generally not extensible to allow the functionality of the file sharing service to be easily expanded by developers.

For example SMB as well as certain other resource sharing protocols assume that a single user identity will be used for communication between an individual user and a particular remote host machine. This is a sensible approach for most situations however it hampers scenarios that require simultaneous use of multiple user identities when accessing multiple shared resources on a single remote host.

This Background is provided to introduce a brief context for the Summary and Detailed Description that follow. This Background is not intended to be an aid in determining the scope of the claimed subject matter nor be viewed as limiting the claimed subject matter to implementations that solve any or all of the disadvantages or problems presented above.

In order to allow a single user registered on a single local host or other machine to access multiple shared resources on a remote host an aliasing mechanism is employed so that multiple concurrent connections can be established by the user to a single remote host with each connection using a different identity. Each connection can therefore be used to access a different shared resource on the remote host.

In some illustrative examples a user s identifier such as his or her machine log in identification may be associated with two or more resource sharing aliases. As a result two or more resource sharing sessions can be established by the user with a single remote host with each of the sessions using a different one of the aliases. The resource sharing sessions are usually established in accordance with a resource sharing protocol such as the Server Block Message SBM protocol.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter.

This disclosure is directed to an extensible resource sharing service. Resource sharing enables a user of a remote host computer server or other computing device to designate some or all of the resources e.g. files printers on the computing device as shared resources that may be accessed by other users of a network. Users of client computers servers or other computing devices may access the shared resources from the host via the network. In some instances users or administrators may wish to expand or enhance an existing file sharing service or application to add additional functionality such as the ability of a single user to access multiple shared resources on a single host computing device in a simple and efficient manner.

While the illustrative implementations that follow are often described in connection with the Windows Operating System offered by Microsoft Corporation of Redmond Wash. the extensible resource sharing techniques described herein are applicable to any file sharing system or environment.

The local host also includes a user WinStation to facilitate implementation of the terminal service. The user Winstation provides statistics concerning terminal service client sessions including user name domain name IP address session ID and connection status. Each WinStation represents a single user who is logged in to a machine as an authorized user during a terminal services session. Multiple user WinStations may reside on the same local host.

One problem that arises when using certain protocols such as SMB for resource sharing is that they sometimes assume that a single user identity will be used for communication between a particular User WinStation and a particular remote host. For example if a Windows user wants to access SMB resources File Shares Printer Shares Inter Process Communication or IPC Services on a remote host the SMB Client will establish a session with the remote host using a particular user identity. This is often convenient since all subsequent resource requests to the remote host will not be required to repeat the necessary authentication steps and in this way access will be transparent to the user. However this becomes problematic when trying to access multiple resources on the same remote host when access to each resource requires a different user identity. For instance in the SMB client can establish a session with SMB shared resource using one user identity but may wish to also establish a session with SMB shared resource . In this case SMB cannot support the second session with SMB shared resource since the user ID is already being used to access SMB shared resource .

For example if a remote host exposes SMB File Shares Share and Share and permissions on these Shares are set in a mutually exclusive way e.g. User John can access Share but cannot access Share and user Alice can access Share but cannot access Share there is no way for a user to access both Share and Share within the same WinStation even when the user knows both John and Alice s credentials.

In the case of the Windows operating system Windows keeps track of this SMB identity on a per user e.g. WinStation basis so that multiple users of the same computer in a terminal services environment can use a different identity when accessing the same remote host. Within a single WinStation however the SMB protocol enforces the use of a single identity when accessing the same remote host. In other words Windows cannot support more than one SMB connection from a single WinStation to the same remote host.

To overcome this limitation an aliasing mechanism is employed so that multiple concurrent connections can be established from a single WinStation to a single remote host with each connection using a different identity. That is a single user who is logged in to a local host will be assigned a different resource sharing alias that allows the user to simultaneously access different shared resources on a single remote host. This is shown in for a logged in user represented by WinStation . In this case the SMB client associated with WinStation which resides on local host establishes a first session with SMB shared resource on remote host using resource alias and a second session with SMB shared resource using resource alias . In this way SMB can support two concurrent sessions with shared resources on the remote host .

In the present arrangement when the SMB protocol is employed the NetBIOS can assign the aliases to each user of the local host. In other words each WinStation on the local host supports multiple aliases that have been assigned by the NetBIOS .

One example of an environment in which resource sharing aliases may be employed is a local area network that supports the Windows Live OneCare software package which is a network management utility that manages multiple devices connected to one another over a local area network. Among other things OneCare provides printer sharing support wireless network security and centralized backup for multiple PCs that are covered under a single OneCare subscription. Such a utility can be important in a small network environment for instance where administration of network computers is often performed by a person with a minimal amount of computer training if any. For users to get the benefit of the network which include shared resources as well as common login procedures on several different computers many administration tasks may need to be presented in a simplified easy to understand format. OneCare represents one arrangement for simplifying such administrative tasks.

In a OneCare environment printers are shared among OneCare enabled hosts using a special low privilege OneCare Printing account to reduce both security risks and exposure. However if a printer is mapped i.e. assigned a drive letter on the local host using this low privilege OneCare Printing account it will affect the user s ability to use regular SMB file shares as the identity used by SMB must be common for both file and printer shares. Thus it is not possible to map a printer using one account and map a network file share using a different account from the same client or local host if both the printer and file shares are located on the same remote host. By using the name aliasing technique described herein for resource sharing however an alternate name i.e. alias can be provided for each host sharing a printer. Thus the original name or identity of the host computer will remain available for other resource sharing tasks.

