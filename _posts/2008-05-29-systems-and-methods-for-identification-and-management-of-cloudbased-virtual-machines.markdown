---

title: Systems and methods for identification and management of cloud-based virtual machines
abstract: Embodiments relate to systems and methods for identification and management of cloud-based virtual machines. A user requests the instantiation of a set of virtual machines from a cloud computing environment. A cloud management system requests the resources necessary to build the machines from a set of resource servers. After populating the set of virtual machines from the cloud, the cloud management system inserts a token ID into one of the virtual machines to designate that machine as a management instance. An image of that machine can be stored in the cloud management system to represent the configuration of the set of virtual machines, even when the cloud itself lacks permanent storage. When the user wishes to update the set of virtual machines, the cloud management system can insert another token ID into another virtual machine, reconfigure the software, processing, or other resources of that machine as a revised management instance.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08341625&OS=08341625&RS=08341625
owner: Red Hat, Inc.
number: 08341625
owner_city: Raleigh
owner_country: US
publication_date: 20080529
---
The present teachings relate to systems and methods for the identification and management of cloud based virtual machines and more particularly to platforms and techniques for instantiating and configuring a set of virtual machines by generating a management instance of the virtual machines.

The advent of cloud based computing architectures has opened new possibilities for the rapid and scalable deployment of virtual Web stores media outlets and other online sites or services. In general a cloud based architecture deploys a set of hosted resources such as processors operating systems software and other components that can be combined or strung together to form virtual machines. A user or customer can request the instantiation of a virtual machine or set of machines from those resources from a central server or management system to perform intended tasks or applications. For example a user may wish to set up and instantiate a virtual server from the cloud to create a storefront to market products or services on a temporary basis for instance to sell tickets to an upcoming sports or musical performance. The user can lease or subscribe to the set of resources needed to build and run the set of instantiated virtual machines on a comparatively short term basis such as hours or days for their intended application.

When a set of virtual machines are instantiated however issues in the management of the configuration and identities of those transient machines can arise. For one some cloud environments may offer compute and storage services separately and in such cases create stateless compute nodes. After the set of virtual machines are built and instantiated it may therefore be difficult or impossible to store an image of one of the virtual machines to create a template of the instantiated objects for future reference. If the user decides to update the configuration of the set of existing virtual machines as a consequence there may be no way to access a template of the existing machines and audit the hardware software and communications resources assigned to those machines. As a result it may be difficult or impossible to perform an automatic update of all component resources to generate an updated set of virtual machines. The user therefore may have to configure updated virtual machines manually.

The configuration of any resulting updated set of virtual machines may likewise not be able to be automatically captured for management and identification purposes. It may be desirable to provide methods and systems for the management of cloud based virtual machines that permits a user or network operator to track store and manage the configurations of virtual machines including in environments which lack permanent storage.

Embodiments of the present teachings relate to systems and methods for the identification and management of cloud based virtual machines. More particularly embodiments relate to platforms and techniques in which a cloud management system can create a special management instance of a set of virtual machines and then turn that management instance on and off to store images of the configuration of those machines and perform network maintenance on that larger set of machines.

According to embodiments in general a user can request the instantiation of a set of virtual machines from a cloud computing environment which can include a set of resource servers configured to deliver processor cycles operating systems or components thereof applications input output bandwidth or other computing resources. The cloud management system identifies the resources necessary to build and launch a set of virtual machines to the user s specification and requests those resources from the set of resource servers. After populating the set of virtual machines from the cloud the cloud management system inserts a token ID into one of the virtual machines to designate that machine as a management instance. An image of that machine can be stored in the cloud management system to represent the configuration of the set of virtual machines which in some cloud environments can not be stored to permanent storage.

Individual virtual machines built from that stored configuration can be identified by an IP address serial number or other identification. When the user systems operator or other administrator or entity wishes to update or reconfigure the set of virtual machines the cloud management system can select another virtual machine to insert another token ID reconfigure the operating system software processing or other resources of that virtual machine as a second or further management instance and repopulate a revised set of virtual machines to the updated specification. The original set of virtual machines can be permitted to operate or can be retired or terminated from the cloud. The revised management instance can be stored to or via the cloud management system and the process of updating the configuration of the set of virtual machines can be repeated as many times as desired. The cloud management system can therefore build launch and store copies of configuration images of the set of virtual machines even in cloud environments where permanent storage is not available. These and other embodiments described herein address the various noted shortcomings in known cloud computing technology and provide a user or network operator with an enhanced set of management tools to identify track and update sets of instantiated virtual machines.

Reference will now be made in detail to exemplary embodiments of the present teachings which are illustrated in the accompanying drawings. Where possible the same reference numbers will be used throughout the drawings to refer to the same or like parts.

In embodiments the entire set of resource servers or other hardware or software resources used to support the cloud along with its instantiated virtual machines is managed by a cloud management system . The cloud management system can comprise a dedicated or centralized server and or other software hardware and network tools that communicate via one or more networks such as the Internet or other public or private network with all sets of resource servers to manage the cloud and its operation. To instantiate a new set of virtual machines a user can transmit an instantiation request to the cloud management system for the particular type of virtual machine they wish to invoke for their intended application. A user can for instance make a request to instantiate a set of virtual machines configured for email messaging or other applications from the cloud . The request can be received and processed by the cloud management system which identifies the type of virtual machine process or other resource being requested. The cloud management system can then identify the collection of resources necessary to instantiate that machine or resource. In embodiments the set of instantiated virtual machines or other resources can for example comprise virtual transaction servers used to support Web storefronts or other transaction sites.

In embodiments the user s instantiation request can specify a variety of parameters defining the operation of the set of virtual machines to be invoked. The instantiation request for example can specify a defined period of time for which the instantiated machine or process is needed. The period of time can be for example an hour a day or other increment of time. In embodiments the user s instantiation request can specify the instantiation of a set of virtual machines or processes on a task basis rather than for a predetermined amount of time. For instance a user could request resources until a software update is completed. The user s instantiation request can specify other parameters that define the configuration and operation of the set of virtual machines or other instantiated resources. For example the request can specify an amount of processing power or input output I O throughput the user wishes to be available to each instance of the virtual machine or other resource. In embodiments the requesting user can for instance specify a service level agreement SLA acceptable for their application. Other parameters and settings can be used. One skilled in the art will realize that the user s request can likewise include combinations of the foregoing exemplary parameters and others.

When the request to instantiate a set of virtual machines or other resources has been received and the necessary resources to build that machine or resource have been identified the cloud management system can communicate with one or more set of resource servers to locate resources to supply the required components. The cloud management system can select providers from the diverse set of resource servers to assemble the various components needed to build the requested set of virtual machines or other resources. It may be noted that in some embodiments permanent storage such as hard disk arrays may not be included or located within the set of resource servers available to the cloud management system since the set of instantiated virtual machines or other resources may be intended to operate on a purely transient or temporary basis. In embodiments other hardware software or other resources not strictly located or hosted in the cloud can be leveraged as needed. For example other software services that are provided outside of the cloud and hosted by third parties can be invoked by in cloud virtual machines. For further example other non cloud hardware and or storage services can be utilized as an extension to the cloud either on an on demand or subscribed or decided basis.

With the resource requirements identified the cloud management system can extract and build the set of virtual machines or other resources on a dynamic or on demand basis. For example one set of resource servers may respond to an instantiation request for a given quantity of processor cycles with an offer to deliver that computational power immediately and guaranteed for the next hour. A further set of resource servers can offer to immediately supply communication bandwidth for example on a guaranteed minimum or best efforts basis. In other embodiments the set of virtual machines or other resources can be built on a batch basis or at a particular future time. For example a set of resource servers may respond to a request for instantiation at a programmed time with an offer to deliver the specified quantity of processor cycles within a specific amount of time such as the next 12 hours.

The cloud management system can select group of servers in the set of resource servers that match or best match the instantiation request for each component needed to build the virtual machine or other resource. The cloud management system can then coordinate the integration of the completed group of servers from the set of resource servers to build and launch the requested set of virtual machines or other resources. The cloud management system can track the combined group of servers selected from the set of resource servers or other distributed resources that are dynamically or temporarily combined to produce and manage the requested virtual machine population or other resources.

In embodiments the cloud management system can generate a resource aggregation table that identifies the various sets of resource servers that will be used to supply the components of the virtual machine or process. The sets of resource servers can be identified by unique identifiers such as for instance Internet protocol IP addresses or other addresses. The cloud management system can register the finalized group of servers in the set resource servers contributing to an instantiated machine or process.

The cloud management system can then set up and launch the initiation process for the virtual machines processes or other resources to be delivered from the cloud. The cloud management system can for instance transmit an instantiation command or instruction to the registered group of servers in set of resource servers . The cloud management system can receive a confirmation message back from each participating server in set of resource servers indicating a status regarding the provisioning of their respective resources. Various sets of resource servers may confirm for example the availability of a dedicated amount of processor cycles amounts of electronic memory communications bandwidth or applications or other software prepared to be served.

As shown for example in the cloud management system can then instantiate one or more than one set of virtual machines or other processes based on the resources supplied by the registered set of resource servers . In embodiments the cloud management system can instantiate a given number for example or other numbers of virtual machines to be made available to users on a network such as the Internet or other public or private network. Each virtual machine can be assigned an instantiated machine ID that can be stored in the resource aggregation table or other record or image of the instantiated population. Additionally the cloud management system can store the duration of each virtual machine and the collection of resources utilized by the complete set of instantiated virtual machines .

In embodiments the cloud management system can further store track and manage a user s identity and associated set of rights or entitlements to software hardware and other resources. Each user that populates a set of virtual machines in the cloud can have specific rights and resources assigned and made available to them. The cloud management system can track and configure specific actions that a user can perform such as provision a set of virtual machines with software applications or other resources configure a set of virtual machines to desired specifications submit jobs to the set of virtual machines or other host manage other users of the set of instantiated virtual machines or other resources and other privileges or actions. The cloud management system can further generate records of the usage of instantiated virtual machines to permit tracking billing and auditing of the services consumed by the user. In embodiments the cloud management system can for example meter the usage and or duration of the set of instantiated virtual machines to generate subscription billing records for a user that has launched those machines. Other billing or value arrangements are possible.

The cloud management system can configure each virtual machine to be made available to users of the one or more networks via a browser interface or other interface or mechanism. Each instantiated virtual machine can communicate with the cloud management system and the underlying registered set of resource servers via a standard Web application programming interface API or via other calls or interfaces. The set of instantiated virtual machines can likewise communicate with each other as well as other sites servers locations and resources available via the Internet or other public or private networks whether within a given cloud or between clouds.

It may be noted that while a browser interface or other front end can be used to view and operate the set of instantiated virtual machines from a client or terminal the processing memory communications storage and other hardware as well as software resources required to be combined to build the virtual machines or other resources are all hosted remotely in the cloud . In embodiments the set of virtual machines or other resources may not depend on or require the user s own on premise hardware or other resources. In embodiments a user can therefore request and instantiate a set of virtual machines or other resources on a purely off premise basis for instance to build and launch a virtual storefront or other application.

Because the cloud management system in one regard specifies builds operates and manages the set of instantiated virtual machines on a logical level the user can request and receive different sets of virtual machines and other resources on a real time or near real time basis without a need to specify or install any particular hardware. The user s set of instantiated virtual machines processes or other resources can be scaled up or down immediately or virtually immediately on an on demand basis if desired. In embodiments the various sets of resource servers that are accessed by the cloud management system to support a set of instantiated virtual machines or processes can change or be substituted over time. The type and operating characteristics of the set of instantiated virtual machines can nevertheless remain constant or virtually constant since instances are assembled from abstracted resources that can be selected and maintained from diverse sources based on uniform specifications.

In terms of network management of the set of instantiated virtual machines that have been successfully configured and instantiated the cloud management system can perform various network management tasks including security maintenance and metering for billing or subscription purposes. The cloud management system of a given cloud can for example install or terminate applications or appliances on individual machines. The cloud management system can monitor operating virtual machines to detect any virus or other rogue process on individual machines and for instance terminate the infected application or virtual machine. The cloud management system can likewise manage an entire set of instantiated virtual machines or other resources on a collective basis for instance to push or delivery a software upgrade to all active virtual machines. Other management processes are possible.

In embodiments more than one set of virtual machines can be instantiated in a given cloud at the same overlapping or successive times. The cloud management system can in such implementations build launch and manage multiple sets of virtual machines based on the same or different underlying set of resource servers with populations of different sets of instantiated virtual machines such as may be requested by different users. The cloud management system can institute and enforce security protocols in a cloud hosting multiple sets of virtual machines. Each of the individual sets of virtual machines can be hosted in a respective partition or sub cloud of the resources of the cloud . The cloud management system of a cloud can for example deploy services specific to isolated or defined sub clouds or isolate individual workloads processes within the cloud to a specific sub cloud. The subdivision of the cloud into distinct transient sub clouds or other sub components which have assured security and isolation features can assist in establishing a multiple user or multi tenant cloud arrangement. In a multiple user scenario each of the multiple users can use the cloud platform as a common utility while retaining the assurance that their information is secure from other users of the overall cloud system. In further embodiments sub clouds can nevertheless be configured to share resources if desired.

In embodiments and as also shown in the set of instantiated virtual machines generated in a first cloud can also interact with a set of instantiated virtual machines or processes generated in a second third or further cloud . The cloud management system of a first cloud can interface with the cloud management system of a second cloud to coordinate those domains and operate the clouds and or virtual machines or processes on a combined basis. The cloud management system of a given cloud can track and manage individual virtual machines or other resources instantiated in that cloud as well as the set of instantiated virtual machines or other resources in other clouds.

In the foregoing and other embodiments the user making an instantiation request or otherwise accessing or utilizing the cloud network can be a person customer subscriber administrator corporation organization or other entity. In embodiments the user can be or include another virtual machine application or process. In further embodiments multiple users or entities can share the use of a set of virtual machines or other resources.

As part of the process of building set of instantiated virtual machines the cloud management system instantiates a first virtual machine and transmits a token ID to insert or embed into that machine. The token ID can be for instance a file certificate cookie or other identification object encoding a unique identifier for that virtual machine. The incorporation of token ID into a first or selected virtual machine can transform that machine into a management instance . The status of being a management instance including the presence of the token ID can permit cloud management system to directly configure manage store and track the management instance . Cloud management system can for example set the operating system application processing level bandwidth and other parameters specifying the resources and capability of management instance and store an management instance image of management instance including that information to cloud management store . According to embodiments while configured as management instance the virtual machine can be made not visible to other machines or resources in cloud other than cloud management system .

After configuration and capture of an image of management instance cloud management system can remove or delete token ID from the management instance causing that virtual machine to revert to non management status. With that machine no longer containing an embedded unique token ID cloud management system can duplicate or copy the machine in the selected configuration to generate the complete set of instantiated virtual machines . According to embodiments the set of instantiated virtual machines can be a set of identical virtual machines such as servers clients or other machines or resources and each be visible to each other and the remainder of cloud .

In embodiments as shown cloud management system can register the set of instantiated virtual machines built off the management instance by recording the token ID field management instance image and set of instantiated virtual machine data in configuration table . The set of instantiated virtual machine data can include an identification of the number of virtual machines duration of use or expiration times for one or more virtual machine in the set an IP address or other identifier for each virtual machine or other information.

According to embodiments in one regard when the user operator of cloud management system or other party wishes to update or alter the configuration of the set of instantiated virtual machines the cloud management system can select an individual virtual machine in set of instantiated virtual machines to insert a further token ID into that machine. Insertion of token ID into a selected virtual machine creates a new management instance whose configuration the cloud management system can then update. The cloud management system can then follow the same process of removing the token ID and duplicating the image to produce a revised set of instantiated virtual machines . A new or revised management instance image along with revised set of instantiated virtual machine data can then be captured and stored to cloud management store along with token ID in token ID field . In embodiments the cloud management system can terminate or retire prior versions of the set of instantiated set of virtual machines once an update cycle is complete. Further update cycles to alter or update the set of instantiated virtual machines can be performed.

In step the cloud management system can insert a token ID into the first virtual machine to create a management instance . The token ID can be a unique identifier specifically identifying management instance permitting cloud management system to identify track and manage management instance . In step the user can configure the management instance via cloud management system for example to specify software and computing resources to be installed in or made available to the management instance . In step cloud management system can capture an image of management instance . The image can include identification data such as token ID . The image can further include selected and installed software resources such as an installed operating system applications software appliances or other software resources. The image can include computing resources such as allocated processor power memory input output I O throughput or other computing resources. In step the image of management instance can be stored to cloud management system for example in hard drive or other permanent storage of cloud management system .

In step the cloud management system can remove token ID from management instance causing that virtual machine to revert to a non management instance. In step the cloud management system can duplicate the reverted non management instance to produce a complete set of instantiated virtual machines according to the user s instantiation request. The number of virtual machines in set of instantiated virtual machines can be configured by the user or in embodiments by the operator of the cloud management system .

In step the cloud management system can begin an update to the initial or preceding version of the set of instantiated virtual machines by inserting a token ID into a selected one of the set of instantiated virtual machines to create a new or revised management instance and updating the configuration identification of the management instance . The cloud management system can also store an image of the revised management instance to record the updated configuration.

In step after storing the updated image of the management instance the cloud management system can remove the token ID from the management instance to cause the associated virtual machine to revert to a non management instance. In step the updated non management virtual machine can be duplicated to generate a revised or updated set of instantiated virtual machines in the updated configuration in step the cloud management system can terminate or retire the prior version of the set of instantiated virtual machines as appropriate. In step a determination can be made whether all desired updated cycles have been completed. If not processing can return to step . If the determination in step is that all update cycles have been completed processing can be proceed to step where as understood by persons skilled in the art processing can repeat return to a prior processing point jump to a further processing point or end.

The foregoing description is illustrative and variations in configuration and implementation may occur to persons skilled in the art. For example while embodiments have been described in which the cloud management system for a particular cloud resides in a single server or platform in embodiments the cloud management system and associated logic can be distributed among multiple servers or systems. Similarly while embodiments have been described in which one group of servers within a set of resource servers can provide one component to build a requested set of virtual machines in embodiments one group of resource servers can deliver multiple components to populate the requested set of virtual machines . Other resources described as singular or integrated can in embodiments be plural or distributed and resources described as multiple or distributed can in embodiments be combined. The scope of the invention is accordingly intended to be limited only by the following claims.

