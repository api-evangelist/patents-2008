---

title: Browsing or searching user interfaces and other aspects
abstract: User interfaces for browsing and/or searching are described. In some embodiments, the metadata of a file includes a field having an indicator to indicate whether a preview of the content of the file is available. If the preview is available, then a plug-in associated with the creator application of the file is executed to present the preview within the icon. Furthermore, if the preview is interactive according to the metadata, then various user interface control may be generated to allow users to manipulate the presentation of the preview. Other embodiments are also described, and computer readable media and apparatuses are also described.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08762887&OS=08762887&RS=08762887
owner: Apple Inc.
number: 08762887
owner_city: Cupertino
owner_country: US
publication_date: 20080811
---
This application claims the benefit of U.S. Provisional Patent Application No. 61 059 614 filed on Jun. 6 2008.

Modern data processing systems such as general purpose computer systems allow the users of such systems to create a variety of different types of data files. For example a typical user of a data processing system may create text files with a word processing program such as Microsoft Word or may create an image file with an image processing program such as Adobe s PhotoShop. Numerous other types of files are capable of being created or modified edited and otherwise used by one or more users for a typical data processing system. The large number of the different types of files that can be created or modified can present a challenge to a typical user who is seeking to find a particular file which has been created.

Modern data processing systems often include a file management system which allows a user to place files in various directories or subdirectories e.g. folders and allows a user to give the file a name. Further these file management systems often allow a user to find a file by searching for the file s name or the date of creation or the date of modification or the type of file. An example of such a file management system is the Finder program which operates on Macintosh computers from Apple Inc. of Cupertino Calif. Another example of a file management system program is the Windows Explorer program which operates on the Windows operating system from Microsoft Corporation of Redmond Wash. Both the Finder program and the Windows Explorer program include a find command which allows a user to search for files by various criteria including a file name or a date of creation or a date of modification or the type of file. However this search capability searches through information which is the same for each file regardless of the type of file. Thus for example the searchable data for a Microsoft Word file is the same as the searchable data for an Adobe PhotoShop file and this data typically includes the file name the type of file the date of creation the date of last modification the size of the file and certain other parameters which may be maintained for the file by the file management system.

Certain presently existing application programs allow a user to maintain data about a particular file. This data about a particular file may be considered metadata because it is data about other data. This metadata for a particular file may include information about the author of a file a summary of the document and various other types of information. A program such as Microsoft Word may automatically create some of this data when a user creates a file and the user may add additional data or edit the data by selecting the property sheet from a menu selection in Microsoft Word. The property sheets in Microsoft Word allow a user to create metadata for a particular file or document. However in existing systems a user is not able to search for metadata across a variety of different applications using one search request from the user. Furthermore existing systems can perform one search for data files but this search does not also include searching through metadata for those files.

Methods for managing data in a data processing system and systems for managing data are described herein.

A method of managing data in one exemplary embodiment includes displaying an icon representing a file in a graphical user interface GUI where the icon includes one or more predefined decorations. The decorations may be chosen based on the file type such as slide decorations for presentations a foldover for documents etc. This may also be referred to as type conformance. A preview of the content of the file is presented within the icon without launching an application which has created the file also referred to as the creator application . The pre defined decorations on the icon may be maintained on the icon while the preview of the content of the file is presented. The format of the icon e.g. shape of the icon size of the icon etc. may be maintained as well during presentation of the preview.

In some embodiments various user interface control are provided to allow users to manipulate the presentation of the preview within the icon. Thus such preview is also referred to as interactive preview and the icon displaying the interactive preview are referred to as a dynamic icon. For example if the file is a document buttons may be provided to allow users to page through pages of the document within the icon as if one was turning the pages sequentially. Alternatively a button may be provided to allow users to zoom into a portion of the document within the icon. Alternatively a scroll bar may be provided to allow users to scroll up and down the document within the icon. If the file is a video then a play button may be provided to allow users to initiate playing a preview of the video within the icon. Furthermore a stop button may be provided to allow users to stop playing the video. In some embodiments a status indicator such as a ring a bar etc. may be provided to indicate the portion of the preview of the video played. If the file is a still image then a thumbnail of the image may be displayed as a preview and one or more buttons may be provided to allow users to zoom in or out of the thumbnail of the image.

According to some aspects of the invention the GUI in which the icon is displayed is associated with a client application such as a file management application of a hierarchical file system HFS such as Finder from Apple Inc. of Cupertino Calif. and Window Explorer from Microsoft Corp. of Redmond Wash. Via the GUI users may manage files in the HFS. Alternatively the GUI in which the icon is displayed is associated with a file searching application such as Spotlight from Apple Inc. The GUI may include a result window of the file searching application. Icons of files found by the file searching application may be displayed in the result window and previews of contents of the files if available are presented within the icons inside the result window. No additional window may be generated to present the preview.

In some embodiments the metadata of the file includes a field having an indicator to indicate whether a preview of the content of the file is available. If the preview is available then a plug in associated with the creator application of the file is executed to present the preview within the icon. Furthermore if the preview is interactive according to the metadata then various user interface control may be generated to allow users to manipulate the presentation of the preview.

According to some aspects of the invention a background process also referred to as a daemon may request icon data of an icon from the plug in in response to a request from the client application. As mentioned above the plug in is associated with a creator application of the file. The icon data includes decorations of the icon which may be chosen based on the file type and metadata of the file. As mentioned above the metadata may include a field having an indicator to indicate whether a preview of the content of the file is available. After the background process receives the icon data from the plug in the background process forwards the icon data to the client application. In some embodiments the client application analyzes the metadata to determine if a preview of the content of the file is available and if so whether the preview is interactive. If the preview is available and is interactive then the client application may generate an icon usable to present the preview and execute the plug in to present the preview within the icon. User interface control appropriate for the type of content may be provided to allow users to manipulate the presentation of the preview within the icon.

In at least certain embodiments the icon data from the plug in further includes badge data and an image such as a thumbnail . The badge data includes additional information on the file the creator application of the file and or a third party vendor of the creator application. For example the badge data may include the version of the creator application. Using the badge data a badge may be generated and displayed on the icon. For example a badge containing a graphic image to identify a creator application e.g. a logo of the creator application and or the third party vendor e.g. a trademark of the third party vendor may be displayed on an icon of a file created by the creator application. Such a badge may be referred to as an image badge. Alternatively a badge containing text of the name of the creator application may be displayed on the icon. Such a badge may be referred to as a text badge.

According to some aspects of the invention icons representing folders may be badged as well. When an icon is created for a folder it is determined if all files within the folder is produced by applications from a single third party vendor using badge data in icon data of icons representing the files within the folder. If so a badge indicative of the single third party vendor is generated. Then the badge is displayed on the icon of the folder. The badge may include text a graphic image or a combination of both. The icon of the folder may further include decorations for folders such as a binder.

In some embodiments the above operations to create icons to present previews within the icons and to create badges for the icons are performed by a single computing machine such as a personal computer. Alternatively the above operations to create icons to present previews within the icons and to create badges for the icons are performed by various computing machines within a system. According to some aspects of the invention a server in the system initiates an instance of a preview generator for each client machine in the system. The instance sends at least one of a preview and a thumbnail of a file to the client machine responsive to a request for the file from the client machine to allow the client machine to present the preview. The instance may generate an icon representing the file and execute a plug in associated with a creator application of the file to present the preview within the icon so that the creator application does not have to be launched. Furthermore the icon may be cached on the server so that other instances of the preview generator may use the same icon.

Other aspects of the present inventions include various data processing systems which perform these methods and machine readable media which cause a data processing system to perform various methods described herein.

The subject invention will be described with reference to numerous details set forth below and the accompanying drawings will illustrate the invention. The following description and drawings are illustrative of the invention and are not to be construed as limiting the invention. Numerous specific details are described to provide a thorough understanding of the present invention. However in certain instances well known or conventional details are not described in order to not unnecessarily obscure the present invention in detail.

The present description includes material protected by copyrights such as illustrations of graphical user interface images. The owners of the copyrights including the assignee of the present invention hereby reserve their rights including copyright in these materials. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure as it appears in the Patent and Trademark Office file or records but otherwise reserves all copyrights whatsoever. Copyright Apple Inc. 2008.

As shown in the computer system which is a form of a data processing system includes a bus which is coupled to a microprocessor s and a ROM Read Only Memory and volatile RAM and a non volatile memory . The microprocessor may be a microprocessor from Intel or a G3 or G4 microprocessor from Motorola Inc. or one or more G5 microprocessors from IBM. The bus interconnects these various components together and also interconnects these components and to a display controller and display device and to peripheral devices such as input output I O devices which may be mice keyboards modems network interfaces printers and other devices which are well known in the art. Typically the input output devices are coupled to the system through input output controllers . The volatile RAM Random Access Memory is typically implemented as dynamic RAM DRAM which requires power continually in order to refresh or maintain the data in the memory. The mass storage is typically a magnetic hard drive or a magnetic optical drive or an optical drive or a DVD RAM or other types of memory systems which maintain data e.g. large amounts of data even after power is removed from the system. Typically the mass storage will also be a random access memory although this is not required. While shows that the mass storage is a local device coupled directly to the rest of the components in the data processing system it will be appreciated that the present invention may utilize a non volatile memory which is remote from the system such as a network storage device which is coupled to the data processing system through a network interface such as a modem or Ethernet interface. The bus may include one or more buses connected to each other through various bridges controllers and or adapters as is well known in the art. In one embodiment the I O controller includes a USB Universal Serial Bus adapter for controlling USB peripherals and an IEEE 1394 controller for IEEE 1394 compliant peripherals.

It will be apparent from this description that aspects of the present invention may be embodied at least in part in software. That is the techniques may be carried out in a computer system or other data processing system in response to its processor such as a microprocessor executing sequences of instructions contained in a memory such as ROM RAM mass storage or a remote storage device. In various embodiments hardwired circuitry may be used in combination with software instructions to implement the present invention. Thus the techniques are not limited to any specific combination of hardware circuitry and software nor to any particular source for the instructions executed by the data processing system. In addition throughout this description various functions and operations are described as being performed by or caused by software code to simplify description. However those skilled in the art will recognize what is meant by such expressions is that the functions result from execution of the code by a processor such as the microprocessor .

The method of may be implemented for programs which do not store or provide metadata. In this circumstance a portion of the operating system provides for the capture of the metadata from the variety of different programs even though the programs have not been designed to provide or capture metadata. For those programs which do allow a user to create metadata for a particular document certain embodiments of the present invention may allow the exporting back of captured metadata back into data files for applications which maintain metadata about their data files.

The method of allows information about a variety of different files created by a variety of different application programs to be accessible by a system wide searching facility which is similar to the way in which prior art versions of the Finder or Windows Explorer can search for file names dates of creation etc. across a variety of different application programs. Thus the metadata for a variety of different files created by a variety of different application programs can be accessed through an extension of an operating system and an example of such an extension is shown in as a metadata processing software which interacts with other components of the system and will be described further below.

One particular field which may be useful in the various metadata formats would be a field which includes an identifier of a plug in or other software element which may be used to capture metadata from a data file and or export metadata back to the creator application. Another field which may be useful in the various metadata formats would be a field which includes an indicator on whether a preview of the content of a file is available. In some embodiments the field may further include another indicator to tell whether the preview if available is interactive.

Various different software architectures may be used to implement the functions and operations described herein. The following discussion provides one example of such an architecture but it will be understood that alternative architectures may also be employed to achieve the same or similar results. The software architecture shown in is an example which is based upon the Macintosh operating system. The architecture includes a metadata processing software and an operating system OS kernel which is operatively coupled to the metadata processing software for a notification mechanism which is described below. The metadata processing software is also coupled to other software programs such as a file system graphical user interface software which may be the Finder an email software and other applications . These applications are coupled to the metadata processing software through client application program interface which provide a method for transferring data and commands between the metadata processing software and the software and . These commands and data may include search parameters specified by a user as well as commands to perform searches from the user which parameters and commands are passed to the metadata processing software through the interface . The metadata processing software is also coupled to a collection of importers which extract data from various applications. In particular in one exemplary embodiment a text importer is used to extract text and other information from word processing or text processing files created by word processing programs such as Microsoft Word etc. This extracted information is the metadata for a particular file. Other types of importers extract metadata from other types of files such as image files or music files. In this particular embodiment a particular importer is selected based upon the type of file which has been created and modified by an application program. For example if the data file was created by PhotoShop then an image importer for PhotoShop may be used to input the metadata from a PhotoShop data file into the metadata database through the metadata processing software . On the other hand if the data file is a word processing document then an importer designed to extract metadata from a word processing document is called upon to extract the metadata from the word processing data file and place it into the metadata database through the metadata processing software . Typically a plurality of different importers may be required in order to handle the plurality of different application programs which are used in a typical computer system. The importers may optionally include a plurality of exporters which are capable of exporting the extracted metadata for particular types of data files back to property sheets or other data components maintained by certain application programs. For example certain application programs may maintain some metadata for each data file created by the program but this metadata is only a subset of the metadata extracted by an importer from this type of data file. In this instance the exporter may export back additional metadata or may simply insert metadata into blank fields of metadata maintained by the application program.

The software architecture also includes a file system directory for the metadata. This file system directory keeps track of the relationship between the data files and their metadata and keeps track of the location of the metadata object e.g. a metadata file which corresponds to the data file from which it was extracted created by each importer. In one exemplary embodiment the metadata database is maintained as a flat file format as described below and the file system directory maintains this flat file format. One advantage of a flat file format is that the data is laid out on a storage device as a string of data without references between fields from one metadata file corresponding to a particular data file to another metadata file corresponding to another data file . This arrangement of data will often result in faster retrieval of information from the metadata database .

The software architecture of also includes find by content software which is operatively coupled to a database which includes an index of files. The index of files represents at least a subset of the data files in a storage device and may include all of the data files in a particular storage device or several storage devices such as the main hard drive of a computer system. The index of files may be a conventional indexed representation of the content of each document. The find by content software searches for words in that content by searching through the database to see if a particular word exists in any of the data files which have been indexed. The find by content software functionality is available through the metadata processing software which provides the advantage to the user that the user can search concurrently both the index of files in the database for the content within a file as well as the metadata for the various data files being searched. The software architecture shown in may be used to perform the method shown in or alternative architectures may be used to perform the method of .

The method of may begin in operation in which a notification of a change for a file is received. This notification may come from the OS kernel which notifies the metadata processing software that a file has been changed. This notification may come from sniffer software elements which detect new or modified files and deletion of files. This change may be the creation of a new file or the modification of an existing file or the deletion of an existing file. The deletion of an existing file causes a special case of the processing method of and is not shown in . In the case of a deletion the metadata processing software through the use of the file system directory deletes the metadata file in the metadata database which corresponds to the deleted file. The other types of operations such as the creation of a new file or the modification of an existing file causes the processing to proceed from operation to operation in which the type of file which is the subject of the notification is determined. The file may be an Acrobat PDF file or an RTF word processing file or a JPEG image file etc. In any case the type of the file is determined in operation . This may be performed by receiving from the OS kernel the type of file along with the notification or the metadata processing software may request an identification of the type of file from the file system graphical user interface software or similar software which maintains information about the data file such as the creator application or parent application of the data file. It will be understood that in one exemplary embodiment the file system graphical user interface software is the Finder program which operates on the Macintosh operating system. In alternative embodiments the file system graphical user interface system may be Windows Explorer which operates on Microsoft s Windows operating system. After the type of file has been determined in operation the appropriate capture software e.g. one of the importers is activated for the determined file type. The importers may be a plug in for the particular application which created the type of file about which notification is received in operation . Once activated the importer or capture software imports the appropriate metadata for the particular file type into the metadata database such as metadata database as shown in operation . Then in operation the metadata is stored in the database. In one exemplary embodiment it may be stored in a flat file format. Then in operation the metadata processing software receives search parameter inputs and performs a search of the metadata database and optionally also causes a search of non metadata sources such as the index of files and causes the results of the search to be displayed in a user interface. This may be performed by exchanging information between one of the applications such as the software or the software or the other applications and the metadata processing software through the interface . For example the file system software may present a graphical user interface allowing a user to input search parameters and allowing the user to cause a search to be performed. This information is conveyed through the interface to the metadata processing software which causes a search through the metadata database and also may cause a search through the database of the indexed files in order to search for content within each data file which has been indexed. The results from these searches are provided by the metadata processing software to the requesting application which in the example given here was the software but it will be appreciated that other components of software such as the email software may be used to receive the search inputs and to provide a display of the search results. Various examples of the user interface for inputting search requests and for displaying search results are described herein and shown in the accompanying drawings.

It will be appreciated that the notification if done through the OS kernel is a global system wide notification process such that changes to any file will cause a notification to be sent to the metadata processing software. It will also be appreciated that in alternative embodiments each application program may itself generate the necessary metadata and provide the metadata directly to a metadata database without the requirement of a notification from an operating system kernel or from the intervention of importers such as the importers . Alternatively rather than using OS kernel notifications an embodiment may use software calls from each application to a metadata processing software which receives these calls and then imports the metadata from each file in response to the call.

As noted above the metadata database may be stored in a flat file format in order to improve the speed of retrieval of information in most circumstances. The flat file format may be considered to be a non B tree non hash tree format in which data is not attempted to be organized but is rather stored as a stream of data. Each metadata object or metadata file will itself contain fields such as the fields shown in the examples of . However there will typically be no relationship or reference or pointer from one field in one metadata file to the corresponding field or another field in the next metadata file or in another metadata file of the same file type. shows an example of the layout in a flat file format of metadata. The format includes a plurality of metadata files for a corresponding plurality of data files. As shown in metadata file is metadata from file of application A and may be referred to as metadata file A. Similarly metadata file is metadata from file of application B and may be referred to as metadata file B. Each of these metadata files typically would include fields which are not linked to other fields and which do not contain references or pointers to other fields in other metadata files. It can be seen from that the metadata database of includes metadata files from a plurality of different applications applications A B and C and different files created by each of those applications. Metadata files and are additional metadata files created by applications A B and C as shown in .

A flexible query language may be used to search the metadata database in the same way that such query languages are used to search other databases. The data within each metadata file may be packed or even compressed if desirable. As noted above each metadata file in certain embodiments will include a persistent identifier which uniquely identifies its corresponding data file. This identifier remains the same even if the name of the file is changed or the file is modified. This allows for the persistent association between the particular data file and its metadata.

Various different examples of user interfaces for inputting search parameters and for displaying search results are provided herein. It will be understood that some features from certain embodiments may be mixed with other embodiments such that hybrid embodiments may result from these combinations. It will be appreciated that certain features may be removed from each of these embodiments and still provide adequate functionality in many instances.

The combination of text entry region and the search parameter menu bar allow a user to specify a search query or search parameters. Each of the configurable pull down menus presents a user with a list of options to select from when the user activates the pull down menu. As shown in the user has already made a selection from the configurable pull down menu to specify the location of the search which in this case specifies that the search will occur on the local disks of the computer systems. Configurable pull down menu has also been used by the user to specify the kind of document which is to be searched for which in this case is an image document as indicated by the configurable pull down menu which indicates images as the selected configuration of this menu and hence the search parameter which it specifies. The configurable pull down menu as shown in represents an add search parameter pull down menu. This add search parameter pull down menu allows the user to add additional criteria to the search query to further limit the search results. In the embodiment shown in each of the search parameters is logically ANDed in a Boolean manner. Thus the current search parameter specified by the user in the state shown in searches all local disks for all images and the user is in the middle of the process of selecting another search criteria by having selected the add search criteria pull down menu resulting in the display of the pull down menu which has a plurality of options which may be selected by the user.

It will also be appreciated that the various options in the pull down menus may depend upon the fields within a particular type of metadata file. For example the selection of images to be searched may cause the various fields present in the metadata for an image type file to appear in one or more pull down menus allowing the user to search within one or more of those fields for that particular type of file. Other fields which do not apply to images types of files may not appear in these menus in order reduce the complexity of the menus and to prevent user confusion.

Another feature of the present invention is shown in . In particular the side bar region A which is the user configurable portion of the side bar includes a representation of a folder which represents the search results obtained from a particular search which search results may be static or they may be dynamic in that in certain instances the search can be performed again to obtain results based on the current files in the system. The folder in the example shown in represents a search on a local disk for all images done on December 10. By selecting this folder in the side bar region A the user may cause the display in the display region of the results of that search. In this way a user may retrieve a search result automatically by saving the search result into the side bar region A. One mechanism for causing a search result or a search query to be saved into the side bar region A is to select the add folder button which appears in the bottom portion of the window . By selecting this button the current search result or search query is saved as a list of files and other objects retrieved in the current search result. In the case where the search query is saved for later use rather than the saving of a search result then the current search query is saved for re use at a later time in order to find files which match the search query at that later time. The user may select between these two functionalities saving a search result or saving a search query by the selection of a command which is not shown.

The window includes an additional feature which may be very useful while analyzing a search result. A user may select individual files from within the display region and associate them together as one collection. Each file may be individually marked using a specific command e.g. pressing the right button on a mouse and selecting a command from a menu which appears on the screen which command may be add selection to current group or similar such commands. By individually selecting such files or by selecting a group of files at once the user may associate this group of files into a selected group or a marked group and this association may be used to perform a common action on all of the files in the group e.g. print each file or view each file in a viewer window or move each file to a new or existing folder etc. . A representation of this marked group appears as a folder in the user configurable portion A. An example of such a folder is the folder shown in the user configurable portion A. By selecting this folder e.g. by positioning a cursor over the folder and pressing and releasing a mouse button or by pressing another button the user as a result of this selection will cause the display within the display region of the files which have been grouped together or marked. Alternatively a separate window may appear showing only the items which have been marked or grouped. This association or grouping may be merely temporary or it may be made permanent by retaining a list of all the files which have been grouped and by keeping a folder or other representations of the grouping within the user configurable side bar such as the side bar A. Certain embodiments may allow multiple different groupings to exist at the same time and each of these groupings or associations may be merely temporary e.g. they exist only while the search results window is displayed or they may be made permanent by retaining a list of all the files which have been grouped within each separate group. It will be appreciated that the files within each group may have been created from different applications. As noted above one of the groupings may be selected and then a user may select a command which performs a common action e.g. print or view or move or delete on all of the files within the selected group.

The window shown in includes a display region which shows the results of a search these results may be shown dynamically as the user enters search parameters or the results may be shown only after the user has instructed the system to perform the search e.g. by selecting a perform search command . The window includes conventional window controls such as a resizing control a scrolling control a title bar which may be used to move the window a window close button a window minimize button and a window resize button and respectively. The window also includes a user configurable side bar region A and a system specified side bar region B. It can be seen from that a browse mode has been selected as indicated by the highlighted browse icon C in the system specified side bar region B. The window also includes a text entry region which a user may use to enter text for a search and the window also includes view selector buttons .

A column of window allows a user to select various search parameters by selecting one of the options which in turn causes the display of a submenu that corresponds to the selected option. In the case of the user has selected the kind option and then has used the submenu to select the photos option from the submenu resulting in an indicator photos to appear in the column under the kind option as shown in . It can also be seen that the user has previously selected the time option in the column and has selected from a submenu brought up when the time option was selected the past week search parameter. When the user has finished making selections of the various options and suboptions from both the column and any of the corresponding submenus which appear then the display showed in appears. Note that the submenus are no longer present and that the user has completed the selection of the various options and suboptions which specify the search parameters. Column in provides feedback to the user indicating the exact nature of the search query in this case a search for all photos dated in the past week and the results which match the search query are shown in the display region .

The window shown in shows the activation of a menu by selecting the search button A causing a display of a menu having two entries and . Entry displays recently performed searches so that a user may merely recall a prior search by selecting the prior search and cause the prior search to be run again. The menu selection allows the user to clear the list of recent searches in the menu.

The search results user interface shown in presents only a limited number of matches or hits within each category. In the particular example of these figures only the five top most relevant or most highly sorted hits are displayed. This can be seen by noticing the entry at the bottom of each list within a group which specifies how many more hits are within that group these hits can be examined by selecting this indicator such as indicator which causes the display of all of the items in the documents category or kind for the search for button which was entered into the text entry region . Further examples of this behavior are described below and are shown in conjunction with . It will be appreciated that window is a closeable and resizable and moveable window and includes a close button and a resizing control A.

Another aspect of the present inventions relates to previews displayed within search results windows icons dynamic icons etc. where some or all of which are at least one of being resizable zoomable or pageable through. For example a first representation e.g. an icon a dynamic icon etc. of a first file found by the search may contain a preview that is at least one of being resizable or zoomable or scrollable or pageable through within a display region such as a window which contains the results of the search. shows an exemplary method for performing at least some of the functionality of this aspect. In operation a user s search input is received by a data processing system which in turn in operation performs the search and then presents the search results based on the user s search input. In addition the results are presented such that for at least one file which was found by the search the file is represented by an icon a dynamic icon having a preview or other representation of the file where the preview or the representation is at least one of resizable or zoomable or scrollable or pageable through or a combination of those capabilities. For example if the file which is found is a picture file then a thumbnail of the picture file may be the representation which is resizable within the search results window such that it can be enlarged in size or decreased in size on the display device within the search results window. Further the picture which is a thumbnail which represents the file may be zoomable in that the content of the representation may be zoomed in e.g. magnified or out e.g. demagnified while maintaining the same area or size of the representation. In addition or alternatively the content in the representation may be pageable in that multiple different pages of the content may be displayed either sequentially over time by paging through the multiple pages in sequence as if one were flipping through pages in a book or multiple pages may be spread out concurrently. One or more of these actions may be possible depending upon the particular type of content. Images may typically be resizable or zoomable or scrollable and may also be pageable for example. In at least certain embodiments of the present invention as shown in operation the representation within the search results window may be resized or scrolled or zoomed or paged through without having to launch the application which created the content.

A preview at least in certain embodiments can apply to files e.g. documents still images video etc. or other objects e.g. records emails messages vCards etc. . A single page preview can be used for a thumbnail or in any situation where a single image is needed to provide a preview of an item. Multiple items can be previewed at once and compared or viewed in sequence. When multiple items are previewed at once they can be of any file type including many different file types. The previews can be shown in the same window as the search results window or in a separate window or in a layer that is overlaid above the item shown in a search result which is being previewed in the layer above. Alternatively the previews of contents of files may be presented within icons and or dynamic icons representing the files where the icons and or dynamic icons may be displayed in a window such as the search result window.

A preview may be presented using a variety of different implementations such as a plug in implementation which uses one or more plug ins such as a QuickTime plug in etc. Each of the previews may be formatted in one of several standard data file types such as PDF text HTML JPEG a movie format or a sound music format etc. . The previews may be either generated by the application which created the item or file represented by the preview when the item or file is stored or may be generated dynamically when needed. A dynamically generated preview may be produced by invoking a generator plug in that translates the native format of the item being previewed to one of the standard data file types e.g. PDF text HTML JPEG a standard movie format or a standard sound music format etc. . A preview generator plug in may be loaded in a separate process to protect against failures and or security vulnerabilities. Alternatively a trusted generator plug in e.g. QuickTime or a set of such plug ins may be loaded directly in the process of presenting the search results and such plug ins may be used to present the previews. A preview generator may be capable of handling multiple preview requests concurrently and the preview generator and or the search software controlling the search results window may manage a queue of preview requests and the search software can cancel or reorder the preview requests in the queue.

The following figures show examples of previews or other representations which are resizable or zoomable or scrollable or pageable through. shows an example of a preview displayed on a display device either within a search result window or as an overlay on the window. The preview is scrollable and resizable it may be scrolled using any one of the scroll controls and or . It may be resized using the resize control . shows a preview which can display multiple documents or items in a scrollable format. The view shown in of the preview shows only one document and another document can be selected for viewing using interface controls and . The view of preview is scrollable using scroll controls A and or B. The view of preview is also resizable using resize control . The user can also switch to display multiple documents or items at once in the view of preview by selecting the user interface control which will cause the preview shown in to appear similar to the preview shown in which shows multiple documents concurrently. The preview shown in may also be scrollable.

Previews or other representations which are resizable or scrollable or zoomable or pageable through may also be provided in other user interfaces which may include alternative types of views such as within a dynamic icon which is further described below. provides an example of one method of generating dynamic icons having previews within the dynamic icons. The method may begin in block in which an icon of a file is generated to represent the file in a graphical user interface GUI . In block one or more predefined decorations are put onto the icon based on the file type of the file. For example a foldover may be put at the top right corner of the icon for documents. In block a preview of the content of the file is presented within the icon without modifying the format of the icon. For example the shape and size of the icon as well as decorations on the icon remain the same as the preview of the content of the file is presented within the icon. Unlike some existing user interface no new window is generated to present the preview. In some embodiments an initial view of the preview may include an image of a predetermined portion of the file such as the first page of a document a thumbnail of an image a pre selected scene in a video etc. The initial view of the preview may also be referred to as the initial preview.

In some embodiments the preview within the icon is interactive such that presentation of the preview may change in response to user input. Various user interface control are provided based on the file type to allow users to manipulate presentation of the preview in block . In one example where the file is a document a left arrow button and a right arrow button may be provided to allow users to page through the document as if one were flipping through pages in a book sequentially. In another example where the file is a video a play button may be provided to allow users to initiate playing of a preview of the video. Furthermore a stop button may be provided to allow users to stop playing the preview of the video. In another example where the file is an image a zoom button may be provided to allow users to zoom in and or zoom out of a thumbnail of the image presented in the icon. While presenting the preview in response to actuation of the user interface control the format of the icon e.g. size of icon shape of icon color of icon etc. is maintained at block . Furthermore some or all of the decorations on the icon may be maintained during presentation of the preview. For example a foldover at the top right corner of an icon of a document is maintained while users page through a preview of the document within the icon until reaching the last page of the document. When the last page of the document is presented the foldover may be removed to indicate that the last page of the document is being presented. Alternatively a status indicator is provided to inform users of the status of the presentation of the preview. For instance a status bar or a status ring may be provided to indicate the portion of a preview of a video that has been played. Details of some examples of dynamic icons are shown in and A E below.

In some embodiments the dynamic icons created according to the method described above are displayed in GUIs associated with hierarchical file system HFS management application such as the Finder program from Apple Inc. of Cupertino Calif. which operates on the Macintosh operating system. In alternate embodiments the HFS management application may be Windows Explorer which operates on Microsoft s Windows operating system. For example a GUI associated with a HFS management application may include a window displaying dynamic icons to represent files inside a directory. Users of the GUI may readily preview the content of a file within a respective dynamic icon without opening another window or viewing panel. Alternatively the dynamic icons are displayed in GUIs associated with a file searching application such as the Spotlight program from Apple Inc. of Cupertino Calif. For example files resulted from a search by the file searching application may be represented by dynamic icons displayed in a search result window. As such users of the file searching application may readily preview the content of the files inside their respective dynamic icons without opening another window or viewing panel within the same window.

In some embodiments the preview is provided in the metadata of the file. As mentioned above the metadata of the file may include a field which includes an indicator of whether a preview of the content of the file is available. Furthermore the field may include an indicator of whether the preview if available is interactive. If an interactive preview of the content of the file is available according to these indicators a client application may turn a thumbnail into a live preview of the content. illustrates one embodiment of a call diagram to change a thumbnail of a file to live preview. Specifically illustrates the interaction between a client application on the left of a daemon in the middle of and a plug in on the right of . Some examples of the client application include a HFS management application and a file searching application. The daemon may include a GUI creating daemon such as Quick Look daemon which operates on the Macintosh operating system. The plug in is associated with an application that has created the file hereinafter referred to as the creator application . Note that there may be multiple plug ins available in the operating system each plug in associated with a distinct application usable to create files e.g. word processing application video editing application etc. .

Initially the client application interrogates the daemon which is a process running in the background for icon data of an icon representing a file . In response to the interrogation the daemon sends a request for the icon data to the plug in . In response to the request the plug in returns the icon data to the daemon . The icon data includes decorations to be put onto the icon and image metadata indicative of whether a preview of the content of the file is available. The daemon then forwards the icon data to the client application . Using the icon data the client application may generate the decorations to put onto the icon and determine if a preview of the content of the file is available. If the preview is available the client application may present the preview in the icon and provide appropriate user interface control to allow users to manipulate the preview. As such the thumbnail of the file may be turned into a dynamic icon if the metadata of the file indicates that the preview is available. Details of some embodiments of generating dynamic icons have been described above with reference to .

In some embodiments the preview presented within the icon includes an interactive preview. Various user interface control may be provided to allow users to manipulate presentation of the preview. The icon generated is displayed on a GUI associated with a client application such as the client application in . The user interface control may be displayed within the icon and or outside of the icon on the GUI. In one example where the file is a document a left arrow and a right arrow may be provided to allow users to page through the document. Alternatively a scroll bar may be provided to allow users to scroll up and down the document. In another example where the file is a video a play button may be provided to allow users to initiate playing a preview of the video which may include all or part of the video within the icon. Furthermore a stop button may be provided to allow users to stop playing the video. In another example where the file is an image a preview of the image may include a thumbnail of the image and a zoom button may be provided to allow users to zoom in and zoom out of the thumbnail of the image.

Various different examples of dynamic icons discussed above are provided herein. It will be understood that some features from certain embodiments may be mixed with other embodiments such that hybrid embodiments may result from these combinations. It will be appreciated that certain features may be removed from each of these embodiments and still provide adequate functionality in many instances.

Upon detection of a cursor moving across the dynamic icon a left arrow and a right arrow are generated and displayed on the dynamic icon as shown in . The cursor may be moved across the dynamic icon in response to actuation of a user input device such as a mouse a joystick arrow buttons in a keyboard etc. Because the icon is currently displaying the first page of the document the right arrow is activated but not the left arrow . In response to the cursor actuating the right button the dynamic icon displays the second page of the document instead of the first page as shown in . Furthermore the left arrow is activated to allow the user to turn back to the first page of the document if desired.

As shown in the user may turn to the next page i.e. the third page of the document by actuating the right arrow again. Because the third page is the last page of the document the right arrow is deactivated while the left arrow remains activated. Thus the user may turn back to the previous page i.e. the second page by actuating the left arrow . Furthermore the foldover is removed from the dynamic icon to indicate that the dynamic icon is displaying the last page of the document. However the spiral book spine is maintained on the dynamic icon .

As shown in the user may readily page through the document within the dynamic icon without opening the document. Furthermore the format of the dynamic icon remains unchanged throughout the preview and the decorations such as the foldover and the spiral book spine on the dynamic icon may be maintained or removed to enhance the presentation of the preview in response to user input.

Upon detection of a cursor moving across the dynamic icon a play button is generated and displayed within the dynamic icon as shown in . A user may actuate the play button to initiate playing of a preview of the video within the dynamic icon . The preview of the video may include all or part of the video. While the video is playing a stop button may be generated and displayed within the dynamic icon as shown in . The user may actuate the stop button to stop playing the preview within the dynamic icon . Thus the user may manipulate or control the presentation of the preview of the video using the play button and the stop button .

In some embodiments the dynamic icon may further provide a status indicator as shown in . In the current example the status indicator is a ring enclosing the stop button to indicate the portion of the video that has been played in the preview. Specifically the portion of the video played is represented by the shaded portion of the ring . As the preview of the video is being played the portion of the shading in the ring extends in clockwise direction as shown in . When the entire preview has been played the entire ring may be shaded.

Another aspect of the present inventions relates to icon badging. Badges associated with icons allow third parties that provide creator applications of files to provide more information in addition to file types to icon generating software. For example third parties may indicate in badge data which version of creator applications are used to create the files and hence the icon generating software may generate and display an appropriate badge on icons representing the files. shows one embodiment of a method to badge icons. In block an application receives icon data of a file from a plug in associated with a creator application of the file. The application may include a user interface generator e.g. Quick Look application from Apple Inc. of Cupertino Calif. to generate a user interface for displaying icons of files for another application such as Finder application from Apple Inc. of Cupertino Calif. Spotlight application from Apple Inc. Window Explorer program from Microsoft Corp. of Redmond Wash. etc. The icon data includes file type information badge data of the file and an image associated with the file e.g. a thumbnail a pre selected scene of a video a pre selected page of a document etc. . The icon data may be provided as part of the metadata of the file.

In block decorations for the icon are selected based on the file type. This may also be referred to as type conformance. For example if a file is recognized as a presentation e.g. Powerpoint files from Microsoft Corp. of Redmond Wash. Keynote files from Apple Inc. of Cupertino Calif. etc. according to the file type information then a slide decoration is provided to the icon of the file. In another example if a file is recognized as a document e.g. MSWord files from Microsoft Corp. of Redmond Wash. Pages files from Apple Inc. of Cupertino Calif. etc. according to the file type information then a binder decoration is provided to the icon of the file.

In addition to the file type the badge data in the icon data provides more information on the file the creator application and or a third party vendor providing the creator application. Via badge data the third party vendor may provide more hints on the file in addition to the file type. For example the badge data may indicate the identity of the third party vendor a version of the creator application etc. Using the badge data a badge is generated in block . The badge may include graphics text or a combination of both to represent the third party the creator application and or other hints provided in the badge data. A badge that includes only graphics is referred to as an image badge. A badge that includes only text is referred to as a text badge.

In block an icon of the file is generated. Then the image the badge and the decorations selected above are displayed on the icon. Via the image the icon may provide users with an initial preview of the file. Via the decorations the icon may indicate the file type to users. Via the badge the icon may convey additional hints about the file to users. Note that all of the above information on the file may be conveyed to users by a display of the icon without user intervention. Users do not have to request the above information and there is no need to open another window or viewing panel to display the above information.

Using badges the third party vendor may ensure icons of files created by its applications are badged in similar way. Thus badges allow the third party vendor to provide a substantially uniform look and feel for icons of files created by the third party s applications.

According to another aspect of the present invention a folder containing only files created by applications from a single third party may be badged as well. As such users may easily determine the content of the folder without opening the folder. shows one embodiment of a method to badge a folder. The method may begin in block in which an icon representing a folder is created. In block it is determined if all files within the folder are created by applications from the same third party vendor such as Apple Inc. of Cupertino Calif. Microsoft Corp. of Redmond Wash. etc. If not all files within the folder are created by applications from the same vendor then the icon of the folder is not badged. The icon of the folder is displayed without any badges in block .

If all files within the folder are created by the same application or applications from the same third party vendor then the icon of the folder is badged accordingly. In block a badge indicative of the vendor is created. The badge may include graphics text or a combination of both. For example if all files within the folder are created by applications from Apple Inc. of Cupertino Calif. then a badge including the graphic logo representing Apple Inc. may be created. In block the badge created is displayed on the icon of the folder. Decorations of the folder may also be displayed on the icon of the folder with the badge. Some exemplary embodiments of badged icons are illustrated in .

Referring to one embodiment of an image badge on an exemplary icon is shown. The icon represents a file created by Xcode from Apple Inc. of Cupertino Calif. An image badge having a graphic image displaying the logo of Xcode is displayed on the icon to indicate to users that the creator application of the file represented by the icon is Xcode. The icon further includes an image of a portion of the content of the file to provide a preview of the content to users. Alternatively the icon may include an interactive preview to allow users to page or scroll through the content of the file. Details of some embodiments of interactive preview in icons have been discussed above. Furthermore a foldover is chosen as a decoration for the icon based on the file type. As shown in the foldover is displayed at the top right corner of the icon . Other decorations may be chosen based on the file type in alternate embodiments.

As described above these previews or thumbnails may be shown by a set of software routines such as a set of plug ins which are separate from a file management software program such as Finder or Windows Explorer. This separation between the plug ins which renders the content and Finder or other file management software provides security and stability because for example if the plug in crashes Finder may not. These plug ins may be a standard set of plug ins that translate the native format of an item being previewed into one of a standard data file type such as PDF text HTML JPG a standard movie format or a standard sound music format or into fully rendered content e.g. a bitmap . The set of plug ins may be an extensible set of plug ins and may interact with the file management software such as Finder or Windows Explorer through a set of APIs in which the file management software makes a call to a plug in management daemon which receives the call or API from the file management software or other software program and which in turn asks for the file type e.g. UTI from a file system kernel and matches one of the plug ins in the standard set of plug ins which may be extensible with the file type and which then calls the matched plug in to cause the plug in to load and return the content of the file either in an immediately displayable form or in a standard format as a preview to the file management software which in turn causes the preview to be displayed in for example an icon representing the file and or the cover flow view. This may occur in response to merely browsing the files through the use of the file management software such as Finder or through the use of a search software program such as Spotlight to find files and then display previews or thumbnails of files retrieved by the search. As noted above the preview or thumbnail may be generated dynamically upon request rather than when the item or file is stored or created by the application. This dynamic generation may be through an API. It will be understood that a dynamic generation of a preview or thumbnail may be provided without invoking or launching the application which created the file or document. Examples of software architectures to dynamically generate previews are discussed in conjunction with below.

In addition to a file management software program or a search software program such as Spotlight other software application programs may provide or use application programming interfaces API to request the preview generator or preview daemon to provide a preview or thumbnail of the content of a file within their windows. For example an email program or a calendar program or a video conferencing application or an instant messaging application program or other application programs may also make a call to the preview generator or preview generator daemon to provide the content of a particular file in the manner described herein. In response to the call through an API from the email program or the calendar program or other program the preview generator or preview generator daemon asks the file system for the file type and matches the file type with a plug in having an ability to process that file type and causes that plug in to be loaded for example by calling the plug in through another optional API . The plug in in turn processes the content of the file to generate the preview or thumbnail and provides that content to the original application which requested the content such as the email program or a calendar program or as noted above a file management software. A preview such as an interactive preview in a dynamic icon e.g. the dynamic icons shown in and or thumbnail may be provided in an inline preview manner in a particular view of a HFS management program such as the cover flow view a list view such as the list view shown in which includes a preview or thumbnail view or in a get information or properties panel or window or in other uses.

In some embodiments an interactive preview may be presented through the following set of software routines while also showing an initial set of previews. For example thumbnails of files may be the initial set of previews shown in a particular view e.g. list view cover flow view icon view and the set of software routines provide an interactive preview within the same view for at least one of these initial previews. The initial previews may also be provided by this set of software routines but these initial previews may not be interactive with the view for example they are not interactive within the view in response to user commands so they will not in response to user commands allow a user to page through or scroll through or browse through the content or to zoom or resize the content or playback the content such as playback the movie. On the other hand the interactive preview is interactive in response to user commands in that it can respond to a user command to page through or scroll through or browse or resize or zoom the document represented by the interactive preview or playback the content either within the particular view e.g. a list view or cover flow view or icon view see e.g. and A E or zoom out from the particular view or be layered over the particular view. Such user interface for showing both initial previews and interactive previews may be used in a list view or icon view such as a list view or icon view of files or folders from a search result or a list view or icon view of files and folders from within a file management software window e.g. a Finder window .

In some embodiments all modules in the above software architecture are implemented and executed on a single individual computing machine such as a personal computer. Alternatively the above software architecture may be implemented in a distributed manner such as in a client server system. illustrates one embodiment of a system in which embodiments of the present invention may be implemented. The system includes a server and a number of client machines . The client machines are communicably coupled to the server via a network . A preview generator such as the preview generator in is provided on the server for access by the client machines . In some embodiments multiple distinct instances of the preview generator are provided for multiple distinct client machines. In response to requests from the client machines each instance of the preview generator may send a preview of the requested files from the server to the respective client machines . In some embodiments icons representing the files are cached on the server for use by the various instances of the preview generator. By providing the preview generator on the server it is not necessary for the client machines to have the relevant applications in order to present the preview.

In the foregoing specification the invention has been described with reference to specific exemplary embodiments thereof. It will be evident that various modifications may be made thereto without departing from the broader spirit and scope of the invention as set forth in the following claims. The specification and drawings are accordingly to be regarded in an illustrative sense rather than a restrictive sense.

