---

title: Processing apparatus and processing method for a digital television
abstract: A processing method and a processing apparatus for a digital television are provided. A processing apparatus for a digital television (DTV) to process a DTV stream, comprising: a demultiplexing unit for retrieving a service information from the DTV stream; a memory coupled to the demultiplexing unit for storing the service information; a first processor coupled to the memory for assigning a task by sending a command according to the service information; a second processor coupled to the memory for processing the task according the command; a communication unit coupled to the first processor and the second processor, for receiving the command from the first processor and sending the command to the second processor; and at least one function module coupled to the first processor and the second processor, respectively, controlled by the first processor or the second processor, to process the service information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08233531&OS=08233531&RS=08233531
owner: Mstar Semiconductor, Inc.
number: 08233531
owner_city: Chu Pei, Hsinchu Hsien
owner_country: TW
publication_date: 20081029
---
This application claims priority to Taiwan Patent Application No. 096140564 filed on 29 Oct. 2007 the contents of which are incorporated herein by reference in its entirety.

The present invention relates to a dual processor apparatus and a processing method for a digital television DTV .

Digital televisions DTVs are expected to become the focus in the development of the next generation of household information appliances and also an important gateway for accessing the Internet from home.

DTVs which are apparatuses that receive DTV signals are configured to receive audio video data transmitted by a TV station. The audio video data is processed e.g. encoded compressed and etc. digitally in the television station at the central office and then broadcasted multicasted or unicasted to a DTV terminal. When the digital signals are received the DTV terminal decompresses and decodes and then display on a TV screen. Here digital indicates that the TV signals are encoded in a digital manner. Because this can improve the immunity against the interference and bandwidth can be exerted effectively. Industry standards for this kind of digital encoding and decoding for DTV are mainly published by ITU T and ISO IEC standard organization. For example H.261 H.262 and H.263 standards are published by the ITU T. The compression standards published by the ISO SEC are categorized as JPEG JPIG and JPEG2000 for still picture compression MPEG 1 Moving Picture Experts Group and MPEG 2 for moving picture compression and encoding MPEG 4 for multimedia encoding decoding and compression based on audio video media objects MPEG 7 multimedia content description interface and MPEG 21 Multimedia Framework . Furthermore relevant standards also include the H.264 standards proposed by the JVT Organization. Among these standards the MPEG series has become the most popular international standards for multimedia technologies and has exerted a great and far reaching influence on the development of DTVs audio video consumer electronics and multimedia communication industries. With the above digital signal compression technologies it is possible for DTVs to transmit High Definition TV HDTV signals with a much higher definition and audio quality than traditional analog TVs. It is also possible to transmit Enhanced Definition TV EDTV and Standard Definition TV SDTV programs simultaneously in a channel. The DTV service providers may transmit a large amount of information related to TV programs or other services via data bitstreams while broadcasting TV programs. Therefore a DTV system is much better than a traditional analog TV system in terms of audio video performance and compatibility with computer information products.

A typical DTV uses a single Complex Instruction Set Computer CISC processor e.g. a 32 bit MIPS ARM processor with a high computing capacity to process video and audio streams related to DTV signals and also to undertake a large amount of calculations with respect to particular information. Accordingly a complex management and processing mechanism or operating system is needed in a DTV of this structure to assign and manage the software and hardware resources of the DTV as well as to schedule and manage various operations. However the use of a complex management and processing mechanism or operating system will not only increase the need for a stronger DTV hardware and added software and hardware costs but also decrease the processing efficiency and timeliness.

One objective of this invention is to provide a processing apparatus for a digital television DTV . A processing apparatus for a digital television DTV to process a DTV stream comprising a demultiplexing unit for retrieving a service information from the DTV stream a memory coupled to the demultiplexing unit for storing the service information a first processor coupled to the memory for assigning a task by sending a command according to the service information a second processor coupled to the memory for processing the task according the command a communication unit coupled to the first processor and the second processor for receiving the command from the first processor and sending the command to the second processor and at least one function module coupled to the first processor and the second processor respectively controlled by the first processor or the second processor to process the service information.

Another objective of this invention is to provide a processing method for a DTV. A processing method for a DTV having a first processor a second processor and a communication unit to process a DTV stream the method comprising the following steps of retrieving and storing a service information from the DTV stream assigning a task according to the service information and sending a command to the communication by the first processor receiving the command and sending it to the second processor by the communication unit and processing the task by the second processor.

A further objective of this invention is to provide a processing method for a DTV. A processing method for a DTV having a first processor a second processor and a communication unit to decompress vector font data the method comprising the following steps of receiving a service information for decompressing the vector font data loading vector font data and sending a command to the communication unit by the first processor receiving the command and sending it to the second processor by the communication unit and accessing the vector font data and decompressing the vector font data by the second processor.

By accomplishing the above objectives this invention is capable of using at least two processors for processing or decoding a DTV rather than using only one CISC processor for processing like those in conventional DTVs. Therefore DTV processing can be accomplished by using different processors in combination for example an 8 bit 8051 microprocessor in combination with a 32 bit MIPS ARM processor.

The detailed technology and preferred embodiments implemented for the subject invention are described in the following paragraphs accompanying the appended drawings for people skilled in this field to well appreciate the features of the claimed invention.

The system structure of a digital television DTV processing apparatus according to this invention is depicted in . The DTV processing apparatus comprises a tuner a demodulator and a processing apparatus for processing the DTV data stream. The processing apparatus receives DTV broadcasting signals . The DTV broadcasting signals may comply with the Digital Video Broadcasting Terrestrial DVB T standard the Digital Video Broadcasting Satellite DVB S standard or the Digital Video Broadcasting Cable DVB C standard established by the Digital Video Broadcasting DVB Organization the Digital Television Standard established by the Advanced Television System Committee ATSC or relevant DTV standards established by other standardization organizations. When processed by the demodulator the DTV broadcasting signals are be transferred to a DTV data stream which is then received and processed by the processing apparatus .

The processing apparatus comprises a demultiplexing unit a memory a first processor a second processor a communication unit and a plurality of function modules such as an image processing module and an audio processing module . The demultiplexing unit further comprises a demultiplexer and a service information processor . The demultiplexer is configured to receive the DTV data stream and process it into a video stream an audio stream and at least one data stream . After receiving the data stream the service information processor retrieves from the data stream at least one piece of DTV service information for example information related to DTV services such as an electronic program guide EPG subtitles and MHEG 5 information. The DTV service information is then stored into the memory .

The first processor and the second processor exchange information via the memory and the communication unit and both are able to control a plurality of function modules such as the image processing module and the audio processing module . In the preferred embodiment the first processor may be a processor with a low processing capacity for example but not limited to a 8 bit processor which is primarily intended to process the information related to on screen display OSD manage system resources and task assignment and retrieve DTV service information. Moreover the first processor can receive a user control command to control the demultiplexing unit to receive DTV data streams and retrieve the service information . On the other hand the second processor may be a processor with a high processing capacity for example but not limited to a 32 bit processor which is primarily intended to process the information in the DTV data stream that necessitates complex computations for example MEHG 5 and JAVA multimedia information. When receiving a message to process such information involving complex computations the first processor calls the second processor via the communication unit to access the information from the memory and process it. The second processor may also be provided with an ability to control the demultiplexing unit . On the other hand if the information processed by the second processor needs to be responded to the first processor or processed furthermore by the first processor the second processor calls the first processor via the communication unit . And the second processor stores the processed information into the memory . The communication unit which is an interrupting processing unit an information register or a combination thereof is configured to transmit commands between the first processor and the second processor . In the preferred embodiment an interrupting processing unit of the communication unit may provide bi directional interrupting commands. The message register comprises two groups of 16 byte registers one is used by the first processor to call the second processor while the other is used by the second processor to call the first processor. A data format of the register is shown in . Byte to Byte are used to label different kinds of calling messages such as the processing of the vector font and also processing the MHEG 5 information or the like. Byte is used to indicate the content length of the calling message Byte to Byte are used for the content of the calling information while the Byte to Byte are used as status bytes to record the current processing status. When the first processor needs to send a calling message or a command to the second processor the content of the calling message is filled into the register and sends an interrupting command via the interrupting unit to call the second processor . When the interrupting command is received the second processor reads the register and operates according to the content stored therein.

The operation of a DTV as well as the communications and division of work between the first processor and the second processor will now be further described with reference to two methods for processing particular DTV information. When information to be processed is vector font information the first processor calls the second processor via the communication unit to access the vector font information stored in the memory . Subsequently the second processor decompresses the vector font information into bitmap information and then calls the first processor via the communication unit to inform the processing result of the vector font information.

Alternatively when the processed information is an MHEG 5 Multimedia and Hypermedia Experts Group 5 message the first processor calls the second processor via the communication unit to process this MHEG 5 message. Then the second processor gains control of the demultiplexing unit analyzes the MHEG 5 message and retrieves the IFrame data therefrom to be stored into the memory . Subsequently the second processor calls the first processor directly or via the communication unit to control the image processing module to access the IFrame data from the memory and decompress the IFrame data into the picture data.

Furthermore the first processor and the second processor can further control the function modules e.g. the image processing module and the audio processing module to process particular information such as the video stream and the audio stream described above. The function modules of the processing apparatus usually have a programmable control unit i.e. an image processing controller and an audio processing controller and a particular function processing unit i.e. an image decoder and an audio decoder . The programmable control unit has a control program not shown stored therein which can be reprogrammed according to the DTV standards of different countries to enhance its expandability and fault tolerance. More specifically by using the programmable control unit and the particular function processing unit in combination the processing apparatus can process the various particular information of the DTV data stream more promptly.

In particular according to the video control command transmitted by the first processor or the second processor and a control program stored in the image processing controller the image processing controller can control the image decoder to decode the video stream or other image information for example an MEHG 5 IFrame.

Likewise according to the audio control command transmitted by the first processor or the second processor and a control program stored in the audio processing controller the audio processing controller can control the audio decoder to decode the audio stream or other audio information.

This invention further provides a processing method for a DTV which is applicable to the processing apparatus described above.

In more detail the processing method for a DTV is implemented by an application controlling the various modules of the processing apparatus and a corresponding flow diagram thereof is depicted in .

Initially in step the DTV service information is received. Then in step the type of DTV service information is checked by a first processor . Finally in step the DTV service information is processed by a first processor and or a second processor directly controlling the function module.

To illustrate this invention more clearly a further description will now be made with reference to the two kinds of exemplary particular DTV information. This invention provides a processing method for a DTV vector font which is applicable to the processing apparatus described above. A corresponding flow diagram of this processing method is depicted in .

Initially in step service information for processing the vector font information is received by the first processor while vector font information is loaded into a memory . Then in step the vector font data is read by the first processor that calls the second processor through the communication unit . Next in step the vector font is read from the memory by the second processor which calls the first processor once the reading process is completed. Subsequently in step the first processor calls the second processor to decompressed the vector font data through the communication unit . Finally in step the vector font data is decompressed into Bitmap information by the second processor .

This invention further provides another processing method for a DTV which is applicable to the processing apparatus described above. A corresponding flow diagram of this processing method is depicted in .

Initially in step a DTV data stream is received. Then in step the DTV data stream is detected by a first processor to determine if an MHEG 5 message is incoming. Subsequently the MHEG 5 message is processed by the first processor calling a second processor in step . Next in step the MHEG 5 message is processed to retrieve IFrame data by the second processor . Then in step the IFrame data is stored in the memory . Finally in step the IFrame data is decompressed into picture data by an image processing module under control of the second processor or the first processor .

It follows from the above description that this invention uses at least two processors to process or decode DTV data streams. That is the DTV data streams are processed by a combination of different processors for example an 8 bit 8051 microprocessor in combination with a 32 bit processor. In a structure where a plurality of processors cooperates to process the information can decrease the complexity in software and hardware of a DTV thus increasing the processing efficiency and timeliness thereof. Furthermore this may also prevent additional costs and time required to develop a CISC processor applicable to a DTV.

The above disclosure is related to the detailed technical contents and inventive features thereof. People skilled in this field may proceed with a variety of modifications and replacements based on the disclosures and suggestions of the invention as described without departing from the characteristics thereof. Nevertheless although such modifications and replacements are not fully disclosed in the above descriptions they have substantially been covered in the following claims as appended.

