---

title: Method for media fingerprinting
abstract: A method of checking whether a content aggregator's content matches a content owner's content involves generating a fingerprint of the content and looking for a matching fingerprint from the content owner through a service provided by the content owner. In one aspect, the fingerprints are generated from an intermediate digest of the content instead of the original form.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08752185&OS=08752185&RS=08752185
owner: Yahoo! Inc.
number: 08752185
owner_city: Sunnyvale
owner_country: US
publication_date: 20080501
---
Aspects of the present invention relate generally to the detection of unauthorized content residing on content aggregators systems.

As technology improves the creation and modification of content is becoming more common and content aggregators are constantly struggling to ensure that the content they are receiving and providing is free from various intellectual property concerns e.g. copyright etc. . Currently the majority of the proposed and practiced solutions to this problem generally involve the content owner handing its content over in its entirety to the content aggregator so that the aggregator can compare it in some automated fashion to other content they are already offering. As will be appreciated the content owners are generally reluctant to send their original and pristine content to the content aggregators i.e. they would like to maintain as much control over the content as possible .

Of the methods that do not require content owners to upload their original content to the content aggregators for analysis it is generally required that they create multiple fingerprints or something similar each according to a process outlined by one of the content aggregators indeed a content owner may be required to create as many fingerprints as there are content aggregators that they want to have check their content. The content owners are then generally required to send these fingerprints to the content aggregators so that they may check them against the content they have received from end users.

Thus it would be desirable to define a method that does not require the content owners to send their content original or otherwise to the content aggregators or to at least minimize the number of fingerprints or something similar the content owners must create for each of their original media objects.

In light of the foregoing it is a general object of the present invention to enable content aggregators to check various content owner databases to determine whether they are delivering content they do not have permission to share and in a way that does not require the content owners to send their content to the content aggregators. It also is a general object of the present invention to minimize the number of transformations a content owner needs to make of its content before it can be checked against various content aggregators content.

Detailed descriptions of one or more embodiments of the invention follow examples of which may be graphically illustrated in the drawings. Each example and embodiment is provided by way of explanation of the invention and is not meant as a limitation of the invention. For example features described as part of one embodiment may be utilized with another embodiment to yield still a further embodiment. It is intended that the present invention include these and other modifications and variations.

Aspects of the present invention are described below in the context of detecting unauthorized content being sent to content aggregators without requiring the content owners to send their original content to the content aggregators for analysis.

Throughout this disclosure reference is made to content which is used to denote various forms of media which generally are uploaded by end users to content aggregators as described below . Such media may include audio video images and any combination thereof.

Throughout this disclosure reference is made to content aggregator which is used to denote a site or service that provides user uploaded content for consumption by other users of the site service. Examples of content aggregators include Yahoo Video YouTube etc. but they need not be limited to such large scale operations and can indeed be sites that provide mainly services other than video sharing such as for example a web hosting company that allows its users to embed media in their blogs or otherwise make such content available for download .

Throughout this disclosure reference is made to content owner which is used to denote the legal owner of the content being disseminated by the content aggregator e.g. a movie studio that owns the intellectual property rights in its latest movie .

Keeping in mind the goal of not requiring the content owners to provide their content in its complete or usual form to various content aggregators it still must be made available in some form so that it may still be checked against the content the content aggregators are making available to end users.

As is known in the art such a format may comprise a description of the content also known as a fingerprint. Currently there exist many different fingerprinting approaches each with its own advantages and disadvantages. Generally the fingerprint representation should be robust and immune to basic transformations that are inherent in the communications and or editing paths to this end information important to the content s signal and its recognition by users e.g. peaks edges etc. should usually be captured by the fingerprint. Though some examples are given below it will be appreciated that there are myriad and often very different ways of generating a fingerprint for various types of media and that the way in which this is done is not critical to the invention.

For example and in the context of an audio stream e.g. MP3 WAV etc. one approach is to compute a spectrogram of the audio signal which is a two dimensional representation of sound that displays energy as a function of time and frequency. From the spectrogram all of the local peaks which usually carry much of the useful information can be found and these peaks will form a constellation of significant points in the audio signal such that if they were taken out of the audio signal the resulting signal likely would not be perceived by human ears the same way as the original audio signal.

In the context of video fingerprinting color histograms may be used to generate a fingerprint of the video. A color histogram generally counts the number of pixels in an image regardless of their position that belong to one of a set of various color bins e.g. a mostly red bin a mostly green bin and a mostly blue bin etc. . With this information a fingerprint may be generated by looking at the histogram as a function of time.

Irrespective of the algorithm used to create the fingerprint from the original content the problem remains that content owners must run multiple different algorithms on their content and then send the resulting fingerprints to the various content aggregators. To ease the effort required by content owners a system is defined here such that content owners store the fingerprint and associated information as described below on their end but make it available to the various content aggregators who wish to check their content against it. In such a system the content aggregators either upon receiving new content or at regular intervals may check the various content owners content repositories e.g. databases etc. to see if the fingerprints they have generated match any of the fingerprints available from the content owners.

It will be appreciated that the fingerprint s and associated information can be stored and made available by the content owners in a variety of different ways. For example a content owner may offer a web service for interacting with it generally the web service may comprise an Application Programming Interface API through which the content aggregators and content owners may talk to each other and exchange information. The operation and purpose of web APIs are well known in the art. Briefly however and much like any API a web API is an interface to some service e.g. a database containing the content owners fingerprint information running on a remote system and accessed over a network. Various sometimes overlapping methods and protocols exist for implementing web APIs such as for example Simple Object Access Protocol SOAP Representative State Transfer REST XML RPC etc. and most use variations of Extensible Modeling Language XML data formats for messaging i.e. transferring data between the web service and the local application .

To flesh out the web services example consider an eXtensible Markup Language XML file which may be retrieved by the content aggregators through a web service provided by the content owner. The file may contain the fingerprint itself and various associated information fingerprint data such as for example the title of the content the content owner s name the owner s contact information information describing the fingerprint and how it was created e.g. which of the content aggregators algorithms was used to create it etc.

For example if an algorithm used by the content owner to create the fingerprint is defined by a particular content aggregator then the fingerprint data may include information pertaining to that content aggregator and the algorithm used e.g. Yahoo Video video fingerprint algorithm v3.1 . If a content owner uses its own fingerprint algorithm or an intermediate digest which can be thought of as an overly detailed fingerprint as detailed below then the fingerprint data may be more informative and may include specific information regarding the content owner s method for generating the fingerprint or the intermediate digest and how the content aggregators may implement the method to check their content against the published information e.g. the content owner may make available an executable program that the content aggregators can use to generate an intermediate digest etc. .

It may be the case that a content aggregator can convert one fingerprint to another. For example if content aggregator A searches a particular content owner s content repository and sees that the content owner provides a fingerprint that was generated using content aggregator B s fingerprint algorithm content aggregator A may be able to translate its generated fingerprint into a fingerprint that accords with one that was originally generated using content aggregator B s fingerprint algorithm. Such a conversion is predicated on among other things content aggregator B s fingerprint algorithm being made available to content aggregator A and the domains being amenable to conversion i.e. the fingerprint algorithms may be so different as to make conversion impossible .

Consider an example conversion where one fingerprint algorithm looks at areas of high transition while another looks at the peaks in the representation e.g. spectrograms interest points etc. . The fingerprints generated by such algorithms can be transformed between each other by first reconstructing the original waveform and then calculating the other representation from the reconstructed waveform. Accordingly the points of high transition can be thought of as zero crossing data and the peaks in the representation as the location of the waveform when the first derivative goes through zero and as is known in the art there exist algorithms for reconstructing a band limited waveform from zero crossing data. Such algorithms are generally iterative and assume that the data is band limited the assumption is valid because the creation of an image implies a band limited sampling operation and furthermore the spectral decomposition needed for image and audio analysis provides a second band limiting operation.

It will be appreciated that the file s or other storage mechanism containing the fingerprint and associated data may contain such information for more than one content aggregator algorithm. For example if the content owner wishes to have Yahoo Video and YouTube check their content for possible illegal content then in the case of the XML file example the file may contain two fingerprint elements one describing the fingerprint created using the Yahoo Video algorithm and one describing the fingerprint created using the YouTube algorithm. In such a case when either Yahoo Video or YouTube receives a new video the associated fingerprint generated by the particular content aggregator or some other identifying information such as for example the title of the content as uploaded may be searched for in the various content owner databases.

The way in which the content aggregator searches for its content on content owners systems depends on the services provided by the individual content owners the information the content aggregator currently has regarding the content it wishes to check the way in which the content owners store and make available information regarding the content they own etc. and it will be appreciated that such constraints are not critical to the invention. For example if an end user uploads new content to a content aggregator and gives it a title it may make sense for the aggregator to first search the various content owner databases by the title before running a search on the fingerprint it generates from the content to see if a content owner claims to own content with that title and if so whether there is a fingerprint available that was created using the fingerprint algorithm provided used by the content aggregator. However it may be that a particular content owner tells the content aggregator that searching by title alone is insufficient because it may feel that this sort of check is easily circumvented by the end user simply giving the content a false title in which case the content aggregator may be forced to use the generated fingerprint as an index into the database.

As discussed there are currently myriad vendor technologies available to generate the fingerprints and these are generally closed and proprietary to a single content aggregator especially where the content aggregator requires the content owners to send their original and pristine content to it. However even when they are not entirely closed e.g. if a content aggregator adopted the method outlined above it obviously must share its fingerprint algorithm s with the content owners each content owner still must produce multiple fingerprints of its content. Moreover such a simple fingerprinting scheme can lock both content aggregators and content owners to a single fingerprint vendor thereby making switching costs very high.

In another aspect of the invention an intermediate form a summary or digest of the content may be provided by the content owners and used by the content aggregators to build fingerprints of the content using their own proprietary fingerprint algorithms . Such a scheme obviates the need for content owners to create multiple fingerprints of their content i.e. one for each content aggregator while still allowing content owners to keep in their possession the original pristine versions of their content.

Using this approach a content owner obfuscates its content in a way that makes it impossible to regain what has been lost i.e. the original and pristine content can not be built from the obfuscated version and then makes the obfuscated version available to the content aggregators along with instructions on how they can transform their content in a similar manner. With these two pieces of information content aggregators can determine using fingerprints generated from their own algorithms i.e. running their fingerprint algorithms on both the transformed content provided by the content owners and their own content as transformed per the content owner s instructions whether the content they possess is not theirs to distribute and share.

It will be appreciated that the manner in which the original content is obfuscated is not critical to the invention and that each approach has its advantages and disadvantages. For example with video the pixel existing at a particular position in the video stream may be saved for each frame of video i.e. the bulk of the video is disregarded such a scheme satisfies the constraint that the intermediate digest be unusable to an end user i.e. no end user could get anything meaningful from a single pixel video . However a disadvantage to this method is that it may be circumvented by simply modifying the particular pixel in some manner e.g. setting it to black etc. which would alter any resultant fingerprint and thus frustrate any attempt to match it to other fingerprints.

Another example is to encrypt the content with a one way hash which generally requires both primes to invert it. In such a scenario the content owners may put the content through the one way hash and then require content aggregators to do the same using the public prime in a public key encryption technique . However this approach also has a disadvantage in that relatively small changes to the content will dramatically change the hash function and ultimately render the fingerprint distinct i.e. it will not match . Another disadvantage of the hash technique is that it turns the content into something that is generally unrecognizable and useless to some fingerprint algorithms such as for example the color histogram method detailed above.

In light of the above examples of intermediate digests it will be appreciated that a robust intermediate digest generally will contain a mixture of the original content but obfuscated in a way that no person would be able to consume it. As is known there are numerous ways of doing this including for example combining temporal and spatial sampling. In the context of video an option may be to publish an intermediate digest that contains one frame of video for every second of video generally 24 30 frames in the original media. Similarly with audio an intermediate digest may contain a 50 millisecond audio clip for every second of audio. The content contained in both of these intermediate digests audio and video is crucial to the experience of the original content yet does not give away so much of the content as to allow someone to recreate the original each of these intermediate digests accounts for roughly 1 25of the original content .

The sequence and numbering of blocks depicted in is not intended to imply an order of operations to the exclusion of other possibilities. Those of skill in the art will appreciate that the foregoing systems and methods are susceptible of various modifications and alterations.

Several features and aspects of the present invention have been illustrated and described in detail with reference to particular embodiments by way of example only and not by way of limitation. Those of skill in the art will appreciate that alternative implementations and various modifications to the disclosed embodiments are within the scope and contemplation of the present disclosure. Therefore it is intended that the invention be considered as limited only by the scope of the appended claims.

