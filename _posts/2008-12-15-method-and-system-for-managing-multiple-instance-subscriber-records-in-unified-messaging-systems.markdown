---

title: Method and system for managing multiple instance subscriber records in unified messaging systems
abstract: A method and system for automatically managing changes to organizational data in a unified messaging (UM) platform are disclosed. A database snapshot is retrieved from a client human resources database. Added user information associated with a user is detected in the database snapshot, and an existing mailbox associated with the user in the UM platform is detected. Organizational data in the UM platform is automatically modified to combine the added user information and the existing mailbox in the UM platform. When the existing mailbox is detected in the UM platform for the user, it is possible for the UM platform to automatically compose and send a message to at least one user associated with the added user information including potential modifications of the organization data. The organizational data in the UM platform can then be modified in response to receiving approval of the potential modifications of the organizational data from at least one user associated with the added user information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08260745&OS=08260745&RS=08260745
owner: AT&T Intellectual Property I, L.P.
number: 08260745
owner_city: Atlanta
owner_country: US
publication_date: 20081215
---
The present invention relates generally to provisioning organizational definitions and more particularly to provisioning organizational definitions in a unified messaging platform environment.

Unified messaging is the integration of multiple typically two or more types of communication e.g. email voicemail short message service SMS fax etc. into a single unified message store e.g. a unified messaging platform accessible from a variety of user devices. Unified messaging is typically provided by a service provider which may be the same service provider that provides telephone service. In order for a service provider to provide unified messaging service to an organization of subscribers also called users which may be employees of a client organization the unified messaging platform must be configured with organizational data regarding related groups in the client organization s organizational structure. Each client can be assigned his her own unified messaging mailbox.

Conventionally provisioning of business groups of a subscriber into the unified messaging platform is done manually using interactive software. Such software allows a client or the service provider to manually define organizational structures for the client organization in order to define mailboxes for individual users and to maintain group hierarchies in the client s organizational structure. Although this approach is effective it requires the manual definitions of a client s organizations and groups into organizational data supported by the unified messaging platform. This can be tedious and error prone. Moreover manually defining such organizational data can take a long time and be operationally expensive particularly for larger businesses and organizations. Accordingly automatic definition of organizational data in a unified messaging platform is desirable.

A subscriber often does not desire to have multiple mailboxes even if his her name may appear in multiple places in the organization. A name may appear in more than one place in an organization s database due to a variety of reasons such as but not limited to temporary acting positions and concurrent assignments in various groups e.g. a temporary international assignment . Furthermore even if desired multiple mailboxes due to multiple instance subscriber records must be managed carefully and often manually. Such manual management is tedious error prone and operationally expensive. Accordingly automatic management of multiple instance subscriber records in a unified messaging platform is desirable.

The present invention provides a method and system for automatically managing multiple instance user records in a unified messaging UM platform environment.

In one embodiment of the present invention a database snapshot is retrieved from a client human resources database. Added user information associated with a user is detected in the database snapshot and an existing mailbox associated with the user in the UM platform is detected. Organizational data in the UM platform is automatically modified to combine the added user information and the existing mailbox in the UM platform. When the existing mailbox is detected in the UM platform for the user it is possible for the UM platform to automatically compose and send a message to at least one user associated with the added user information including potential modifications of the organization data. The organizational data in the UM platform can then be modified in response to receiving approval of the potential modifications of the organizational data from at least one authorized user associated with the added user information.

These and other advantages of the invention will be apparent to those of ordinary skill in the art by reference to the following detailed description and the accompanying drawings.

Embodiments of the present invention are directed to an enhanced unified messaging UM system in which organization data corresponding to an organizational hierarchy of a client is automatically provisioned.

The controller retrieves the organizational hierarchy from the human resources database and creates corresponding organizational data in the UM platform . For example the controller can create Intermediate Logic Nodes ILNs and Communities of Interest COIs corresponding to the organizational hierarchy of the human resources information stored in the human resources database . In the UM platform a COI is group that shares one or more common attributes. For example a group of employees located at a particular geographical branch of a business or a group of employees who report to the same supervisor can be grouped into a COI. An ILN is an organizational designation for which there are one or more COIs. For example an ILN of location can have multiple COIs each COI corresponding to a particular geographical branch of a business. As another example an ILN may be used to represent a branch location and the COIs that are under that ILN may represent various departments in that location. It is to be understood that the organizational structure of a particular organization or business can be organized according to various ILNs and COIs. An advantage of the UM system of is that the controller automatically reflects the organizational structure of information stored in the human resources database in the ILNs and COIs created for the UM platform .

The controller can be implemented as a processor executing software instructions for defining the organizational data. The controller can communicate with the UM platform using a UM application programming interface API . According to an advantageous embodiment the controller can communicate with the UM platform using a previously existing API used for defining organizational data. Accordingly the controller can be seamlessly integrated into UM platforms already in use. The controller can communicate with the human resources database using an API e.g. abstracted LDAP or SQL based associated with the human resources database . According to a possible implementation the controller can be pre designed to interface with the most common types of human resources databases such as SAP PeopleSoft Intuit Payroll solutions etc. According to another possible implementation the controller may be custom designed for any other types of human resources database used by a particular client.

The UM platform includes multiple UM mailboxes located at one or more messaging centers MCs . The UM interface includes one or more server or server like devices that can be implemented as computers such as the computer discussed below with respect to . The MCs can be provided at various geographic locations. Each user of the UM platform is assigned a mailbox. Mailboxes assigned to users grouped within a COI are assigned to the same MC. The UM platform may be coupled to or include the controller and or a UM database . The UM platform stores the organizational data such as the ILNs and the COIs created by the UM controller into the UM database . The UM database and service provider database may be combined and be part of one database and may also be integrated with the UM platform .

When the controller derives the organizational data for the UM platform corresponding to the human resources information in the human resources database the UM platform may automatically provision a mailbox for each user specified in the human resources information. The UM platform assigns mailboxes associated with the users to MCs based on the COIs associated with the users so that the UM mailboxes for all users associated with a COI are assigned to the same MC. In addition to the human resources information retrieved from the human resources database the UM platform can be provided with additional data from a service provider database to influence the assignment of the COIs to various MCs. The service provider database can be coupled to or included in the UM platform or can be maintained by a service provider separately from the UM platform . The service provider database can include information such as geographical locations of users local access and transport area LATA definitions call forwarding number CFN definitions capacity constraints of existing UM MCs etc. The UM platform can utilize this information when assigning mailboxes of users associated with a COI to an MC.

Placements of logical organizational units e.g. COIs at MCs can be adjusted at any time. Illustratively the following parameters can be provided by the UM platform for automatic provisioning 1 NPA NNX tuple and the target MC name for mapping COIs to specific MCs. The mapping of the target MCs may be automatically conditioned on the capacity of available MCs whereby a list of MCs is provided to overcome remaining capacity limitations 2 CFN to MC mappings and 3 Class of Service COS identification. It is to be understood that these parameters are exemplary and other parameters may be provided as well.

The system of can be implemented as a turn key operation with existing UM platforms to achieve virtually instantaneous group definitions and virtually no errors. Furthermore the service provider can access the adaptor and or UM platform in order to fine tune changes or modify group definitions. Programming and or user interface access may also be given to the customer so that the customer can also modify or customize the group definitions.

At step if there is no user associated with the HR entry an ILN corresponding to the entry is generated. If there is no user associated with the entry the entry represents an organizational entity not an individual. An ILN representing the entity is generated and the name is used as the name of the ILN in the UM platform. The ILN may be created in all of the MCs of the UM platform without any associated mailboxes as metadata since mailboxes are associated with COIs . After the ILN is generated the method proceeds to the next HR entry.

At step if there is a user associated with the HR entry the user the HR entry may be associated with a COI node. In particular if a COI node does not yet exist for this organizational level the COI node is created. Other users at the same organizational level may then be assigned to this COI node. If the appropriate COI node already exists the user may be associated with the existing COI node.

At step a target MC is determined for a user mailbox. At step a mailbox may be created for the user at the determined MC. A configured UM input parameter can be used to assign he mailbox to a given MC. For example the UM platform may provide the following data to controller NPA NNX MC name LATA. Accordingly based on the NPA and NNX of the TN associated with the user the controller assigns the user to a particular MC and LATA. If a capacity constraint of a configured MC is above a certain threshold a list of other MCs in the LATA can be provided by the UM platform and another configured MC can be used. This fact and the result of the operation are communicated to the UM platform. The MC name of the MC to which the mailbox is assigned can be used to drive the Call Forwarding Number CFN information for that MC. Accordingly a CFN associated with the mailbox can be determined based on the assigned MC. The mailbox can be created for the user with the primary contact number of the user as the key to the mailbox creation i.e. resulting in a Web Services API call createMailbox TN CFA LATA COS . . . . The user s name is mapped to the subscriber of that mailbox. Alternate device information may be optionally incorporated into the mailbox definition e.g. for UM FMFM service .

As described above the method of generates and provisions organizational data in the UM platform corresponding to an HR entry. The method is repeated for all HR entries in the HR database. Accordingly the graph e.g. tree of HR entries are automatically mapped into ILN and COI nodes in the UM platform by the controller using predefined mappings provided by the UM platform. These template production rules can be customized for each organization. Schemas of HR databases are generally unique to each vendor and maybe different for each business. Hence column names for example may be unique for each business customer while particular column names may or may not be the same as other customers of the same database vendor.

Although enterprise mailboxes in the UM platform can be initially provisioned in bulk mode as described above conventional procedures do not allow for automated auditable and confirmed flow through changes to the UM mailboxes of the assigned users. Embodiments of the present invention provide automatic flow through management of changes to the organization data of the UM platform. In particular embodiments of the present invention manage change in the organizational data of the UM platform in response to changes in the human resources data in a human resources database. For example examples of such changes can include additions suspensions deletions and device changes for users e.g. employees of an enterprise client .

Automatic change management can be implemented using the enhanced UM system of . Returning to the controller which can be coupled to and or part of the UM platform can function as an organizational change management module that manages changes to the operational data of the UM platform that is stored in the UM database . The controller retrieves human resources information from the human resources database and detects changes from previous human resources information. The controller can modify the organizational data of the UM platform in order to reflect the detected changes.

Referring to at step a database snapshot is retrieved from the human resources HR database. As used herein the term database snapshot refers to all or a portion of the information stored in a database at a given time. According to a possible implementation the database snapshot of the HR database may be retrieved at a regular time interval such as nightly. According to another possible implementation the database snapshot may be retrieved on demand in response to an instruction from a user to retrieve the snapshot data. According to yet another possible implementation the database snapshot may be retrieved in response to a trigger in the HR database. In this situation predefined types of changes in the HR database trigger predefined types of changes in the UM organizational data. When a change is made in the HR database an alert is sent to the UM platform. The HR database snapshot is retrieved from the HR database in response receiving the alert.

At step changes in the HR database snapshot from a previous HR database snapshot are detected. The changes in the HR database snapshot are detected by comparing the database snapshot to the previous database snapshot. The comparison may be performed on a whole database e.g. in the case of periodic or on demand executions or only on the changed records e.g. in the case of the UM platform receiving trigger notifications from the HR database regarding specific change records . In an alternate implementation changes can be detected by generating UM organizational data corresponding to the HR database snapshot and comparing this data to previously generated UM organizational data corresponding to the previous HR database snapshot.

At step a message may be automatically composed regarding each detected change. The message is dynamically generated and includes information regarding the detected changes the affected individual user the status associated with the affected user e.g. deleted suspended newly created and proposed or potential changes to the organizational data in the UM platform corresponding to the detected changes.

At step the message is sent to at least one user associated with the detected change. For example the message can be sent to any or all of the affected user a supervisor of the affected user and an assigned customer contact e.g. Human Resources representative . The message can provide a user with the options of accept reject or ignore. According to a possible implementation the message can be sent using out dial Interactive Voice Response IVR . According to another possible implementation the message can be sent as an email with randomized hyperlinks for each action accept reject and ignore . A user receiving the message can accept reject or ignore the proposed changes to the UM organizational data. If the user selects ignore it is possible for that the potential modifications to the UM organizational data be kept in a pending state. It is also possible that ignore is treated as a default acceptance or rejection according to a client preference. It is also possible that the UM platform treats a lack of receipt of a response to such an inquiry as ignore accept or reject as the UM platform may be configured. It is also possible to combine such change notification messages regarding more than one subscriber into each such client message e mail IVR etc. . Each client response may be in the form of a Uniform Resource Locator URL link activation a web based interface and IVR response or any other appropriate method.

At step the organizational data of the UM platform may be automatically modified to reflect the detected changes in the database snapshot in response to receiving approval from at least one authorized user associated with the detected change or by defaulting to such an acceptance state. The organizational data of the UM platform can be modified using UM application programming interfaces API that reflect changes to the records of the HR database. High level examples of customer enterprise HR database changes and associated UM APIs are shown in Table 1 below 

As shown in Table 1 when an employee user is added to the HR database the organizational data in the UM platform is modified by creating mailbox. The employee s telephone number TN his her phone device can be used in the identification of the corresponding mailbox. When a device is no longer in the HR database the device is deleted from the organizational data in the UM platform. When a new device is added to the HR database the device is added to the organizational data of the UM platform. When an employee is deleted from the HR database the corresponding mailbox is deleted from the organizational data in the HR platform. When an employee is suspended the employee s mailbox is disabled in organizational data of the HR platform. It is to be understood that the UM API functions show in Table 1 are exemplary and other existing and or new API functions can also be used to modify the organizational data of the UM platform.

At step a summary of the modifications to the organizational data in the UM platform may be sent to at least one authorized user associated with the changes. For example the summary can be sent to one or more authorized client contacts. The summary can be sent via out dial IVR or as an email or any other appropriate mechanism. The UM platform may also send a message to the affected user about the specific change s to his her mailbox depending on the nature of the change and configuration of the UM system.

As described above in steps in an embodiment of the present invention a message regarding the detected changes is automatically composed and sent and the UM organizational data is modified to reflect the detected changes in response to receiving an approval or after expiration of a time period without receiving an approval. According to another embodiment of the present invention it is possible to automatically modify the organizational data in the UM platform to reflect the detected changes without attempting to obtain user approval. In this case the UM organizational data can be modified without first composing and sending a message regarding the detected changes. The summary of the changes can then be sent to at least one user associated with the changes in order to alert one or more authorized individuals possibly including the user of the modifications made to the UM organizational data.

The above described embodiments of the present invention can be used to automate initial and subsequent provisioning or organizational mailboxes in the UM platform. However these methods can result in multiple mailboxes being created for any user subscriber based on the number of instances that the user s name appears in the client s HR or phone databases. The resulting UM organizational data can assign the user one or more new mailboxes where a user already has mailbox on the UM platform. Further the user can have existing devices e.g. mobile and or office phones each of which is already linked to an existing mailbox. These undesirable scenarios are considered errors from subscribers and clients standpoints.

The above errors can occur when a user exists in different COIs in the UM organizational data. This can happen for example when a user s information appears in different departments in the client enterprise. One example of multiple instances of such data in a client HR DB is when an employee is a manager and his name appears in one or more higher department records e.g. his supervisor s department as well as in the department he manages. Another example is when an employee is on assignment from one department to another e.g. on an international assignment. It is to be understood that multiple instances of user data in the HR DB are not limited to these examples.

There are various deficiencies and problems with regards to multiply created mailboxes for the same user in the UM platform. For example the user is forced to inconveniently use more than one mailbox for each mailbox automatically created to check and retrieve his messages. When a user checks different mailboxes using device numbers the user may not recall or know the associations of devices to mailboxes and may miss some mailboxes or visit some mailboxes multiple times. When the user checks different mailboxes using device numbers the user may incur unnecessary toll charges. A user who uses access numbers would have to inconveniently dial different and multiple UM access numbers e.g. one number for each message center MC if the mailboxes are mapped onto different MCs thereby also possibly incurring unnecessary toll charges. In particular this scenario is likely and troublesome if the user s name appears in different geographic locations e.g. in different branches internationally in the HR DB since different MCs are typically used for geographically separate device TNs such as those for users on international assignments. A user would have to manually remember all of his mailboxes to manually delete the extra mailboxes and migrate their devices to a target selected mailbox. This is often a difficult task for a user is error prone and may require further manual and expensive administrative support.

Manual corrections to the aforementioned problems involve manual deletion of the duplicate mailboxes migration re associations of devices from deleted mailboxes to a single target mailbox and migration of messages from deleted mailboxes to the single target mailbox. If a device has been deleted from one HR record and appeared in another then conventionally a manual procedure would be necessary to migrate that device from one mailbox to another. Such manual procedures are error prone and tedious operationally expensive and not easily tracked for audit or problem determination purposes.

Automatic management of multiple instance user data can be implemented using the enhanced UM system of . Returning to the controller which can be coupled to and or part of the UM platform can function as an organizational change management module that manages changes to the operational data of the UM platform that is stored in the UM database and detects and resolves multiple mailboxes created for a single user. The controller retrieves human resources information from the human resources database and detects additions from previous human resources information. The controller detects when and addition corresponds to an individual with an existing mailbox and modifies the organizational data of the UM platform in order to combine the multiple mailboxes for the user.

Referring to at step a database snapshot is retrieved from the human resources HR database. According to a possible implementation the database snapshot of the HR database may be retrieved at a regular time interval such as nightly. According to another possible implementation the database snapshot may be retrieved on demand in response to an instruction from a user to retrieve the snapshot data. According to yet another possible implementation the database snapshot may be retrieved in response to a trigger in the HR database. In this situation predefined types of changes in the HR database trigger predefined types of changes in the UM organizational data. When a change is made in the HR database an alert is sent to the UM platform. The HR database snapshot is retrieved from the HR database in response receiving the alert.

At step added user information in the database snapshot is detected. Added user information in the HR database snapshot is detected by comparing the database snapshot to the previous database snapshot. The comparison may be performed on a whole database e.g. in the case of periodic or on demand executions or only on the changed records e.g. in the case of the UM platform receiving trigger notifications from the HR database regarding specific change records . In an alternate implementation the added user information can be detected by generating UM organizational data corresponding to the HR database snapshot and comparing this data to previously generated UM organizational data corresponding to the previous HR database snapshot.

At step one or more existing mailboxes may be detected in the UM platform for the user associated with the added user information. When added user information is detected in the database snapshot for a user the existing mailboxes on the UM platform are searched to determine whether an existing mailbox or multiple existing mailboxes exists for the user on the UM platform. According to a possible implementation all of the organizational data associated with the particular client e.g. enterprise or business in the UM platform is searched for existing mailboxes associated with the user. According to another possible implementation the scope of the search may be expanded to include mailboxes outside of the particular client subject to the organizations approval.

At step a message is automatically composed regarding the one or more detected existing mailboxes for the user. The message is dynamically generated and includes information regarding the affected individual user the added user information and the existing mailbox es in the UM platform. If one or more existing mailboxes are detected for the user the existing mailboxes can be listed in the message. For example the message can be an email with HTML application server links back to the UM platform using randomized URLs and each mailbox and device can be designated with HTML selection buttons. For each listed existing mailbox an option is provided in the message to add newly found devices if any associated with the added HR information to any of the existing mailboxes or the single existing mailbox. The message may also include proposed changes to the organizational data in the UM platform such as an automatically generated default association of a new device e.g. TN in the added HR information with an existing mailbox.

At step the message is sent to at least one user associated the added user information. For example the message can be sent to any or all of the affected user a supervisor of the affected user and an assigned customer contact. The message can provide a recipient with the options of accept reject or ignore proposed changes in the message. The message can also allow the recipient to select which of multiple existing mailboxes with which to associate the new device information. According to a possible implementation the message can be sent using out dial Interactive Voice Response IVR . According to another possible implementation the message can be sent as an email with randomized hyperlinks for each action accept reject and ignore . A recipient of the message can accept reject or ignore the proposed changes to the UM organizational data or specify specific changes to the UM organizational data. If the user selects ignore it is possible for that the proposed modifications to the UM organizational data be kept in a pending state. It is also possible that ignore is treated as a default acceptance or rejection according to a client preference. If the user selects reject it is possible for the user to allow another mailbox to be created in the UM platform. Furthermore it is possible to configure UM platform and or controller to give preference to the responders in case conflicting responses are received. In another implementation in case of multiple conflicting responses the transactions are referred for manual administration. In yet another embodiment only one recipient is considered authorized and other purely informational messages may not include provisions for responses.

At step the organizational data of the UM platform is automatically modified to combine the added user information with the existing mailbox in response to receiving approval from at least one user associated with the added user information. For example based on a user response to the message the organizational data in the UM platform can be changed to associate a new device in the added user data with a previously existing mailbox for the user. The organizational data can also be changed to migrating devices from a previously existing mailbox to a newly created mailbox. The organizational data of the UM platform can be modified using UM application programming interfaces API that reflect changes to the records of the HR database. Examples of customer enterprise HR database changes and associated UM APIs are shown in Table 1 above. It is possible that the deleteDevice mailboxID TN . . . API calls are made prior to the addDevice calls in order to assist in automatic migrations of devices from one mailbox to another.

At step a summary of the modifications to the organizational data in the UM platform is sent to at least one user associated with the changes. For example the summary can be sent to the affected user and or assigned customer contacts. The summary can be sent via out dial IVR or as an email or using any other appropriate mechanism.

As described above in steps in an embodiment of the present invention a message regarding the existing mailbox is automatically composed and sent and the UM organizational data is modified to combine the added user information with the existing mailbox in response to receiving an approval. According to another embodiment of the present invention it is possible to automatically modify the organizational data in the UM platform to combine the added user information with the existing mailbox without obtaining user approval. In this case the UM organizational data can be modified without first composing and sending a message regarding the modifications. The summary of the changes can then be sent to at least one user associated with the changes in order to alert the user of the modifications made to the UM organizational data.

The embodiments of the present invention described above provide methods for managing changes to organizational data in the UM platform and managing multiple instance user records in the UM platform that eliminate significant recurring costs provide an audit trail of activities implement a configurable approval mechanism by zero or more configurable parties and provide a virtually error free flow through scheme.

The above described methods for defining and provisioning organizational data in a UM platform managing changes to organizational data in a UM platform and managing multiple instance user records in a UM platform can be implemented on a computer using well known computer processors memory units storage devices computer software and other components. A high level block diagram of such a computer is illustrated in . Computer contains a processor which controls the overall operation of the computer by executing computer program instructions which define such operation. The computer program instructions may be stored in a storage device or other computer readable medium e.g. magnetic disk CD ROM etc. and loaded into memory when execution of the computer program instructions is desired. Thus the method steps of and can be defined by the computer program instructions stored in the memory and or storage and controlled by the processor executing the computer program instructions. For example the computer program instructions can be implemented as computer executable code programmed by one skilled in the art to perform an algorithm defined by the method steps of and . Accordingly by executing the computer program instructions the processor executes an algorithm defined by the method steps of and . The computer also includes one or more network interfaces for communicating with other devices via a network. The computer also includes input output devices that enable user interaction with the computer e.g. display keyboard mouse speakers buttons etc. One skilled in the art will recognize that an implementation of an actual computer could contain other components as well and that is a high level representation of some of the components of such a computer for illustrative purposes.

The foregoing Detailed Description is to be understood as being in every respect illustrative and exemplary but not restrictive and the scope of the invention disclosed herein is not to be determined from the Detailed Description but rather from the claims as interpreted according to the full breadth permitted by the patent laws. It is to be understood that the embodiments shown and described herein are only illustrative of the principles of the present invention and that various modifications may be implemented by those skilled in the art without departing from the scope and spirit of the invention. Those skilled in the art could implement various other feature combinations without departing from the scope and spirit of the invention. The various functional modules that are shown are for illustrative purposes only and may be combined rearranged and or otherwise modified.

